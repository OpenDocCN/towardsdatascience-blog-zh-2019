<html>
<head>
<title>Cryptocurrency Analysis with Python — Buy and Hold</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 进行加密货币分析——购买并持有</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/cryptocurrency-analysis-with-python-buy-and-hold-c3b0bc164ffa?source=collection_archive---------7-----------------------#2019-08-30">https://towardsdatascience.com/cryptocurrency-analysis-with-python-buy-and-hold-c3b0bc164ffa?source=collection_archive---------7-----------------------#2019-08-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/f3129cb7be0b6c77c07caae1de9bd620.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*GAm7ubYgPzUzcZ_M.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Bitcoin, Ethereum, and Litecoin</figcaption></figure><p id="7693" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这一部分中，我将使用买入并持有策略来分析最近两个月哪个硬币(<strong class="kd iu">比特币</strong>、<strong class="kd iu">以太坊</strong>或<strong class="kd iu">莱特币</strong>)最赚钱。我们将通过对这 3 种加密货币的分析，尝试给出一个客观的答案。</p><p id="57b7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">如果你错过了我关于这个主题的其他文章:</strong></p><div class="kz la gp gr lb lc"><a href="https://romanorac.medium.com/stock-market-analysis-in-python-b71bf50151d9" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">Python 中的股票市场分析</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">我用 Python 写的关于股票市场和加密货币分析的文章的精选列表。</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">romanorac.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq jv lc"/></div></div></a></div><p id="b373" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">这里有几个你可能会感兴趣的链接:</strong></p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="a134" class="ma mb it lw b gy mc md l me mf">- <a class="ae mg" href="https://trymito.io/" rel="noopener ugc nofollow" target="_blank">Complete your Python analyses 10x faster with Mito</a> [Product]</span><span id="cf78" class="ma mb it lw b gy mh md l me mf">- <a class="ae mg" href="https://aigents.co/skills" rel="noopener ugc nofollow" target="_blank">Free skill tests for Data Scientists &amp; ML Engineers</a> [Test]</span><span id="1e41" class="ma mb it lw b gy mh md l me mf">- <a class="ae mg" href="https://imp.i115008.net/c/2402645/1116216/11298" rel="noopener ugc nofollow" target="_blank">All New Self-Driving Car Engineer Nanodegree</a><strong class="lw iu"> </strong>[Course]</span></pre><p id="9b53" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="mi">你愿意多看一些这样的文章吗？如果是这样，你可以点击上面的任何链接来支持我。其中一些是附属链接，但你不需要购买任何东西。</em></p><h1 id="7a68" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">放弃</h1><p id="7701" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">我不是交易者，这篇博客也不是金融建议。这纯粹是入门知识。当我们分析这一时期的巨大增长时，这个结论可能会产生误导。</p><h1 id="c3ee" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">要求</h1><ul class=""><li id="f6ce" class="nl nm it kd b ke ng ki nh km nn kq no ku np ky nq nr ns nt bi translated"><a class="ae mg" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"> seaborn:统计数据可视化</a></li></ul><p id="430f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">其他要求，见本系列我之前的<a class="ae mg" rel="noopener" target="_blank" href="/cryptocurrency-analysis-with-python-macd-452ceb251d7c">博文</a>。</p><h1 id="22d2" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">获取数据</h1><p id="d098" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">要获得最新的数据，请访问<a class="ae mg" rel="noopener" target="_blank" href="/cryptocurrency-analysis-with-python-macd-452ceb251d7c">之前的博客文章</a>，在那里我描述了如何使用 Cryptocompare API 下载它。你也可以使用我在这个例子中使用的数据。</p><p id="b05a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，让我们从比特币基地交易所下载 BTC、瑞士联邦理工学院和长期资本公司的每小时数据。这次我们使用每小时的时间间隔，因为它具有更高的粒度。Cryptocompare API 限制对 2000 个样本的响应，这是每枚硬币 2.7 个月的数据。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="db08" class="ma mb it lw b gy mc md l me mf">import pandas <strong class="lw iu">as</strong> pd</span><span id="faa7" class="ma mb it lw b gy mh md l me mf"><strong class="lw iu">def</strong> <strong class="lw iu">get_filename</strong>(from_symbol, to_symbol, exchange, datetime_interval, download_date):<br/>    <strong class="lw iu">return</strong> '%s_%s_%s_%s_%s.csv' <strong class="lw iu">%</strong> (from_symbol, to_symbol, exchange, datetime_interval, download_date)</span><span id="6f5b" class="ma mb it lw b gy mh md l me mf"><strong class="lw iu">def</strong> <strong class="lw iu">read_dataset</strong>(filename):<br/>    <strong class="lw iu">print</strong>('Reading data from %s' <strong class="lw iu">%</strong> filename)<br/>    df <strong class="lw iu">=</strong> pd<strong class="lw iu">.</strong>read_csv(filename)<br/>    df<strong class="lw iu">.</strong>datetime <strong class="lw iu">=</strong> pd<strong class="lw iu">.</strong>to_datetime(df<strong class="lw iu">.</strong>datetime) <em class="mi"># change to datetime</em><br/>    df <strong class="lw iu">=</strong> df<strong class="lw iu">.</strong>set_index('datetime') <br/>    df <strong class="lw iu">=</strong> df<strong class="lw iu">.</strong>sort_index() <em class="mi"># sort by datetime</em><br/>    <strong class="lw iu">print</strong>(df<strong class="lw iu">.</strong>shape)<br/>    <strong class="lw iu">return</strong> df</span></pre><h1 id="d758" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">加载数据</h1><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="90d3" class="ma mb it lw b gy mc md l me mf">df_btc <strong class="lw iu">=</strong> read_dataset(get_filename('BTC', 'USD', 'Coinbase', 'hour', '2017-12-24'))<br/>df_eth <strong class="lw iu">=</strong> read_dataset(get_filename('ETH', 'USD', 'Coinbase', 'hour', '2017-12-24'))<br/>df_ltc <strong class="lw iu">=</strong> read_dataset(get_filename('LTC', 'USD', 'Coinbase', 'hour', '2017-12-24'))</span><span id="ff85" class="ma mb it lw b gy mh md l me mf">df_btc.head()</span></pre><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi nu"><img src="../Images/9262f54a2f6fa97a8de1e9d68335668c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vfGyf8TznAvFan7FaGbipA.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Few entries in the dataset.</figcaption></figure><h1 id="760b" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">提取收盘价</h1><p id="367e" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">我们将分析收盘价，即小时时段收盘时的价格。我们将 BTC、ETH 和 LTC 的收盘价合并到一个数据框架中，以便于分析。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="2c54" class="ma mb it lw b gy mc md l me mf">df <strong class="lw iu">=</strong> pd<strong class="lw iu">.</strong>DataFrame({'BTC': df_btc<strong class="lw iu">.</strong>close,<br/>                   'ETH': df_eth<strong class="lw iu">.</strong>close,<br/>                   'LTC': df_ltc<strong class="lw iu">.</strong>close})</span><span id="4c14" class="ma mb it lw b gy mh md l me mf">df<strong class="lw iu">.</strong>head()</span></pre><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi nz"><img src="../Images/4bcc2fe01dd745acb749c4d988099cec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9EyFDLDsRm_bKh7EDX_03A.png"/></div></div></figure><h1 id="faef" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">分析</h1><h1 id="3e6e" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">基本统计</h1><p id="98f1" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">在 2.7 个月的时间里，三种加密货币的波动都很大，如下表所示。</p><p id="e6d5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于每个硬币，我们计算事件的数量，并计算平均值、标准差、最小值、四分位数和最大收盘价。</p><p id="37dc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">观察结果</strong></p><ul class=""><li id="5589" class="nl nm it kd b ke kf ki kj km oa kq ob ku oc ky nq nr ns nt bi translated">在 2.7 个月内，BTC 最高价和最低价之间的差额超过了 15000 美元。</li><li id="ffe2" class="nl nm it kd b ke od ki oe km of kq og ku oh ky nq nr ns nt bi translated">LTC 从 48.61 美元暴涨到某一点的 378.66 美元，涨幅为 678.98%。</li></ul><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="9233" class="ma mb it lw b gy mc md l me mf">df<strong class="lw iu">.</strong>describe()</span></pre><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi oi"><img src="../Images/69e88f265bd7eb97802114abcb44d46b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*APiqylDjW5-kD9w7QJW5wA.png"/></div></div></figure><h1 id="ffd2" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">让我们更深入地了解 LTC</h1><p id="d078" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">我们用方框图将上表中的数据可视化。使用<a class="ae mg" href="https://en.wikipedia.org/wiki/Interquartile_range" rel="noopener ugc nofollow" target="_blank">四分位间距</a> (IQR)的方法，箱线图显示了数据集的四分位以及被确定为异常值的点。换句话说，IQR 是第三个四分位数(75%)减去第一个四分位数(25%)。</p><p id="cab7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在下面的方框图中，我们看到在过去的 2.7 个月中，LTC 的小时收盘价大部分时间都在 50 美元到 100 美元之间。所有超过 150 美元的值都是异常值(使用 IQR)。请注意，异常值是特定于这个数据样本的。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="e22f" class="ma mb it lw b gy mc md l me mf">import seaborn <strong class="lw iu">as</strong> sns</span><span id="e001" class="ma mb it lw b gy mh md l me mf">ax <strong class="lw iu">=</strong> sns<strong class="lw iu">.</strong>boxplot(data<strong class="lw iu">=</strong>df['LTC'], orient<strong class="lw iu">=</strong>"h")</span></pre><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi oj"><img src="../Images/3eb04091feeb6e9d42b532206a591bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/0*rpZ1aPDYAc0RES9X.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">LTC Boxplot with closing hourly prices</figcaption></figure><h2 id="c7cc" class="ma mb it bd mk ok ol dn mo om on dp ms km oo op mw kq oq or na ku os ot ne ou bi translated">LTC 收盘价直方图</h2><p id="94f9" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">我们来估计一下 LTC 收盘价的频率分布。直方图显示了 LTC 具有特定值的小时数。</p><p id="7962" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">观察结果</strong></p><ul class=""><li id="6c07" class="nl nm it kd b ke kf ki kj km oa kq ob ku oc ky nq nr ns nt bi translated">LTC 收盘价在许多小时内都没有超过 100 美元。</li><li id="b53e" class="nl nm it kd b ke od ki oe km of kq og ku oh ky nq nr ns nt bi translated">它具有右偏分布，因为自然极限阻止了一边的结果。</li><li id="344e" class="nl nm it kd b ke od ki oe km of kq og ku oh ky nq nr ns nt bi translated">蓝色虚线(中值)显示一半时间收盘价低于 63.50 美元。</li></ul><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="28db" class="ma mb it lw b gy mc md l me mf">df['LTC']<strong class="lw iu">.</strong>hist(bins<strong class="lw iu">=</strong>30, figsize<strong class="lw iu">=</strong>(15,10))<strong class="lw iu">.</strong>axvline(df['LTC']<strong class="lw iu">.</strong>median(), color<strong class="lw iu">=</strong>'b', linestyle<strong class="lw iu">=</strong>'dashed', linewidth<strong class="lw iu">=</strong>2)</span></pre><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi ov"><img src="../Images/8839b8d392ae696568947097278acf0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Os5Av4wgniWuznvJ.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Histogram for LTC with the median</figcaption></figure><h1 id="0465" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">可视化绝对收盘价</h1><p id="080a" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">下图显示了绝对收盘价。这没有多大用处，因为 BTC 的收盘价远高于瑞士联邦理工学院和长期资本公司的价格。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="603c" class="ma mb it lw b gy mc md l me mf">df<strong class="lw iu">.</strong>plot(grid<strong class="lw iu">=</strong>True, figsize<strong class="lw iu">=</strong>(15, 10))</span></pre><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi ow"><img src="../Images/d21ef57c12859bf248be0943c6492074.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Xh8bVz7iakj13Sw0.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Absolute closing price changes of BTC, ETH and LTC</figcaption></figure><h1 id="b39d" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">可视化收盘价的相对变化</h1><p id="2f4b" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">我们感兴趣的是价格的相对变化，而不是绝对价格，因此我们使用三种不同的 y 轴刻度。</p><p id="3a79" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们看到收盘价是一致的。当一枚硬币的收盘价上涨时，另一枚也会上涨。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="624c" class="ma mb it lw b gy mc md l me mf">import matplotlib.pyplot <strong class="lw iu">as</strong> plt<br/>import numpy <strong class="lw iu">as</strong> np</span><span id="4581" class="ma mb it lw b gy mh md l me mf">fig, ax1 <strong class="lw iu">=</strong> plt<strong class="lw iu">.</strong>subplots(figsize<strong class="lw iu">=</strong>(20, 10))<br/>ax2 <strong class="lw iu">=</strong> ax1<strong class="lw iu">.</strong>twinx()<br/>rspine <strong class="lw iu">=</strong> ax2<strong class="lw iu">.</strong>spines['right']<br/>rspine<strong class="lw iu">.</strong>set_position(('axes', 1.15))<br/>ax2<strong class="lw iu">.</strong>set_frame_on(True)<br/>ax2<strong class="lw iu">.</strong>patch<strong class="lw iu">.</strong>set_visible(False)<br/>fig<strong class="lw iu">.</strong>subplots_adjust(right<strong class="lw iu">=</strong>0.7)</span><span id="7d2f" class="ma mb it lw b gy mh md l me mf">df['BTC']<strong class="lw iu">.</strong>plot(ax<strong class="lw iu">=</strong>ax1, style<strong class="lw iu">=</strong>'b-')<br/>df['ETH']<strong class="lw iu">.</strong>plot(ax<strong class="lw iu">=</strong>ax1, style<strong class="lw iu">=</strong>'r-', secondary_y<strong class="lw iu">=</strong>True)<br/>df['LTC']<strong class="lw iu">.</strong>plot(ax<strong class="lw iu">=</strong>ax2, style<strong class="lw iu">=</strong>'g-')</span><span id="c979" class="ma mb it lw b gy mh md l me mf"><em class="mi"># legend</em><br/>ax2<strong class="lw iu">.</strong>legend([ax1<strong class="lw iu">.</strong>get_lines()[0],<br/>            ax1<strong class="lw iu">.</strong>right_ax<strong class="lw iu">.</strong>get_lines()[0],<br/>            ax2<strong class="lw iu">.</strong>get_lines()[0]],<br/>           ['BTC', 'ETH', 'LTC'])</span></pre><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi ox"><img src="../Images/2ce86bf29f63bae37b8822769ce64807.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fNWfl-kL-wrV4Rk2.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Relative closing price changes of BTC, ETH and LTC</figcaption></figure><h1 id="b31b" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">衡量收盘价的相关性</h1><p id="fe99" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">我们计算 BTC、瑞士联邦理工学院和长期资本公司的收盘价之间的<a class="ae mg" href="https://en.wikipedia.org/wiki/Pearson_correlation_coefficient" rel="noopener ugc nofollow" target="_blank">皮尔逊相关</a>。皮尔逊相关是两个变量 X 和 y 之间线性相关的度量。它的值介于+1 和-1 之间，其中 1 表示完全正线性相关，0 表示没有线性相关，1 表示完全负线性相关。相关矩阵是对称的，所以我们只显示下半部分。</p><p id="7420" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mg" href="https://www.sifrdata.com/cryptocurrency-correlation-matrix/" rel="noopener ugc nofollow" target="_blank"> Sifr 数据</a>每日更新许多加密货币的皮尔逊相关性。</p><p id="ea9c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">观察结果</strong></p><ul class=""><li id="96c4" class="nl nm it kd b ke kf ki kj km oa kq ob ku oc ky nq nr ns nt bi translated">收盘价没有被归一化，参见<a class="ae mg" href="https://romanorac.github.io/cryptocurrency/analysis/2017/12/29/cryptocurrency-analysis-with-python-part3.html" rel="noopener ugc nofollow" target="_blank">日志返回</a>，我们在计算相关性之前归一化收盘价。</li><li id="3cce" class="nl nm it kd b ke od ki oe km of kq og ku oh ky nq nr ns nt bi translated">BTC、ETH 和 LTC 在过去 2 个月内高度相关。这意味着，当 BTC 收盘价上涨时，ETH 和 LTC 也跟着上涨。</li><li id="966e" class="nl nm it kd b ke od ki oe km of kq og ku oh ky nq nr ns nt bi translated">ETH 和 LTC 的相关系数更高，为 0.9565。</li></ul><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="d689" class="ma mb it lw b gy mc md l me mf">import seaborn <strong class="lw iu">as</strong> sns<br/>import matplotlib.pyplot <strong class="lw iu">as</strong> plt</span><span id="c499" class="ma mb it lw b gy mh md l me mf"><em class="mi"># Compute the correlation matrix</em><br/>corr <strong class="lw iu">=</strong> df<strong class="lw iu">.</strong>corr()</span><span id="cdb2" class="ma mb it lw b gy mh md l me mf"><em class="mi"># Generate a mask for the upper triangle</em><br/>mask <strong class="lw iu">=</strong> np<strong class="lw iu">.</strong>zeros_like(corr, dtype<strong class="lw iu">=</strong>np<strong class="lw iu">.</strong>bool)<br/>mask[np<strong class="lw iu">.</strong>triu_indices_from(mask)] <strong class="lw iu">=</strong> True</span><span id="b1b4" class="ma mb it lw b gy mh md l me mf"><em class="mi"># Set up the matplotlib figure</em><br/>f, ax <strong class="lw iu">=</strong> plt<strong class="lw iu">.</strong>subplots(figsize<strong class="lw iu">=</strong>(10, 10))</span><span id="d8d7" class="ma mb it lw b gy mh md l me mf"><em class="mi"># Draw the heatmap with the mask and correct aspect ratio</em><br/>sns<strong class="lw iu">.</strong>heatmap(corr, annot<strong class="lw iu">=</strong>True, fmt <strong class="lw iu">=</strong> '.4f', mask<strong class="lw iu">=</strong>mask, center<strong class="lw iu">=</strong>0, square<strong class="lw iu">=</strong>True, linewidths<strong class="lw iu">=.</strong>5)</span></pre><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/4a293baaaa32ec6f1118bfba366bf5cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/0*TMjwNEq0OCcBzt1y.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Pearson Correlation for BTC, ETH and LTC</figcaption></figure><h1 id="80d4" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">买入并持有策略</h1><p id="d687" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated"><a class="ae mg" href="https://www.investopedia.com/terms/b/buyandhold.asp" rel="noopener ugc nofollow" target="_blank">买入并持有</a>是一种被动投资策略，投资者买入一种加密货币并长期持有，不管市场如何波动。</p><p id="03a3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们用买入并持有策略来分析过去 2.7 个月的回报。我们计算回报百分比，其中<em class="mi"> t </em>代表某个时间段，<em class="mi"> price0 </em>是初始收盘价:</p><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/90880fa7bf44c58757632986c96172b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*IFKYVOKc_8M_P5XAottrbw.png"/></div></figure><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="3eb6" class="ma mb it lw b gy mc md l me mf">df_return <strong class="lw iu">=</strong> df<strong class="lw iu">.</strong>apply(<strong class="lw iu">lambda</strong> x: x <strong class="lw iu">/</strong> x[0])<br/>df_return<strong class="lw iu">.</strong>head()</span></pre><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi pa"><img src="../Images/dbcd860ea0eca2f7bc39bd2c873ee42f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sulRpl_P7FyZoxzZZX5LGA.png"/></div></div></figure><h1 id="686b" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">可视化返回</h1><p id="8e70" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">我们显示，在 2017 年 10 月 2 日至 2017 年 12 月 24 日期间，LTC 是最盈利的。</p><pre class="lr ls lt lu gt lv lw lx ly aw lz bi"><span id="5684" class="ma mb it lw b gy mc md l me mf">df_return<strong class="lw iu">.</strong>plot(grid<strong class="lw iu">=</strong>True, figsize<strong class="lw iu">=</strong>(15, 10))<strong class="lw iu">.</strong>axhline(y <strong class="lw iu">=</strong> 1, color <strong class="lw iu">=</strong> "black", lw <strong class="lw iu">=</strong> 2)</span></pre><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi pb"><img src="../Images/faa7e563a174e44f1de5217b82893319.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WwHCS1vkuDA8LREQ.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">The factor of returns for BTC, ETH and LTC in 2.7 months</figcaption></figure><h1 id="5c3e" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">结论</h1><p id="9768" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">我们分析的加密货币波动很大，但都在给定的 2.7 个月内上涨。</p><h1 id="9cda" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">百分比增长呢？</h1><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi pc"><img src="../Images/1f123b98948e867b6602563409f86936.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/0*4yZkaKbIwgHm6hAL.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">The percentage increase for BTC, ETH and LTC in 2.7 months</figcaption></figure><h1 id="fb13" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">1000 美元我们能买多少硬币？</h1><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/fbb6217ab5fe785dd0b053b5703c7606.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/0*pyISXYMjQ3uBuF50.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">The number of coins we could buy with $1000 a while ago</figcaption></figure><h1 id="0f1b" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">我们能赚多少钱？</h1><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi pe"><img src="../Images/d8c3be32e16e471c78de43f43f6f6ef3.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/0*Yzajyxhmc36A4cvO.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">The amount of money we would make if we invested $1000 a while ago</figcaption></figure><h1 id="1b06" class="mj mb it bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">在你走之前</h1><p id="6bc2" class="pw-post-body-paragraph kb kc it kd b ke ng kg kh ki nh kk kl km ni ko kp kq nj ks kt ku nk kw kx ky im bi translated">要运行这段代码，请下载<a class="ae mg" href="https://romanorac.github.io/assets/notebooks/2017-12-25-cryptocurrency-analysis-with-python-part2.ipynb" rel="noopener ugc nofollow" target="_blank"> Jupyter 笔记本</a>。</p><p id="dea3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在<a class="ae mg" href="https://twitter.com/romanorac" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我，在那里我定期<a class="ae mg" href="https://twitter.com/romanorac/status/1328952374447267843" rel="noopener ugc nofollow" target="_blank">发布关于数据科学和机器学习的</a>消息。</p><figure class="lr ls lt lu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nv nw di nx bf ny"><div class="gh gi pf"><img src="../Images/b5d426b68cc5a21b1a35d0a157ebc4f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*69rP1pwjJi9mLSFE"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Photo by <a class="ae mg" href="https://unsplash.com/@cmhedger?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Courtney Hedger</a> on <a class="ae mg" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div></div>    
</body>
</html>