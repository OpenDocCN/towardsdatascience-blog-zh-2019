<html>
<head>
<title>How to Manage Your Machine Learning Workflow with DVC, Weights &amp; Biases, and Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 DVC、权重和偏见以及 Docker 管理您的机器学习工作流程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-manage-your-machine-learning-workflow-with-dvc-weights-biases-and-docker-5529ea4e59e0?source=collection_archive---------18-----------------------#2019-11-09">https://towardsdatascience.com/how-to-manage-your-machine-learning-workflow-with-dvc-weights-biases-and-docker-5529ea4e59e0?source=collection_archive---------18-----------------------#2019-11-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/046c0d6130a9b7b44743b2955f979628.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ePjfoJDhpQRuCUCbK4vEMw.jpeg"/></div></div></figure><p id="d2c3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">管理机器学习工作流是很难的。除了软件工程中常见的挑战，机器学习工程师还需要考虑实验跟踪、可重复性、模型部署和治理。在本文中，我想展示 3 个强大的工具，通过使跟踪、复制、管理和部署模型变得容易，来简化和扩大组织内的机器学习开发。</p><h2 id="6ce1" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">对 DVC 使用版本控制</h2><p id="d625" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">在传统的软件工程中，<a class="ae lu" href="https://git-scm.com/" rel="noopener ugc nofollow" target="_blank"> Git </a>是版本控制的行业标准。团队成员在他们自己的本地代码上工作，但是总是与中央存储库同步他们的进展和新的开发。这确保了每个人都是最新的和同步的。这是一个很好的方式，让团队的工作互相配合，而不是互相冲突，从而导致更高的产出。</p><p id="90f1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">机器学习有点棘手，因为它是研究和软件工程的结合。例如，数据本身很大，因此共享存储可能会很有挑战性。或者在 Jupyter 笔记本中显示更改是很困难的，因为 Git 不允许在图表中显示从提交到提交的更改。</p><p id="aa69" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae lu" href="https://dvc.org/" rel="noopener ugc nofollow" target="_blank"/><strong class="ka ir"/>是一个方便的工具，旨在使机器学习模型可以共享和复制。它旨在处理大型文件、数据集、机器学习模型、指标和代码。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/de25c3f71435d476e6901c4ca5dd60a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ndisGvbltyP8_EeRxxnIxQ.png"/></div></div></figure><p id="2e32" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在任何时候，您可能都需要获取您已经运行/正在运行的实验的完整上下文。DVC 保证所有的文件和度量标准都是一致的，并且在正确的位置重现实验或者作为新迭代的基线。此外，DVC 在 Git 中保存元文件来描述和版本控制你的数据和模型。如果你在一个团队中工作，DVC 可以通过定义有效工作的规则和过程来作为协作的协议。</p><h2 id="38a3" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">使用权重和偏差跟踪实验</h2><p id="100f" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">在传统的软件工程中，当程序失败时，您可以手动检查错误，以了解它失败的原因。对于机器学习模型，通常没有关于模型失败的原因或时间的信号，这使得调试更加困难。因此，跟踪您的模型实验的需求变得至关重要。</p><p id="6d7f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae lu" href="https://www.wandb.com/" rel="noopener ugc nofollow" target="_blank">权重&amp;偏好</a>是一个非常棒的实验管理平台，因为它有非常好的用户体验。记录您想要记录的任何指标都非常容易。因此，它提供了一种透明的方式来找出你的机器学习模型中的瓶颈，从而实现简单的修复和更好的优化。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/9b56a994f54ed5d27bb0078e213ed75f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t08-yjWG5Pd13Vwk66cQJw.jpeg"/></div></div></figure><p id="59b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">机器学习的一个难点是，通常有太多的超参数或太多的方法可以修改系统。因此，能够通过一次改变一件事来对比实验是至关重要的。Weights &amp; Biases 的仪表板具有灵活性和可伸缩性，可以为您的模型预测提供大量可视化内容。作为数据科学家，您可以轻松地比较和对比不同的实验，并将它们汇总到物理报告和/或实时监控中。在数据科学团队中，权重和偏差可以成为共享日志，以跟踪哪些模型正在接受培训以及每个团队成员取得的进展。</p><h2 id="199d" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">使用 Docker 部署模型</h2><p id="34bb" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">机器学习开发中的一个巨大挑战是将训练好的模型部署到生产中并具有可扩展性。这是因为生产中的机器学习管道将出于多种目的使用多个模型。</p><p id="01ed" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Docker 是一个强大的容器化平台，它将应用程序及其所有依赖项打包到一个容器中。如果你来自软件工程世界，这个技术一定非常熟悉。当您有许多在竖井中工作的服务时，您可以使用 Docker 作为数据提供者将这些服务连接到一个 web 应用程序中。根据负载情况，可以根据设置的规则按需剥离实例。</p><figure class="lw lx ly lz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mb"><img src="../Images/4916ee4eeec13d62c7649edf069cd3ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vQK4s0lOiK1ZkcXxFNIMDQ.png"/></div></div></figure><p id="d237" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你开发的机器学习模型很有可能具有非统一的环境(Windows vs Unix)，不同的库包(TensorFlow vs PyTorch)，或者各种资源需求(GPU vs TPU)，GPU 容器可以通过将不同的模型放入不同的容器并根据需求分配灵活的资源来处理所有这些挑战。</p><p id="6691" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">事实上，您可以使用命令<strong class="ka ir">“wandb Docker”</strong>轻松地<a class="ae lu" href="https://docs.wandb.com/library/integrations/docker" rel="noopener ugc nofollow" target="_blank">将权重&amp;偏差与 Docker </a>集成起来——该命令设置一个安装了标准包的 Docker 映像，安装您的代码，并将您放入其中。该命令自动启动 Docker 映像，默认安装了 TensorFlow、PyTorch、Keras 和 Jupyter 这是典型的深度学习工具包。在模型训练过程中，Weights&amp;bias 将保存 Docker 映像状态的永久记录，这样您将始终能够恢复代码运行的确切环境。</p><p id="6cd0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在未来的任何时候，您都可以运行<strong class="ka ir">" wandb restore&lt;username&gt;/&lt;project&gt;:&lt;run _ id&gt;"</strong>以返回到您的代码和 Docker 映像在训练运行期间所处的确切状态。weights&amp;bias 会用原始命令预先填充 bash 历史。</p><h2 id="df02" class="kw kx iq bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">结论</h2><p id="ebaf" class="pw-post-body-paragraph jy jz iq ka b kb lp kd ke kf lq kh ki kj lr kl km kn ls kp kq kr lt kt ku kv ij bi translated">正如本文所证明的，您的整个机器学习工作流可以通过第三方应用程序来管理。使用这些新兴平台中的任何一个都可以让你的项目保持有序，让你作为一名机器学习工程师更有效率。</p></div></div>    
</body>
</html>