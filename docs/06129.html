<html>
<head>
<title>Decision tree: Part 1/2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">决策树:第 1/2 部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/decision-tree-overview-with-no-maths-66b256281e2b?source=collection_archive---------15-----------------------#2019-09-05">https://towardsdatascience.com/decision-tree-overview-with-no-maths-66b256281e2b?source=collection_archive---------15-----------------------#2019-09-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2665" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">培养对决策树的直觉</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e65a0a7a9ac86be00e97df873103fe1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HP3IXHNz1QGwfNdW"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@subtlecinematics?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Subtle Cinematics</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="abfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated">大约 70 年前，我发明了决策树，它是最古老的机器学习算法之一，现在用于预测建模。它们可能是最容易理解的 ML 算法之一，但是不要让它的简单性欺骗了你，让你低估了它的能力。</p><h1 id="d612" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">🌰简单地</h1><p id="065f" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">这篇文章旨在建立一个关于决策树的直觉。我们将讨论线性可分和不可分数据集、决策边界和区域，解释为什么决策边界平行于轴，并指出使用决策树的优点和问题(以及补救措施)。</p><p id="6a20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以让我们开始吧！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/d8405264280ec3b4f5ab373bfe6e14c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ek4T0MOahHuPEreM"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@vimarovi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Victor Rodriguez</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="89ad" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">优点:</h1><p id="f9e3" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">决策树是最容易理解的算法之一，你可以很容易地解释它们的推理，因为它们属于<strong class="lb iu">“白盒”</strong>方法。它们<a class="ae ky" href="https://www.youtube.com/watch?v=o6b9JpBFjd4" rel="noopener ugc nofollow" target="_blank">足够强大</a>以<strong class="lb iu">适应复杂数据集</strong>，并且足够通用以至于它们可以用于<strong class="lb iu">分类以及回归任务</strong>而不需要太多的数据预处理。</p><p id="3810" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，决策树是广泛使用的<strong class="lb iu">“随机森林”</strong>方法的构建模块，这是当今最强大的机器学习算法之一。</p><p id="18f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与线性模型不同，<strong class="lb iu">决策树可以线性拟合不可分的</strong>数据集。不可分数据集是指不同类的数据点不能用一条线分开的数据集，而线性可分数据集则用一条线就足够了。下图描述了这些情况:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/0910553cd683db5f988f716b13d00616.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Ixw2RgVQ4syGyCD6ArLcZw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Figure 1</figcaption></figure><p id="3d15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在图 1 中，左边的图表显示了线性分类器如何确定其决策边界——虚线。右边的一个表示决策树如何构造它的决策边界来适应线性不可分的数据集。</p><h1 id="1282" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">轴平行决策边界</h1><p id="7b2a" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">您可能会注意到，决策树做出的决策边界与轴平行，并且它们总是这样:与轴平行。其原因是决策树基于特征值分割数据，并且该值在一个决策边界内始终保持不变，例如<strong class="lb iu"> x=2 </strong>或<strong class="lb iu"> y=3 </strong>，其中<strong class="lb iu"> x </strong>和<strong class="lb iu"> y </strong>是两个不同的特征。而在线性分类器中，判定边界可以是例如:y=mx+c</p><p id="5a87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在决策树中，为每个决策区域迭代地绘制这些决策边界，并构建一棵树。要获得直观的解释，请按照下面的一系列图表进行操作！👇</p><h1 id="8f24" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">划清界限！</h1><p id="a907" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">让我们看看下面的例子，看看这是如何发生的，只用我们人类的本能，而不是数学！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/09c9e1bc0568e2f65617c0a0a3c167ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*UDOpmLBNugJMAt7Sf1mFoA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Dataset to fit the decision tree on along with its corresponding tree structure</figcaption></figure><p id="ff3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">称为“根节点”的树的第一个节点分别包含所有类的实例数。</p><p id="3f0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基本上，我们必须画一条称为“决策边界”的线，将不同类的实例分成称为“决策区域”的不同区域。请记住，这条线必须与轴线平行。</p><h1 id="efd0" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">开始分吧！</h1><p id="6671" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">第一个决策边界应该在上图的<strong class="lb iu"> X=3 </strong>处做出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/9d6c4ae05362328f7b9f495f7783d9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*552mekw7YMjaEsKh"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@abbysavagecreative?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Abby Savage</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6d15" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以<strong class="lb iu"> X=3 </strong>为分界点，产生如下图。既然现在我们有了两个决策区域，我们将把这两个区域作为树的两个不同节点添加，其中每个节点包含相应实例的数量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/7215c9743094179a019dc3f3b6663216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*-_vBSAZ9CqnJW6oW_LrQlA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Split point is X=3</figcaption></figure><p id="0494" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为一个决策区域应该包含一个类的绝大多数，所以我们需要进一步划分。我们将在<strong class="lb iu"> Y=2 处分割结果图的左侧区域。</strong>右区跟着<strong class="lb iu"> Y=2.5 </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/0779a20deda7c9f2bd08b484e1eb58cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*cSm7F0fLnkHPhjCZXk6-Vw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Split point is Y=2</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/ca455b63df694afb9f293ea3ecf27325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eV619HkbidDUNM9cAiZGAQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">The split point is Y=2.5</figcaption></figure><p id="5fd7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，每个决策区域只包含一个类的实例，这是我们停止分裂的提示(因为我们没有定义任何其他停止标准)。</p><blockquote class="ni nj nk"><p id="fd7c" class="kz la ne lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated">⚠️请注意，不设置其他停止标准可能对你的模型有害。(下文详述)</p></blockquote><h1 id="96b4" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">缺点:</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/043091c0e8f47b4170046286953b8969.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*O2wo56FxA065haG-"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@timcollinsphoto?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tim Collins</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="1b23" class="np mf it bd mg nq nr dn mk ns nt dp mo li nu nv mq lm nw nx ms lq ny nz mu oa bi translated">👎过度拟合</h2><p id="3124" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">这里需要注意的是，正如我们上面所做的，分裂到最后一个实例并不是停止分裂的唯一标准。事实上，这可能会导致过度拟合的模型。</p><blockquote class="ni nj nk"><p id="33b1" class="kz la ne lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated"><strong class="lb iu">过拟合模型</strong>:模型对数据的学习非常好，以至于它不能很好地对看不见的数据进行归纳。</p></blockquote><p id="4348" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">💡<strong class="lb iu">修复:</strong>停止的一些其他条件可以是树的深度、节点在进一步分裂之前必须具有的最小实例数、或者多数类或少数类之间的比率，例如，如果 80%的数据点属于一个类，则停止分裂以避免过度拟合。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/650f71eadad1bfc195fbdaa3498fa7a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Xa3eXJBgMGclranVGoWW6g.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image source: <em class="ob">Hands-On Machine Learning with Scikit-Learn &amp; TensorFlow</em></figcaption></figure><h2 id="c077" class="np mf it bd mg nq nr dn mk ns nt dp mo li nu nv mq lm nw nx ms lq ny nz mu oa bi translated">👎不稳定</h2><p id="7f39" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">由于决策树使轴平行于边界，所以它们对数据旋转很敏感。看看下面的图表。可以很容易地被一条对角线分割的数据被多个决策边界分割，我们几乎可以通过观察就可以看出，对于这个特定的问题，更简单的模型会概括得更好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/25a5d8fe1bf422decbaa4414b2511f86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*Ez0kQeogv7zwrIU1rXLshA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image source: <em class="ob">Hands-On Machine Learning with Scikit-Learn &amp; TensorFlow</em></figcaption></figure><p id="6714" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">💡<strong class="lb iu">修复:</strong>这个问题可以通过使用像 PCA 这样的降维技术来限制，它可以更好地确定数据的方向。</p><p id="a1cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">💡<strong class="lb iu">修复:</strong>一般来说，决策树对微小的数据变化很敏感，会导致不同的树结构。通过一起使用大量决策树并对它们的预测值进行平均并将其用作最终预测，可以增强决策树的健壮性。这种分类器被称为随机森林。</p><p id="19bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">优点仍然大于缺点，通过一些超参数调整，决策树可以表现得非常好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/2dd7bea08afc9d0d5c13aa7fd6922c99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yA5gPW0NUJ63-DGu"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@calypso999?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Raul Varzar</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><p id="f1db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我接受的所有与数据科学相关的采访中，几乎每次都有人要求我解释决策树算法。所以，我决定写一篇文章，集中在树的方面，通常没有给予太多的关注。</p><p id="200d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想了解更多关于决策树及其背后的数学知识，你可以查看本系列的<a class="ae ky" href="https://medium.com/@azika/decision-tree-part-2-34b31b1dc328?sk=3ce477bb2ee7001988eee05239313008" rel="noopener"> <strong class="lb iu"> <em class="ne">第二部分</em> </strong> </a>。在那里，我们将讨论寻找最佳分割的熵和信息增益及其背后的数学原理。至于这个帖子，<em class="ne">那都是乡亲们！</em></p><p id="f96a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你觉得这篇文章有帮助，请鼓掌👏拍手可以让更多的人看到一个帖子。🐦</p><blockquote class="ni nj nk"><p id="605f" class="kz la ne lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated">如果您有任何问题或建议，请随时在下面发表。你也可以在<a class="ae ky" href="https://www.linkedin.com/in/azika-amelia/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Linkedin </strong> </a>上和我联系。<em class="it">💼</em></p><p id="328b" class="kz la ne lb b lc ld ju le lf lg jx lh nl lj lk ll nm ln lo lp nn lr ls lt lu im bi translated">直到那时和平结束。<em class="it"> ✌ </em></p></blockquote></div></div>    
</body>
</html>