<html>
<head>
<title>Simulating(Replicating) R regression plot in Python using sklearn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 sklearn 在 Python 中模拟(复制)R 回归图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simulating-replicating-r-regression-plot-in-python-using-sklearn-4ee48a15b67?source=collection_archive---------7-----------------------#2019-02-22">https://towardsdatascience.com/simulating-replicating-r-regression-plot-in-python-using-sklearn-4ee48a15b67?source=collection_archive---------7-----------------------#2019-02-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="30d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当谈到数据科学和机器学习工作负载时，R 和 Python 是最流行和最强大的语言。Python 通常被视为具有易于理解的语法的通用语言，而 R 则用于统计分析，有大约 12000 个可用的包。</p><p id="6cba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有几十篇文章从主观角度比较了 Python 和 R。在这里，我不会厚此薄彼。</p><p id="f5b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本帖中，我们将讨论使用 sklearn 在 Python 中对 R 回归图的<strong class="jp ir">复制。</strong></p><p id="d63f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大多数 R 的功能可以很容易地直接在 Python 中转换，但是如果不使用自定义函数，有些功能很难找到对等的功能。例如，<strong class="jp ir">R 中用于回归模型的 plot () </strong>函数在 Python 中并不具有所有绘图的直接等价物。</p><p id="e347" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们用 r 中可用的<strong class="jp ir">忠实</strong>数据集来讨论一下，该数据集包含两个变量<strong class="jp ir"> <em class="kl">喷发</em> </strong>(喷发时间分钟)和<strong class="jp ir"><em class="kl"/></strong>(等待下一次喷发的时间)的 272 个观测值。该数据集揭示了美国怀俄明州黄石国家公园老忠实间歇泉的喷发间隔时间和喷发持续时间。</p><p id="9e20" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，让我们将 R 中的简单线性回归模型拟合到该数据集，以根据喷发时间预测等待时间。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi kt"><img src="../Images/c2688f387d524976edfc852c93c68636.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aBXHf2tjXHqtaHoGU8WF2w.png"/></div></div></figure><p id="4f5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于验证线性假设，上述每一个图都有其自身的重要性。我们不打算在这里深究。让我们关注 Python 代码来拟合相同的线性回归模型。</p><p id="22a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">导入所有必要的库并加载所需的数据。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><p id="0324" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们使用 sklearn.linear_model 在<strong class="jp ir"> <em class="kl"> faithful </em> </strong>数据集上拟合一个线性回归模型。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><p id="9a3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们使用 sklearn 逐一关注所有的回归图。</p><ol class=""><li id="5002" class="la lb iq jp b jq jr ju jv jy lc kc ld kg le kk lf lg lh li bi translated"><strong class="jp ir">剩余剧情</strong></li></ol><p id="129e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是由 R 中的<strong class="jp ir"> plot() </strong>函数生成的第一个图，有时也被称为残差与拟合图。通过绘制拟合值和残差之间的散点图，它有助于验证线性假设。</p><p id="192c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果该图描述了任何特定或规则的模式，则假设目标变量和预测值之间的关系在本质上是非线性的，即存在非线性。并且曲线中没有图案是所选特征和目标变量之间线性的标志。</p><p id="1ff2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用 Seaborn 中的 residplot()函数可以获得 Python 中的相同绘图。这里，第一个和第二个参数分别指向拟合(预测)值和目标变量。lowess=True 确保绘制 lowess(平滑)回归线，并使用 line_kws 参数自定义该线的属性。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/aaa3dee25d27f500b789dd153e3e0588.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*sZKiD9cnJMspVW_zJ5ek1Q.png"/></div></figure><p id="bcdb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> 2。QQ 剧情</strong></p><p id="d064" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该图描述了残差(误差)是否正态分布。如果这些点靠近法线，那么残差被假设为正态分布。</p><p id="09f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在 Python 中，使用 seaborn 中可用的 probplot()函数可以实现相同的绘图。这里，残差作为参数传递给函数。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/6c08d15548f5fb58a5311ab9f1e2bbfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*SP19fI4jyCgQXCsl_ezR2A.png"/></div></figure><p id="cbe3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> 3。比例位置图</strong></p><p id="2f0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通常，它用于猜测残差的同方差。它是标准化残差与拟合值的平方根图。如果它没有描述特定的模式，那么拟合的回归模型支持同质性假设。</p><p id="a196" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用 Seaborn 中的 regplot()函数可以获得 Python 中的相同绘图。这里，第一个和第二个参数分别指向拟合值和平方根标准化残差。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="kr ks l"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/5d3e3e64dcfa66bc705b0498a90b564f.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*-Q115uDOf3HSTrV5hQuv3Q.png"/></div></figure><p id="3041" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> 4。杠杆图</strong></p><p id="3ba7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通常，它用于猜测异常值对回归拟合的影响。目前，我不知道如何在 Python 中为基于 sklearn 的合身模型绘制相同的内容。一旦我能够弄清楚，我会更新相同的。使用 statsmodels 很容易使用内置的杠杆图绘制，但我不打算在这里讨论它。</p><p id="b106" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你已经知道如何为基于 sklearn 的拟合模型绘制相同的图。在评论里告诉我，我会加进去的！</p></div></div>    
</body>
</html>