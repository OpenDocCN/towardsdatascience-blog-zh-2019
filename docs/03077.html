<html>
<head>
<title>Create Customer Segmentation Report for Arvato Financial Services</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为 Arvato Financial Services 创建客户细分报告</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/udacity-data-scientice-nano-degree-capstone-project-create-customer-segmentation-report-for-852d3e6d3180?source=collection_archive---------16-----------------------#2019-05-17">https://towardsdatascience.com/udacity-data-scientice-nano-degree-capstone-project-create-customer-segmentation-report-for-852d3e6d3180?source=collection_archive---------16-----------------------#2019-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2b83" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">来自数据科学纳米级的 Udacity 顶点项目</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/27878f65b456fe8006203f0f930e8fc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3SQT3Uf1g2uC35xB"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@christiannkoepke?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Christiann Koepke</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="e85e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">项目概述</strong></h1><p id="2cca" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">通过创建客户细分并与一般人群进行比较，可以知道一般人群中的哪一部分更有可能成为客户，哪一部分不是。我分析了德国一家邮购销售公司客户的人口统计数据，并将其与普通人群的人口统计信息进行了比较。</p><p id="2615" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">首先，我使用不同的方法对数据进行预处理，然后我使用无监督学习技术，PCA(主成分分析)和 k-NN(k-最近邻算法)，来进行客户细分并识别公司的核心客户特征。</p><p id="8cef" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">其次，根据公司营销活动目标的人口统计信息，我使用不同的模型来预测哪些人最有可能转化为客户。</p><p id="44db" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最后，我还通过 kaggle 测试了比赛中的模型，其中比赛是<a class="ae ky" href="https://www.kaggle.com/c/udacity-arvato-identify-customers" rel="noopener ugc nofollow" target="_blank">这里</a>，所有讨论的内容都是基于上传到<a class="ae ky" href="https://github.com/HuangKY/DSND_Term2_Capstone_Arvato" rel="noopener ugc nofollow" target="_blank"> Github 资源库这里</a>的 jupyter 笔记本。</p><h1 id="d9cf" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">问题陈述</strong></h1><p id="3f14" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该目标包括以下四个部分:</p><ol class=""><li id="ccaf" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">数据预处理:清理和重新编码数据。</li><li id="730b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">细分:使用无监督学习技术来创建客户和普通人群的聚类，然后识别差异。</li><li id="dde9" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">预测:使用人口统计特征来预测一个人在邮寄活动后是否会成为客户。</li><li id="650b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">用同样的算法预测，提交给 Kaggle 竞赛，得到评价。</li></ol><h1 id="60ed" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">韵律学</h1><p id="7c9c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在分割部分，解释方差比被用于主成分分析过程。解释方差说明了描述整个特征方差的能力，解释方差越大，组件的重要性越大。</p><p id="55dc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在监督模型预测部分，精度主要用作主要度量。</p><h1 id="0f9f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">分析和方法——数据探索、可视化和预处理</h1><p id="9415" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">有四个数据集，它们都具有相同的人口统计特征(只有一部分不同)</p><ul class=""><li id="97c4" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm ng my mz na bi translated"><strong class="lt iu"><em class="nh">uda city _ AZDIAS _ 052018 . CSV</em></strong>:德国一般人口的人口统计数据；891 211 人(行)x 366 个特征(列)</li><li id="ad9c" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm ng my mz na bi translated"><strong class="lt iu"><em class="nh">uda city _ CUSTOMERS _ 052018 . CSV</em></strong>:邮购公司客户的人口统计数据；191 652 人(行)x 369 个特征(列)</li><li id="6d5a" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm ng my mz na bi translated"><strong class="lt iu"><em class="nh">uda city _ MAILOUT _ 052018 _ train . CSV</em></strong>:作为营销活动目标的个人的人口统计数据；42 982 人(行)x 367 人(列)。</li><li id="e040" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm ng my mz na bi translated"><strong class="lt iu"><em class="nh">【uda city _ MAILOUT _ 052018 _ test . CSV</em></strong>:作为营销活动目标的个人的人口统计数据；42 833 人(行)x 366 人(列)。</li></ul><p id="89b7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">除了上述数据，还有两个额外的元数据:</p><ul class=""><li id="6e2e" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm ng my mz na bi translated"><strong class="lt iu"> <em class="nh"> DIAS 信息级别—属性 2017.xlsx </em> </strong>:属性和描述的顶级列表，按信息类别组织</li><li id="11b1" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm ng my mz na bi translated"><strong class="lt iu"><em class="nh">DIAS Attributes-Values 2017 . xlsx</em></strong>:按字母顺序详细映射每个特征的数据值</li></ul><p id="de50" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">还有，我基于<strong class="lt iu"><em class="nh">DIAS Attributes-Values 2017 . xlsx</em></strong>文件创建了一个名为<strong class="lt iu"><em class="nh">DIAS _ Attributes _ Values _ 2017 _ details . CSV</em></strong>的文件，这样我就可以将每个属性映射到它的类型或者缺失值编码。</p><h2 id="c491" class="ni la it bd lb nj nk dn lf nl nm dp lj ma nn no ll me np nq ln mi nr ns lp nt bi translated">处理缺失/未知值</h2><p id="3e15" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在数据预处理过程中，我将缺失或未知的值重新编码为 Nan，以确保所有值的编码都是一致的。例如，在 AGER_TYP 属性中'-1 '值表示未知，我用<em class="nh"> np.nan. </em>替换它</p><h2 id="3345" class="ni la it bd lb nj nk dn lf nl nm dp lj ma nn no ll me np nq ln mi nr ns lp nt bi translated">评估每个属性中缺失的数据</h2><p id="f327" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在每个属性中，计算缺失值的比例。从缺失率的分布来看，大多数属性都在 20%以下。因此，我根据这个标准删除了异常值。(图 1)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/3c01bbe80f794ecfb96474d6cbfcc547.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*D9l4DzEQ3AnUMVmYoC0slg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 1 Distribution of missing ratio for each attribute</figcaption></figure><h2 id="ab60" class="ni la it bd lb nj nk dn lf nl nm dp lj ma nn no ll me np nq ln mi nr ns lp nt bi translated">评估每行中缺失的数据</h2><p id="e3c1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">每行中缺失的数据也会被评估。可以看到，大多数行没有丢失值，所以我将删除至少有一个丢失值的所有行。(图 2)然而，为了确保我删除的数据对整个数据没有大的影响，我将检查一些特征的分布。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/312c0d5898e9643e40f939fc98c27f2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EfNZudSu-KCHnJf1XVj4fg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 2 Distribution of missing ratio in each row</figcaption></figure><p id="8800" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">通过比较两个子集(不包括已删除行的数据和只包括已删除行的数据)之间至少五个属性的值的分布，两者之间没有大的差异。(图 3)所以我将在处理行中丢失的值时保留这个标准。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/0a07179d83df306f9b82536745a75df7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*OYW_XaRUEEIfTXC3y_Yg3w.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 3 Comparison of distribution of two data set on specific attributes (see Github for all graphs)</figcaption></figure><h2 id="021f" class="ni la it bd lb nj nk dn lf nl nm dp lj ma nn no ll me np nq ln mi nr ns lp nt bi translated">重新编码并提取特征</h2><p id="6463" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">数据中有四种类型的数据:<em class="nh">序数、数值、分类和混合</em>。对于顺序变量，虽然值可能不是线性相关的，但我在这里假设顺序变量是区间变量。剩余的分类和混合变量将被重新编码和选择。</p><p id="ecde" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">例如，关于分类变量，OST_WEST_KZ 特征包括二进制的值“W”和“O”。我把它重新编码成 0 和 1 的数值二进制变量。另一方面，CAMEO_DEUG_2015 功能包括详细信息文档中未描述的“X”值，因此我将其重新编码为 Nan。对于其余的分类变量，我绘制了相关图，以了解这些特征是否具有共同的特征。(图 4)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/d40b5d8c19046eb14a86644c5de1e370.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*OPIbpL16JQAbZ8lPE7_aSQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 4 Correlation heat-map between categorical features</figcaption></figure><p id="a97d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">根据上图，LP_FAMILIE_FEIN 和 LP_FAMILIE_GROB 高度相关，LP_STATUS_FEIN 和 LP_STATUS_GROB 也高度相关。由于 LP_FAMILIE_FEIN 和 LP_STATUS_FEIN 太详细了，我在这里把这两个去掉了。此外，虽然上图中没有绘制 CAMEO _ DEUG _ 2015and 和 CAMEO_DEU_2015，但根据描述文件，它们非常相似。所以我去掉了 CAMEO_DEU_2015 来简化。最后，还有一个特性 EINGEFUEGT_AM 没有在文档中描述，我也放弃了这个特性。在重新编码和选择分类变量之后，我使用 Pandas 中的<em class="nh"> get_dummies </em>方法转换为虚拟值。</p><p id="ba94" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">除了分类变量之外，还有如下六个混合特征:</p><ol class=""><li id="a34a" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">CAMEO_INTL_2015</li><li id="13e8" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">FEIN 的生活</li><li id="cb6b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">GROB 的生活</li><li id="635d" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">PLZ8_BAUMAX</li><li id="2c90" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">PRAEGENDE _ JUGENDJAHRE</li><li id="7c38" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">沃纳拉赫</li></ol><p id="6436" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">通过查看 CAMEO_INTL_2015 属性，似乎该属性可以分为两个区间变量:一个与财富有关，另一个与人生阶段有关，因此我使用 map 方法对该特征进行重新编码。关于 LP_LEBENSPHASE_FEIN 和 LP_LEBENSPHASE_GROB，因为它们都描述了与 CAMEO_INTL_2015 具有相似特征的人的生命阶段，所以我在这里放弃了这两个属性。另一方面，PLZ8_BAUMAX 和 WOHNLAGE 属性在某种程度上可以视为区间变量，我在这里保留了它们。最后，在 PRAEGENDE _ JUGENDJAHRE 功能中，它看起来也可以分为两个部分:十年和运动。因此，我创建了两个函数来处理这个变量。</p><p id="e2d1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">经过所有的预处理和重编码过程后，<em class="nh">uda city _ AZDIAS _ 052018 . CSV</em>被清洗并转换为熊猫 daframe 对象<em class="nh">AZDIAS _ informational _ dummy。</em>我还创建了一个函数<em class="nh"> clean_data </em>，它包含了上面提到的所有过程，因此对于每个人口统计数据，清理过程都是确定的并且保持不变。</p><p id="ba4b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最后，在重新编码的过程中，一些特征变得不规则，所以我用<em class="nh">输入器</em>来代替带有手段的<em class="nh">。然后我用<em class="nh"> StandardScaler </em>来缩放所有的特征。为了检查最终的输出，我计算了每个属性中的 Nans(缺失率)的数量。(图 5)</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/e9eb226cefa229459842b2af786b2a13.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*cL81xP75bwDgCD7A5LDVdQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig 5. The missing ratio in each attribute (parial)</figcaption></figure><h2 id="b09f" class="ni la it bd lb nj nk dn lf nl nm dp lj ma nn no ll me np nq ln mi nr ns lp nt bi translated">实施和完善</h2><p id="bfd3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu">客户细分报告部分</strong></p><p id="8109" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从近 425 个特征中，我进行了主成分分析来提取一般人群的重要特征。知道了每个属性的主要解释方差，我决定使用前 6 个分量，因为在第 6 个分量之后，累积方差缓慢增加。(图 6 和图 7)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/31364514ac3290932c087b746ff13da8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KAs9jrxWbTAXycdBfdRbaA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 6 (Top): Explained variance across different PCA components. (Bottom): Accumulated</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/a9239a0ab3acfdaa5147bb23c560549f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OuRghnld4Rzt1_T18qglXg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 7 Accumulated explained variance for top 100 PCA components</figcaption></figure><p id="9ef0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在选择了主成分分析后，我使用 KMeans 方法进行聚类。为了决定我应该使用多少个聚类，我调查了 KMeans 分数的聚类数。结果表明，当聚类数增加到大约 30 时，误差(分数)变得足够低，并且不会快速变化。因此，我选择 30 作为聚类数。(图 8)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/a4e4cf0a4ed493ed3f1336788bbf3bf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h9CADgdxdRZ1WHktEZJF5g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 8 The change of score (error) to k (number of clusterings)</figcaption></figure><p id="24a8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">上面使用的所有过程和方法也适用于客户数据。因此，我可以获得普通人口数据和客户数据的聚类标签。(图 9)通过绘制聚类的分布，我得到了两个数据集之间的差异结果。(图 10)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/cd1d0dcb610bb7f512325cdad5c6946f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0M7A7jWUcb8PddA0kASesg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 9 The distribution of the clusterings across two populations</figcaption></figure><p id="20b5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在此表中，gp_portion 表示一般人群中聚类的比例，cs_portion 表示客户人群中聚类的比例，表明客户和一般人群之间的差异在聚类 21 和 28 中最大，在聚类 6 和 20 中最小。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/5a13539a169e7a65f5d3d27dba8b983e.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*K2VLQUmSvVwP7JCjTI2Lmg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 10 The difference of clustering distribution in the two datasets</figcaption></figure><p id="eaba" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">监督学习模型部分</strong></p><p id="6d93" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在监督学习模型部分中，由于数据与普通人群共享相同的人口统计特征，因此所有预处理都与客户细分部分中的相同。然而，为了确保被清理的列是相同的并且所有的行都被保留，clean_data 函数被修改为<em class="nh"> clean_data_preserve_row </em>。在预处理过程之后，我在分割报告部分使用了相同的算法来获得 PCA 值和聚类。</p><p id="2459" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">独立变量是原始清理特征、6 个 PCA 分量和聚类标签。因变量是数据集中的响应列。为了预测响应值，即 0 或 1 二进制值，我使用了三种模型:逻辑回归，随机森林和 k-NN 来预测。还进行了网格搜索以获得最佳参数。</p><h1 id="e0c6" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结果</h1><h2 id="1dfb" class="ni la it bd lb nj nk dn lf nl nm dp lj ma nn no ll me np nq ln mi nr ns lp nt bi translated">解释、模型评估和验证</h2><p id="1fef" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu">客户细分报告部分</strong></p><p id="2b9c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">首先，我将讨论 6 个 PCA 成分，然后我将使用上面的聚类结果来了解一般人群和客户之间的差异。</p><p id="65a9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对于每个 PCA 组件，我显示了主要特性的详细信息，以便了解其特性。(图 11 和图 12)第一列显示了每个特征的重要性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/e4b70e2eee70339ab7da59548dc12f67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BV_FLYs1q32MRq4RyuAxYg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 11 The details of PCA components 1 to 3</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/51990750dc186ec35ac2bbf9322ec149.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P7lKbDkzxcOSGnQk1CZP8g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 12 The details of PCA components 4 to 6</figcaption></figure><p id="c9fb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">以下是基于每个组件的详细信息的摘要。为了方便起见，我将命名每个组件并在后面解释。</p><p id="2b38" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="nh"> PCA 成分 1 </em> </strong> : <strong class="lt iu"> <em class="nh">富人指数。</em>可能是一些关心财经新闻或产品的人，住在繁忙的城市地区，倾向于独居或只和伴侣住在一起。</strong></p><p id="1230" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="nh"> PCA 成分 2:年轻和流浪指数。</em> </strong>此人出生于 90 年代，主要接触数字媒体，不是存钱的人，有很高的网络亲和力，不是金融投资者，思想不传统。</p><p id="288b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="nh"> PCA 成分 3:汽车品牌狂热指数。</em> </strong>由于宝马&amp;奔驰、高级轿车或跑车的高份额，以及顶级德国制造商(奔驰、宝马)的高份额。</p><p id="e661" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="nh"> PCA 成分 4:网购者指数。</em> </strong>由于交易活跃，邮购交易活跃，每平方公里居民密度高，6-10 户家庭住宅数量多。</p><p id="b2f0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="nh"> PCA 成分 5:汽车寿命指数。</em></strong></p><p id="7ced" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="nh"> PCA 成分 6:反社会指数。</em> </strong>因梦幻亲和力低，熟悉度低，文化社交度低，不信教。</p><p id="4b78" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">除了 PCA 成分，我还比较了一般人群和顾客的区别。正如前面提到的，我从图 9 和图 10 中得到了下面的结果。</p><ul class=""><li id="b4be" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm ng my mz na bi translated">一般认为<strong class="lt iu"> <em class="nh">的人群更有可能成为邮购公司的主要客户:集群 21 和 28</em></strong></li><li id="1c79" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm ng my mz na bi translated">不太可能成为邮购公司主要客户的普通人群:集群 6 和 20</li></ul><p id="1598" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">查看每个集群，以下是每个集群的特征(为方便起见，采用绝对值为 3 的标准):</p><ul class=""><li id="d26d" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm ng my mz na bi translated">聚类 21: PCA 成分 2 ( <em class="nh">年轻与流浪指数</em>)负相关。</li><li id="136a" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm ng my mz na bi translated">群集 28: PCA 组件 4 ( <em class="nh">在线购物者指数</em>)正相关。</li><li id="add7" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm ng my mz na bi translated">聚类 6: PCA 成分 1 ( <em class="nh">富人指数</em>)和 3 ( <em class="nh">汽车品牌狂热指数</em>)负相关，而 PCA 成分 5 ( <em class="nh">汽车生活指数</em>)正相关</li><li id="3ff4" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm ng my mz na bi translated">聚类 20: PCA 成分 1 ( <em class="nh">富人指数</em>)负相关，成分 6 ( <em class="nh">反社会指数</em>)正相关</li></ul><p id="d80d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">综合以上所有信息，这里是总结。</p><ul class=""><li id="9935" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm ng my mz na bi translated">倾向于成为顾客的人群:可能是成年人并且通常在网上购物的人群。</li><li id="1687" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm ng my mz na bi translated">可能不是消费者的人群:不富裕，也不关注汽车品牌的人。然而，他们倾向于经常使用汽车。他们中的一些人可能有一些反社会的特征。</li></ul><p id="2068" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">综上所述，活动的目标应该集中在不年轻且经常在网上购物的用户身上。另一方面，对于那些非常富有或对汽车非常感兴趣或具有反社会特征的人来说，可能没有必要向他们发起这场运动。</p><p id="ea42" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">监督学习模型部分</strong></p><p id="61ce" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">数据被分成训练数据和测试数据。然而，结果并不好。对于三种模型(逻辑回归、随机森林和 k-NN)，它们都没有很好的精度。我将在下一个理由部分讨论它。</p><h2 id="2f23" class="ni la it bd lb nj nk dn lf nl nm dp lj ma nn no ll me np nq ln mi nr ns lp nt bi translated">正当理由；辩解</h2><p id="84c7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu">监督学习模型部分</strong></p><p id="b949" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">由于原始数据不平衡(大多数响应为 0，值 1 低于 1 %)，我尝试了以下部分来解决问题:</p><ol class=""><li id="bb9a" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">使用 GridSearch 方法。</li><li id="16e4" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">设置“class_weight”参数。</li><li id="baf5" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">在 train_test_split 流程中设置分层参数。</li><li id="9d47" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">尝试 6 个以上 PCA 成分到 20 个 PCA 成分。</li></ol><p id="a3aa" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然而，它们都没有提高精度。这部分我最后会留在改进部分。</p><p id="52f0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">此外，我已经将测试数据的预测上传到 kaggle。如前所述，模特的表现不好，所以分数也不好。(图 13)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/5da5b36186e08a1391e07fb390d8eef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NkTvrXtIPmoEFuhd8D8hyA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Fig. 13 The submission to kaggle</figcaption></figure><h1 id="4e59" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">结论</strong></h1><h2 id="58bb" class="ni la it bd lb nj nk dn lf nl nm dp lj ma nn no ll me np nq ln mi nr ns lp nt bi translated">反射</h2><p id="c759" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在分割部分，对数据进行了预处理，并采用主成分分析和 k-NN 相结合的方法对不同人群进行聚类。我们讨论了这种差异，我知道哪些人可能是潜在客户，哪些人可能不是。了解了这种差异，公司就可以更专注于他们的目标，然后提高转化率或降低营销成本。影响大。</p><p id="a5b3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然而，在监督学习部分，模型的性能并不好。这可能是由于因变量的大部分值为 0 的有偏数据分布造成的。需要进一步调查。</p><h2 id="c68a" class="ni la it bd lb nj nk dn lf nl nm dp lj ma nn no ll me np nq ln mi nr ns lp nt bi translated">改进</h2><p id="31bf" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了提高监督学习模型的性能，可以进行以下部分。</p><ol class=""><li id="4c00" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">处理不平衡数据的方法:欠采样或过采样。</li><li id="cdb5" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">增加 PCA 成分。</li><li id="2968" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">仅使用 PCA 成分作为独立变量。</li></ol></div></div>    
</body>
</html>