<html>
<head>
<title>Analyzing Movie Dialog Speed with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Python 分析电影对话速度</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/analyzing-movie-dialog-speed-with-python-79a8a8a286e8?source=collection_archive---------27-----------------------#2019-09-10">https://towardsdatascience.com/analyzing-movie-dialog-speed-with-python-79a8a8a286e8?source=collection_archive---------27-----------------------#2019-09-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="15dd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当大卫·芬奇在执导《社交网络》时，他带着秒表去了阿伦·索尔金的家，记录了索尔金阅读剧本的时间。然后，他记下了每个场景的时间，并在拍摄这部杰作时严格遵守这些场景时间。听到这个轶事后，我决定自己从分析的角度来看看这部电影的对话。</p><p id="f78c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了开始我的调查，我首先收集数据。我发现了一个叫做 YIFY 字幕(<a class="ae ko" href="https://yts-subs.com/" rel="noopener ugc nofollow" target="_blank">https://yts-subs.com/</a>)的网站，它提供电影编辑用来给电影添加字幕的文件。这些特定的文件称为 SRT 文件，甚至有自己独特的。srt 扩展。看一些例子。srt 文件，很明显它们遵循一种严格的格式，包含:<br/> 1。字幕编号<br/> 2。格式为 START_TIME → END_TIME 的场景时间，时间格式为 hh:mm:ss:ffff <br/> 3。副标题的文本</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/d7034bba0039b2af5242c1d8ea829eb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OxXNNSHEa9jjU0AiHpzGOA.png"/></div></div></figure><p id="ae40" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我需要删除文本中的一些元素(html 标签、圆括号和方括号中的场景描述符、音乐符号),所以我编写了函数 clean_text 来帮助清理文件。</p><pre class="kq kr ks kt gt lb lc ld le aw lf bi"><span id="7d01" class="lg lh it lc b gy li lj l lk ll">def clean_text(line):<br/><br/>    clean = line.strip().replace('&lt;/i&gt;', '').replace('&lt;i&gt;','').replace('- ', '')<br/>    clean = re.sub('\(.*\)','', clean)<br/>    clean = re.sub('\[.*\]','', clean)<br/>    clean = re.sub('♪', '', clean)<br/>    <br/>    return clean</span></pre><p id="699c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过几个辅助函数，我遍历了文件中的每一行，获得了以秒为单位的累积电影时间和说话的字数。解析每个的最终输出。srt 文件是一个具有两列的数据帧，一列用于累计时间，一列用于累计说出的单词。</p><p id="b4fd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了有一个比较《社交网络》的电影基础，我还收集了一些波士顿同行的数据:<br/>善意狩猎<br/>狂热程度<br/>战士<br/>消失的婴儿<br/>爱国者日<br/>逝者<br/>乡野圣徒<br/>神秘河<br/>小镇</p><p id="d22a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所有的。srt 文件被解析，数据在干净、统一的数据帧中，然后我继续进行可视化。随着时间的推移，绘制每部电影的字数突出了社交网络，因为它具有最多的单词和最陡的斜率(对应于每秒的单词数)。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi lm"><img src="../Images/9d8d245af4bc859ee3510e8731d2ce0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X6Z4rm-4vfZHfvIRJdMO9A.png"/></div></div></figure><p id="38dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">据传，芬奇花了 99 次拍摄才对《社交网络》的开场感到满意。将窗口缩小到前 600 秒会进一步提高对话速度。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi lm"><img src="../Images/a97ec233c99840d003d9a84f6ef58158.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rz2wgYxhS0SqI_3gRxdq-A.png"/></div></div></figure><p id="ede0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">利用每部电影的最终长度和字数，我还计算了每秒的平均字数。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi lm"><img src="../Images/c5298cd4f2249b68058e6ea554467d40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*re218hJvtY3tyYiuHyr75A.png"/></div></div></figure><p id="d23c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我又添加了 15 部电影来增加样本量，并绘制在下面。即使像《超级坏蛋》和《婚礼傲客》这样有大量对话和快嘴演员的电影，社交网络仍然保持领先。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ln"><img src="../Images/62c45d47ea186a406ca4c24790165273.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*By36LENHDanKMCPqpqE67w.png"/></div></div></figure><p id="7f71" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读！对于那些感兴趣的人，我已经把我用来进行这种分析的笔记本和。我的 GitHub 页面上的 srt 文件(<a class="ae ko" href="https://github.com/eonofrey/movie_word_counts" rel="noopener ugc nofollow" target="_blank">https://github.com/eonofrey/movie_word_counts</a>)。谢了。要获得所有媒体文章的完整访问权限，请点击<a class="ae ko" href="https://eonofrey.medium.com/membership" rel="noopener">此处</a>！</p></div></div>    
</body>
</html>