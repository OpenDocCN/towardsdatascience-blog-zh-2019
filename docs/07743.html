<html>
<head>
<title>Automate Viral Text-To-Speech YouTube content in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Python 实现病毒式文本到语音转换 YouTube 内容的自动化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/automating-viral-youtube-content-creation-in-250-lines-of-python-6acc583ae318?source=collection_archive---------6-----------------------#2019-10-27">https://towardsdatascience.com/automating-viral-youtube-content-creation-in-250-lines-of-python-6acc583ae318?source=collection_archive---------6-----------------------#2019-10-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/aaf8b2bcbbaa3801dc23d4106678bd5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CD9lvWU2uhIVrA_DBagoZA.gif"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">turning a reddit thread into a video :)</figcaption></figure><p id="b373" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">最近有一种特定风格的 YouTube 视频涌入，其中使用文本到语音转换来读出 Reddit 上的帖子，并以某种幻灯片的形式显示评论的截图。不管这些视频有多原始，都无关紧要，因为它们已经有了成千上万的浏览量。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ld"><img src="../Images/a05891f03ded79a0a9e7f362fd3f6585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NsuLgJ8zLr-1rnNXkOtmGw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">look at the views on these tts videos!</figcaption></figure><p id="c4dd" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我很确定这些视频大部分是手动编辑的，因为它们的裁剪和截图对齐不一致。<em class="li">当然</em><strong class="kh iu">有可能从<strong class="kh iu"> Reddit 线程</strong> URL 自动生成</strong>这些视频吗？</p></div><div class="ab cl lj lk hx ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="im in io ip iq"><h1 id="ba56" class="lq lr it bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">答案是肯定的！</h1><p id="8f6b" class="pw-post-body-paragraph kf kg it kh b ki mo kk kl km mp ko kp kq mq ks kt ku mr kw kx ky ms la lb lc im bi translated">下面是一个视频示例，大约在<strong class="kh iu"> <em class="li"> 2 分钟</em> </strong>内完全自动生成</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="963f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这是在大约 250 行代码中使用多种技术实现的。行数通常不是什么值得夸耀的东西，但对我来说，这展示了 Python 编程及其充满活力的活跃社区的力量。</p><h1 id="629b" class="lq lr it bd ls lt mv lv lw lx mw lz ma mb mx md me mf my mh mi mj mz ml mm mn bi translated">我的方法</h1><p id="3e1e" class="pw-post-body-paragraph kf kg it kh b ki mo kk kl km mp ko kp kq mq ks kt ku mr kw kx ky ms la lb lc im bi translated">首先，我们应该把问题分解成一堆更小的问题。</p><ol class=""><li id="599f" class="na nb it kh b ki kj km kn kq nc ku nd ky ne lc nf ng nh ni bi translated">拍摄 Reddit 帖子的“截图”</li><li id="32b6" class="na nb it kh b ki nj km nk kq nl ku nm ky nn lc nf ng nh ni bi translated">宣读帖子的内容</li><li id="b8b9" class="na nb it kh b ki nj km nk kq nl ku nm ky nn lc nf ng nh ni bi translated">将截图+语音+背景音乐排序在一起</li><li id="acce" class="na nb it kh b ki nj km nk kq nl ku nm ky nn lc nf ng nh ni bi translated">上传到 YouTube！(带缩略图和音乐)</li></ol><h1 id="2f50" class="lq lr it bd ls lt mv lv lw lx mw lz ma mb mx md me mf my mh mi mj mz ml mm mn bi translated">问题一:截图</h1><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/a5b7711449cf89be3114e88645247eef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TfjNxYQNhPrJCikBsS-ZZg.gif"/></div></div></figure><p id="7180" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我们不仅要为帖子创建一个截图，还要在帖子被读出时创建一个不同的图像。这使视频更有“讲故事”的感觉，并有助于观众跟随文本到语音的转换。</p><p id="bc43" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这个问题通过使用<a class="ae np" href="https://pypi.org/project/praw/" rel="noopener ugc nofollow" target="_blank"> PRAW </a>从 Reddit 获取帖子，并使用<a class="ae np" href="https://wkhtmltopdf.org/" rel="noopener ugc nofollow" target="_blank"> wkhtmltoimage </a>呈现模板得到了解决。我创建了自己的 HTML 模板，看起来有点像 Reddit 帖子，其中填充了帖子的详细信息(包括点数、奖项和用户名)，然后进行渲染。</p><p id="ced4" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这些评论被标点符号分开，给人一种“被读出”的感觉，并帮助它与文本到语音同步。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nq mu l"/></div></figure><h1 id="9d06" class="lq lr it bd ls lt mv lv lw lx mw lz ma mb mx md me mf my mh mi mj mz ml mm mn bi translated">问题 2:文本到语音</h1><figure class="le lf lg lh gt ju gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/8d9e6d68619af8e8ab5b325bd7bbe228.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*K4M_txR5t-7SZ3wNr8IlAg.gif"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">source: <a class="ae np" href="https://giphy.com/gifs/season-6-the-simpsons-6x6-26tk14hDexwwXlUDC" rel="noopener ugc nofollow" target="_blank"><strong class="bd ns">giphy</strong></a></figcaption></figure><p id="af6f" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我使用谷歌云的语音 API 免费层来驱动 TTS。采用了新的 Wavenet 语音，它使用深度学习来产生更真实的音调和重音。每个部分(由标点符号分隔)都被读出并保存到一个 mp3 文件中，确保我们审查帖子中的不良词语，并用家庭友好的替代词替换它们:)。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nq mu l"/></div></figure><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nt mu l"/></div></figure><h1 id="d6ec" class="lq lr it bd ls lt mv lv lw lx mw lz ma mb mx md me mf my mh mi mj mz ml mm mn bi translated">问题 3:排序</h1><p id="d8f6" class="pw-post-body-paragraph kf kg it kh b ki mo kk kl km mp ko kp kq mq ks kt ku mr kw kx ky ms la lb lc im bi translated">我发现了一个惊人的 Python 库，可以编程地创建视频内容:<a class="ae np" href="https://zulko.github.io/moviepy/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh iu"> MoviePy </strong> </a> <strong class="kh iu">。</strong>这是一个真正令人敬畏的库，它将 ffmpeg 包装成一个高级 API，用于排序、过滤器、音频和视觉特效等等。对于每个评论图片，我添加了相关的文本到语音转换 API 和一些我在 YouTube 上找到的免版税的 lofi 音乐。</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nq mu l"/></div></figure><p id="26d3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">背景音乐是从一个免版税的频道下载的，曲目下载后会随机播放。</p><h1 id="1a70" class="lq lr it bd ls lt mv lv lw lx mw lz ma mb mx md me mf my mh mi mj mz ml mm mn bi translated">问题 4: YouTube 和缩略图</h1><p id="c321" class="pw-post-body-paragraph kf kg it kh b ki mo kk kl km mp ko kp kq mq ks kt ku mr kw kx ky ms la lb lc im bi translated">每一个好的视频都应该有一个漂亮的缩略图，在尽可能短的时间内将观众吸引到所述视频的内容。我使用<a class="ae np" href="https://www.canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a>和<a class="ae np" href="https://pillow.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> Pillow </a>一起将视频的标题渲染到图像上。<a class="ae np" href="https://github.com/first20hours/google-10000-english" rel="noopener ugc nofollow" target="_blank">2000 个最常用英语单词</a>中的<strong class="kh iu"> <em class="li">而非</em> </strong>的单词以灰绿色突出显示，以强调标题中最重要的单词。</p><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/6f7a617070d1ca1174a1bcb3588dc29f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qO8uJ5rDzYJKNJqhEW4w-g.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">the template before and after rendering</figcaption></figure><figure class="le lf lg lh gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/3a65fdf7ef1368a06066f2e1516dc792.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gzAewkuj2nz5t4H-tW--9A.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">An example YouTube description.</figcaption></figure><p id="f52b" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">生成的. mp4 和缩略图然后通过 YouTube API 上传。创建了一个简单的描述，对视频中包含的帖子的 Reddit 用户进行表扬。</p><p id="bb15" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">总之，这是一个复杂但令人满意的项目，它集成了许多很酷的 Python 库。从 Reddit 网址到完全上传 YouTube 视频大约需要 5 分钟。我打算将来在脸书和 Instagram 上自动发布帖子。</p><p id="654a" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">订阅我的时事通讯，以便在我下次写作时得到通知:)</p><figure class="le lf lg lh gt ju"><div class="bz fp l di"><div class="nt mu l"/></div></figure></div></div>    
</body>
</html>