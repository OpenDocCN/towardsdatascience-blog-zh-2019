<html>
<head>
<title>Data Science Made Easy: Test and Evaluation using Orange</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学变得简单:使用 Orange 进行测试和评估</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-science-made-easy-test-and-evaluation-using-orange-d74e554d9021?source=collection_archive---------12-----------------------#2019-08-16">https://towardsdatascience.com/data-science-made-easy-test-and-evaluation-using-orange-d74e554d9021?source=collection_archive---------12-----------------------#2019-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="724f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">测试和评估模型的最简单的方法之一，无需接触任何代码！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f39cefff47608323e0e014f72e5be847.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*68q52Bz6Z0usaDCQgB97eA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image taken from the official <a class="ae ky" href="https://orange.biolab.si" rel="noopener ugc nofollow" target="_blank">Orange website</a></figcaption></figure><p id="d2af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">欢迎回到数据科学简易系列的第三部分。本教程将涵盖使用开源机器学习软件 Orange 测试和评估不同类型模型所需的基本步骤。在我们开始之前，请确保您已经安装了 Orange。请阅读<a class="ae ky" rel="noopener" target="_blank" href="/data-science-made-easy-interactive-data-visualization-using-orange-de8d5f6b7f2b">第一部分</a>进行设置和安装，如果您错过了，底部会有链接供您浏览整个 Data Science Made Easy 系列。我将从评估过程的一些基本解释开始。请注意，类型模型和预测将只在下一篇文章中讨论。本文主要关注测试和评估模型的步骤。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="adac" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">测试和评分</h2><p id="3362" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">Test &amp; Score 小部件可用于在数据集上测试您想要的学习算法。您应该使用此微件来确定所选的的性能，从而大致了解数据集的质量以及要使用的模型。这一步至关重要，因为从长远来看，这将为你节省大量时间。我不建议你直接跳到数据建模和预测，除非你知道你在做什么。我们来试试吧！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/ff839824669f377e6c19fe6da8751796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*245fsDfHTonU5IM7LJuD8g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image by Author</figcaption></figure><ol class=""><li id="a94b" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">向画布添加一个<strong class="lb iu">文件</strong>小部件，并加载来自浏览定制文档的虹膜数据。</li><li id="b510" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">向画布添加一个<strong class="lb iu">测试&amp;分数</strong>小部件，并将<strong class="lb iu">文件</strong>小部件连接到它。</li><li id="1c97" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">转到建模选项卡，选择几个您喜欢的模型，并将其添加到画布中。将每个模型连接到<strong class="lb iu">测试&amp;评分</strong>小部件。您可以连接任意多个模型。</li><li id="2566" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">双击<strong class="lb iu">测试&amp;分数</strong>控件打开界面。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/0cfc88e971b655e082747bb2d242653e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7KZU8BtGdtdEq3logUJO7Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image by Author</figcaption></figure><p id="0229" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以看到上图所示的各个型号的评测结果。请注意，分类任务和回归任务会有不同的结果。</p><p id="f556" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于分类任务，您应该得到以下结果:</p><ul class=""><li id="0ba8" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu nq nh ni nj bi translated"><strong class="lb iu">ROC 下面积:</strong>为受试者操作曲线下面积。</li><li id="b341" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated"><strong class="lb iu">分类:</strong>准确率是正确分类的例子的比例。</li><li id="213c" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated"><strong class="lb iu"> F-1: </strong>是精度和召回率的加权调和平均值(见下文)。</li><li id="3220" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated"><strong class="lb iu">精度</strong>:分类为阳性的实例中真阳性的比例，例如<em class="nr">北美鸢尾</em>被正确识别为北美鸢尾的比例。</li><li id="77a8" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated"><strong class="lb iu">回忆:</strong>是数据中所有阳性实例中真阳性的比例，例如所有诊断为患病的人中患病的人数。</li></ul><p id="0e19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您对回归任务执行了测试，结果将包括以下内容:</p><ul class=""><li id="ee20" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu nq nh ni nj bi translated"><strong class="lb iu"> MSE: </strong>测量误差或偏差的平方平均值(估计值和被估计值之间的差值)。</li><li id="09bb" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated"><strong class="lb iu"> RMSE: </strong>是一组数的平方的算术平均值的平方根(估计量对数据拟合的不完美性的度量)</li><li id="d5b6" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated"><strong class="lb iu"> MAE: </strong>用于衡量预测或预言与最终结果的接近程度。</li><li id="fdae" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu nq nh ni nj bi translated"><strong class="lb iu"> R2: </strong>解释为可从自变量预测的因变量中方差的比例。</li></ul><p id="69e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以修改左边的设置，如折叠的数量，以获得更平衡的结果。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="f2ae" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">混淆矩阵</h2><p id="1623" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">有时候<strong class="lb iu"> Test &amp; Score </strong> widget 提供的评测结果对我们来说根本不够好。例如，您将无法知道哪个类具有最佳预测。在这种情况下，我们将依赖另一个名为<strong class="lb iu">混淆矩阵</strong>的小部件。让我们试一试。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/27191ab1e616264961b6a84e0223f75a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aIDnnEpPGYZpg00boHkpFA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image by Author</figcaption></figure><ol class=""><li id="53ae" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">只需在画布上添加一个<strong class="lb iu">混淆矩阵</strong>小部件。</li><li id="2e92" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">将<strong class="lb iu">测试&amp;分数</strong>控件连接到<strong class="lb iu">混淆矩阵</strong>控件。</li><li id="5b3a" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">双击<strong class="lb iu">混淆矩阵</strong>控件打开界面。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/307f25cf25bd32151b421ddf07eddb0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TSS_YM2kP0cOqXtjiMDfMw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image by Author</figcaption></figure><p id="cbce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于那些不熟悉混淆矩阵的人来说，它给出了预测类和实际类之间的实例比例。在这种情况下，您将知道如上图所示，所有 Iris-setosa 都已被正确预测。这些信息对我们来说更有意义。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="b729" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">ROC 分析</h2><p id="5079" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">除了混淆矩阵，您还可以根据需要尝试其他种类的小部件来显示重要信息。只需将小部件添加到画布上，并将<strong class="lb iu">测试&amp;分数</strong>小部件连接到画布上。下图显示了连接到所有其他小部件的正确方式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/c6d04ed160db64f3ba07964e7e46b09e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JEwsHyHu60ZSGkKaOWhZaQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image by Author</figcaption></figure><p id="a166" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ROC 分析</strong> widget 绘制了测试的真阳性率和假阳性率。双击<strong class="lb iu"> ROC 分析</strong>小部件，您应该能够看到以下内容。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/6248ecb66af7ca5b44ea518d54fb3208.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*holqomuhIxiT0C6cYohRxw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image by Author</figcaption></figure><p id="155a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">x 轴代表假阳性率，而 Y 轴代表真阳性率。换句话说，一个准确的分类器将会把大部分的点放在左上角，就像我们在上面的图中看到的那样。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="b974" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">校准图</h2><p id="af4b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">与<strong class="lb iu"> ROC 分析</strong>小部件不同的是，<strong class="lb iu">校准图</strong>小部件根据分类器预测的概率绘制分类概率。请注意，在撰写本文时，校准图小部件仅与<strong class="lb iu">测试&amp;分数</strong>小部件兼容。因此，它只能与<strong class="lb iu">测试&amp;分数</strong>小工具一起使用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/9e6a688ce22f0d3e1aed2eee6dc19099.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qgq9d2der7kAKM5XsPD8Jw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image by Author</figcaption></figure><p id="8ab0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此微件提供了图中类别概率的预测精度。根据官方文件，在图的底部，左边的点是那些被(正确地)分配了低概率目标类的点，而右边的点被错误地分配了高概率。在图的顶部，右边的实例被正确地分配了高概率，反之亦然。这个小部件可以确定一个分类器是过于乐观(主要给出正面结果)还是悲观(主要给出负面结果)。如果你理解起来有困难，一个精确的分类器将会有一个 s 形曲线的形状，就像我们上面的那个一样。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="fa38" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">升力曲线</h2><p id="c66c" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated"><strong class="lb iu"> Lift Curve </strong> widgets 测量所选分类器相对于随机分类器的性能。提升曲线常用于人口细分。x 轴代表总体(P-比率)，而 Y 轴代表真阳性(TP-比率)。请注意，在撰写本文时，<strong class="lb iu">升力曲线</strong>小部件仅与<strong class="lb iu">测试&amp;分数</strong>小部件兼容。因此，它只能与测试&amp;分数控件一起使用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/e8f72bc635cde4ec6191222c9188646f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rnHo1oHXRrkXhpTTwoBXyA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image by Author</figcaption></figure><p id="8177" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检查“<strong class="lb iu">显示提升凸包</strong>”以显示每个所需 TP/P 速率的最佳分类器。根据官方文档，完美的分类器应该有一个朝向 1 的陡坡，直到所有的类都猜对了，然后沿着 y 轴上的 1 直线运行到(1，1)。下图是这种分类器的一个很好的例子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/6a4cf3445691db8c72b8d2c556b08a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ioh5-qIUVNfTEVBLIc1-IQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image by Author</figcaption></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="86bf" class="nz md it bd me oa ob oc mh od oe of mk jz og ka mn kc oh kd mq kf oi kg mt oj bi translated">结论</h1><p id="aad8" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">让我们复习一下今天所学的内容。我们从学习<strong class="lb iu">测试&amp;分数</strong>小部件的功能开始。它可用于粗略评估模型的性能。您可以简单地将其与其他类型的模型连接，并检查结果。根据任务是分类还是回归，输出结果是不同的。为了获得更多的信息，我们必须依赖一些其他的小部件。其中之一就是<strong class="lb iu">混淆矩阵</strong>小部件。它为我们提供了预测类和实际类之间的实例比例。此外，还有一些小工具，如<strong class="lb iu"> ROC 分析</strong>、<strong class="lb iu">校准图</strong>和<strong class="lb iu">升力曲线</strong>，可用于从结果中获得更多信息。感谢阅读<strong class="lb iu">数据科学变得简单</strong>教程的第 3 部分。在下一部分中，我将介绍使用 Orange 进行数据建模。❤️</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="81ac" class="nz md it bd me oa ob oc mh od oe of mk jz og ka mn kc oh kd mq kf oi kg mt oj bi translated">数据科学变得简单</h1><ol class=""><li id="ae14" class="nb nc it lb b lc mv lf mw li ok lm ol lq om lu ng nh ni nj bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/data-science-made-easy-interactive-data-visualization-using-orange-de8d5f6b7f2b">交互式数据可视化</a></li><li id="299e" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/data-science-made-easy-data-processing-using-orange-cb00476a7861">数据处理</a></li><li id="0caa" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/data-science-made-easy-test-and-evaluation-using-orange-d74e554d9021">测试和评估</a></li><li id="2ce9" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/data-science-made-easy-data-modeling-and-prediction-using-orange-f451f17061fa">数据建模和预测</a></li><li id="4350" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/data-science-made-easy-image-analytics-using-orange-ad4af375ca7a">图像分析</a></li></ol></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7d8f" class="nz md it bd me oa ob oc mh od oe of mk jz og ka mn kc oh kd mq kf oi kg mt oj bi translated">参考</h1><ol class=""><li id="d21e" class="nb nc it lb b lc mv lf mw li ok lm ol lq om lu ng nh ni nj bi translated"><a class="ae ky" href="https://orange.biolab.si/" rel="noopener ugc nofollow" target="_blank">https://orange.biolab.si/</a></li><li id="948b" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated"><a class="ae ky" href="https://github.com/biolab/orange3" rel="noopener ugc nofollow" target="_blank">https://github.com/biolab/orange3</a></li><li id="124b" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated"><a class="ae ky" href="https://orange.biolab.si/docs/" rel="noopener ugc nofollow" target="_blank">https://orange.biolab.si/docs/</a></li></ol></div></div>    
</body>
</html>