<html>
<head>
<title>A Multitask Music Model with BERT, Transformer-XL and Seq2Seq</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有 BERT、Transformer-XL 和 Seq2Seq 的多任务音乐模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-multitask-music-model-with-bert-transformer-xl-and-seq2seq-3d80bd2ea08e?source=collection_archive---------5-----------------------#2019-08-13">https://towardsdatascience.com/a-multitask-music-model-with-bert-transformer-xl-and-seq2seq-3d80bd2ea08e?source=collection_archive---------5-----------------------#2019-08-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b68a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl"> Buzzwordy clickbait 标题本意，但仍然是一个简单的概念。</em></p><p id="0352" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是“构建人工智能音乐生成器”系列的第三部分。我将讲述音乐模型多任务训练的基础知识——我们将用它来做一些非常酷的事情，如和声、旋律生成和歌曲混音。我们将在<a class="ae km" href="https://medium.com/@andrew.t.shaw/creating-a-pop-music-generator-with-the-transformer-5867511b382a" rel="noopener">第一部</a>和<a class="ae km" href="https://medium.com/@andrew.t.shaw/practical-tips-for-training-a-music-model-755c62560ec2" rel="noopener">第二部</a>的基础上展开。</p><h2 id="2656" class="kn ko iq bd kp kq kr dn ks kt ku dp kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">背景</h2><p id="df54" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">如你所知，变形金刚最近革新了自然语言处理领域。您可能也知道，有几种不同的变压器变体。它们都有相同的基本注意层，但有些是专门用于不同的任务。这里有 3 个最酷的:</p><p id="d041" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae km" href="https://arxiv.org/abs/1706.03762" rel="noopener ugc nofollow" target="_blank"> Seq2Seq </a>(序列到序列翻译)——使用编码器-解码器架构在语言之间进行翻译。这就是开启革命的 OG 变形金刚。</p><p id="0444" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae km" href="https://ai.googleblog.com/2019/01/transformer-xl-unleashing-potential-of.html" rel="noopener ugc nofollow" target="_blank">transformer XL</a>—这款正向解码器是一款令人惊叹的文本生成器。记忆和相对位置编码使超快速和准确的预测成为可能。我们在第二部分中使用了这个模型。</p><p id="59b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae km" href="https://ai.googleblog.com/2018/11/open-sourcing-bert-state-of-art-pre.html" rel="noopener ugc nofollow" target="_blank">BERT</a>—这个双向编码器在回答问题和填空时产生 SOTA 结果。令牌屏蔽和双向允许特殊的上下文。</p><blockquote class="ll"><p id="4c79" class="lm ln iq bd lo lp lq lr ls lt lu kk dk translated">该死，所有这些变化都太酷了！与其选择一个，为什么不把它们结合起来呢？T15】</p></blockquote><p id="fd3e" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">等待..什么？！？</p><p id="5f5d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请稍等片刻。</p><h1 id="5717" class="mb ko iq bd kp mc md me ks mf mg mh kv mi mj mk ky ml mm mn lb mo mp mq le mr bi translated">多任务模型来统治他们</h1><p id="b4dc" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">如果你正在训练一个语言模型，那么结合这三个模型是没有意义的。</p><p id="06fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl"> TransformerXL </em>非常适合生成文本。Seq2Seq 非常适合语言翻译。伯特擅长填空。你没有理由想同时做这三件事。</p><h2 id="83b1" class="kn ko iq bd kp kq kr dn ks kt ku dp kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">对于音乐一代来说，这是一个不同的故事。</h2><p id="5ac7" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">让我们来看几个你在考虑作曲时的场景:</p><p id="9942" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">任务 1。我有几个音符想做成一首<strong class="jp ir"> <em class="kl">的歌</em> </strong></p><blockquote class="ll"><p id="f36b" class="lm ln iq bd lo lp lq lr ls lt lu kk dk translated">TransformerXL 非常擅长序列生成。让我们用它来自动完成你的歌曲想法。</p></blockquote><p id="03bc" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated"><strong class="jp ir">任务 2a。我的旋律需要一些和声。<br/> <strong class="jp ir">任务 2b。我有一个和弦进行。现在我需要一个钩子。</strong></strong></p><blockquote class="ll"><p id="6fde" class="lm ln iq bd lo lp lq lr ls lt lu kk dk translated">S <strong class="ak"> eq2Seq </strong>非常适合翻译任务。我们可以用这个把旋律翻译成和弦。反之亦然。</p></blockquote><p id="3a34" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated"><strong class="jp ir">任务 3a。</strong>我现在有了一首歌，但听起来有些不对劲。<br/> <strong class="jp ir">任务 3b。这首歌需要更好的节奏。</strong></p><blockquote class="ll"><p id="a084" class="lm ln iq bd lo lp lq lr ls lt lu kk dk translated">伯特很擅长填空。我们可以删除歌曲的某些部分，用伯特来产生一个新的变奏。</p></blockquote><p id="5f22" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">如你所见，每一种变形都有助于产生歌曲创意。我们要训练一个能解决所有这些任务的模型。</p><h1 id="bcfc" class="mb ko iq bd kp mc md me ks mf mg mh kv mi mj mk ky ml mm mn lb mo mp mq le mr bi translated">先玩，后理解</h1><p id="5226" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">为了理解我们在这里试图做什么，尝试一下我们试图创建的多任务模型可能会有所帮助。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ms"><img src="../Images/e51ab43547aa99f08dc497b2b0785b7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eLX0Av_sqPN73RMxbv9F0g.gif"/></div></div></figure><p id="06a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每个演示都是为了解决特定的任务而生成的。在预测值(红色音符)和原始值(绿色音符)之间切换，听出不同之处。</p><p id="f08a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">任务 1。宋一代<br/> <a class="ae km" href="https://musicautobot.com/#/predict/e06828d196b2d5182cd459c273d609ac" rel="noopener ugc nofollow" target="_blank">《典藏 D》作者帕赫尔贝尔</a></p><p id="8081" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">任务 2a </strong>。和谐的旋律<br/> <a class="ae km" href="https://musicautobot.com/#/predict/2b4f5e6613f366bad7b4f39c61be32b9" rel="noopener ugc nofollow" target="_blank">《爱在哪里》黑眼豆豆</a></p><p id="68aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">任务 2b </strong>。现有和弦进行的新旋律<br/> <a class="ae km" href="https://musicautobot.com/#/predict/2674406ddc3eed0adaa47355d92a7e8f" rel="noopener ugc nofollow" target="_blank">【史奇雷克斯</a>的《可怕的怪物和可爱的小精灵》</p><p id="28ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">任务 3a。同节拍，异曲<br/>T25】《关卡》由中航工业</p><p id="7da5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">任务 3b。</strong>同一首歌，混音节拍<br/>T30】贝多芬的《富尔伊利斯》</p><h1 id="0834" class="mb ko iq bd kp mc md me ks mf mg mh kv mi mj mk ky ml mm mn lb mo mp mq le mr bi translated">建造怪物</h1><p id="9506" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">你回来了。现在让我们来建造这个东西。</p><p id="a3af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一开始听起来可能有点令人畏惧，但是说实话并不复杂。我们的多任务模型本质上是 Seq2Seq 架构。我们所做的只是修改它来训练不同的任务。</p><p id="36cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我假设你已经知道 Seq2Seq 翻译是如何工作的。如果没有，请访问这个不可思议的 <a class="ae km" href="http://jalammar.github.io/illustrated-transformer/" rel="noopener ugc nofollow" target="_blank"> <em class="kl">变形金刚插图</em> </a> <em class="kl">。</em></p><h2 id="ee71" class="kn ko iq bd kp kq kr dn ks kt ku dp kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">Seq2Seq</h2><p id="b90a" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">好了，现在让我们想象一下 Seq2Seq 变压器如何为音乐工作。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ne"><img src="../Images/022212582a05eded3b2b12e01aaecc5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ORTiT9S2-8x3J10bHQuB6w.png"/></div></div></figure><p id="bbd5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">非常类似于你如何翻译一种语言。<em class="kl">和弦</em>(输入语言)被翻译成<em class="kl">旋律</em>(目标语言)。</p><p id="d5ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“先前的输出”被反馈到解码器，所以它知道什么已经被翻译。</p><h2 id="96cd" class="kn ko iq bd kp kq kr dn ks kt ku dp kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">编码器与解码器</h2><p id="af55" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">该模型被分成蓝色编码器块和红色编码器块。了解这两者之间的区别很重要，因为我们将在其他任务中重新使用它们。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/8efb65ef5951b5ec71262a66e9c45549.png" data-original-src="https://miro.medium.com/v2/resize:fit:968/format:webp/1*PWPKiyJtUap9gIkpCpyEhA.png"/></div></figure><p id="5c95" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">蓝色编码块</strong> <em class="kl">是</em> <em class="kl">单双向注意层</em>。他们能够看到以前和将来的令牌。</p><p id="bc0b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">红色解码块</strong>为<em class="kl">双层叠前向注意层</em>。双堆叠块使用编码器输出和“先前输出”作为上下文来预测旋律。前向图层无法看到未来的令牌，只能看到之前的令牌。</p><p id="d5ca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">正如你可能已经猜到的，蓝色双向编码器是训练 BERT 模型的完美匹配。同样，前向解码器层可以重新用于训练 TransformerXL 任务。</p><p id="93b3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们来看看。</p><h2 id="78b6" class="kn ko iq bd kp kq kr dn ks kt ku dp kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">伯特</h2><p id="f935" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">擦掉一些笔记，伯特会填空:</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ng"><img src="../Images/0674e956899fbba062edf35d352f6310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ahs9t_ozDMkWjFwJ9lEFPQ.png"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk"><em class="lv">Masked notes prevent bidirectional layers from cheating</em></figcaption></figure><p id="c90a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们训练编码器预测正确的音符(红色)，只要它看到一个屏蔽的令牌(蓝色)。</p><h2 id="3914" class="kn ko iq bd kp kq kr dn ks kt ku dp kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated"><strong class="ak">变压器 XL —下一个字</strong></h2><p id="5ee9" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">你会从以前的文章中认出这个图表。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ng"><img src="../Images/8650c85070d599173b02f62b420481bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g76FpCRGUkWBbu_qVR5jag.png"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk"><em class="lv">Next tokens are attention masked to prevent cheating</em></figcaption></figure><p id="20c1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们训练解码器通过将目标移动一位来预测下一个令牌。</p><h1 id="f9df" class="mb ko iq bd kp mc md me ks mf mg mh kv mi mj mk ky ml mm mn lb mo mp mq le mr bi translated"><strong class="ak">综合考虑</strong></h1><p id="c7eb" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">如您所见，Seq2Seq 型号是 BERT 编码器和 TransformerXL 解码器的组合。这意味着我们可以重用 Seq2Seq 模型中的编码器和解码器来训练 BERT 和 TransformerXL 任务。唯一改变的是输入和目标。</p><p id="6212" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里提醒一下我们之前的三项任务:</p><p id="e8c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">任务 1。</strong>使用 TransformerXL 生成音乐</p><p id="0b22" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">任务 2a/2b。</strong>使用 Seq2Seq 进行旋律到和弦/和弦到旋律的翻译</p><p id="68a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">任务 3a/3b。</strong>宋与伯特的混音</p><h2 id="d577" class="kn ko iq bd kp kq kr dn ks kt ku dp kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated"><strong class="ak">解决多任务#2。</strong></h2><p id="b988" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">前面你看到了如何进行旋律到和弦的翻译(2a。).和弦到旋律的任务(2b。)是完全相同的，但是输入和目标被翻转。</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi nl"><img src="../Images/3dcf0ca38a1a7b092778b85f5d60c680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y62XfkOIe6GB0YPzo4-lYg.png"/></div></div></figure><h2 id="5816" class="kn ko iq bd kp kq kr dn ks kt ku dp kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated"><strong class="ak">多任务#1 和#3 </strong></h2><p id="2983" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">由于 BERT 仅使用编码器层，而 TransformerXL 仅使用解码器层，因此可以同时训练任务#1 和任务#3。在 BERT 端，我们屏蔽输入并通过编码器发送。同时，我们将移位后的输入馈入解码器以训练 TransformerXL。</p><p id="0da8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看起来是这样的:</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi ng"><img src="../Images/60117a0f14604ca3386c9bd6de852fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BWsXOx97xvktSb4_Y7QdGA.png"/></div></div></figure><ul class=""><li id="3540" class="nm nn iq jp b jq jr ju jv jy no kc np kg nq kk nr ns nt nu bi translated">编码器接受屏蔽任务的训练。</li><li id="0480" class="nm nn iq jp b jq nv ju nw jy nx kc ny kg nz kk nr ns nt nu bi translated">单独且并行地，解码器在下一个令牌任务上被训练。</li></ul><p id="3047" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">注意，解码器只有一个箭头作为输入。对于此任务，它不使用编码器输出。</em></p><h1 id="7db8" class="mb ko iq bd kp mc md me ks mf mg mh kv mi mj mk ky ml mm mn lb mo mp mq le mr bi translated">瞧啊。这是我们的模型代码</h1><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="4720" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">希望这个模型对使用过 PyTorch 的人来说非常清楚。</p><pre class="mt mu mv mw gt oc od oe of aw og bi"><span id="9443" class="kn ko iq od b gy oh oi l oj ok">Model architecture:<br/>Encoder - Bi-directional attention layers<br/>Decoder - Uni-directional double-stacked attention layers<br/>Head - Dense layer for token decoding</span><span id="5092" class="kn ko iq od b gy ol oi l oj ok">Forward Prop:<br/>1. If the input is masked ('msk'), train the encoder.<br/>2. If the input is shifted ('lm'), train the decoder.<br/>3. If the input contains both translation input ('enc') and previous tokens ('dec'), use both encoder and decoder.</span></pre><p id="1cea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">运行此<a class="ae km" href="https://github.com/bearpelican/musicautobot/blob/master/notebooks/multitask_transformer/Train.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>进行实际训练。</p><h2 id="8bdf" class="kn ko iq bd kp kq kr dn ks kt ku dp kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">这就是训练多任务模型的全部内容。</h2><p id="f2dc" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">它实际上只是一个编码器/解码器模型，针对各种类型的输入和输出进行训练。</p><p id="2709" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">屏蔽令牌训练编码器(BERT)。移位令牌训练解码器(TransformerXL)。成对序列训练两者(Seq2Seq)。</p><h1 id="d5b2" class="mb ko iq bd kp mc md me ks mf mg mh kv mi mj mk ky ml mm mn lb mo mp mq le mr bi translated">关于结果</h1><p id="d57e" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">如果你使用了本文开头的例子，那么你已经看到了结果。<a class="ae km" href="https://musicautobot.com" rel="noopener ugc nofollow" target="_blank">音乐机器人</a>网络应用由多任务转换器驱动。与其听我喋喋不休地谈论结果，不如回去自己创造结果，你会更开心！</p><p id="9375" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要启用<strong class="jp ir">任务 1、2a、2b、3a、3b </strong>，只需拨动此开关:</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="my mz di na bf nb"><div class="gh gi om"><img src="../Images/503bc324fb1f775c16127d11891b8bca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gno-OX-wnQOYM6iDKWvo2A.png"/></div></div></figure><h2 id="a28d" class="kn ko iq bd kp kq kr dn ks kt ku dp kv jy kw kx ky kc kz la lb kg lc ld le lf bi translated">备选计划<em class="lv">yg ground</em></h2><p id="79c8" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">如果你觉得需要更多的动手操作，这个 python <a class="ae km" href="https://github.com/bearpelican/musicautobot/blob/master/notebooks/multitask_transformer/Generate.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>用代码生成了所有相同的例子。通过浏览笔记本，你会更好地理解预测是如何工作的。</p><h1 id="36b6" class="mb ko iq bd kp mc md me ks mf mg mh kv mi mj mk ky ml mm mn lb mo mp mq le mr bi translated">将结果更进一步</h1><p id="ffad" class="pw-post-body-paragraph jn jo iq jp b jq lg js jt ju lh jw jx jy li ka kb kc lj ke kf kg lk ki kj kk ij bi translated">呜哇！我们可以生成一些很酷的结果，但是…它似乎缺少了一些流行音乐的魔力。在我们的下一篇文章中，我们将揭开一些神奇的酱料。</p><p id="cdb4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae km" href="https://medium.com/@andrew.t.shaw/how-to-remix-the-chainsmokers-with-a-music-bot-6b920359248c" rel="noopener"> <strong class="jp ir">第四部分。使用一个音乐机器人来重新混合烟鬼</strong></a>——这是我最喜欢的最后一篇文章了！</p><h1 id="e988" class="mb ko iq bd kp mc md me ks mf mg mh kv mi mj mk ky ml mm mn lb mo mp mq le mr bi translated">谢谢你对我的包容！</h1><blockquote class="on oo op"><p id="7000" class="jn jo kl jp b jq jr js jt ju jv jw jx oq jz ka kb or kd ke kf os kh ki kj kk ij bi translated">特别感谢肯尼斯、<a class="ae km" href="https://www.fast.ai/" rel="noopener ugc nofollow" target="_blank"> <em class="iq">、杰瑞米·霍华德</em> </a>、<a class="ae km" href="https://medium.com/@southparkcommons" rel="noopener"> SPC </a>和<a class="ae km" href="https://www.palapavc.com/" rel="noopener ugc nofollow" target="_blank"> PalapaVC </a>的支持。</p></blockquote></div></div>    
</body>
</html>