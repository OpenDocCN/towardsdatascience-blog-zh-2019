<html>
<head>
<title>The Easy Way to Do Advanced Data Visualisation for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学家实现高级数据可视化的简单方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-easy-way-to-do-advanced-data-visualisation-for-data-scientists-bbc852e26fb6?source=collection_archive---------18-----------------------#2019-09-05">https://towardsdatascience.com/the-easy-way-to-do-advanced-data-visualisation-for-data-scientists-bbc852e26fb6?source=collection_archive---------18-----------------------#2019-09-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/4547ca35978af962d561ba002bdd0e75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AhyUG_TNnqkbIPVLee7CIA.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Show off your data’s true colors!</figcaption></figure><blockquote class="kf kg kh"><p id="903e" class="ki kj kk kl b km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg im bi translated">想获得灵感？快来加入我的<a class="ae lh" href="https://www.superquotes.co/?utm_source=mediumtech&amp;utm_medium=web&amp;utm_campaign=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="kl iu">超级行情快讯</strong> </a>。😎</p></blockquote><p id="cbb6" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">创建有效的<a class="ae lh" rel="noopener" target="_blank" href="/5-quick-and-easy-data-visualizations-in-python-with-code-a2284bae952f?source=friends_link&amp;sk=8fbe300478bad4343aafa0e009439e12">数据可视化</a>是数据科学家能够拥有的最有价值的技能之一。</p><p id="a071" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">可视化不仅仅是制作精美的图表，它还是一种以人们易于理解的方式交流数据集信息的方式。有了良好的可视化，人们可以最清楚地看到隐藏在数据中的模式和信息。</p><p id="6cc3" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">在项目的早期阶段，您通常会进行探索性数据分析(EDA ),以获得对数据的一些见解。创建可视化将有助于您加快分析速度。</p><p id="d0ad" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">在项目接近尾声时，能够以一种清晰、简洁、有说服力的方式呈现最终结果是很重要的，这样观众(通常是非技术风险承担者)才能理解。</p><p id="e710" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">毫无疑问:将你的可视化提升到一个新的水平将会增强你的分析——并帮助你在下一次演讲中脱颖而出。</p><p id="6c6e" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">这篇文章将是一篇关于如何轻松创建高级数据可视化的教程！我们将使用<a class="ae lh" href="https://github.com/plotly/plotly.py" rel="noopener ugc nofollow" target="_blank"> plotly </a>，一个用于创建交互式可视化的 Python 库！</p><h1 id="fcd2" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">介绍 plotly</h1><p id="dd2e" class="pw-post-body-paragraph ki kj it kl b km mj ko kp kq mk ks kt li ml kw kx lj mm la lb lk mn le lf lg im bi translated">Plotly 是一个交互式的、开源的、基于浏览器的 Python 图形库！它构建在<a class="ae lh" href="https://d3js.org/" rel="noopener ugc nofollow" target="_blank"> D3.js </a>之上，使得它的可视化能力比标准的 Matplotlib 更加广泛和灵活。</p><p id="6079" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">与其他能够绘图的 Python 库(如 Matplotlib、Seaborn 和 Pandas)相比，使用 Plotly 有两个主要优势。这些是:</p><p id="3eba" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated"><strong class="kl iu"> (1)易用性</strong> —创建交互式绘图、3D 绘图和其他复杂图形只需几行代码。在其他绘图库中做同样的事情需要更多的工作。</p><p id="97e4" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated"><strong class="kl iu"> (2)更多功能</strong> —由于 Plotly 是基于 D3.js 构建的，所以它的绘图功能比其他绘图库要大得多。旭日图、烛台图、地图等等都可以用 Plotly 实现。点击查看完整列表<a class="ae lh" href="https://plot.ly/python/" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="3081" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">我们可以用一个 pip 命令安装 Plotly:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="957c" class="mx lm it mt b gy my mz l na nb">pip install plotly==4.0.0</span></pre><p id="ab06" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">在本教程的剩余部分，我们将创建<a class="ae lh" href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques" rel="noopener ugc nofollow" target="_blank">房价数据集</a>的可视化，你可以从<a class="ae lh" href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>中获取。</p><h1 id="938d" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">用 Plotly 制造奇特的情节</h1><p id="59b3" class="pw-post-body-paragraph ki kj it kl b km mj ko kp kq mk ks kt li ml kw kx lj mm la lb lk mn le lf lg im bi translated">我们可以用 Plotly 创造一些非常奇特的情节！</p><p id="7cd4" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">首先，让我们导入<code class="fe nc nd ne mt b">plotly</code>及其内部图形对象组件。我们还将导入熊猫来加载我们的数据集</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="c91c" class="mx lm it mt b gy my mz l na nb"><em class="kk">import </em>plotly<br/><em class="kk">import </em>plotly.graph_objs <em class="kk">as </em>go</span><span id="8fb4" class="mx lm it mt b gy nf mz l na nb">import pandas as pd</span></pre><p id="38b8" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">在我们的数据集中阅读当然只是熊猫的一行程序:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="5ec1" class="mx lm it mt b gy my mz l na nb">data = pd.read_csv('train.csv')</span></pre><h1 id="1088" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">散点图</h1><p id="b5e5" class="pw-post-body-paragraph ki kj it kl b km mj ko kp kq mk ks kt li ml kw kx lj mm la lb lk mn le lf lg im bi translated">在本练习中，我们将在散点图中绘制<em class="kk">销售价格与年度生产</em>的对比图。为此，我们将创建一个 plotly <code class="fe nc nd ne mt b">Scatter</code>图形对象，并将其放入一个<code class="fe nc nd ne mt b">trace</code>。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="43f6" class="mx lm it mt b gy my mz l na nb">trace = go.Scatter(<br/>    x = data['YearBuilt'],<br/>    y = data['SalePrice'],<br/>    mode = 'markers',<br/>    showlegend = <em class="kk">True<br/></em>)<br/>plot_data = [trace]</span></pre><p id="a50e" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">然后，绘图只是一行之遥！</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="9b80" class="mx lm it mt b gy my mz l na nb">plotly.offline.plot(plot_data, filename='basic-scatter')</span></pre><p id="5464" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">上述命令将在您的浏览器中打开一个新的选项卡，其中包含该图。</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/6e03be9f5e540bb776e5416992f43b2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rs6CbLU8TxmRfPqY529T0g.png"/></div></div></figure><p id="3236" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">还没有什么新奇的东西…但是你等着吧！</p><p id="c1b1" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">Plotly 自动内置了图形交互性。看看下面的 gif，看看它能做什么！所有命令都在浏览器的右上角:</p><ul class=""><li id="569b" class="nh ni it kl b km kn kq kr li nj lj nk lk nl lg nm nn no np bi translated">悬停在每个点上会显示该点的 x-y 坐标</li><li id="22da" class="nh ni it kl b km nq kq nr li ns lj nt lk nu lg nm nn no np bi translated">你可以放大某个数据框</li><li id="3a04" class="nh ni it kl b km nq kq nr li ns lj nt lk nu lg nm nn no np bi translated">您可以使用框或套索选择并高亮显示某些点</li><li id="291b" class="nh ni it kl b km nq kq nr li ns lj nt lk nu lg nm nn no np bi translated">您可以平移整个地块以更好地查看事物</li><li id="a024" class="nh ni it kl b km nq kq nr li ns lj nt lk nu lg nm nn no np bi translated">你可以下载一个图片文件！</li></ul><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/d75b457a6bbcd975a8193e36d071ead9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*HcPLh7-KDTj-NeiNbgQiwg.gif"/></div></div></figure><h1 id="2871" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">箱线图</h1><p id="49e8" class="pw-post-body-paragraph ki kj it kl b km mj ko kp kq mk ks kt li ml kw kx lj mm la lb lk mn le lf lg im bi translated">这次我们要做一个方框图。</p><p id="7833" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">过程也差不多。我们将创建一个 graph 对象，将其放入跟踪中，然后在浏览器中绘制它:</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="80ce" class="mx lm it mt b gy my mz l na nb"><em class="kk">import </em>plotly<br/><em class="kk">import </em>plotly.graph_objs <em class="kk">as </em>go<br/><br/><em class="kk">import </em>pandas <em class="kk">as </em>pd<br/><br/>data = pd.read_csv('train.csv')<br/><br/>trace = go.Box(<br/>    x = data['YearBuilt'],<br/>    y = data['SalePrice'],<br/>    marker = {'color': 'green'},<br/>    showlegend = <em class="kk">True</em>,<br/>)<br/>plot_data = [trace]<br/><br/>plotly.offline.plot(plot_data, filename='basic-box')</span></pre><p id="596f" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">看看下面的 gif 图，看看盒子图的一些奇特的 Plotly 特性！</p><p id="3ba5" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">默认情况下，我们获得相同的平移、缩放和点选择。由于我们现在有一个方框图，将鼠标悬停在每个方框上会显示:</p><ul class=""><li id="1a30" class="nh ni it kl b km kn kq kr li nj lj nk lk nl lg nm nn no np bi translated">中位数</li><li id="54d7" class="nh ni it kl b km nq kq nr li ns lj nt lk nu lg nm nn no np bi translated">第一和第三四分位数</li><li id="4eea" class="nh ni it kl b km nq kq nr li ns lj nt lk nu lg nm nn no np bi translated">数据范围的最小值和最大值</li><li id="8465" class="nh ni it kl b km nq kq nr li ns lj nt lk nu lg nm nn no np bi translated">存在异常值时的上限和/或下限</li></ul><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/cce3f1b0a065a7f72785a80002329900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fwL8tBtDvTG-1muNTQJxjg.gif"/></div></div></figure><h1 id="ebda" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">热图</h1><p id="9244" class="pw-post-body-paragraph ki kj it kl b km mj ko kp kq mk ks kt li ml kw kx lj mm la lb lk mn le lf lg im bi translated">热图是任何伟大的数据科学家工具箱中的另一个强大工具。它们对于在一个图中显示多个特征变量之间的关系以及每个关系的<strong class="kl iu">相对重要性</strong>特别有效。</p><p id="e9fb" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">为了真正展示如何使用 Plotly 增强您的热图，我们将把房价数据集的相关矩阵绘制为热图。绘制数据集的相关矩阵是了解要素变量如何影响目标的一种快速简便的方法。</p><p id="9352" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">对于 plotly，我们将<em class="kk"> x </em>和<em class="kk"> y </em>设置为列名，将<em class="kk"> z </em>设置为矩阵中的值。</p><p id="986c" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">在我们的浏览器中绘制这一切又是一件轻而易举的事情。</p><pre class="mo mp mq mr gt ms mt mu mv aw mw bi"><span id="e29e" class="mx lm it mt b gy my mz l na nb"><em class="kk">import </em>plotly<br/><em class="kk">import </em>plotly.graph_objs <em class="kk">as </em>go<br/><br/><em class="kk">import </em>pandas <em class="kk">as </em>pd<br/><br/>data = pd.read_csv('train.csv')<br/><br/>corrmat = data.corr()<br/><br/>trace = go.Heatmap(z=corrmat, x=corrmat.columns.tolist(), y=corrmat.columns.tolist())<br/><br/>plot_data = [trace]<br/><br/>plotly.offline.plot(plot_data, filename='basic-heatmap')</span></pre><p id="7b29" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">Matplotlib 中的热图可能有点棘手，因为您无法看到每个单元格的确切值——您只能从颜色中看出一点。您可以编写代码使其具有交互性，但这在 Matplotlib 中相当麻烦。</p><p id="3647" class="pw-post-body-paragraph ki kj it kl b km kn ko kp kq kr ks kt li kv kw kx lj kz la lb lk ld le lf lg im bi translated">Plotly 为我们提供了开箱即用的交互性，因此当我们绘制热图时，我们可以获得直观的概览，但如果需要，还可以选择检查确切的值。Plotly 的平移和缩放功能也非常简洁，允许从视觉角度进行更详细的探索！</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/dbe67e22815ba3f0fc60e7b4b0ad555f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5PLe7EoJgLXdRo_Z5KnnFA.gif"/></div></div></figure></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><h1 id="0f8e" class="ll lm it bd ln lo od lq lr ls oe lu lv lw of ly lz ma og mc md me oh mg mh mi bi translated">喜欢学习？</h1><p id="89c9" class="pw-post-body-paragraph ki kj it kl b km mj ko kp kq mk ks kt li ml kw kx lj mm la lb lk mn le lf lg im bi translated">在 twitter 上关注我，我会在这里发布所有最新最棒的人工智能、技术和科学！也在<a class="ae lh" href="https://www.linkedin.com/in/georgeseif/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上和我联系吧！</p></div></div>    
</body>
</html>