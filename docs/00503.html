<html>
<head>
<title>Introduction to Data Visualization in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中的数据可视化简介</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introduction-to-data-visualization-in-python-89a54c97fbed?source=collection_archive---------0-----------------------#2019-01-23">https://towardsdatascience.com/introduction-to-data-visualization-in-python-89a54c97fbed?source=collection_archive---------0-----------------------#2019-01-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0558" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何使用 Matplotlib，Pandas 和 Seaborn 制作图形</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/3df0a8da10ec5fb2754a5fdb68b55a04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hzU1K3AH2u6n4wPw"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 1: Photo by <a class="ae kv" href="https://unsplash.com/@goumbik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lukas Blazek</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="de07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据可视化是一门学科，它试图通过将数据置于可视化的环境中来理解数据，从而揭示出可能无法检测到的模式、趋势和相关性。</p><p id="1be6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Python 提供了多个优秀的图形库，这些图形库包含了许多不同的特性。无论你是想创建交互式的、实时的还是高度定制的情节，python 都为你提供了一个优秀的库。</p><p id="0a3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是一些流行的绘图库:</p><ul class=""><li id="fbe0" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><a class="ae kv" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Matplotlib:</strong></a><strong class="ky ir"/>低等级，提供了大量的自由</li><li id="7b67" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://pandas.pydata.org/pandas-docs/stable/visualization.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">熊猫可视化:</strong> </a> <strong class="ky ir"> </strong>易于使用的界面，基于 Matplotlib 构建</li><li id="5e06" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">Seaborn:</strong></a><strong class="ky ir"/>高级界面，绝佳的默认样式</li><li id="d0ce" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="http://ggplot.yhathq.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">gg plot:</strong></a><strong class="ky ir"/>基于 R 的 ggplot2，采用<a class="ae kv" href="https://www.amazon.com/Grammar-Graphics-Statistics-Computing/dp/0387245448" rel="noopener ugc nofollow" target="_blank">图形的语法</a></li><li id="06e8" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://plot.ly/python/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">剧情:</strong> </a> <strong class="ky ir"> </strong>可以创建互动剧情</li></ul><p id="8b3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将学习如何使用 Matplotlib、Pandas visualization 和 Seaborn 创建基本的绘图，以及如何使用每个库的一些特定功能。本文将关注语法，而不是解释图形，我将在另一篇博客文章中介绍。</p><p id="9f7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在以后的文章中，我将介绍像 Plotly 这样的交互式绘图工具，它构建在 D3 上，也可以与 JavaScript 一起使用。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="30fc" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">导入数据集</h1><p id="0afe" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在本文中，我们将使用两个免费提供的数据集。<a class="ae kv" href="https://archive.ics.uci.edu/ml/datasets/iris" rel="noopener ugc nofollow" target="_blank"> Iris </a>和<a class="ae kv" href="https://www.kaggle.com/zynicide/wine-reviews" rel="noopener ugc nofollow" target="_blank">葡萄酒评论</a>数据集，我们都可以使用 pandas <code class="fe nk nl nm nn b">read_csv</code>方法加载。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/56a013f4ab65b7ada403b18b9a2125da.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*sl_B5DS5rHD1kDvrg3qllg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 2: Iris dataset head</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/a1aaee6566b56ef120bc925a6606fdb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DHn89aKqAruVzVsGqEdZYg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 3: Wine Review dataset head</figcaption></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="ec95" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">Matplotlib</h1><p id="0661" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">Matplotlib 是最流行的 python 绘图库。这是一个低级的库，有一个类似 Matlab 的接口，提供了很多自由，代价是必须写更多的代码。</p><p id="0294" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要安装 Matplotlib，可以使用 pip 和 conda。</p><pre class="kg kh ki kj gt ns nn nt nu aw nv bi"><span id="9331" class="nw mo iq nn b gy nx ny l nz oa">pip install matplotlib<br/>or<br/>conda install matplotlib</span></pre><p id="0031" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Matplotlib 特别适合创建基本的图表，如线形图、条形图、直方图等等。可以通过键入以下内容来导入它:</p><pre class="kg kh ki kj gt ns nn nt nu aw nv bi"><span id="4520" class="nw mo iq nn b gy nx ny l nz oa">import matplotlib.pyplot as plt</span></pre><h2 id="96dc" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">散点图</h2><p id="7fa9" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">要在 Matplotlib 中创建散点图，我们可以使用<code class="fe nk nl nm nn b">scatter</code>方法。我们还将使用<code class="fe nk nl nm nn b">plt.subplots</code>创建一个图形和一个轴，这样我们就可以给我们的绘图一个标题和标签。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/fe0c69a21c588f2dfeb2c53cb1c533cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*wHJsVsCZsIN2mvYOGhIcCA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 4: Matplotlib Scatter plot</figcaption></figure><p id="a530" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以通过按类别给每个数据点着色来赋予图表更多的意义。这可以通过创建一个从类映射到颜色的字典来完成，然后使用 for 循环分散每个点并传递各自的颜色。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/a3a3d438adda6095a6c96104a944ba9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*g7ZE1by6rcM27ulB45h3eA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 5: Scatter Plot colored by class</figcaption></figure><h2 id="d4b1" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">折线图</h2><p id="e463" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在 Matplotlib 中，我们可以通过调用<code class="fe nk nl nm nn b">plot</code>方法来创建折线图。我们还可以在一个图形中绘制多个列，方法是循环遍历我们需要的列，并将每个列绘制在同一轴上。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/6688950ee33b3854e771d862a0c856e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*7_h8orPIGV42e5AIWF-7bA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 6: Line Chart</figcaption></figure><h2 id="f013" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">柱状图</h2><p id="ea04" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在 Matplotlib 中，我们可以使用<code class="fe nk nl nm nn b">hist</code>方法创建一个直方图。如果我们向它传递分类数据，如葡萄酒评论数据集中的 points 列，它将自动计算每个类出现的频率。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/8f635903ff1e9dd84b850903c5aaf1d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*uNfH13lMewuE-n2XNbWGiw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 7: Histogram</figcaption></figure><h2 id="02d3" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">条形图</h2><p id="9091" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">可以使用<code class="fe nk nl nm nn b">bar</code>方法创建条形图。条形图不会自动计算类别的频率，所以我们将使用 pandas <code class="fe nk nl nm nn b">value_counts</code>函数来完成这项工作。条形图对于没有太多不同类别(少于 30 个)的分类数据非常有用，因为否则它会变得非常混乱。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/364d399944a64f23d3a555cb06478550.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*XZNu7gvDaXYb7-xJ6PXNIQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 8: Bar-Chart</figcaption></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="ac67" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">熊猫可视化</h1><p id="9400" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">Pandas 是一个开源的高性能、易于使用的库，它提供了数据结构(如数据帧)和数据分析工具(如我们将在本文中使用的可视化工具)。</p><p id="3d26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">熊猫可视化使得从熊猫数据帧和系列中创建情节变得非常容易。它还拥有比 Matplotlib 更高级的 API，因此我们需要更少的代码来获得相同的结果。</p><p id="fcde" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Pandas 可以使用 pip 或 conda 安装。</p><pre class="kg kh ki kj gt ns nn nt nu aw nv bi"><span id="6a94" class="nw mo iq nn b gy nx ny l nz oa">pip install pandas<br/>or<br/>conda install pandas</span></pre><h2 id="25e4" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">散点图</h2><p id="b7c1" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">为了在 Pandas 中创建散点图，我们可以调用<code class="fe nk nl nm nn b">&lt;dataset&gt;.plot.scatter()</code>并向它传递两个参数，x 列的名称和 y 列的名称。可选地，我们也可以传递给它一个标题。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/c232fd047992343d48b4a7c57ebfdf5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*rKWbvmZnJi4PDwkMt2tQ5g.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 9: Scatter Plot</figcaption></figure><p id="34c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如您在图像中看到的，它会自动将 x 和 y 标签设置为列名。</p><h2 id="0e3f" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">折线图</h2><p id="3bb5" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">为了创建熊猫的折线图，我们可以称之为<code class="fe nk nl nm nn b">&lt;dataframe&gt;.plot.line()</code>。在 Matplotlib 中，我们需要循环遍历我们想要绘制的每一列，而在 Pandas 中，我们不需要这样做，因为它会自动绘制所有可用的数字列(至少如果我们没有指定特定的列)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/6688950ee33b3854e771d862a0c856e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*7_h8orPIGV42e5AIWF-7bA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 10: Line Chart</figcaption></figure><p id="57a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们有一个以上的功能，熊猫会自动为我们创建一个图例，如上图所示。</p><h2 id="8370" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">柱状图</h2><p id="5894" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在熊猫中，我们可以用<code class="fe nk nl nm nn b">plot.hist</code>方法创建一个直方图。没有任何必需的参数，但是我们可以有选择地传递一些参数，比如 bin 的大小。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/6ce44406f33d2f344e41556abff5fc1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*beVHz116spOm-r5OYunZoA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 11: Histogram</figcaption></figure><p id="9a1a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建多个直方图也非常容易。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/d2a94114ec9af4c0679467590d9c0f37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*xwANpRZID0XPhr4ESfS6qg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 12: Multiple Histograms</figcaption></figure><p id="4d55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe nk nl nm nn b">subplots</code>参数指定我们想要为每个特征单独绘图，而<code class="fe nk nl nm nn b">layout</code>指定每行和每列的绘图数量。</p><h2 id="422e" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">条形图</h2><p id="7325" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">为了绘制条形图，我们可以使用<code class="fe nk nl nm nn b">plot.bar()</code>方法，但是在调用这个方法之前，我们需要获取数据。为此，我们将首先使用<code class="fe nk nl nm nn b">value_count()</code>方法对事件进行计数，然后使用<code class="fe nk nl nm nn b">sort_index()</code>方法从最小到最大对事件进行排序。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/1b91ef28c4c1115f5615a9a74362de0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*OcOW7mKcLv4c71jNY40qiA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 13: Vertical Bar-Chart</figcaption></figure><p id="1c25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe nk nl nm nn b">plot.barh()</code>方法制作水平条形图也非常简单。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/ba066cf8f704ccd0dcf66a852e24046a.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*z9vf-rjL7Ty0T68DIWzlng.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 14: Horizontal Bar-Chart</figcaption></figure><p id="c802" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们也可以绘制其他数据，然后是出现的次数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/c724aba1e20fec9598d144353794f64c.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*AoST_ulRv6JvmmLFPqgK4w.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 15: Countries with the most expensive wine(on average)</figcaption></figure><p id="3fcd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的例子中，我们按国家对数据进行分组，然后取葡萄酒价格的平均值，对其排序，并绘制出平均葡萄酒价格最高的 5 个国家。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="76dd" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">海生的</h1><p id="2107" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">Seaborn 是一个基于 Matplotlib 的 Python 数据可视化库。它为创建吸引人的图形提供了一个高级接口。</p><p id="b6ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Seaborn 有很多东西可以提供。在 Matplotlib 中，你可以用一行创建几十行的图形。它的标准设计非常棒，而且它还有一个很好的界面来处理熊猫数据框。</p><p id="e371" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以通过键入以下内容来导入它:</p><pre class="kg kh ki kj gt ns nn nt nu aw nv bi"><span id="110f" class="nw mo iq nn b gy nx ny l nz oa">import seaborn as sns</span></pre><h2 id="28af" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">散点图</h2><p id="e23b" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">我们可以使用<code class="fe nk nl nm nn b">.scatterplot</code>方法创建散点图，就像在 Pandas 中一样，我们需要传递 x 和 y 数据的列名，但现在我们也需要传递数据作为附加参数，因为我们没有像在 Pandas 中那样直接调用数据上的函数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/2800708c3d6e9dc3e85cbe16db903196.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*paa5lGLVyCPzuzxM0g1hCg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 16: Scatterplot</figcaption></figure><p id="1119" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还可以使用<code class="fe nk nl nm nn b">hue</code>参数按类突出显示要点，这比在 Matplotlib 中容易得多。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/b39d274fb21aadd9eedae51ec8668d4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*WpOCsT4LhXv2PE6_Kntw9A.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 17: Scatterplot colored by class</figcaption></figure><h2 id="3757" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">折线图</h2><p id="1de2" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">可使用<code class="fe nk nl nm nn b">sns.lineplot</code>方法创建折线图。唯一需要的参数是数据，在我们的例子中是 Iris 数据集中的四个数字列。我们也可以使用<code class="fe nk nl nm nn b">sns.kdeplot</code>方法，如果你的数据集中有很多异常值，这种方法会使曲线的边缘变圆，因此更干净。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/5597f8fa28e01cb06b622007794b885a.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/0*dDnPHTxd_0hiZloL"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 18: Line Chart</figcaption></figure><h2 id="e5d0" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">柱状图</h2><p id="edc0" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">为了在 Seaborn 中创建直方图，我们使用了<code class="fe nk nl nm nn b">sns.distplot</code>方法。我们需要将我们想要绘制的列传递给它，它会自己计算出现的次数。如果我们想在图中画出高斯核密度估计值，我们也可以传递给它箱的数量。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/178bd45a79d88a2305e2465f865f5afa.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*3bXHuQVWK8W9EgdxgCrzLg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 19: Histogram</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/c2d54fea725119439129211b8baf2aee.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*icIVAWYElWDkzCdB1BuE6g.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 20: Histogram with gaussian kernel density estimate</figcaption></figure><h2 id="54be" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">条形图</h2><p id="ee9d" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在 Seaborn 中，可以使用<code class="fe nk nl nm nn b">sns.countplot</code>方法创建一个条形图，并将数据传递给它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/97c9ff457d9087ce87346804d3ae1b2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*JK28mO0Ph0WI4BpGAolBkg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 21: Bar-Chart</figcaption></figure><h1 id="926a" class="mn mo iq bd mp mq ov ms mt mu ow mw mx jw ox jx mz jz oy ka nb kc oz kd nd ne bi translated">其他图表</h1><p id="6e21" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">现在你已经对 Matplotlib、Pandas Visualization 和 Seaborn 语法有了一个基本的了解，我想向你展示一些对提取内部有用的其他图形类型。</p><p id="4678" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对他们中的大多数人来说，Seaborn 是首选库，因为它的高级接口只需要几行代码就可以创建漂亮的图形。</p><h2 id="56c3" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">箱线图</h2><p id="d1ab" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">方框图是显示<a class="ae kv" href="https://en.wikipedia.org/wiki/Five-number_summary" rel="noopener ugc nofollow" target="_blank">五个数字汇总</a>的图形方法。我们可以使用 seaborns <code class="fe nk nl nm nn b">sns.boxplot</code>方法创建箱线图，并向它传递数据以及 x 和 y 列名。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/b0a42146d05d54960f2e895a716b05c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/0*Zsl-nF0hT9BrMFp4"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 22: Boxplot</figcaption></figure><p id="e0d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">箱线图，就像条形图一样，对于只有几个类别的数据来说是很好的，但是会很快变得混乱。</p><h2 id="47ff" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">热图</h2><p id="8c9a" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">热图是数据的图形表示，其中包含在矩阵<a class="ae kv" href="https://en.wikipedia.org/wiki/Matrix_(mathematics)" rel="noopener ugc nofollow" target="_blank">中的单个值用颜色表示。热点图非常适合探索数据集中要素的相关性。</a></p><p id="5675" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了获得数据集中特征的相关性，我们可以调用<code class="fe nk nl nm nn b">&lt;dataset&gt;.corr()</code>，这是一个 Pandas dataframe 方法。这将给我们<a class="ae kv" href="https://www.displayr.com/what-is-a-correlation-matrix/" rel="noopener ugc nofollow" target="_blank">相关矩阵</a>。</p><p id="ba68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在可以使用 Matplotlib 或 Seaborn 来创建热图。</p><p id="581d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Matplotlib:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/3738a287e39aeae1336cdb3ca3e537f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*Y73510z5S8jbBtAdhuU0-A.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 23: Heatmap without annotations</figcaption></figure><p id="b0ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要向热图添加注释，我们需要添加两个 for 循环:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/1f727f640dcd22a3c12a6eb0070d8c66.png" data-original-src="https://miro.medium.com/v2/resize:fit:610/format:webp/1*djE6fjLgvNR8id_9-TQQvQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 24: Heatmap with annotations</figcaption></figure><p id="44cb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Seaborn 使创建热图和添加注释变得更加容易:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/910e2c9a078c6c84c0f25721a5065ce6.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*nFikwCXWGr8vD95CGPBB4Q.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 25: Heatmap with annotations</figcaption></figure><h2 id="d133" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">刻面</h2><p id="1a69" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">分面是将数据变量分解成多个子情节并将这些子情节组合成一个图形的行为。</p><p id="43e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果想快速浏览数据集，分面真的很有帮助。</p><p id="8d03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要在 Seaborn 使用一种刻面，我们可以使用<code class="fe nk nl nm nn b">FacetGrid</code>。首先，我们需要定义<code class="fe nk nl nm nn b">FacetGrid</code>并向它传递我们的数据以及一行或一列，它们将用于拆分数据。然后我们需要在我们的<code class="fe nk nl nm nn b">FacetGrid</code>对象上调用<code class="fe nk nl nm nn b">map </code>函数，并定义我们想要使用的绘图类型，以及我们想要绘制的列。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/094ea617de4d0d5beab5cb8a2244b927.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/0*5hVqRSiIBn7VxvdC"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 26: Facet-plot</figcaption></figure><p id="2f70" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以做出比上面例子更大更复杂的图。你可以在这里找到几个例子<a class="ae kv" href="https://seaborn.pydata.org/generated/seaborn.FacetGrid.html" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="c298" class="nw mo iq bd mp ob oc dn mt od oe dp mx lf of og mz lj oh oi nb ln oj ok nd ol bi translated">配对图</h2><p id="b04b" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">最后，我将向您展示 Seaborns <code class="fe nk nl nm nn b">pairplot</code>和 Pandas <code class="fe nk nl nm nn b">scatter_matrix</code>，它们使您能够在数据集中绘制成对关系的网格。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/e55652e6e830064826c22fec6844bb63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/0*KcPZIjL_6IA3WjVs"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 27: Pairplot</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="no np l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pf"><img src="../Images/4e41950b02b5e9e4c68c4ca1e3bbd615.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HxQS2-d8kG4m1i2Q3m88dA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Figure 28: Scatter matrix</figcaption></figure><p id="f7de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你在上面的图片中所看到的，这些技术总是将两个特征彼此结合在一起。图表的对角线用直方图填充，其他图是散点图。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="c372" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">推荐阅读</h1><div class="pg ph gp gr pi pj"><a rel="noopener follow" target="_blank" href="/scraping-reddit-data-1c0af3040768"><div class="pk ab fo"><div class="pl ab pm cl cj pn"><h2 class="bd ir gy z fp po fr fs pp fu fw ip bi translated">抓取 Reddit 数据</h2><div class="pq l"><h3 class="bd b gy z fp po fr fs pp fu fw dk translated">如何使用 Python Reddit API 包装器从 Reddit 抓取数据(PRAW)</h3></div><div class="pr l"><p class="bd b dl z fp po fr fs pp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ps l"><div class="pt l pu pv pw ps px kp pj"/></div></div></a></div></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="d4e9" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">结论</h1><p id="8dca" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">数据可视化是一门学科，它试图通过将数据置于可视化的环境中来理解数据，从而揭示出可能无法检测到的模式、趋势和相关性。</p><p id="0a9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Python 提供了多个优秀的图形库，这些图形库包含了许多不同的特性。在本文中，我们研究了 Matplotlib、Pandas visualization 和 Seaborn。</p><p id="04c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢这篇文章，可以考虑订阅我的 Youtube 频道，在社交媒体上关注我。</p><p id="22da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文涵盖的代码可以从<a class="ae kv" href="https://github.com/TannerGilbert/Tutorials/blob/master/Introduction%20to%20Data%20Visualization%20in%C2%A0Python/Introduction%20to%20Data%20Visualization%20in%C2%A0Python.ipynb" rel="noopener ugc nofollow" target="_blank"> Github 资源库</a>获得。</p><p id="98db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你有任何问题、建议或批评，可以通过<a class="ae kv" href="https://twitter.com/Tanner__Gilbert" rel="noopener ugc nofollow" target="_blank">推特</a>或评论区联系我。</p></div></div>    
</body>
</html>