<html>
<head>
<title>The Definitive Guide to Conda Environments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">康达环境权威指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-guide-to-conda-environments-bc6180fc533?source=collection_archive---------0-----------------------#2019-05-23">https://towardsdatascience.com/a-guide-to-conda-environments-bc6180fc533?source=collection_archive---------0-----------------------#2019-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2c03" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用 conda for Python &amp; R 管理环境</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5935245b849abbc8ffca4586e48de60a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uodn0RuN7UQJ99Sg2NlU5A.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Conda’s natural environment. <a class="ae ky" href="https://www.flickr.com/photos/terzocchio/8322976511" rel="noopener ugc nofollow" target="_blank">Illustration</a> by <a class="ae ky" href="https://en.wikipedia.org/wiki/Johann_Wenzel_Peter" rel="noopener ugc nofollow" target="_blank">Johann Wenzel Peter</a>.</figcaption></figure><p id="5cf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Conda 环境就像是<a class="ae ky" href="https://medium.com/@msarmi9/virtual-environments-104c62d48c54" rel="noopener"> Python 的虚拟环境</a>的表亲。两者都有助于管理依赖性和隔离项目，它们以相似的方式工作，有一个关键的区别:conda 环境是<strong class="lb iu">语言不可知的</strong>。也就是说，它们支持 Python 以外的语言。</p><p id="edf9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">☄️在本指南中，我们将介绍使用 Python 的<code class="fe lv lw lx ly b">conda</code>创建和管理环境的基础知识</p><p id="98a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ⚠️注:</strong>在本指南中，我们将在 macOS Mojave 上使用最新版本的 Conda v4.6.x、Python v3.7.y 和 R v3.5.z。</p><h2 id="5011" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">目录</h2><p id="dcdf" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated"><a class="ae ky" href="https://medium.com/p/bc6180fc533#7d04" rel="noopener"> Conda 与 Pip 和 Venv —有什么区别？</a><br/><a class="ae ky" href="https://medium.com/p/bc6180fc533#e814" rel="noopener">使用康达环境</a><br/><a class="ae ky" href="https://medium.com/p/bc6180fc533#5193" rel="noopener">安装包</a><br/><a class="ae ky" href="https://medium.com/p/bc6180fc533#266b" rel="noopener">管理环境</a><br/><a class="ae ky" href="https://medium.com/p/bc6180fc533#c010" rel="noopener">带 R 的环境</a><br/><a class="ae ky" href="https://medium.com/p/bc6180fc533#39a9" rel="noopener">进一步阅读</a></p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="7d04" class="ne ma it bd mb nf ng nh me ni nj nk mh jz nl ka mk kc nm kd mn kf nn kg mq no bi translated">康达 vs .皮普 vs. Venv —有什么区别？</h1><p id="162b" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">在我们开始之前，你们中的一些人可能想知道<code class="fe lv lw lx ly b">conda</code>、<code class="fe lv lw lx ly b">pip</code>和<code class="fe lv lw lx ly b">venv</code>之间的区别。</p><p id="ea86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很高兴你问了。我们不能说得比这更好了:<code class="fe lv lw lx ly b"><a class="ae ky" href="https://pip.pypa.io/en/stable/" rel="noopener ugc nofollow" target="_blank">pip</a></code>是 Python 的一个包管理器<em class="np">。</em>T5 是 Python 的环境管理器<em class="np">。<code class="fe lv lw lx ly b">conda</code>既是包又是环境管理器，并且<strong class="lb iu">是语言不可知的</strong>。</em></p><p id="fd03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">鉴于<code class="fe lv lw lx ly b">venv</code>只为 Python 开发创建隔离环境，<code class="fe lv lw lx ly b">conda</code>可以为任何语言创建隔离环境(理论上)。</p><p id="c051" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">而<code class="fe lv lw lx ly b">pip</code>只安装来自<a class="ae ky" href="https://pypi.org" rel="noopener ugc nofollow" target="_blank"> PyPI </a>的 Python 包，<code class="fe lv lw lx ly b">conda</code>两者都可以</p><ul class=""><li id="59fc" class="nq nr it lb b lc ld lf lg li ns lm nt lq nu lu nv nw nx ny bi translated">从像<a class="ae ky" href="https://repo.anaconda.com" rel="noopener ugc nofollow" target="_blank"> Anaconda Repository </a>和<a class="ae ky" href="https://anaconda.org" rel="noopener ugc nofollow" target="_blank"> Anaconda Cloud </a>这样的库安装软件包(用任何语言编写)。</li><li id="9b49" class="nq nr it lb b lc nz lf oa li ob lm oc lq od lu nv nw nx ny bi translated">在活动的 Conda 环境中使用<code class="fe lv lw lx ly b">pip</code>从 PyPI 安装软件包。</li></ul><p id="4abb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">多酷啊。</p><p id="37cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">👉🏽如果想要一个比较这三者的图表，请点击<a class="ae ky" href="https://conda.io/projects/conda/en/latest/commands.html#conda-vs-pip-vs-virtualenv-commands" rel="noopener ugc nofollow" target="_blank">这里</a>(不要忘记向右滚动！).</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/48abc7cafe10f73418c3d85d3238e348.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-8eW_T9lRC-kgEF5V_w5uA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><a class="ae ky" href="https://commons.wikimedia.org/wiki/File:Cole_Thomas_Morning_Mist_Rising_Plymouth_New_Hampshire_(A_View_in_the_United_States_of_American_in_Autunm_1830.jpg" rel="noopener ugc nofollow" target="_blank">Morning Mist</a> by <a class="ae ky" href="https://en.wikipedia.org/wiki/Thomas_Cole" rel="noopener ugc nofollow" target="_blank">Thomas Cole</a>.</figcaption></figure><h1 id="e814" class="ne ma it bd mb nf of nh me ni og nk mh jz oh ka mk kc oi kd mn kf oj kg mq no bi translated">使用 Conda 环境</h1><h2 id="b58c" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">创造环境</h2><p id="25cf" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">要使用<code class="fe lv lw lx ly b">conda</code>为 Python 开发创建一个环境，运行:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="a3a1" class="lz ma it ly b gy oo op l oq or">% conda create --name conda-env python                  # Or use -n</span></pre><p id="abb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">💥<strong class="lb iu">重要提示:</strong>用您的环境名称替换“conda-env”。从现在开始，我们将始终使用“conda-env”来命名我们的环境。</p><p id="ebe6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个环境将使用与您当前 shell 的 Python 解释器相同的 Python 版本。要指定不同版本的 Python，请使用:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="5f74" class="lz ma it ly b gy oo op l oq or">% conda create -n conda-env python=3.7</span></pre><p id="544f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也可以在创建环境时安装额外的包，比如说<code class="fe lv lw lx ly b">numpy</code>和<code class="fe lv lw lx ly b">requests</code>。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="9522" class="lz ma it ly b gy oo op l oq or">% conda create -n conda-env numpy requests</span></pre><p id="d2fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">⚠️ <strong class="lb iu">注意:</strong>因为<code class="fe lv lw lx ly b">conda</code>确保安装包时满足依赖关系，Python 将与<code class="fe lv lw lx ly b">numpy</code>和<code class="fe lv lw lx ly b">requests</code>一起安装😁。</p><p id="428d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以指定想要安装的软件包版本。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="7934" class="lz ma it ly b gy oo op l oq or">% conda create -n conda-env python=3.7 numpy=1.16.1 requests=2.19.1</span></pre><p id="5801" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">⚠️ <strong class="lb iu">注意:</strong> <a class="ae ky" href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-pkgs.html#installing-packages" rel="noopener ugc nofollow" target="_blank">建议</a>同时安装你想包含在一个环境中的所有软件包，以帮助避免依赖冲突。</p><p id="5c0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，您可以通过调用来激活您的环境:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="fbf0" class="lz ma it ly b gy oo op l oq or">% conda activate conda-env           <br/>(conda-env) %                          # Fancy new command prompt</span></pre><p id="1d64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并使用以下命令将其禁用:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="9964" class="lz ma it ly b gy oo op l oq or">% conda deactivate<br/>%                                      # Old familiar command prompt</span></pre></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h2 id="b11e" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">环境生活的地方</h2><p id="f76e" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">当您使用 Python 的<code class="fe lv lw lx ly b">venv</code>模块创建一个环境时，您需要通过指定它的路径来说明它位于何处。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="ff3d" class="lz ma it ly b gy oo op l oq or">% python3 -m venv /path/to/new/environment</span></pre><p id="abbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，用<code class="fe lv lw lx ly b">conda</code>创建的环境默认位于 Conda 目录的<code class="fe lv lw lx ly b">envs/</code>文件夹中，其路径如下所示:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="afdb" class="lz ma it ly b gy oo op l oq or">% /Users/user-name/miniconda3/envs          # Or .../anaconda3/envs</span></pre><p id="e6eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我更喜欢<code class="fe lv lw lx ly b">venv</code>采用的方法，原因有二。</p><p id="3ba0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">1️⃣通过将环境包含为子目录，可以很容易地判断一个项目是否利用了一个隔离的环境。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="27a4" class="lz ma it ly b gy oo op l oq or">my-project/<br/>├── conda-env                    # Project uses an isolated env ✅<br/>├── data                             <br/>├── src                  <br/>└── tests</span></pre><p id="8ca0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2️⃣它允许你对所有的环境使用相同的名字(我使用“conda-env”)，这意味着你可以用相同的命令激活每个环境。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="d5b7" class="lz ma it ly b gy oo op l oq or">% cd my-project/<br/>% conda activate conda-env</span></pre><p id="a53c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">💸<strong class="lb iu">好处:</strong>这允许你给激活命令起别名，并把它放在你的<code class="fe lv lw lx ly b">.bashrc</code>文件中，让生活简单一点。</p><p id="29bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ⚠️注:</strong>如果你将所有的环境都保存在 Conda 的<code class="fe lv lw lx ly b">env/</code>文件夹中，你将不得不给每个环境取一个不同的名字，这可能会很痛苦😞。</p><p id="84b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，<em class="np">你如何把环境放到你的康达的<code class="fe lv lw lx ly b">env/</code>文件夹之外呢？通过在创建环境时使用<code class="fe lv lw lx ly b">--prefix</code>标志而不是<code class="fe lv lw lx ly b">--name</code>。</em></p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="312c" class="lz ma it ly b gy oo op l oq or">% conda create --prefix /path/to/conda-env             # Or use -p</span></pre><p id="1e62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ⚠️注:</strong>这使得一个名为“conda-env”的环境出现在指定的路径中。</p><p id="77e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就这么简单。然而，将环境放在默认的<code class="fe lv lw lx ly b">env/</code>文件夹之外有两个缺点。</p><p id="68cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">1️⃣ <code class="fe lv lw lx ly b">conda</code>无法再用<code class="fe lv lw lx ly b">--name</code>旗找到你的环境。相反，您需要沿着环境的完整路径传递<code class="fe lv lw lx ly b">--prefix</code>标志。例如，在安装包时，我们将在下一节中讨论。</p><p id="f951" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2️⃣您的命令提示符不再以活动环境的名称为前缀，而是以其完整路径为前缀。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="a8de" class="lz ma it ly b gy oo op l oq or">(/path/to/conda-env) %</span></pre><p id="36f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以想象，这很快就会变得一团糟。比如说，像这样的东西。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="6c51" class="lz ma it ly b gy oo op l oq or">(/Users/user-name/data-science/project-name/conda-env) %        # 😨</span></pre><p id="e40f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，有一个简单的解决方法。你只需要修改你的<code class="fe lv lw lx ly b">.condarc</code>文件中的<code class="fe lv lw lx ly b">env_prompt</code>设置，你只需要简单的一笔就可以完成。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="d040" class="lz ma it ly b gy oo op l oq or">% conda config --set env_prompt '({name}) '</span></pre><p id="b21b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ⚠️注:</strong>如果你已经有一个<code class="fe lv lw lx ly b">.condarc</code>文件，这将编辑你的文件，如果你没有，则创建一个。关于修改您的<code class="fe lv lw lx ly b">.condarc</code>文件的更多信息，请参见<a class="ae ky" href="https://conda.io/projects/conda/en/latest/user-guide/configuration/index.html" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><p id="9736" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您的命令提示符将只显示活动环境的名称。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="e893" class="lz ma it ly b gy oo op l oq or">% conda activate /path/to/conda-env<br/>(conda-env) %                                        # Woohoo! 🎉</span></pre><p id="8c73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，您可以查看所有现有环境的列表。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="3c7c" class="lz ma it ly b gy oo op l oq or">% conda env list</span><span id="ef9f" class="lz ma it ly b gy os op l oq or"># conda environments:<br/>#<br/>                         /path/to/conda-env<br/>base                  *  /Users/username/miniconda3<br/>r-env                    /Users/username/miniconda3/envs/r-env</span></pre><p id="d572" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ⚠️注:</strong><code class="fe lv lw lx ly b">*</code>指向当前活动环境。有点烦人的是，即使没有环境活动，它也会指向“base”🤷🏽‍♂️.</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/b74cf8a298718998bd47a01f0564842d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cEdilfiCY1c6fKO2ncrZjw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">An <a class="ae ky" href="https://commons.wikimedia.org/wiki/File:Cole_Thomas_American_Lake_Scene_1844.jpg" rel="noopener ugc nofollow" target="_blank">American Lake Scene</a> by Thomas Cole.</figcaption></figure><h1 id="5193" class="ne ma it bd mb nf of nh me ni og nk mh jz oh ka mk kc oi kd mn kf oj kg mq no bi translated">安装软件包</h1><p id="cdde" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">用<code class="fe lv lw lx ly b">conda</code>安装包有两种方式。</p><p id="9d80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">活跃环境中的 1️⃣。</p><p id="9bde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2️⃣从您的默认外壳。</p><p id="3e09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">后者要求您使用与创建环境时相同的标志(<code class="fe lv lw lx ly b">--name</code>或<code class="fe lv lw lx ly b">--prefix</code>)指向您想要安装软件包的环境。</p><p id="4131" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论您使用哪种标志，前者都同样有效。</p><p id="c433" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">💥<strong class="lb iu">重要提示:</strong>我们<em class="np">强烈</em>建议坚持前一种方法，因为它消除了无意中在系统范围内安装软件包的危险。</p><p id="a890" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ♻️提醒:</strong>本指南中的所有环境均命名为“conda-env”。您可以用您的环境名替换“conda-env”。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h2 id="3373" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">从巨蟒库</h2><p id="57c9" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">默认情况下，<code class="fe lv lw lx ly b">conda</code>从<a class="ae ky" href="https://repo.anaconda.com" rel="noopener ugc nofollow" target="_blank"> Anaconda 存储库</a>安装软件包。一旦您创建了一个环境，您可以通过两种方式安装额外的软件包。</p><p id="7e59" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">活跃环境中的 1️⃣。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="7898" class="lz ma it ly b gy oo op l oq or">(conda-env) % conda install pandas=0.24.1                   # 🐼</span></pre><p id="6bf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2️⃣从您的默认外壳。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="f680" class="lz ma it ly b gy oo op l oq or">% conda install -n conda-env pandas=0.24.1      # Or -p /path/to/env</span></pre><p id="4ca1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，您可以通过两种方式更新环境中的软件包。</p><p id="4d6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">活跃环境中的 1️⃣。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="af0a" class="lz ma it ly b gy oo op l oq or">(conda-env) % conda update pandas</span></pre><p id="40b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2️⃣从您的默认外壳。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="2912" class="lz ma it ly b gy oo op l oq or">% conda update -n conda-env pandas             # Or -p /path/to/env</span></pre><p id="b5ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以用两种方式列出给定环境中安装的软件包——是的，您猜对了。</p><p id="2c6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">活跃环境中的 1️⃣。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="94a0" class="lz ma it ly b gy oo op l oq or">(conda-env) % conda list</span></pre><p id="bf42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2️⃣从您的默认外壳。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="1238" class="lz ma it ly b gy oo op l oq or">% conda list -n conda-env                      # Or -p /path/to/env</span></pre></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h2 id="adc2" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">来自其他 Conda 存储库</h2><p id="75e0" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">如果在默认的<a class="ae ky" href="https://repo.anaconda.com" rel="noopener ugc nofollow" target="_blank"> Anaconda 仓库</a>中找不到一个包，你可以试着在<a class="ae ky" href="https://anaconda.org" rel="noopener ugc nofollow" target="_blank"> Anaconda Cloud </a>上搜索它，它托管了由第三方仓库如<a class="ae ky" href="https://conda-forge.org" rel="noopener ugc nofollow" target="_blank"> conda-Forge </a>提供的 Conda 包。</p><p id="4c93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要从 Anaconda Cloud 安装一个包，您需要使用<code class="fe lv lw lx ly b">--channel</code>标志来指定您想要安装的存储库。例如，如果你想安装康达-福吉的<code class="fe lv lw lx ly b">opencv</code>，你可以运行:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="c895" class="lz ma it ly b gy oo op l oq or">(conda-env) % conda install --channel conda-forge opencv     # Or -c</span></pre><p id="15b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，<code class="fe lv lw lx ly b">conda</code>跟踪软件包是从哪里安装的。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="90e1" class="lz ma it ly b gy oo op l oq or">(conda-env) % conda list</span><span id="b028" class="lz ma it ly b gy os op l oq or"># packages in environment at /path/to/conda-env:<br/>#<br/># Name                Version          Build             Channel</span><span id="a884" class="lz ma it ly b gy os op l oq or">numpy                 1.16.1           py37h926163e_0<br/>opencv                4.1.0            py37h0cb0d9f_3    conda-forge<br/>pandas                0.24.2           py37h0a44026_0</span></pre><p id="9bbb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">numpy</code>和<code class="fe lv lw lx ly b">pandas</code>的空白通道条目代表<code class="fe lv lw lx ly b">default_channels</code>，默认情况下它被设置为 Anaconda 存储库。</p><p id="a910" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ⚠️注:</strong>为了简洁起见，我们只展示了上面的一些软件包。</p><p id="3d4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以永久添加一个频道作为包源。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="1464" class="lz ma it ly b gy oo op l oq or">% conda config --append channels conda-forge</span></pre><p id="7d7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将修改您的<code class="fe lv lw lx ly b">.condarc</code>文件，如下所示:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="c57e" class="lz ma it ly b gy oo op l oq or">env_prompt: '({name}) '      # Modifies active environment prompt<br/>channels:                    # Lists package sources to install from<br/>- defaults                   # Default Anaconda Repository<br/>- conda-forge</span></pre><p id="5dec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🚨<strong class="lb iu">注意:</strong>你的渠道顺序<em class="np">事关</em>。如果一个软件包可以从多个渠道获得，<code class="fe lv lw lx ly b">conda</code>将从您的<code class="fe lv lw lx ly b">.condarc</code>文件中列出的<em class="np">最高</em>渠道安装它。有关管理渠道的更多信息，请参见<a class="ae ky" href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-channels.html" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h2 id="97df" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">来自 PyPI</h2><p id="4f63" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">如果 Anaconda 存储库或 Anaconda Cloud 中没有可用的包，您可以尝试用<code class="fe lv lw lx ly b">pip</code>安装它，默认情况下，<code class="fe lv lw lx ly b">conda</code>会在任何用 Python 创建的环境中安装它。</p><p id="cf82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，要安装带有<code class="fe lv lw lx ly b">pip</code>的请求，您可以运行:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="9963" class="lz ma it ly b gy oo op l oq or">(conda-env) % pip install requests</span></pre><p id="f9bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，<code class="fe lv lw lx ly b">conda</code>正确地将 PyPI 列为<code class="fe lv lw lx ly b">requests</code>的通道，从而很容易识别出安装了<code class="fe lv lw lx ly b">pip</code>的包。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="a607" class="lz ma it ly b gy oo op l oq or">(conda-env) % conda list</span><span id="d53c" class="lz ma it ly b gy os op l oq or"># packages in environment at /path/to/conda-env:<br/>#<br/># Name                Version          Build             Channel</span><span id="c468" class="lz ma it ly b gy os op l oq or">numpy                 1.16.1           py37h926163e_0<br/>opencv                4.1.0            py37h0cb0d9f_3    conda-forge<br/>pandas                0.24.2           py37h0a44026_0<br/>requests              2.21.0                   pypi_0    pypi</span></pre><p id="47cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">🚨<strong class="lb iu">注意:</strong>由于<code class="fe lv lw lx ly b">pip</code>软件包不具备<code class="fe lv lw lx ly b">conda</code>软件包的所有特性，强烈建议尽可能安装带有<code class="fe lv lw lx ly b">conda</code>的软件包。有关<code class="fe lv lw lx ly b">conda</code>与<code class="fe lv lw lx ly b">pip</code>封装的更多信息，请点击<a class="ae ky" href="https://www.anaconda.com/understanding-conda-and-pip/" rel="noopener ugc nofollow" target="_blank">此处</a>。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/dc29b28b506bdd9f713a0021c3de91b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sN8j5rzoGRaK53XafS1zsw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><a class="ae ky" href="https://commons.wikimedia.org/wiki/File:Cole_Thomas_Moonlight_1833-34.jpg" rel="noopener ugc nofollow" target="_blank">Moonlight</a> by Thomas Cole.</figcaption></figure><h1 id="266b" class="ne ma it bd mb nf of nh me ni og nk mh jz oh ka mk kc oi kd mn kf oj kg mq no bi translated">管理环境</h1><h2 id="098b" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">环境文件</h2><p id="1783" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">使您的工作可以被其他人复制的最简单的方法是在您的项目根目录中包含一个文件，该文件列出了您的项目环境中安装的所有包及其版本号。</p><p id="7e7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Conda 将这些<a class="ae ky" href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#sharing-an-environment" rel="noopener ugc nofollow" target="_blank">环境文件称为</a>。它们是 Python 虚拟环境需求文件的精确模拟。</p><p id="60e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像其他任何事情一样，您可以用两种方法创建环境文件。</p><p id="9048" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">活跃环境中的 1️⃣。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="b0a7" class="lz ma it ly b gy oo op l oq or">(conda-env) % conda env export --file environment.yml       # Or -f</span></pre><p id="bbb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2️⃣从您的默认外壳。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="7d61" class="lz ma it ly b gy oo op l oq or">% conda env export -n conda-env -f /path/to/environment.yml</span></pre><p id="8c86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您的<code class="fe lv lw lx ly b">environment.yml</code>文件看起来会像这样:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="55b1" class="lz ma it ly b gy oo op l oq or">name: null                          # Our env was made with --prefix<br/>channels:<br/>  - conda-forge                     # We added a third party channel<br/>  - defaults<br/>dependencies:<br/>  - numpy=1.16.3=py37h926163e_0<br/>  - opencv=3.4.2=py37h6fd60c2_1<br/>  - pandas=0.24.2=py37h0a44026_0<br/>  - pip=19.1.1=py37_0<br/>  - pip:                            # Packages installed from PyPI<br/>    - requests==2.21.0<br/>prefix: /Users/user-name/data-science/project-name/conda-env</span></pre><p id="4322" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ⚠️注:</strong>为了简洁起见，我们只展示了上面的一些软件包。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h2 id="13c3" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">复制环境</h2><p id="b311" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">给定一个<code class="fe lv lw lx ly b">environment.yml</code>文件，您可以轻松地重新创建一个环境。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="896a" class="lz ma it ly b gy oo op l oq or">% conda env create -n conda-env -f /path/to/environment.yml</span></pre><p id="45e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">💸<strong class="lb iu">附加功能:</strong>您还可以使用以下功能将<code class="fe lv lw lx ly b">environment.yml</code>文件中列出的软件包添加到现有环境中:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="b0ce" class="lz ma it ly b gy oo op l oq or">% conda env update -n conda-env -f /path/to/environment.yml</span></pre></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/16f0164318841e4b9ea6a1ce95624443.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIrybNlaB0CRROn7RBHx5g.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><a class="ae ky" href="https://commons.wikimedia.org/wiki/File:Cole_Thomas_View_in_the_White_Mountains_1827.jpg" rel="noopener ugc nofollow" target="_blank">View in the White Mountains</a> by Thomas Cole.</figcaption></figure><h1 id="c010" class="ne ma it bd mb nf of nh me ni og nk mh jz oh ka mk kc oi kd mn kf oj kg mq no bi translated">R 环境</h1><p id="0e1b" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">要在一个环境中使用 R，您需要做的就是安装<code class="fe lv lw lx ly b">r-base</code>包。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="935b" class="lz ma it ly b gy oo op l oq or">(conda-env) % conda install r-base</span></pre><p id="67b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，您可以在第一次创建环境时这样做。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="3f19" class="lz ma it ly b gy oo op l oq or">% conda create -n r-env r-base</span></pre><p id="ec96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ⚠️注意:</strong>用您的环境名替换“r-env”。</p><p id="33df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">conda 的 R 包可以从 Anaconda Cloud 的<a class="ae ky" href="https://anaconda.org/r" rel="noopener ugc nofollow" target="_blank"> R 通道</a>获得，默认情况下包含在 Conda 的<code class="fe lv lw lx ly b"><a class="ae ky" href="https://docs.conda.io/projects/conda/en/latest/user-guide/configuration/use-condarc.html#default-channels-default-channels" rel="noopener ugc nofollow" target="_blank">default_channels</a></code>列表中，所以在安装 R 包时不需要指定 R 通道，比如说<code class="fe lv lw lx ly b">tidyverse</code>。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="370d" class="lz ma it ly b gy oo op l oq or">% conda activate r-env<br/>(r-env) % conda install r-tidyverse                </span></pre><p id="a556" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> ⚠️注:</strong>所有来自 r 通道的包裹都带有前缀“<code class="fe lv lw lx ly b">r-</code>”。</p><p id="0ed3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你愿意，你可以安装<code class="fe lv lw lx ly b">r-essentials</code>包，它包括 80 多个最流行的科学 R 包，像<code class="fe lv lw lx ly b">tidyverse</code>和<code class="fe lv lw lx ly b">shiny</code>。</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="53c5" class="lz ma it ly b gy oo op l oq or">(r-env) % conda install r-essentials</span></pre><p id="4407" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，如果你想安装 Conda 没有提供的 R 包，你需要从<a class="ae ky" href="https://cran.r-project.org" rel="noopener ugc nofollow" target="_blank"> CRAN </a>构建这个包，你可以在这里找到<a class="ae ky" href="https://docs.conda.io/projects/conda-build/en/latest/user-guide/tutorials/build-r-pkgs.html" rel="noopener ugc nofollow" target="_blank">的说明。</a></p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="39a9" class="ne ma it bd mb nf ng nh me ni nj nk mh jz nl ka mk kc nm kd mn kf nn kg mq no bi translated">进一步阅读</h1><p id="9920" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">如果你偶然发现自己想知道 Conda 环境到底是如何工作的，看看这篇关于 Python 的虚拟环境如何工作的简介。Conda 环境以完全相同的方式工作。</p><p id="8e58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除此之外，我们差不多做到了。如果你想了解我最新的数据科学帖子，欢迎在推特上关注我。</p><p id="60b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">干杯，祝阅读愉快。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="9d57" class="ne ma it bd mb nf ng nh me ni nj nk mh jz nl ka mk kc nm kd mn kf nn kg mq no bi translated">2019 年 8 月更新:Conda 修订版</h1><p id="8655" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">你真的每天都能学到新东西。今天早上，我的朋友<a class="ou ov ep" href="https://medium.com/u/9b9b5e57fb76?source=post_page-----bc6180fc533--------------------------------" rel="noopener" target="_blank"> Kumar Shishir </a>告诉我另一个<strong class="lb iu">非常有用的</strong> <code class="fe lv lw lx ly b">conda</code>特性:conda 修订版。</p><p id="55a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我简直不敢相信自己的耳朵。我怎么能在完全和完全不知道这样一个辉煌的特征的情况下憔悴了这么久？</p><p id="30aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">修订版会随着时间的推移跟踪您的环境的变化，允许您轻松地移除包及其所有依赖关系。</p><p id="171f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，假设我们创建了一个新的<code class="fe lv lw lx ly b">conda-env</code>并安装了<code class="fe lv lw lx ly b">numpy</code>，然后安装了<code class="fe lv lw lx ly b">pandas</code>。我们的修订历史如下所示:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="62fe" class="lz ma it ly b gy oo op l oq or">(conda-env) % conda list --revisions       </span><span id="5b8d" class="lz ma it ly b gy os op l oq or">2019-08-30 16:04:14  (rev 0)               # Created our env</span><span id="06cf" class="lz ma it ly b gy os op l oq or">+pip-19.2.2<br/>+python-3.7.4</span><span id="dd54" class="lz ma it ly b gy os op l oq or">2019-08-30 16:04:30  (rev 1)               # Installed numpy</span><span id="71a5" class="lz ma it ly b gy os op l oq or">+numpy-1.16.4<br/>+numpy-base-1.16.4</span><span id="85d3" class="lz ma it ly b gy os op l oq or">2019-08-30 16:04:39  (rev 2)               # Installed pandas</span><span id="d304" class="lz ma it ly b gy os op l oq or">+pandas-0.25.1<br/>+python-dateutil-2.8.0<br/>+pytz-2019.2</span></pre><p id="3f05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想象一下，我们不再想在我们的环境中拥有<code class="fe lv lw lx ly b">pandas</code>,因为它(不知何故)与我们早期的依赖不兼容，或者因为我们不再需要它。</p><p id="fb16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">修订版允许我们将环境回滚到以前的版本:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="44fa" class="lz ma it ly b gy oo op l oq or">(conda-env) % conda install --revision 1<br/>(conda-env) % conda list --revisions         # (Showing latest only)    </span><span id="fb0f" class="lz ma it ly b gy os op l oq or">2019-08-30 16:08:05  (rev 3)                 # Uninstalled pandas </span><span id="2865" class="lz ma it ly b gy os op l oq or">-pandas-0.25.1<br/>-python-dateutil-2.8.0<br/>-pytz-2019.2</span></pre><p id="1d72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个包装上的<code class="fe lv lw lx ly b">—</code>标志告诉我们，我们已经成功地将<strong class="lb iu"> </strong>从我们的环境中移除。现在，我们准备回到一些数据科学😎。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="2591" class="ne ma it bd mb nf ng nh me ni nj nk mh jz nl ka mk kc nm kd mn kf nn kg mq no bi translated">更新 02/2020:清除你的 Tarballs！</h1><p id="a307" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">随着您构建更多的项目，每个项目都有自己的环境，您将开始从已安装的包中快速积累<code class="fe lv lw lx ly b">tarballs</code>。</p><p id="07af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要删除它们并释放一些磁盘空间，请运行:</p><pre class="kj kk kl km gt ok ly ol om aw on bi"><span id="2433" class="lz ma it ly b gy oo op l oq or">% conda clean --all                     # no active env needed</span></pre></div></div>    
</body>
</html>