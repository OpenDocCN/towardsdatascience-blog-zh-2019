<html>
<head>
<title>27 NumPy Operations for beginners</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">适用于初学者的 27 种数字操作</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/27-things-that-a-beginner-needs-to-know-about-numpy-edda217fb662?source=collection_archive---------10-----------------------#2019-09-25">https://towardsdatascience.com/27-things-that-a-beginner-needs-to-know-about-numpy-edda217fb662?source=collection_archive---------10-----------------------#2019-09-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="63ca" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">初学者的数据操作。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8b7b35c81ba51ab733e27e7ddb9ce5eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0fT3uY-3z9m9y8wKewAYjw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Source: scipy-lectures.org</figcaption></figure><h2 id="dc76" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">简介</strong></h2><p id="cee5" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">在我之前的一篇关于<a class="ae mn" href="https://medium.com/me/stats/post/5653e54f4cda?source=main_stats_page" rel="noopener"> 21 熊猫绝对初学者操作</a>的文章中，我讨论了一些重要的操作，可以帮助新手开始数据分析。这篇文章应该为 NumPy 提供类似的目的。简单介绍一下，NumPy 是一个非常强大的库，可以用来执行各种操作，从寻找数组的平均值到快速傅立叶变换和信号分析。从这个意义上说，它非常类似于 MATLAB。</p><p id="11a1" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">您需要将 NumPy 作为“np”导入，然后使用它来执行操作。</p><h2 id="1af3" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">操作:</strong></h2><ol class=""><li id="8e0f" class="mt mu it lw b lx ly ma mb lh mv ll mw lp mx mm my mz na nb bi translated"><strong class="lw iu">将列表转换为 n 维 NumPy 数组</strong></li></ol><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="9f7f" class="ky kz it nd b gy nh ni l nj nk">numpy_array = np.array(list_to_convert)</span></pre><p id="10f0" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 2。np.newaxis 和 np.reshape 的使用</strong></p><p id="caf3" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">np.newaxis 用于创建大小为 1 的新维度。例如</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="a24a" class="ky kz it nd b gy nh ni l nj nk">a = [1,2,3,4,5] is a list<br/>a_numpy = np.array(a)</span></pre><p id="a9b4" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">如果你打印<code class="fe nl nm nn nd b">a_numpy.shape</code>，你会得到<code class="fe nl nm nn nd b">(5,)</code>。为了使其成为行向量或列向量，可以这样做</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="7792" class="ky kz it nd b gy nh ni l nj nk">row_vector = a_numpy[:,np.newaxis] ####shape is (5,1) now<br/>col_vector = a_numpy[np.newaxis,:] ####shape is (1,5) now</span></pre><p id="ec5e" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">类似地，np.reshape 可以用来整形任何数组。例如:</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="eca8" class="ky kz it nd b gy nh ni l nj nk">a = range(0,15) ####list of numbers from 0 to 14<br/>b = a.reshape(3,5) <br/>b would become:<br/>[[0,1,2,3,4],<br/> [5,6,7,8,9],<br/> [10,11,12,13,14],<br/> [15,16,17,18,19]]</span></pre><p id="13d7" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 3。将任何数据类型转换为 NumPy 数组</strong></p><p id="757e" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">用 np.asarray .作 eg</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="f0ff" class="ky kz it nd b gy nh ni l nj nk">a = [(1,2), [3,4,(5)], (6,7,8)]<br/>b = np.asarray(a)<br/>b::<br/>array([(1, 2), list([3, 4, (5, 6)]), (6, 7, 8)], dtype=object)</span></pre><p id="e568" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 4。得到一个 n 维的零数组。</strong></p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="dae1" class="ky kz it nd b gy nh ni l nj nk">a = np.zeros(shape,dtype=type_of_zeros)<br/>type of zeros can be int or float as it is required<br/>eg.<br/>a = np.zeros((3,4), dtype = np.float16)</span></pre><p id="45b0" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 5。获取 1 的 n 维数组。</strong></p><p id="b9dd" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">类似于 np.zeros:</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="5855" class="ky kz it nd b gy nh ni l nj nk">a = np.ones((3,4), dtype=np.int32)</span></pre><p id="5cb9" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 6。np.full 和 np.empty </strong></p><p id="9928" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">np.full 用于用一个特定值填充数组，而 np.empty 通过用随机值初始化它们来帮助创建数组。例如。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="5a8a" class="ky kz it nd b gy nh ni l nj nk"><strong class="nd iu">1.</strong> np.full(shape_as_tuple,value_to_fill,dtype=type_you_want)<br/>a = np.full((2,3),1,dtype=np.float16)</span><span id="4a71" class="ky kz it nd b gy no ni l nj nk">a would be:<br/>array([[1., 1., 1.],<br/>       [1., 1., 1.]], dtype=float16)</span><span id="aa66" class="ky kz it nd b gy no ni l nj nk"><strong class="nd iu">2.</strong> np.empty(shape_as_tuple,dtype=int)<br/>a = np.empty((2,2),dtype=np.int16)<br/>a would be:</span><span id="9e6f" class="ky kz it nd b gy no ni l nj nk">array([[25824, 25701],<br/>       [ 2606,  8224]], dtype=int16) </span><span id="033c" class="ky kz it nd b gy no ni l nj nk">The integers here are random.</span></pre><p id="5ac3" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">7。用 np.arrange 和 np.linspace 得到一个等间距值的数组</p><p id="efe3" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">两者都可以用于排列，以创建元素间距均匀的数组。</p><p id="53bf" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">林空间:</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="9ff2" class="ky kz it nd b gy nh ni l nj nk">np.linspace(start,stop,num=50,endpoint=bool_value,retstep=bool_value)</span><span id="64c4" class="ky kz it nd b gy no ni l nj nk"><strong class="nd iu">endpoint specifies if you want the stop value to be included and retstep tells if you would like to know the step-value.'num' is the number of integer to be returned where 50 is default Eg,</strong></span><span id="aff5" class="ky kz it nd b gy no ni l nj nk">np.linspace(1,2,num=5,endpoint=False,retstep=True)</span><span id="11a2" class="ky kz it nd b gy no ni l nj nk">This means return 5 values starting at 1 and ending befor 2 and returning the step-size.</span><span id="971e" class="ky kz it nd b gy no ni l nj nk">output would be:<br/>(array([1. , 1.2, 1.4, 1.6, 1.8]), 0.2) </span><span id="e68d" class="ky kz it nd b gy no ni l nj nk">##### Tuple of numpy array and step-size</span></pre><p id="955c" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">阿兰格:</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="9fc6" class="ky kz it nd b gy nh ni l nj nk">np.arange(start=where_to_start,stop=where_to_stop,step=step_size)</span></pre><p id="27f6" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">如果只提供了一个数字作为参数，它被视为一个停止，如果提供了两个，它们被假定为开始和停止。注意这里的拼写。</p><p id="b479" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">8。寻找 NumPy 数组的形状</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="3424" class="ky kz it nd b gy nh ni l nj nk">array.shape</span></pre><p id="f67a" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">9。知道 NumPy 数组的维数</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="98c6" class="ky kz it nd b gy nh ni l nj nk">x = np.array([1,2,3])<br/>x.ndim will produce 1</span></pre><p id="ea3e" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">10。寻找 NumPy 数组中元素的个数</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="11ff" class="ky kz it nd b gy nh ni l nj nk">x = np.ones((3,2,4),dtype=np.int16)<br/>x.size will produce 24</span></pre><p id="1fca" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">11。获取一个 n 维数组所占用的内存空间</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="07e5" class="ky kz it nd b gy nh ni l nj nk">x.nbytes</span><span id="abfa" class="ky kz it nd b gy no ni l nj nk">output will be 24*memory occupied by 16 bit integer = 24*2 = 48</span></pre><p id="3250" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 12。查找 NumPy 数组中元素的数据类型</strong></p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="176b" class="ky kz it nd b gy nh ni l nj nk">x = np.ones((2,3), dtype=np.int16)</span><span id="bd5f" class="ky kz it nd b gy no ni l nj nk">x.dtype will produce<br/>dtype('int16')</span><span id="d7d2" class="ky kz it nd b gy no ni l nj nk">It works better when elements in the array are of one type otherwise typecasting happens and result may be difficult to interpret.</span></pre><p id="7be0" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 13。如何创建 NumPy 数组的副本</strong></p><p id="984b" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">使用 np.copy</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="1a6f" class="ky kz it nd b gy nh ni l nj nk">y = np.array([[1,3],[5,6]])<br/>x = np.copy(y)</span><span id="ecd2" class="ky kz it nd b gy no ni l nj nk">If,<br/>x[0][0] = 1000</span><span id="2ff9" class="ky kz it nd b gy no ni l nj nk">Then,<br/>x is<br/>100 3<br/>5 6</span><span id="4287" class="ky kz it nd b gy no ni l nj nk">y is<br/>1 3<br/>5 6</span></pre><p id="c8e2" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 14。获取 n-d 数组的转置</strong></p><p id="76f2" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">使用 array_name。T</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="d174" class="ky kz it nd b gy nh ni l nj nk">x = [[1,2],[3,4]]<br/>x<br/>1 2<br/>3 4</span><span id="a623" class="ky kz it nd b gy no ni l nj nk">x.T is<br/>1 3<br/>2 4</span></pre><p id="9844" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">15。展平 n-d 数组得到一维数组</p><p id="31f5" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">使用 np.reshape 和 np.ravel:</p><p id="78e0" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">np.reshape:这真是一个又好又甜的把戏。在整形时，如果您提供-1 作为维度之一，那么它是从元素的数量中推断出来的。例如，对于一个大小为<code class="fe nl nm nn nd b">(1,3,4)</code>的数组，如果它被整形为<code class="fe nl nm nn nd b">(-1,2,2),</code>，那么第一维的长度被计算为<code class="fe nl nm nn nd b">3</code>。所以，</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="1020" class="ky kz it nd b gy nh ni l nj nk">If x is:<br/>1 2 3<br/>4 5 9<br/>Then x.reshape(-1) produces:<br/>array([1, 2, 3, 4, 5, 9])</span></pre><p id="be42" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">np .拉威尔</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="4173" class="ky kz it nd b gy nh ni l nj nk">x = np.array([[1, 2, 3], [4, 5, 6]])</span><span id="9693" class="ky kz it nd b gy no ni l nj nk">x.ravel() produces<br/>array([1, 2, 3, 4, 5, 6])<br/></span></pre><p id="741b" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">16。改变 n-d 数组的轴或交换维度</p><p id="1e48" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">使用 np.moveaxis 和 np.swapaxes。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="b13b" class="ky kz it nd b gy nh ni l nj nk">x = np.ones((3,4,5))<br/>np.moveaxis(x,axes_to_move_as_list, destination_axes_as_list)<br/>For eg.</span><span id="8f17" class="ky kz it nd b gy no ni l nj nk">x.moveaxis([1,2],[0,-2])</span><span id="36ec" class="ky kz it nd b gy no ni l nj nk">This means you want to move 1st axis to 0th axes and 2nd axes to 2nd last axis. So,the new shape would be.</span><span id="1b4b" class="ky kz it nd b gy no ni l nj nk">(4,5,3)</span></pre><p id="e17b" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">转换没有到位，所以不要忘记将它存储在另一个变量中。</p><p id="b6b2" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">np.swapaxes。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="27db" class="ky kz it nd b gy nh ni l nj nk">x = np.array([[1,2],[3,4]])</span><span id="ef13" class="ky kz it nd b gy no ni l nj nk">x.shape is (2,2) and x is<br/>1 2<br/>3 4</span><span id="dbf1" class="ky kz it nd b gy no ni l nj nk">np.swapaxes(x,0,1) will produce<br/>1 3<br/>2 4</span><span id="e075" class="ky kz it nd b gy no ni l nj nk">If x = np.ones((3,4,5)), and<br/>y = np.swapaxes(0,2)<br/>y.shape will be<br/>(5,4,3)</span></pre><p id="2d8c" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 17。将 NumPy 数组转换为列表</strong></p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="9d42" class="ky kz it nd b gy nh ni l nj nk">x = np.array([[3,4,5,9],[2,6,8,0]])<br/>y = x.tolist()<br/>y will be<br/>[[3, 4, 5, 9], [2, 6, 8, 0]]</span></pre><p id="ea0e" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">NumPy 文档提到，如果 x 是一维数组，使用<code class="fe nl nm nn nd b">list(x)</code>也可以。</p><p id="2e15" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 18。更改 NumPy 数组中元素的数据类型。</strong></p><p id="75b7" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">使用 ndarray.astype</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="baa2" class="ky kz it nd b gy nh ni l nj nk">x = np.array([0,1,2.0,3.0,4.2],dtype=np.float32)</span><span id="3205" class="ky kz it nd b gy no ni l nj nk">x.astype(np.int16) will produce</span><span id="63a2" class="ky kz it nd b gy no ni l nj nk">array([0, 1, 2, 3, 4], dtype=int16)</span><span id="e1ed" class="ky kz it nd b gy no ni l nj nk">x.astype(np.bool) will produce <br/>array([False,  True,  True,  True,  True])</span></pre><p id="84a3" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 19。获取非零元素的索引</strong></p><p id="3d5e" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">使用 n-dim_array .非零()</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="99bc" class="ky kz it nd b gy nh ni l nj nk">x = np.array([0,1,2.0,3.0,4.2],dtype=np.float32)<br/>x.nonzero() will produce</span><span id="4093" class="ky kz it nd b gy no ni l nj nk">(array([1, 2, 3, 4]),) </span><span id="0834" class="ky kz it nd b gy no ni l nj nk">It's important to note that x has shape (5,) so only 1st indices are returned. If x were say,</span><span id="3f65" class="ky kz it nd b gy no ni l nj nk">x = np.array([[0,1],[3,5]])<br/>x.nonzero() would produce </span><span id="ef5d" class="ky kz it nd b gy no ni l nj nk">(array([0, 1, 1]), array([1, 0, 1]))</span><span id="cbdd" class="ky kz it nd b gy no ni l nj nk">So, the indices are actually (0,1), (1,0), (1,1). </span></pre><p id="e54c" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">20。排序 NumPy 数组</p><p id="8bc7" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">使用 NP . ndarray . sort(axis = axis _ you _ want _ to _ sort _ by)</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="4789" class="ky kz it nd b gy nh ni l nj nk">x = np.array([[4,3],[3,2])<br/>x is<br/>4 3<br/>3 2</span><span id="51f1" class="ky kz it nd b gy no ni l nj nk">x.sort(axis=1) #sort each row</span><span id="edc5" class="ky kz it nd b gy no ni l nj nk">3 4<br/>2 3</span><span id="d5ec" class="ky kz it nd b gy no ni l nj nk">x.sort(axis=0) #sort each col</span><span id="c027" class="ky kz it nd b gy no ni l nj nk">3 2<br/>4 3</span></pre><p id="bd01" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 21。将 NumPy 数组与值进行比较</strong></p><p id="9eba" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">比较将产生布尔类型的 n 维数组。例如</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="25f0" class="ky kz it nd b gy nh ni l nj nk">x = np.array([[0,1],[2,3]])</span><span id="c287" class="ky kz it nd b gy no ni l nj nk">x==1 will produce<br/>array([[False,  True],<br/>       [False, False]])</span></pre><p id="5a1c" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">如果你想数 x 中的数字 1，你可以这样做</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="b8c3" class="ky kz it nd b gy nh ni l nj nk">(x==1).astype(np.int16).sum()</span></pre><p id="a127" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">它应该输出<code class="fe nl nm nn nd b">1</code></p><p id="ada7" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 22。将两个数字矩阵相乘</strong></p><p id="23ca" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">使用 numpy.matmul 获取二维矩阵的矩阵乘积:</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="a8bd" class="ky kz it nd b gy nh ni l nj nk">a = np.eye(2) #identity matrix of size 2<br/>a<br/>1 0<br/>0 1</span><span id="9fc8" class="ky kz it nd b gy no ni l nj nk">b = np.array([[1,2],[3,4]])<br/>b<br/>1 2<br/>3 4</span><span id="348b" class="ky kz it nd b gy no ni l nj nk">np.matmul(a,b) will give<br/>1 2<br/>3 4</span></pre><p id="ec7b" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">如果我们提供一个一维数组，那么输出可能会非常不同，因为将使用广播。我们将在下面进行讨论。此外，还有另一个名为<code class="fe nl nm nn nd b">np.multiply</code>的函数，它执行元素到元素的乘法。对于前两个矩阵，<code class="fe nl nm nn nd b">np.multiply(a,b)</code>的输出为。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="2b71" class="ky kz it nd b gy nh ni l nj nk">1 0<br/>0 4</span></pre><p id="8e63" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu"> 23。两个数组的点积</strong></p><p id="89cd" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">np.dot(矩阵 1，矩阵 2)</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="475e" class="ky kz it nd b gy nh ni l nj nk">a = np.array([[1,2,3],[4,8,16]])<br/>a:<br/>1 2 3<br/>4 8 16</span><span id="25cf" class="ky kz it nd b gy no ni l nj nk">b = np.array([5,6,11]).reshape(-1,1)</span><span id="3af9" class="ky kz it nd b gy no ni l nj nk">b:<br/>5<br/>6<br/>11</span><span id="fc1e" class="ky kz it nd b gy no ni l nj nk">np.dot(a,b) produces<br/>38<br/>160<br/>Just like any dot product of a matrix with a column vector would produce.</span></pre><p id="0a76" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">行向量与列向量的点积将产生:</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="eaec" class="ky kz it nd b gy nh ni l nj nk">if a is array([[1, 2, 3, 4]])<br/>and b is:<br/> <br/>array([[4],<br/>       [5],<br/>       [6],<br/>       [7]])</span><span id="63dc" class="ky kz it nd b gy no ni l nj nk">np.dot(a,b) gives:</span><span id="efbf" class="ky kz it nd b gy no ni l nj nk">array([[60]])</span><span id="0cf2" class="ky kz it nd b gy no ni l nj nk">a's shape was (1,4) and b's shape was (4,1) so the result will have shape (1,1)</span></pre><p id="4ec5" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">24。获取两个 numpy 向量的叉积</p><p id="64be" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">从物理学上回忆向量<a class="ae mn" href="https://www.mathsisfun.com/algebra/vectors-cross-product.html" rel="noopener ugc nofollow" target="_blank">叉积</a>。它是关于一点的力矩的方向。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="f30e" class="ky kz it nd b gy nh ni l nj nk">x = [1,2,3]<br/>y = [4,5,6]</span><span id="eac3" class="ky kz it nd b gy no ni l nj nk">z = np.cross(x, y)</span><span id="9005" class="ky kz it nd b gy no ni l nj nk">z is:<br/>array([-3,  6, -3]) </span></pre><p id="f080" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">25。获取数组的梯度</p><p id="c195" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">使用 np.gradient. NumPy 使用泰勒级数和中心差分法计算梯度。你可以在这篇<a class="ae mn" href="https://stackoverflow.com/questions/24633618/what-does-numpy-gradient-do" rel="noopener ugc nofollow" target="_blank">文章</a>中读到更多。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="2aaa" class="ky kz it nd b gy nh ni l nj nk">x = np.array([5, 10, 14, 17, 19, 26], dtype=np.float16)</span><span id="dac6" class="ky kz it nd b gy no ni l nj nk">np.gradient(x) will be:<br/>array([5. , 4.5, 3.5, 2.5, 4.5, 7. ], dtype=float16)</span></pre><p id="7c74" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu">二十六。NumPy 数组怎么切片？</strong></p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="989c" class="ky kz it nd b gy nh ni l nj nk">For single element:<br/>x[r][c] where r,c are row and col number of the element.</span><span id="8b03" class="ky kz it nd b gy no ni l nj nk">For slicing more than one element.</span><span id="0b0b" class="ky kz it nd b gy no ni l nj nk">x:<br/>2 4 9<br/>3 1 5<br/>7 8 0</span><span id="16c8" class="ky kz it nd b gy no ni l nj nk">and you want 2,4 and 7,8 then do</span><span id="3084" class="ky kz it nd b gy no ni l nj nk">x[list_of_rows,list_of_cols] which would be</span><span id="2f37" class="ky kz it nd b gy no ni l nj nk">x[[0,0,2,2],[0,1,0,1]] produces</span><span id="ab1a" class="ky kz it nd b gy no ni l nj nk">array([2, 4, 7, 8])</span><span id="b249" class="ky kz it nd b gy no ni l nj nk">If one of the rows or cols are continuous, it's easier to do it:</span><span id="9a46" class="ky kz it nd b gy no ni l nj nk">x[[0,2],0:2] produces</span><span id="9d75" class="ky kz it nd b gy no ni l nj nk">array([[2, 4],<br/>       [7, 8]])</span></pre><p id="0de5" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated"><strong class="lw iu">二十七。广播</strong></p><p id="84d7" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">任何关于 NumPy 的文章如果不包括广播都是不完整的。这是一个重要的概念，有助于 NumPy 向量化操作，从而加快计算速度。理解一些规则将有助于你更好地剖析广播。</p><p id="bd07" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">来自 NumPy 文档:</p><blockquote class="np nq nr"><p id="ad19" class="lu lv ns lw b lx mo ju lz ma mp jx mc nt mq me mf nu mr mh mi nv ms mk ml mm im bi translated">当操作两个数组时，NumPy 按元素比较它们的形状。它从尾部维度开始，向前推进。在以下情况下，二维是兼容的</p><p id="1217" class="lu lv ns lw b lx mo ju lz ma mp jx mc nt mq me mf nu mr mh mi nv ms mk ml mm im bi translated">1.他们是平等的，或者</p><p id="5d33" class="lu lv ns lw b lx mo ju lz ma mp jx mc nt mq me mf nu mr mh mi nv ms mk ml mm im bi translated">2.其中一个是 1</p></blockquote><p id="2b4c" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">另一件要记住的事情是，</p><blockquote class="np nq nr"><p id="d380" class="lu lv ns lw b lx mo ju lz ma mp jx mc nt mq me mf nu mr mh mi nv ms mk ml mm im bi translated">如果尺寸匹配，输出将具有每个尺寸的最大长度。如果其中一个维度的长度为 1，则该维度中的值将重复</p></blockquote><p id="2b60" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">假设有两个数组 A 和 B，维度分别为<code class="fe nl nm nn nd b"><strong class="lw iu">(3,4,5)</strong></code>和<code class="fe nl nm nn nd b"><strong class="lw iu">(4,1) </strong></code>，你想把这两个数组相加。由于它们没有相同的形状，NumPy 将尝试广播这些值。它开始比较最后一个维度的长度:5 和 1，这两个值不相等，但因为其中一个是 1，所以它将重复，最终输出在最后一个维度的长度为 5。</p><p id="ce3d" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">两者的倒数第二个尺寸具有相同的长度<code class="fe nl nm nn nd b">4</code>。</p><p id="0b2c" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">A 中倒数第三个维度或第一个维度的长度为<code class="fe nl nm nn nd b">3</code>，而 B 没有任何长度。<strong class="lw iu">当一个向量中缺少一个维度时，NumPy 会在向量前加 1。</strong>于是，B 变成了<code class="fe nl nm nn nd b"><strong class="lw iu">(1,4,1)</strong></code> <strong class="lw iu">。</strong>现在，长度匹配为 3 和 1，值在 b 中重复 3 次。最终输出将具有形状<code class="fe nl nm nn nd b"><strong class="lw iu">(3,4,5)</strong></code> <strong class="lw iu">。</strong></p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="23c9" class="ky kz it nd b gy nh ni l nj nk">a :</span><span id="bfb0" class="ky kz it nd b gy no ni l nj nk">3 5 8<br/>4 5 6<br/>9 7 2</span><span id="7320" class="ky kz it nd b gy no ni l nj nk">b :</span><span id="8402" class="ky kz it nd b gy no ni l nj nk">b = [2,3,4]</span><span id="b68b" class="ky kz it nd b gy no ni l nj nk">a's shape: (3,3)<br/>b's shape: (3,)</span><span id="e48d" class="ky kz it nd b gy no ni l nj nk">Last dimension has same length 3 for the two and then 1 is prepended to the the dimension of b as it doesn't have anything in that dimension. So, b becomes [[2,3,4]] having shape (1,3). Now, 1st dimension match and values are repeated for b. </span><span id="53ad" class="ky kz it nd b gy no ni l nj nk">Finally, b can be seen as</span><span id="7fe5" class="ky kz it nd b gy no ni l nj nk">2 3 4<br/>2 3 4<br/>2 3 4</span><span id="a92a" class="ky kz it nd b gy no ni l nj nk">So, a+b produces</span><span id="8e7d" class="ky kz it nd b gy no ni l nj nk">5 8 12<br/>6 8 10<br/>11 10 6</span></pre><p id="dae0" class="pw-post-body-paragraph lu lv it lw b lx mo ju lz ma mp jx mc lh mq me mf ll mr mh mi lp ms mk ml mm im bi translated">查看更多广播上的这些帖子:<a class="ae mn" href="https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html" rel="noopener ugc nofollow" target="_blank">第一</a>和<a class="ae mn" href="https://www.tutorialspoint.com/numpy/numpy_broadcasting.htm" rel="noopener ugc nofollow" target="_blank">第二</a></p><h2 id="9837" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak">总结</strong></h2><p id="3594" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">感谢您的阅读。希望这篇文章对需要入门 NumPy 的人有所帮助。我发现这些操作非常有用，把它们放在我们的提示中总是好的。这些操作非常基本，在 NumPy 中可能有不同的方法来实现相同的目标。除了一些其他的帖子，我大部分时候使用 NumPy 文档作为参考，这些帖子的链接已经提供了。此外，如果你有兴趣，可以看看我关于绝对初学者的<a class="ae mn" href="https://medium.com/me/stats/post/5653e54f4cda?source=main_stats_page" rel="noopener"> 21 熊猫操作</a>和<a class="ae mn" rel="noopener" target="_blank" href="/installing-pyspark-with-java-8-on-ubuntu-18-04-6a9dea915b5b"> Spark </a>装置的帖子。</p><h2 id="22a5" class="ky kz it bd la lb lc dn ld le lf dp lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">接触</h2><p id="6641" class="pw-post-body-paragraph lu lv it lw b lx ly ju lz ma mb jx mc lh md me mf ll mg mh mi lp mj mk ml mm im bi translated">如果你喜欢这篇文章，请分享给其他可能会觉得有用的人。我真的很喜欢数据科学，如果你也对它感兴趣，让我们在<a class="ae mn" href="https://www.linkedin.com/in/parijatbhatt/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系，或者在这里关注我走向数据科学平台。</p></div></div>    
</body>
</html>