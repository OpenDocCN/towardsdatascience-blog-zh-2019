<html>
<head>
<title>Creating A Voice Recognition Calculator Android App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建语音识别计算器 Android 应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-a-voice-recognition-calculator-android-app-869a515bf6d1?source=collection_archive---------3-----------------------#2019-04-22">https://towardsdatascience.com/creating-a-voice-recognition-calculator-android-app-869a515bf6d1?source=collection_archive---------3-----------------------#2019-04-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/57d82a6fc4300fa50602b9ff3e1e77fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MkyjIRt9ruj_roNy"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Photo by <a class="ae kf" href="https://unsplash.com/@andresurena?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Andres Urena</a> on <a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cb03" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">自动语音识别是当今机器学习中最著名的话题之一，每天都有许多新人投入他们的时间和专业知识。在这篇文章中，我们将构建一个简单的端到端语音激活计算器应用程序，它将语音作为输入，并将语音作为输出返回。输入包括整数和基本的数学运算符，而输出是用户说出的运算结果。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="8138" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">这个教程不是什么</h1><ul class=""><li id="0588" class="mj mk it ki b kj ml kn mm kr mn kv mo kz mp ld mq mr ms mt bi translated">关于语音识别如何工作的理论教程。</li><li id="efa1" class="mj mk it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">关于基于云的语音 API 的教程，如 Amazon Polly 或 Google Cloud Speech。</li><li id="1284" class="mj mk it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">Java 语法和原理教程。</li><li id="9f14" class="mj mk it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">关于 Java-XML 通信如何在 Android 上工作的教程。</li><li id="c4de" class="mj mk it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">安卓材质设计教程。</li></ul></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="9429" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">先决条件</h1><ul class=""><li id="8d1f" class="mj mk it ki b kj ml kn mm kr mn kv mo kz mp ld mq mr ms mt bi translated">基本的 Android 开发知识。</li><li id="2d9c" class="mj mk it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">Android Studio(您可以使用 Eclipse 等其他 ide，但我将在本教程中介绍 Android Studio)。</li><li id="9aa4" class="mj mk it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">期望:基本的 API 知识(不需要认证)。</li></ul></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="14d3" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">教程大纲</h1><ul class=""><li id="5e12" class="mj mk it ki b kj ml kn mm kr mn kv mo kz mp ld mq mr ms mt bi translated">创建 Android 项目</li><li id="7c7a" class="mj mk it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">创建语音转文本功能</li><li id="f84b" class="mj mk it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">处理输入值(整数和运算符)</li><li id="e24c" class="mj mk it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">计算结果</li><li id="68c9" class="mj mk it ki b kj mu kn mv kr mw kv mx kz my ld mq mr ms mt bi translated">创建文本到语音转换功能</li></ul></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="8a23" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">创建 Android 项目</h1><p id="48d3" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">让我们首先打开 Android Studio 并开始一个新项目。如果你已经打开了一个项目，进入<strong class="ki iu">文件- &gt;关闭项目</strong>，然后按照下图操作:</p><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/663564c648953d8594bb17b82ee6363a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*NukA1_Tce6qfxfFDTO2CqA.png"/></div></figure><p id="965c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">选择<strong class="ki iu">空活动</strong>然后点击<strong class="ki iu">下一步</strong>:</p><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/c05b867f6befd72291f178d966f6a7e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIv_o6RGceun57lvUQZbWA.png"/></div></div></figure><p id="f511" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">选择您想要的项目细节，或者保持所有设置为默认，然后单击<strong class="ki iu">完成</strong>:</p><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ni"><img src="../Images/149d9f7e6a9bf01746764fe13c5c8d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hjxt5EB-PNYQQJMZjZTE0Q.png"/></div></div></figure><p id="6337" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">给 Android Studio 几分钟时间来完成项目的构建和索引。如果您达到以下要求，您就万事俱备了:</p><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nj"><img src="../Images/d8a3fbf8627d86e34dc21b70a392a6e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h4yoiSAm35hpb3GCqDoitA.png"/></div></div></figure></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="fdb0" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">创建用户界面</h1><p id="dcf0" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">现在让我们创建<strong class="ki iu"> activity_main.xml </strong>布局文件。我尽可能保持简约，因为这里的目标不是设计，而是功能:</p><figure class="nd ne nf ng gt ju gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/e047665b99163fdb0d528090dcc1daad.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/1*cBy3qFIzrsY7Hutt_j00Bg.png"/></div></figure><p id="256f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中<strong class="ki iu"> A、B、</strong>和<strong class="ki iu"> + </strong>只是<strong class="ki iu">可点击的</strong>占位符，而<strong class="ki iu"> C </strong>和<strong class="ki iu"> = </strong>是不可点击的占位符。<strong class="ki iu">走！</strong>按钮触发计算并更新结果<strong class="ki iu"> C </strong>。用户将点击它们中的每一个，并以语音形式输入它们自己的值。当然，设计和布局取决于作为开发者的你。这只是为了演示。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="e016" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">将布局链接到 Java 代码</h1><p id="0d5c" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">现在让我们导航回 out<strong class="ki iu">MainActivity.java</strong>，并为我们拥有的每个可点击的文本视图设置一个<strong class="ki iu"> OnClickListener </strong>。随后，我们的<strong class="ki iu"> MainActivity </strong>类将如下所示:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="33bf" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">创建语音识别功能</h1><p id="98f8" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">现在开始本教程有趣的部分。让我们从请求<strong class="ki iu"> RECORD_AUDIO </strong>许可开始这一部分。这是通过在<strong class="ki iu"> AndroidManifest.xml </strong>中的<strong class="ki iu"> &lt;应用&gt; </strong>标签前添加以下行来实现的:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="b73b" class="ns lm it no b gy nt nu l nv nw">&lt;uses-permission android:name="android.permission.RECORD_AUDIO" /&gt;</span></pre><p id="376f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Android 有一个内置的语音识别 API，其形式为<strong class="ki iu"> Intent </strong>。我们处理这个意图就像处理任何其他 Android 意图一样。现在回到我们的。我们拥有的 onClick 方法将负责记录语音并将其转录成文本，以便我们可以将其作为数学运算来处理。因此，我们的意图代码需要驻留在我们所有的<strong class="ki iu"> onClick </strong>方法中。</p><p id="b4d4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们首先为识别器创建一个 Intent 实例:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="91cf" class="ns lm it no b gy nt nu l nv nw">Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);</span></pre><p id="79ae" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们添加一些额外的数据(用于内务管理和语言选择),并以请求代码开始意向活动:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="cfea" class="ns lm it no b gy nt nu l nv nw">intent.putExtra(RecognizerIntent.<em class="nx">EXTRA_LANGUAGE_MODEL</em>, RecognizerIntent.<em class="nx">LANGUAGE_MODEL_FREE_FORM</em>);</span><span id="b756" class="ns lm it no b gy ny nu l nv nw">intent.putExtra(RecognizerIntent.<em class="nx">EXTRA_LANGUAGE</em>, Locale.<em class="nx">ENGLISH</em>);</span><span id="e05f" class="ns lm it no b gy ny nu l nv nw">startActivityForResult(intent, 10);</span></pre><p id="22b2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以上两段代码需要复制粘贴到我们所有的三个<strong class="ki iu"> onClick </strong>方法中，但是<strong class="ki iu">具有不同的请求代码</strong>。现在，<strong class="ki iu">MainActivity.java</strong>类中的那些方法应该是这样的:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="a71a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">到目前为止，我们的代码能够检测可点击文本视图上的点击，并在点击时开始识别语音。然而，它没有返回转录文本的方法。基本上，我们开始了一个意图，但没有收到预期的结果。因此，我们需要定义一个<strong class="ki iu"> onActivityResult </strong>方法(在<strong class="ki iu">MainActivity.java</strong>)来处理那些转录结果:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="a23a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的<strong class="ki iu">数据</strong>变量是一个<strong class="ki iu">意图</strong>实例，我们可以通过<strong class="ki iu">数组列表</strong>从中获取结果。这可以通过简单地调用:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="c301" class="ns lm it no b gy nt nu l nv nw">data.getStringArrayListExtra(RecognizerIntent.<em class="nx">EXTRA_RESULTS</em>)</span></pre><p id="58c2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请记住，这个结果在我们拥有的所有 3 个识别器意图之间是共享的。现在我们需要一种方法来从这个列表中找到并获得实际的整数——在请求代码为 10 或 20 的情况下。为此，我们将创建一个循环遍历由 intent 返回的结果的方法(即<strong class="ki iu"> ArrayList </strong>)和另一个将说出的数字从<strong class="ki iu">字符串</strong>转换为<strong class="ki iu"> int </strong>的方法:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="415b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有一个旁注，为了保持代码的整洁，在<strong class="ki iu"> switch </strong>语句中不需要任何<strong class="ki iu"> break </strong>语句。这是因为一旦其中一种情况评估为真，<strong class="ki iu">返回</strong>将负责停止<strong class="ki iu">开关</strong>的执行。</p><p id="6cd9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">参考上面的代码，当请求代码为 10 或 20 时，我们可以从我们的<strong class="ki iu"> onActivityResult() </strong>中调用<strong class="ki iu"> getNumberFromResult() </strong>。当用户点击<strong class="ki iu"> firstNumberTextView </strong>或<strong class="ki iu"> secondNumberTextView </strong>时，这将负责将说出的数字转录成相应的整数。</p><p id="cea9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们为操作符转录创建类似的方法:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="0216" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，让我们将调用 getOperatorFromResult()和 getNumberFromResult()的部分添加到我们的 onActivityResult()中:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="8592" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中<strong class="ki iu"> FIRST_NUMBER </strong>、<strong class="ki iu"> SECOND_NUMBER </strong>和<strong class="ki iu">运算符</strong>是类中的全局变量，定义如下:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="46dc" class="ns lm it no b gy nt nu l nv nw">private int FIRST_NUMBER;<br/>private int SECOND_NUMBER;<br/>private char OPERATOR;</span></pre><p id="19ac" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这些将是我们要计算的实际值。让我们定义一个执行这些计算的方法:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="f961" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这个方法将从<strong class="ki iu"> GO 中调用！</strong>按钮的<strong class="ki iu"> onClick </strong>方法。我们还没有处理过这个按钮。所以让我们添加以下代码:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="a467" class="ns lm it no b gy nt nu l nv nw">goButton.setOnClickListener(new View.OnClickListener() {<br/>    @Override<br/>    public void onClick(View view) {<br/>        RESULT = performCalculations();<br/>        resultTextView.setText(String.<em class="nx">valueOf</em>(RESULT));<br/>    }<br/>});</span></pre><p id="2380" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中<strong class="ki iu">结果</strong>是在类中定义的全局整数变量。</p><p id="7a48" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就是这样！现在，应用程序应该可以成功运行了。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="75e3" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">创建语音合成功能</h1><p id="c680" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">语音合成是将文本转换成语音的过程。我们将在应用程序中使用它，以便让 API 大声读出<strong class="ki iu"> performCalculations() </strong>方法返回的结果。对于这个相当短的任务，我们将使用 Android 内置的<strong class="ki iu"> TextToSpeech </strong>功能。</p><p id="c015" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，该类需要实现<strong class="ki iu"> TextToSpeech </strong>监听器。简单地说，转到<strong class="ki iu"> MainActivity </strong>类签名，将它从:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="d628" class="ns lm it no b gy nt nu l nv nw">public class MainActivity extends AppCompatActivity { ...</span></pre><p id="7da9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">收件人:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="2251" class="ns lm it no b gy nt nu l nv nw">public class MainActivity extends AppCompatActivity implements TextToSpeech.OnInitListener { ...</span></pre><p id="0f32" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这表明需要在类中实现以下方法(从类签名中删除红色下划线):</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="f6ae" class="ns lm it no b gy nt nu l nv nw">@Override<br/>public void onInit(int i) { }</span></pre><p id="3320" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将暂时保留没有实际实现的方法，因为应用程序的当前用例不需要实现。这是必需的，因为我们正在实现一个接口(遵循 OOP 原则)。</p><p id="ffef" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们声明一个对类<strong class="ki iu"> TextToSpeech </strong>的全局引用:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="f9ea" class="ns lm it no b gy nt nu l nv nw">TextToSpeech textToSpeech;</span></pre><p id="5801" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后在我们的<strong class="ki iu"> onCreate() </strong>方法中初始化它:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="3d47" class="ns lm it no b gy nt nu l nv nw">textToSpeech = new TextToSpeech(this, this);</span></pre><p id="e6c2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们现在已经准备好使用这个对象了。导航到<strong class="ki iu"> GO！</strong>按钮的<strong class="ki iu"> onClickListener </strong>并在我们使用<strong class="ki iu"> setText() </strong>的部分后添加下面一行:</p><pre class="nd ne nf ng gt nn no np nq aw nr bi"><span id="592c" class="ns lm it no b gy nt nu l nv nw">textToSpeech.speak(<br/>        String.<em class="nx">valueOf</em>(RESULT), TextToSpeech.<em class="nx">QUEUE_ADD</em>, null<br/>);</span></pre><p id="9e0a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就是这样！只要用户点击开始！按钮，结果将由 API 以语音的形式发出。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><h1 id="9709" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">最后看一下代码</h1><p id="38e3" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mz kt ku kv na kx ky kz nb lb lc ld im bi translated">我已经把 Android 项目推给了 GitHub。可以通过这个链接查看:<a class="ae kf" href="https://github.com/AnasAlmasri/VoiceRecognitionCalculator" rel="noopener ugc nofollow" target="_blank">https://github.com/AnasAlmasri/VoiceRecognitionCalculator</a></p><p id="1b8d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，这里有一个<strong class="ki iu"> AndroidManifest.xml </strong>文件:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="88d9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面是<strong class="ki iu"> activity_main.xml </strong>文件:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="2f3f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后一节，<strong class="ki iu">MainActivity.java</strong>课:</p><figure class="nd ne nf ng gt ju"><div class="bz fp l di"><div class="nl nm l"/></div></figure></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><p id="cc62" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们构建了一个 Android 应用程序，它将两个整数(0-9)和一个语音形式的运算符作为输入，识别这些输入，执行数学运算，然后将结果作为语音返回，同时在屏幕上显示出来。这只是初学者掌握语音识别应用程序如何工作的一次尝试。接下来将支持多位数、负数、浮点数，并一次性合并所有三种输入，以便用户可以说出“一加五”，应用程序可以分割感兴趣的单词，并进行必要的中间步骤以获得结果。</p></div></div>    
</body>
</html>