<html>
<head>
<title>Time Series Analysis From Scratch in Python: Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中从头开始的时间序列分析:第 1 部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/time-series-analysis-from-scratch-in-python-part-1-810dea60327a?source=collection_archive---------19-----------------------#2019-11-16">https://towardsdatascience.com/time-series-analysis-from-scratch-in-python-part-1-810dea60327a?source=collection_archive---------19-----------------------#2019-11-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="a26d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不可否认，时间序列分析在数据科学领域是一件大事，所以我想出了一个主意，创建一个涵盖几乎所有内容的完整系列文章——从基本的日期和时间操作到<strong class="js iu"> LSTMs </strong>和深度学习。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/c46e733d9e2d55748efc18ca1fade0dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cwUsQi5FpBSFislE"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@goumbik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lukas Blazek</a> on <a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e7ce" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我并不是说已经没有太多可用的资源，但我更喜欢由一个作者编写学习资源，因为速度和基调在一开始就设定好了，而且更容易理解——前提是你喜欢作者解释事情的方式。</p><p id="65a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">话虽如此，我认为从小处着手从基础做起是个好主意——那就是使用 Python 的<strong class="js iu">日期处理</strong>。更准确地说，在本文中，您将学习如何在纯 Python 中处理日期，同时也在<em class="lf"> Numpy </em>和<em class="lf"> Pandas </em>中处理日期。如果你以前做过数据分析，我肯定你对这些库很熟悉。但是如果你没有，那也没关系，这不是火箭科学。</p><p id="ce5d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以，事不宜迟，让我们进入好东西。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="d8e9" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">用纯 Python 处理日期</h1><p id="427f" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated">要开始，你需要做一个奇怪的导入:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/bc38b2366552a5cf8a2612e2fb75461e.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*_0qAjVfL84309Jr_w1lSBA.png"/></div></figure><p id="9629" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">是的，我也不知道为什么要这样设计，但事实就是如此。您现在可以使用<strong class="js iu"> <em class="lf">日期时间</em> </strong>模块来创建<strong class="js iu"> <em class="lf">日期时间</em> </strong>对象。让我们来看看实际情况。今天是 2019 年 11 月 15 日<em class="lf"/>，所以让我们以某种方式来表示:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/17a6eff681e3f22eacb735f01d54cc69.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*8w5pH92WgqchhMus244Eiw.png"/></div></figure><p id="f69a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意，如果知道确切的排序，就不需要指定参数名(<em class="lf">年、月、日</em>)，但是我认为显式总是比隐式好，所以我就这么做。</p><p id="045f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你还可以更进一步，比如指定<strong class="js iu">小时</strong>和<strong class="js iu">分钟</strong>:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/0fcec8cc2bb34a4b1d9578e356e90553.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*AElbYFu7k1EHZv8JuXw2qQ.png"/></div></figure><p id="e0a6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">太酷了。</p><p id="0c69" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是如果我想知道当前的时间呢？ 这也是完全容易实现的:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/d2e4d48483eb5796f50be9df6ccf4faf.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*PMtFg1-Qx2lFI61pmNTvYw.png"/></div></figure><p id="6e46" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请注意这个<strong class="js iu"> <em class="lf">日期时间</em> </strong>对象有以下内容:</p><ul class=""><li id="8e2c" class="mu mv it js b jt ju jx jy kb mw kf mx kj my kn mz na nb nc bi translated">年份= 2019 年</li><li id="9322" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">月份= 11</li><li id="ef93" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">天= 15</li><li id="3718" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">小时= 18</li><li id="9641" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">分钟= 0</li><li id="ffb2" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">秒= 48</li><li id="8258" class="mu mv it js b jt nd jx ne kb nf kf ng kj nh kn mz na nb nc bi translated">微秒= 692023</li></ul><p id="df62" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，您可以在任何给定时间轻松提取其中任何一个:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/f061c6044bfe1e10a3fcb81d64d717bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/format:webp/1*QxNbXkTnxYfSTbb2I3dmWg.png"/></div></figure><p id="3230" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这一切都很棒。但是在数据分析的过程中，我也倾向于用<em class="lf"> Numpy </em>和<em class="lf"> Pandas </em>来处理日期。事不宜迟，让我们探索他们的能力。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="4487" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">嗨，我是 Numpy</h1><p id="0dcd" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated">不先导入<em class="lf"> Numpy </em>库，就不能开始使用它:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/b8eb6c1fdcfbd902968a0b8becdca752.png" data-original-src="https://miro.medium.com/v2/resize:fit:360/format:webp/1*ey62SYbdP6iXa9I79Q9Dkg.png"/></div></figure><p id="d655" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好了，现在解决了这个问题，让我展示如何使用<em class="lf"> Numpy </em>来创建一个<em class="lf"> datetime </em>对象的数组:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nk"><img src="../Images/4e75781f34786332af4c4a783a4b0972.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pckihM7by7W1VGmpFJ9mcw.png"/></div></div></figure><p id="46ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您看到您需要指定数据类型，<em class="lf"> Numpy </em>会自动推断出<strong class="js iu">正确的‘级别’</strong>，在本例中是日级别。这是可以改变的，尽管，假设你只对年份感兴趣。您不必排除日和月信息，因为有更简单的方法:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nl"><img src="../Images/cf9bae58ddd01e735af07d7cdea67bb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Evo50dAtv_Mf9GOwyEiFig.png"/></div></div></figure><p id="7a5e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">派对不止于此。有时，您可能希望在两个日期之间的特定时间间隔提取日期。酷的是你可以使用<strong class="js iu"> <em class="lf"> arange() </em> </strong>函数，只是记住你需要指定数据类型:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/9677ee83b95a906a4489bf64fb1bc7fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1168/format:webp/1*fHyCEY5FpHbR63ZYRlTyHw.png"/></div></figure><p id="9725" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您还可以做更多的事情，但是目前这已经足够了，至少对于<em class="lf"> Numpy </em>库来说是这样。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="c45b" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">以熊猫结束强势</h1><p id="dbef" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated">熊猫是一个很棒的图书馆——但是我想你现在已经知道了。话虽如此，我也确信你知道如何导入，但只是为了导入:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/385bffc174ab6ae8396be3b1588e2237.png" data-original-src="https://miro.medium.com/v2/resize:fit:390/format:webp/1*y8gaqluLj_BkBDtIXm63VA.png"/></div></figure><p id="8094" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们探索如何从某个开始日期创建一个日期数组。我将在<strong class="js iu">每日频率</strong>中创建整个<em class="lf">11 月</em>的日期:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi no"><img src="../Images/b96afa6260b9b4d663903303d6b014dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*XrFmxObwIHkxsi5sq7Miog.png"/></div></div></figure><p id="c2f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">好吧，这里没什么特别的，但是让我们看看你能在这里做什么。我将把上面的相同逻辑存储到一个变量中:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi np"><img src="../Images/37843e6736602a9347cae06d18f0eeba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*QJO60TJg_4v90jMJsyJw-w.png"/></div></figure><p id="a328" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">酷的是你可以在新创建的变量上使用所有可用的函数。让我们探索其中的几个:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/30411a5605eb9a2c583eafc600832806.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*uT3m7j61vWfQOCpSWY3m9A.png"/></div></figure><p id="b21e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我认为就此打住是个好主意——这足够写一篇文章了。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><h1 id="ebcc" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">在你走之前</h1><p id="7c3f" class="pw-post-body-paragraph jq jr it js b jt ml jv jw jx mm jz ka kb mn kd ke kf mo kh ki kj mp kl km kn im bi translated">我知道这对于你们中的一些人来说是基本的东西，但是偶尔回顾一下也没什么坏处。此外，一些更有趣的帖子即将发布，比如日期转换和重采样(<em class="lf">可能是下一篇文章</em>的想法)，所以如果你对此感兴趣，请继续关注。</p><p id="7b2d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读，保重。</p></div><div class="ab cl lg lh hx li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="im in io ip iq"><p id="13e1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">喜欢这篇文章吗？成为 <a class="ae le" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="lf">中等会员</em> </a> <em class="lf">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="nr ns gp gr nt nu"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">通过我的推荐链接加入 Medium-Dario rade ci</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">medium.com</p></div></div><div class="od l"><div class="oe l of og oh od oi ky nu"/></div></div></a></div></div></div>    
</body>
</html>