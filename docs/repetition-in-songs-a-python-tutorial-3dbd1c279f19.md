# 歌曲中的重复:Python 教程

> 原文：<https://towardsdatascience.com/repetition-in-songs-a-python-tutorial-3dbd1c279f19?source=collection_archive---------8----------------------->

## 一首艾德·希兰歌曲的个案研究

![](img/8018d2addfeae7681350969e86f7f485.png)

Credit: Unsplash

每个人都听过一首歌或者知道一首歌听起来像什么。我可以漫不经心地说，每个人都可以用自己的话来定义一首歌。为了方便起见，一首歌曲*(根据维基百科)*是一首音乐作品，通常由人声演唱，使用声音和沉默以及各种形式(通常**包括部分的重复**)来表现独特和固定的音高和模式。

在他名为“**歌曲的复杂性”的期刊文章中，**计算机科学家 Donald Knuth 利用了流行歌曲从冗长且内容丰富的歌谣演变为高度重复的文本的趋势。由于有些人可能会立刻同意他的观点，这确实提出了一些问题，如:重复真的有助于歌曲成为热门吗？随着时间的推移，音乐真的越来越重复吗？

为了以案例研究的形式教授一些基本的 python 代码，我将测试这个假设*(流行歌曲真的是重复的吗？)*用我最喜欢的一首歌。检验这一假设的一种方法是找出独特的词，并计算这些词占歌曲总词数的比例。

**在本教程中，我们将介绍:**

*   变量和数据类型
*   列表和词典
*   基本算术运算
*   内置函数和循环

## 必备知识

为了充分利用本教程，您可以自己运行代码。

1.  我们将要演奏的音乐是艾德·希兰的《完美》。这里可以复制歌词[。然而，我在这个分析中使用的歌词被清理掉了，以得到一个结论性的结果。例如，我把像*“我们会”*这样的词改成了*“我们会”等等。*你可以在这里](https://www.azlyrics.com/lyrics/edsheeran/perfect.html)得到我版本的歌词
2.  使用的编辑器是木星笔记本。[这里](https://www.dataquest.io/blog/jupyter-notebook-tutorial/)是如何安装和使用它的快速教程。

出于本案例研究的目的，我们将通过提出两个主要问题来简化我们的假设:

*   与我们的案例研究歌曲《艾德·希兰的完美》的整个歌词相比，使用了多少独特的词？
*   在整首歌中重复使用最多的词是什么，使用了多少次？

> 让我们开始分析吧

## 基本的

**1。** `**A String**` 是字符列表。字符是你可以在键盘上一次击键输入的任何东西，比如一个字母、一个数字或一个反斜杠。但是，Python 将字符串识别为在字符或文本的开头和结尾用双引号(" ")或单引号(' ')分隔的任何内容。例如:“你好，世界”

对于这个案例研究，一个字符串是我们的歌词，如下所示

**2。** `**Variables**` 通常是用于赋值或存储值的描述性名称、单词或符号。换句话说，它们是任何数据类型的存储占位符。为了在任何时候引用一个值，这是非常方便的。变量总是被赋予一个等号，后面跟着
变量的值。*(查看代码输出的一种方法是使用打印功能。您可能已经知道，Jupyter 笔记本没有打印功能也可以查看输出)*

为了存储歌词，我们将赋予它一个名为`perfect_lyrics`的变量。

**3。** `**Lists**` 只需将不同的逗号分隔值放在方括号中，即可创建。它可以有任意数量的项，并且它们可以是不同的类型(整数、浮点、字符串等。).它甚至可以将另一个列表作为一个项目。例如:

```
list1 = [1,'mouse', 3.5, [2,'is',5.0]] 
#3.5 is a float
```

现在我们已经对列表有了一个大概的了解。让我们回到我们的数据。

因为我们的目标之一是计算出使用的独特单词的数量，这意味着我们需要做一些计算，即计算每个单词。为了实现这些，我们不仅要把我们的字符串放到一个列表中，还要用一个`**.split()**`方法来分隔每个单词。因此，我们的数据集将看起来像这样

*输入*

*输出*

![](img/9f3e6ce52d3e5c18386a9a137f6ad99d.png)

从上面的输出中，您会注意到每个单词都被分成了独立的字符串。并且整个歌词组成了名为 split_lyrics *(也是一个变量)*的列表

我们还需要将其余单词和计数中的独特单词分开。为此，我们需要使用 python 函数。

> 功能是一组有组织的、可重用的代码，用于执行单个相关的动作。Python 有很多内置函数，比如 print()-显示输出，list()-创建列表，len( )-计算列表或字符串中的字符数，等等。Python 还允许你创建自己的函数。但是在这个案例研究中，我们不会创建自己的函数。

我们将在案例研究中使用几个函数，但我们将从 set()函数开始。为了从整个歌词中分离出独特的单词，我们需要一个 set()和 print()函数，即

*输入*

*输出*

![](img/07395049ce1b34967604ccadafb67535.png)

为了统计整首歌词的字数，我们需要一个 len()函数

*输入&输出*

![](img/955895ab0ea8dabcd8f6d0c97b5ca399.png)

对提取的唯一单词进行同样的操作

![](img/79477ab6ff0fcaffeba7b8d74a309101.png)

我们的上述分析帮助回答了我们的第一个问题:`*How many unique words were used as compared to the whole lyrics of the song?*`简单地说，在总共超过 290 个单词中使用了 129 个独特的单词。

我们的下一个目标是解决问题的第二部分`What are the most repetitive words used and how many times were they used?`

为了回答这个问题，我们需要学习更多的数据结构。

## 中间的

**4。** `**Dictionaries**` 在 Python 中是无序的物品集合。数据结构只有值作为元素，而字典有一个`**key:value**`对。每个键-值对都将键映射到其关联的值。字典经过优化，可以在已知键的情况下检索值。您可以通过用大括号(`{}`)括起逗号分隔的键值对列表来定义字典。冒号(`:`)将每个键与其关联的值分开。一个简单的德-英词典就是一个例子:

```
colours = {"red" : "rot", "green" : "grün", "blue" : "blau", "yellow":"gelb"}print en_de["red"]#output will be the value of 'red'( the key) which is 'rot'empty_dict = {} #a dictionary can also be empty waiting to be filled up with information 
```

**5。** `**Loops**`在试图一遍又一遍地运行同一块代码时非常有用。在 python 中，有两种类型的循环:for 和 while。对于这个分析，我们将更多地关注`for loop`。for 循环用于迭代序列中的元素。当你有一段代码想要重复 n 次的时候，经常会用到它。

它是这样工作的:“对于列表或字典中的所有元素，这样做”

例如

```
list_number = [2,3,4]#input
for item in list_number:
    multiple = 2 * item
    print(multiple) 
```

*回到我们的数据集*

要知道重复次数最多的单词，我们需要知道每个单词在歌词中出现的次数。为此，我们需要使用字典*(存储每个单词及其对应的计数)*和 for 循环*(在每个单词出现时迭代计数过程)*

首先，我们需要将唯一的单词存储在字典中

*输入&输出*

![](img/1f355ca7d62e78848bbd52236886a82a.png)

然后我们需要再次使用 for 循环来统计每一个唯一单词在整个歌词中出现的次数。

*输入&输出*

![](img/842d81c7e921a54edde17c1db6998fcb.png)

现在我们已经知道了每个单词出现的次数，让我们使用 *sorted ( )* 函数将它们从最高到最低排序

![](img/1bc3cc8b5779ea77c73b423f4240bd22.png)

只出现过一次的词好像太多了。因为我们的目标是找到最流行的单词，所以我们将通过切片将列表缩小到 10 个单词。你可以在这里了解更多关于切片的

*输入&输出*

![](img/ec5dbfe12c86d02033bfee2d9514091e.png)

然后变回字典

![](img/29f340501efcddc7951a0737c34e66d9.png)

另一个问题是:艾德·希兰的歌曲《完美》中最流行的 10 个词是什么？通过使用字典数据结构下的 key()方法，然后创建这些单词的列表，我们可以很容易地提取这些信息。

*输入&输出*

![](img/ff4343bc52b9a526717ada643d752f4f.png)

从上面的输出代码中，我们可以肯定地说，在艾德·希兰创作的歌曲《完美的 T9》中，出现了 24 次的单词“我”

让我们进一步改进我们的分析

## 先进的

**6。** `**Visualizing data with python.**`已经开发了各种技术来可视化地呈现**数据**，但是在这个分析中，我们将把**数据可视化**严格地集中在 **Python** 中的一个库上，即 Matplotlib。

让我们快速直观地分析一下案例研究中最流行的 10 个词

![](img/6508797097b7d6a286510d25aeed8fab.png)

## 见解摘要

我们可以从这个案例研究中获得哪些关键的见解？我可以找出三个

*   根据选择的歌曲，我们看到独特的词只占总词数的 44%
*   在使用的 129 个独特的单词中，大约有 70 个单词出现过一次，约占总使用单词的 24%。
*   “我”这个词在整首歌中被使用了 24 次，也就是说，有 8 %的时间，一个“我”被使用了。

## 结论

这个案例研究确实有助于发现歌曲中有很大一部分是由重复的词组成的。然而，我们不能仅凭一首歌就断定唐纳德·克努特理论是正确的。我们需要分析更多的歌曲，才能得出结论说*热门歌曲是一首歌*中单词重复的结果。尽管指出艾德·希兰的*实际上是一首热门歌曲是件好事……(至今仍在《我的世界》中)。*

## **延伸阅读**

如果您想提高您的 Python 技能，这些文章可能会有所帮助

*   [2018 年 24 个最佳 Python 课程、书籍和在线教程](https://medium.com/@jadirectives/24-best-python-courses-books-and-online-tutorials-2018-b1a5037fec38)
*   [想学 Python？—功能，由 Ben B 解释](https://medium.com/@Peerlyst/want-to-learn-python-functions-explained-by-ben-b-12e11c944378)
*   [Python Excel 教程:权威指南](https://hackernoon.com/python-excel-tutorial-the-definitive-guide-934ee6dd15b0)

*附注:像我一样，任何人都可以学习成为一名数据分析师，如果你想了解我的下一个项目或我的学习更新，请随时注册我的* [*简讯*](https://goo.gl/forms/aEbTwhSXRDAUa5tr1)