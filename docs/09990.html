<html>
<head>
<title>Data types in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R 中的数据类型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-types-in-r-8124c3b2afe6?source=collection_archive---------34-----------------------#2019-12-30">https://towardsdatascience.com/data-types-in-r-8124c3b2afe6?source=collection_archive---------34-----------------------#2019-12-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="46ae" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解 R 中最常见的数据类型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/db4f4d9ed01745c37f94d60011e3c49c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Lck0ET_fVy_P3VNK"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@lukechesser?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Luke Chesser</a></figcaption></figure><h1 id="9933" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="7718" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi mn translated"><span class="l mo mp mq bm mr ms mt mu mv di"> T </span>这篇文章展示了 r 中不同的数据类型。要从统计学的角度了解不同的变量类型，请阅读“<a class="ae ky" href="https://www.statsandr.com/blog/variable-types-and-examples/" rel="noopener ugc nofollow" target="_blank">变量类型和示例</a>”。</p><h1 id="f346" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">R 中存在哪些数据类型？</h1><p id="9378" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">R 中有 6 种最常见的数据类型:</p><ol class=""><li id="2200" class="mw mx it lt b lu my lx mz ma na me nb mi nc mm nd ne nf ng bi translated">数字的</li><li id="5367" class="mw mx it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated">整数</li><li id="541c" class="mw mx it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated">复杂的</li><li id="8bfc" class="mw mx it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated">性格；角色；字母</li><li id="6616" class="mw mx it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated">因素</li><li id="3ab3" class="mw mx it lt b lu nh lx ni ma nj me nk mi nl mm nd ne nf ng bi translated">逻辑学的</li></ol><p id="6757" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">R 中的数据集通常是这 6 种不同数据类型的组合。下面我们将逐一探讨每种数据类型的更多细节，除了“复杂”数据类型，因为我们关注的是主要的数据类型，这种数据类型在实践中很少使用。</p><h1 id="fe69" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数字的</h1><p id="d9e1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">R 中最常见的数据类型是数字。如果值是数字或者值包含小数，则变量或序列将存储为数字数据。例如，默认情况下，以下两个系列存储为数字:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="1550" class="nu la it nq b gy nv nw l nx ny"># numeric series without decimals<br/>num_data &lt;- c(3, 7, 2)<br/>num_data</span><span id="99d7" class="nu la it nq b gy nz nw l nx ny">## [1] 3 7 2</span><span id="0238" class="nu la it nq b gy nz nw l nx ny">class(num_data)</span><span id="1b1b" class="nu la it nq b gy nz nw l nx ny">## [1] "numeric"</span><span id="2093" class="nu la it nq b gy nz nw l nx ny"># numeric series with decimals<br/>num_data_dec &lt;- c(3.4, 7.1, 2.9)<br/>num_data_dec</span><span id="17b7" class="nu la it nq b gy nz nw l nx ny">## [1] 3.4 7.1 2.9</span><span id="1885" class="nu la it nq b gy nz nw l nx ny">class(num_data_dec)</span><span id="12f4" class="nu la it nq b gy nz nw l nx ny">## [1] "numeric"</span><span id="44cd" class="nu la it nq b gy nz nw l nx ny"># also possible to check the class thanks to str()<br/>str(num_data_dec)</span><span id="52a9" class="nu la it nq b gy nz nw l nx ny">##  num [1:3] 3.4 7.1 2.9</span></pre><p id="b1c0" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">换句话说，如果你给 R 中的一个对象分配一个或几个数字，默认情况下它将存储为数字(带小数的数字)，除非另外指定。</p><h1 id="aba2" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">整数</h1><p id="a5a9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">整数数据类型实际上是数值数据的一种特殊情况。整数是没有小数的数字数据。如果您确定您存储的数字永远不会包含小数，则可以使用此选项。例如，假设您对 10 个家庭样本中的孩子数量感兴趣。该变量是一个离散变量(如果您不记得什么是离散变量，请参见<a class="ae ky" href="https://www.statsandr.com/blog/variable-types-and-examples/" rel="noopener ugc nofollow" target="_blank">变量类型</a>的提示)，并且永远不会有小数。因此，由于使用了<code class="fe oa ob oc nq b">as.integer()</code>命令，它可以存储为整数数据:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="d4cb" class="nu la it nq b gy nv nw l nx ny">children</span><span id="5a8a" class="nu la it nq b gy nz nw l nx ny">##  [1] 1 3 2 2 4 4 1 1 1 4</span><span id="b367" class="nu la it nq b gy nz nw l nx ny">children &lt;- as.integer(children)<br/>class(children)</span><span id="9054" class="nu la it nq b gy nz nw l nx ny">## [1] "integer"</span></pre><p id="2b0b" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">请注意，如果您的变量没有小数，R 会自动将类型设置为整数而不是数字。</p><h1 id="b20c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">性格；角色；字母</h1><p id="bf39" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">存储文本时使用数据类型字符，在 r 中称为字符串。在字符格式下存储数据的最简单方法是在文本段周围使用<code class="fe oa ob oc nq b">""</code>:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="cd82" class="nu la it nq b gy nv nw l nx ny">char &lt;- "some text"<br/>char</span><span id="afdd" class="nu la it nq b gy nz nw l nx ny">## [1] "some text"</span><span id="b6ba" class="nu la it nq b gy nz nw l nx ny">class(char)</span><span id="9364" class="nu la it nq b gy nz nw l nx ny">## [1] "character"</span></pre><p id="1e15" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">如果您想强制将任何类型的数据存储为字符，您可以使用命令<code class="fe oa ob oc nq b">as.character()</code>来完成:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="8a5b" class="nu la it nq b gy nv nw l nx ny">char2 &lt;- as.character(children)<br/>char2</span><span id="49f2" class="nu la it nq b gy nz nw l nx ny">##  [1] "1" "3" "2" "2" "4" "4" "1" "1" "1" "4"</span><span id="365b" class="nu la it nq b gy nz nw l nx ny">class(char2)</span><span id="7d50" class="nu la it nq b gy nz nw l nx ny">## [1] "character"</span></pre><p id="643c" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">注意<code class="fe oa ob oc nq b">""</code>里面的一切都会被认为是字符，不管看起来像不像字符。例如:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="5a69" class="nu la it nq b gy nv nw l nx ny">chars &lt;- c("7.42")<br/>chars</span><span id="5950" class="nu la it nq b gy nz nw l nx ny">## [1] "7.42"</span><span id="da9f" class="nu la it nq b gy nz nw l nx ny">class(chars)</span><span id="186d" class="nu la it nq b gy nz nw l nx ny">## [1] "character"</span></pre><p id="1f18" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">此外，只要变量或向量中至少有一个字符值，整个变量或向量都将被视为字符:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="7e74" class="nu la it nq b gy nv nw l nx ny">char_num &lt;- c("text", 1, 3.72, 4)<br/>char_num</span><span id="2252" class="nu la it nq b gy nz nw l nx ny">## [1] "text" "1"    "3.72" "4"</span><span id="781f" class="nu la it nq b gy nz nw l nx ny">class(char_num)</span><span id="923a" class="nu la it nq b gy nz nw l nx ny">## [1] "character"</span></pre><p id="855c" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">最后但同样重要的是，虽然空格在数字数据中无关紧要，但在字符数据中却很重要:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="1dd5" class="nu la it nq b gy nv nw l nx ny">num_space &lt;- c(1)<br/>num_nospace &lt;- c(1)<br/># is num_space equal to num_nospace?<br/>num_space == num_nospace</span><span id="bd94" class="nu la it nq b gy nz nw l nx ny">## [1] TRUE</span><span id="0844" class="nu la it nq b gy nz nw l nx ny">char_space &lt;- "text "<br/>char_nospace &lt;- "text"<br/># is char_space equal to char_nospace?<br/>char_space == char_nospace</span><span id="8cef" class="nu la it nq b gy nz nw l nx ny">## [1] FALSE</span></pre><p id="f1ef" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">从上面的结果可以看出，字符数据中的一个空格(即在<code class="fe oa ob oc nq b">""</code>中)使它成为 R！</p><h1 id="f61e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">因素</h1><p id="3cb4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">因子变量是字符变量的特例，因为它也包含文本。但是，当唯一字符串的数量有限时，会使用因子变量。它通常代表一个<a class="ae ky" href="https://www.statsandr.com/blog/variable-types-and-examples/" rel="noopener ugc nofollow" target="_blank">分类变量</a>。例如，性别通常只有两个值，“女性”或“男性”(将被视为一个因素变量)，而名字通常有很多可能性(因此将被视为一个字符变量)。要创建因子变量，使用<code class="fe oa ob oc nq b">factor()</code>功能:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="4167" class="nu la it nq b gy nv nw l nx ny">gender &lt;- factor(c("female", "female", "male", "female", "male"))<br/>gender</span><span id="68d1" class="nu la it nq b gy nz nw l nx ny">## [1] female female male   female male  <br/>## Levels: female male</span></pre><p id="3c2e" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">要了解因子变量的不同级别，使用<code class="fe oa ob oc nq b">levels()</code>:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="06d7" class="nu la it nq b gy nv nw l nx ny">levels(gender)</span><span id="6872" class="nu la it nq b gy nz nw l nx ny">## [1] "female" "male"</span></pre><p id="4248" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">默认情况下，级别按字母顺序排序。您可以使用<code class="fe oa ob oc nq b">factor()</code>函数中的参数<code class="fe oa ob oc nq b">levels</code>对等级重新排序:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="a597" class="nu la it nq b gy nv nw l nx ny">gender &lt;- factor(gender, levels = c("male", "female"))<br/>levels(gender)</span><span id="638e" class="nu la it nq b gy nz nw l nx ny">## [1] "male"   "female"</span></pre><p id="8eaa" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">字符串可以用<code class="fe oa ob oc nq b">as.factor()</code>转换成因子:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="e021" class="nu la it nq b gy nv nw l nx ny">text &lt;- c("test1", "test2", "test1", "test1") # create a character vector<br/>class(text) # to know the class</span><span id="8b92" class="nu la it nq b gy nz nw l nx ny">## [1] "character"</span><span id="3016" class="nu la it nq b gy nz nw l nx ny">text_factor &lt;- as.factor(text) # transform to factor<br/>class(text_factor) # recheck the class</span><span id="b899" class="nu la it nq b gy nz nw l nx ny">## [1] "factor"</span></pre><p id="a1ca" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">字符串已经被转换为因子，如其类型为<code class="fe oa ob oc nq b">factor</code>的类所示。</p><h1 id="3d43" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">逻辑学的</h1><p id="ae42" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">逻辑变量是只有两个值的变量；<code class="fe oa ob oc nq b">TRUE</code>或<code class="fe oa ob oc nq b">FALSE</code>:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="1d46" class="nu la it nq b gy nv nw l nx ny">value1 &lt;- 7<br/>value2 &lt;- 9</span><span id="7fd3" class="nu la it nq b gy nz nw l nx ny"># is value1 greater than value2?<br/>greater &lt;- value1 &gt; value2<br/>greater</span><span id="4a04" class="nu la it nq b gy nz nw l nx ny">## [1] FALSE</span><span id="2cab" class="nu la it nq b gy nz nw l nx ny">class(greater)</span><span id="2a7c" class="nu la it nq b gy nz nw l nx ny">## [1] "logical"</span><span id="ecd5" class="nu la it nq b gy nz nw l nx ny"># is value1 less than or equal to value2?<br/>less &lt;- value1 &lt;= value2<br/>less</span><span id="c2e6" class="nu la it nq b gy nz nw l nx ny">## [1] TRUE</span><span id="70b5" class="nu la it nq b gy nz nw l nx ny">class(less)</span><span id="b4a8" class="nu la it nq b gy nz nw l nx ny">## [1] "logical"</span></pre><p id="22cb" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">也可以将逻辑数据转换成数字数据。使用<code class="fe oa ob oc nq b">as.numeric()</code>命令从逻辑转换为数字后，<code class="fe oa ob oc nq b">FALSE</code>值等于 0，<code class="fe oa ob oc nq b">TRUE</code>值等于 1:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="df4f" class="nu la it nq b gy nv nw l nx ny">greater_num &lt;- as.numeric(greater)<br/>sum(greater)</span><span id="a661" class="nu la it nq b gy nz nw l nx ny">## [1] 0</span><span id="54a5" class="nu la it nq b gy nz nw l nx ny">less_num &lt;- as.numeric(less)<br/>sum(less)</span><span id="1a8b" class="nu la it nq b gy nz nw l nx ny">## [1] 1</span></pre><p id="cb15" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">相反，数字数据可以转换为逻辑数据，所有值的<code class="fe oa ob oc nq b">FALSE</code>等于 0，所有其他值的<code class="fe oa ob oc nq b">TRUE</code>。</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="1115" class="nu la it nq b gy nv nw l nx ny">x &lt;- 0<br/>as.logical(x)</span><span id="4db4" class="nu la it nq b gy nz nw l nx ny">## [1] FALSE</span><span id="62d9" class="nu la it nq b gy nz nw l nx ny">y &lt;- 5<br/>as.logical(y)</span><span id="8159" class="nu la it nq b gy nz nw l nx ny">## [1] TRUE</span></pre><p id="85bc" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">感谢阅读。我希望这篇文章能帮助你理解 R 中的基本数据类型及其特殊性。如果您想从统计学的角度了解更多关于不同变量类型的信息，请阅读文章“<a class="ae ky" href="https://www.statsandr.com/blog/variable-types-and-examples/" rel="noopener ugc nofollow" target="_blank">变量类型和示例</a>”。</p><p id="41e7" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated">和往常一样，如果您有与本文主题相关的问题或建议，请将其添加为评论，以便其他读者可以从讨论中受益。</p><p id="20e6" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated"><strong class="lt iu">相关文章:</strong></p><ul class=""><li id="6f67" class="mw mx it lt b lu my lx mz ma na me nb mi nc mm od ne nf ng bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/an-efficient-way-to-install-and-load-r-packages/" rel="noopener ugc nofollow" target="_blank">安装和加载 R 包的有效方法</a></li><li id="d26e" class="mw mx it lt b lu nh lx ni ma nj me nk mi nl mm od ne nf ng bi translated">我的数据符合正态分布吗？关于最广泛使用的分布以及如何检验 R 中的正态性的注释</li><li id="1e94" class="mw mx it lt b lu nh lx ni ma nj me nk mi nl mm od ne nf ng bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/fisher-s-exact-test-in-r-independence-test-for-a-small-sample/" rel="noopener ugc nofollow" target="_blank">R 中的 Fisher 精确检验:小样本的独立性检验</a></li><li id="5cca" class="mw mx it lt b lu nh lx ni ma nj me nk mi nl mm od ne nf ng bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/chi-square-test-of-independence-in-r/" rel="noopener ugc nofollow" target="_blank">R 中独立性的卡方检验</a></li><li id="73df" class="mw mx it lt b lu nh lx ni ma nj me nk mi nl mm od ne nf ng bi translated"><a class="ae ky" href="https://www.statsandr.com/blog/how-to-create-a-timeline-of-your-cv-in-r/" rel="noopener ugc nofollow" target="_blank">如何在简历中创建时间线</a></li></ul></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><p id="f9bf" class="pw-post-body-paragraph lr ls it lt b lu my ju lw lx mz jx lz ma nm mc md me nn mg mh mi no mk ml mm im bi translated"><em class="ol">原载于 2019 年 12 月 30 日</em><a class="ae ky" href="https://statsandr.com/blog/data-types-in-r/" rel="noopener ugc nofollow" target="_blank"><em class="ol">https://statsandr.com</em></a><em class="ol">。</em></p></div></div>    
</body>
</html>