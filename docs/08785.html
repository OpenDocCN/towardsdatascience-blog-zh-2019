<html>
<head>
<title>Handling Text Data Quality Issues: Can yuo h andle thsi?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">处理文本数据质量问题:你能处理吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/handling-text-data-quality-issues-can-yuo-h-andle-thsi-7f77dac3ddff?source=collection_archive---------34-----------------------#2019-11-24">https://towardsdatascience.com/handling-text-data-quality-issues-can-yuo-h-andle-thsi-7f77dac3ddff?source=collection_archive---------34-----------------------#2019-11-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/9c3189f29d434f7ef0af1d47217f6e6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Hb5Clx9yQXaXnrZ8"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Photo by <a class="ae jg" href="https://unsplash.com/@simplicity?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marija Zaric</a> on <a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><h1 id="5294" class="kn ko jj bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">介绍</h1><p id="6032" class="pw-post-body-paragraph ll lm jj ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">退一步说，过去的几周很有趣。我收到了一个非常有趣的问题，任务是解决一些文本数据质量问题。</p><p id="b994" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">正如您可能已经从标题中猜到的那样，有两个主要问题需要解决。</p><ol class=""><li id="66f7" class="mo mp jj ln b lo mj ls mk lw mq ma mr me ms mi mt mu mv mw bi translated">拼写错误的检测和处理</li><li id="0c6d" class="mo mp jj ln b lo mx ls my lw mz ma na me nb mi mt mu mv mw bi translated">单词之间的随机空格</li></ol><blockquote class="nc"><p id="ff9b" class="nd ne jj bd nf ng nh ni nj nk nl mi dk translated">你能处理这个吗？</p></blockquote><p id="64ee" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">作为人类，我们可以很容易地将上面的陈述理解为“你能处理这个吗？”然而，创建一种方法来解决这样的数据问题被证明是具有挑战性的。</p><p id="5e81" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">如果你像我一样，你可能会说“哦，这不应该是<strong class="ln jk">那</strong>坏！”</p><p id="4f0e" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated"><strong class="ln jk">哦…我错了。</strong></p><blockquote class="nc"><p id="0a72" class="nd ne jj bd nf ng nr ns nt nu nv mi dk translated">永远不要低估会突然出现并导致大量问题的复杂性。</p></blockquote><p id="9f3e" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">无论如何，在本文中，我将介绍我用来解决这个问题的方法。这可能不是最好的方法，但似乎对我来说已经足够了。</p><p id="5575" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我们开始吧！:)</p><h1 id="9107" class="kn ko jj bd kp kq nw ks kt ku nx kw kx ky ny la lb lc nz le lf lg oa li lj lk bi translated">数据质量问题 1:拼写错误的检测和处理</h1><p id="16a6" class="pw-post-body-paragraph ll lm jj ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">在我上一篇关于处理拼写错误的文章中，我使用了单词向量并做了大量的翻译来形成一个<a class="ae jg" rel="noopener" target="_blank" href="/using-a-generalised-translation-vector-for-handling-misspellings-and-out-of-vocabulary-oov-words-494cd142cd31">广义翻译向量</a>。</p><p id="20da" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">这是一种处理单词向量拼写错误的新方法。</p><p id="b591" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">然而，对于这种情况，我决定求助于一种更简单的方法来处理拼写错误。</p><p id="b94f" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">这包括两个部分:</p><ol class=""><li id="38bd" class="mo mp jj ln b lo mj ls mk lw mq ma mr me ms mi mt mu mv mw bi translated">检测拼写错误的单词</li><li id="b75b" class="mo mp jj ln b lo mx ls my lw mz ma na me nb mi mt mu mv mw bi translated">处理拼写错误的单词</li></ol><p id="e9df" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我使用了<a class="ae jg" href="https://www.sas.com/en_sg/software/viya.html#products" rel="noopener ugc nofollow" target="_blank"> SAS Viya 的</a>开箱即用的拼错动作<strong class="ln jk"> tpSpell </strong>来做到这一点。</p><blockquote class="ob oc od"><p id="b755" class="ll lm oe ln b lo mj lq lr ls mk lu lv of ml ly lz og mm mc md oh mn mg mh mi im bi translated">SAS 与称为<strong class="ln jk">动作集</strong>的东西一起工作，动作集与 Python 库同义。在每个动作集中，有许多可以执行的<strong class="ln jk">动作</strong>。</p></blockquote><h2 id="010e" class="oi ko jj bd kp oj ok dn kt ol om dp kx lw on oo lb ma op oq lf me or os lj ot bi translated">第 1 部分:检测拼写错误的单词</h2><p id="39bf" class="pw-post-body-paragraph ll lm jj ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">在这个步骤中，tpSpell 动作执行所谓的<strong class="ln jk">候选提取。</strong></p><p id="b332" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">候选提取将单词分成两类；拼写正确的候选单词和拼写错误的候选单词。</p><p id="10cf" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">在运行该过程之前，由预设参数确定拼写正确的候选单词。此参数指定一个术语要被视为拼写正确的候选单词，必须出现在多少个文档中。</p><p id="14a1" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">例如，参考下面的图 1:</p><figure class="ov ow ox oy gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ou"><img src="../Images/dc85975584b8d83d0bf95dc8b5f79150.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mxlkD7G3h8tdCI2JM1rhoA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Figure 1 — Correctly-spelled candidate example (<a class="ae jg" href="https://go.documentation.sas.com/?cdcId=pgmsascdc&amp;cdcVersion=9.4_3.4&amp;docsetId=casvtapg&amp;docsetTarget=n1v6fwv203gwamn12k2plw3hsstl.htm&amp;locale=en" rel="noopener ugc nofollow" target="_blank">source</a>)</figcaption></figure><blockquote class="ob oc od"><p id="cac4" class="ll lm oe ln b lo mj lq lr ls mk lu lv of ml ly lz og mm mc md oh mn mg mh mi im bi translated">潜在的候选名称是“Term”、“Role”和“Parent”列的串联，形成“algorithms-N-algorithm”。</p></blockquote><p id="5296" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">如果潜在候选名称“algorithms-N-algorithm”在 4 个文档中出现 5 次，那么它出现的文档的<strong class="ln jk"> </strong>数量等于 4。</p><p id="7cc9" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">如果名为“最小亲本”的预设参数被设置为 3，因为 4 比 3 大，所以单词“algorithms-N-algorithm”被添加到拼写正确的候选列表中。</p><p id="4bc2" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">跟了这么远？:)</p><p id="ce5f" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">那么，拼写错误的候选单词列表呢？我们如何创建这个表？</p><p id="59c3" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">就像拼写正确的单词候选列表一样，还有另一个预设参数。这次叫“最大子女”。</p><p id="e160" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">例如，请看下面的图 2:</p><figure class="ov ow ox oy gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oz"><img src="../Images/68ada7d4419162787c9218075f4a7f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KdaP4IMlO1QyCk4PffqxPw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Figure 2 — Misspelled candidate example (<a class="ae jg" href="https://go.documentation.sas.com/?cdcId=pgmsascdc&amp;cdcVersion=9.4_3.4&amp;docsetId=casvtapg&amp;docsetTarget=n1v6fwv203gwamn12k2plw3hsstl.htm&amp;locale=en" rel="noopener ugc nofollow" target="_blank">source</a>)</figcaption></figure><p id="faea" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">如果“最大子代”参数被设置为 3 <strong class="ln jk">并且</strong>“algoxxxthzs-N-algoxxxthzs”出现的文档数小于 3，那么“algoxxxthzs-N-algoxxxthzs”被添加到拼写错误的候选单词列表中。</p><blockquote class="ob oc od"><p id="0312" class="ll lm oe ln b lo mj lq lr ls mk lu lv of ml ly lz og mm mc md oh mn mg mh mi im bi translated">注:如果符合上述参数，潜在候选人可以同时出现在两个候选人列表中。</p></blockquote><p id="0da9" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">现在我们已经有了一个拼写正确的候选列表和一个拼写错误的候选列表，接下来是如何将拼写正确的单词分配给它们各自的拼写错误。</p><h2 id="4e83" class="oi ko jj bd kp oj ok dn kt ol om dp kx lw on oo lb ma op oq lf me or os lj ot bi translated">第 2 部分:处理拼写错误</h2><p id="7eac" class="pw-post-body-paragraph ll lm jj ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">在该步骤中，执行<strong class="ln jk">候选比较</strong>。</p><p id="639e" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">tpSpell 动作现在将检查拼写错误列表中的所有单词和拼写正确列表中的所有单词。</p><p id="bffa" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">它将拼写错误的候选单词与每个拼写正确的候选单词进行比较，并计算它们之间的距离。</p><p id="f3f5" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">另一个预置参数确定拼写错误的单词是否有正确的拼写。例如，如果单词“algoxxxthzs”是给定的拼写错误的单词<strong class="ln jk">并且</strong>单词“算法”是正确拼写的候选单词，那么计算出的“algoxxxthzs”和“算法”之间的距离将是 50。</p><p id="82bc" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">如果名为“最大法术距离”的预设参数设置为 20。由于 50 大于 20，正确拼写的候选“算法”现在被认为是单词“algoxxxthzs”的正确拼写。</p><p id="5616" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">您还可以在这里设置其他高级参数，以考虑多个术语，如“消防车”、“继续”或“加入”等。你可以在这里阅读文档<a class="ae jg" href="https://go.documentation.sas.com/?cdcId=pgmsascdc&amp;cdcVersion=9.4_3.4&amp;docsetId=casvtapg&amp;docsetTarget=n1v6fwv203gwamn12k2plw3hsstl.htm&amp;locale=en" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="0112" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">虽然我在上面说得听起来很复杂…</p><p id="92b5" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated"><strong class="ln jk">不是。:)</strong></p><p id="e5ee" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">下面是如何运行以上所有操作的方法。</p><pre class="ov ow ox oy gt pa pb pc pd aw pe bi"><span id="c9fd" class="oi ko jj pb b gy pf pg l ph pi">proc cas;<br/> textParse.tpSpell /<br/>  table={name="pos", caslib="public"}<br/>  minParents=3<br/>  maxChildren=6<br/>  maxSpellDist=15<br/>  casOut={name="tpSpell_Out", replace=true};<br/>   run;<br/>quit;</span></pre><p id="ee7a" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">结果将是这样的:</p><figure class="ov ow ox oy gt iv gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/e7c996a7953d0ddc551c46931b29a30b.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*H2NDldZ41Kbhs3skkitTnA.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Figure 3 — Misspelling Handling Results</figcaption></figure><h1 id="bb4e" class="kn ko jj bd kp kq nw ks kt ku nx kw kx ky ny la lb lc nz le lf lg oa li lj lk bi translated">数据质量问题 2:随机空白</h1><p id="aa44" class="pw-post-body-paragraph ll lm jj ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">这个问题确实让我测试了多种方法。所有这些都表现不好，除了我现在要讲的方法。</p><blockquote class="nc"><p id="03a2" class="nd ne jj bd nf ng nr ns nt nu nv mi dk translated">为了恢复你的记忆，你的问题就像这样。</p></blockquote><p id="6ff1" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">当我收到这样一个数据集时，我的第一个想法是“这个文本怎么会变成这样……”</p><p id="8681" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">但是，嘿，这是真实的世界。不是我们都熟悉的 kaggle 数据集或我们的研究数据集。</p><p id="309c" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">不过，上面有几个数据质量问题值得指出:</p><ol class=""><li id="3cb8" class="mo mp jj ln b lo mj ls mk lw mq ma mr me ms mi mt mu mv mw bi translated">单词之间的空格，如“probl em”</li><li id="8df1" class="mo mp jj ln b lo mx ls my lw mz ma na me nb mi mt mu mv mw bi translated">缺少字符，即“锁定”</li><li id="68de" class="mo mp jj ln b lo mx ls my lw mz ma na me nb mi mt mu mv mw bi translated">交换字符，即“thsi”</li><li id="f1c1" class="mo mp jj ln b lo mx ls my lw mz ma na me nb mi mt mu mv mw bi translated">双重字符，即“你”</li><li id="a3d1" class="mo mp jj ln b lo mx ls my lw mz ma na me nb mi mt mu mv mw bi translated">问题的组合，即“m emry”</li></ol><p id="03dc" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我必须找到一种方法来解决单词之间的空格，同时解决拼写错误(数字 2、3 和 4)。</p><p id="5945" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">令人欣慰的是，处理拼写错误可以相对容易地解决，就像我上面展示的那样。</p><p id="26c0" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">但是由于问题的组合，复杂性在于如何最好地处理(第五点)。在思考这项工作的最佳解决方案时，我从编码器-解码器网络的工作方式中获得了灵感。</p><blockquote class="nc"><p id="4e8b" class="nd ne jj bd nf ng nr ns nt nu nv mi dk translated">我需要一种方法来“编码”句子，然后“解码”它们。</p></blockquote><p id="5541" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">显然我在这里用词不当。我说的“编码”实际上是指删除单词之间的所有空白。像这样:</p><blockquote class="nc"><p id="bd86" class="nd ne jj bd nf ng nr ns nt nu nv mi dk translated">torefreshyyourmerytheeplokeddlikethsi</p></blockquote><p id="2301" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">通过“解码”，我的意思是在解决拼写错误后，将单词重新分解成它们各自的单词:</p><blockquote class="nc"><p id="49f0" class="nd ne jj bd nf ng nr ns nt nu nv mi dk translated">提醒你一下，这个问题看起来是这样的</p></blockquote><p id="fbcc" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">解码的单词基于单词的最长匹配。例如，如果我看到单词“helloworld ”,我将首先在潜在候选列表中查找单词“hell”。</p><p id="fc56" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">直到下一个字符“o”出现，由于“hell+o”=“hello”，“hello”成为更好的潜在候选。我放弃了“地狱”这个词作为主要候选词，保留了“你好”这个词。</p><p id="c930" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">当读入下一个字符时，“hello+w”=“hellow”，因为“hellow”在潜在候选列表中不是一个合适的单词，所以最好的候选词是“hello”。</p><p id="8a28" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">然后，我在“hello”和“world”之间添加一个空格，形成“hello world”。</p><blockquote class="nc"><p id="3e23" class="nd ne jj bd nf ng nr ns nt nu nv mi dk translated">那么这个<strong class="ak">潜在候选名单</strong>是什么呢？</p></blockquote><p id="bfd9" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">这是我<strong class="ln jk">从前面的 tpSpell 动作生成的正确拼写单词列表中挑选出来的列表。</strong></p></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><h2 id="4ca9" class="oi ko jj bd kp oj ok dn kt ol om dp kx lw on oo lb ma op oq lf me or os lj ot bi translated">潜在候选人名单的管理</h2><p id="1eaa" class="pw-post-body-paragraph ll lm jj ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">创建这个列表的诀窍在于我如何进行标记化。</p><p id="6a41" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">是的，有现成的标记化方法，但没有一种方法会进行拼写错误检查，因为它同时执行标记化。</p><p id="a28b" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">简单地说，我做了一个标记器，在解析标记时执行拼写错误的解析。</p><p id="4999" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">比如“hello wrld”会解析为“hello”+“world”。拼写错误的“wrld”将自动解析为“world ”,这是基于我用前面提到的 tpSpell 操作创建的一个拼写错误列表。</p><p id="7970" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">除了拼写错误的解决方案，我还删除了停用词，所有形式的标点符号，小写所有单词，只保留父术语来形成列表。</p><p id="b01f" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">为什么？</p><p id="3afc" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">因为最重要的总是那些小事情。</p><p id="c5d7" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">此处删除停用词是合理的，因为:</p><ol class=""><li id="c240" class="mo mp jj ln b lo mj ls mk lw mq ma mr me ms mi mt mu mv mw bi translated">下游自然语言处理(NLP)任务是一个信息检索任务。即文档相似性。在文档相似性任务中，保持语义相关信息比语法相关信息更重要。因此我认为，删除停用词不会对我的下游任务产生太大影响。</li><li id="e5a9" class="mo mp jj ln b lo mx ls my lw mz ma na me nb mi mt mu mv mw bi translated">如果不删除停止字，它将干扰我的“解码器”的工作。以这句话为例:</li></ol><blockquote class="nc"><p id="6337" class="nd ne jj bd nf ng nh ni nj nk nl mi dk translated">“丛书”-&gt;“丛书”</p></blockquote><p id="f145" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">考虑停用词会将第一个词解析为“这些”而不是“该”。此外，因为“ries”不再是一个单词，所以算法将跳过这个输出，并将句子解码为“these of books”，这是不正确的。</p><blockquote class="nc"><p id="4ed2" class="nd ne jj bd nf ng nr ns nt nu nv mi dk translated">“这些书”-&gt;“这些书”</p></blockquote><p id="6078" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">影响“解码器”工作方式的另一个复杂因素如下所示:</p><blockquote class="nc"><p id="4781" class="nd ne jj bd nf ng nr ns nt nu nv mi dk translated">“自行车运动”→“自行车运动”→“自行车港口”(错误)</p></blockquote><p id="d9a2" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">为了解决这个问题，我只在候选列表中保留了父术语。即自行车<strong class="ln jk"> s </strong> →自行车。通过只查看父术语，我的输出如下所示:</p><blockquote class="nc"><p id="1783" class="nd ne jj bd nf ng nr ns nt nu nv mi dk translated">“自行车运动”→“自行车运动”→“自行车运动”(正确)</p></blockquote><p id="20db" class="pw-post-body-paragraph ll lm jj ln b lo nm lq lr ls nn lu lv lw no ly lz ma np mc md me nq mg mh mi im bi translated">还有一些其他的小因素也在起作用，但是你会明白的；最重要的是小事。</p></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><p id="df64" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">所以你有它！</p><p id="263b" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我自己的“编码器-解码器”方法来解决这个文本数据质量问题！:)</p><p id="f9bd" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">很明显，我已经简化了整个方法，以便给你一个解决方案如何工作的要点。</p><p id="143a" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">正如我以前说过的，这不是一个完美的解决方案，但它确实足以让我开始我的下游 NLP 任务。</p><h1 id="c24e" class="kn ko jj bd kp kq nw ks kt ku nx kw kx ky ny la lb lc nz le lf lg oa li lj lk bi translated">亲眼目睹这一切！</h1><p id="1032" class="pw-post-body-paragraph ll lm jj ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">为了向您展示运行代码后的样子，我针对一个存在数据质量问题的图书评论语料库运行了代码。</p><p id="19f3" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">下面是示例和流程的样子:</p><figure class="ov ow ox oy gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pk"><img src="../Images/9bb2a51988e116e4d64034d9389015a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p5gU7e_ncQoSrx3DrVlDrw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Figure 4 — Data Cleaning Process in Action</figcaption></figure><p id="92dd" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">在我看来还不算太寒酸。:)</p></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><h1 id="019a" class="kn ko jj bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">结尾注释</h1><p id="778d" class="pw-post-body-paragraph ll lm jj ln b lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">嗯，那就这样吧！</p><p id="5b64" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我希望你觉得这篇文章很有见地:)</p><p id="fb2d" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">尽管花了将近 2 周的时间尝试了许多方法，但我从中获得了巨大的乐趣！</p><p id="0b30" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">如果你有更好的方法，请不吝赐教！很想听听！</p><p id="6dec" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">下一个帖子可能会是这个的续集。这将是关于文件的相似性，以及我如何应用平滑逆频率和共同组成部分删除，以获得一个体面的结果。</p><p id="4c74" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">下次见，再见！</p><p id="1e70" class="pw-post-body-paragraph ll lm jj ln b lo mj lq lr ls mk lu lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">领英简介:<a class="ae jg" href="https://www.linkedin.com/in/timothy-tan-97587190" rel="noopener ugc nofollow" target="_blank">谭震霆</a></p></div></div>    
</body>
</html>