<html>
<head>
<title>Building a Growth-Focused Game Recommender for Twitch Streamers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为 Twitch Streamers 构建一个关注增长的游戏推荐器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-growth-focused-game-recommender-for-twitch-streamers-7389e3868f2e?source=collection_archive---------21-----------------------#2019-10-26">https://towardsdatascience.com/building-a-growth-focused-game-recommender-for-twitch-streamers-7389e3868f2e?source=collection_archive---------21-----------------------#2019-10-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/911dbf81ee40d4420c4b1d1b2f55e1a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n0BEVnkTELFdGBy6eZEsSA.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Photo by <a class="ae jg" href="https://unsplash.com/@casparrubin?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Caspar Camille Rubin</a> on <a class="ae jg" href="https://unsplash.com/s/photos/ps4-streaming?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><div class=""><h2 id="f51a" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">将流媒体推荐的传统重点从观众转移到流媒体，优先考虑其频道的增长。</h2></div><p id="bb91" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi lu translated">witch 是一个视频流平台，用户可以在这里观看其他用户可以观看的内容，它在过去十年中取得了巨大的成功。2018 年，它共记录了 5600 亿分钟的观看时间，每月有 440 万条独特的流媒体。它可以被简洁地描述为众包直播电视。为了增加用户的保留，它有一个推荐系统，为用户提供与他们过去观看过的类似的频道。然而，Twitch 没有为那些希望继续流媒体播放，但可能对他们目前玩的游戏感到厌倦，但仍然希望扩大观众群的流媒体用户提供任何东西。这篇文章讲述了<a class="ae jg" href="https://www.linkedin.com/in/randysm/" rel="noopener ugc nofollow" target="_blank">兰迪·马卡雷格</a>、<a class="ae jg" href="https://www.linkedin.com/in/natashaborders/" rel="noopener ugc nofollow" target="_blank">娜塔莎与</a>之间的边界，我试图为这一鸿沟建立一个解决方案。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="19cd" class="mk ml jj bd mm mn mo mp mq mr ms mt mu kp mv kq mw ks mx kt my kv mz kw na nb bi translated">目标</h1><p id="cf76" class="pw-post-body-paragraph ky kz jj la b lb nc kk ld le nd kn lg lh ne lj lk ll nf ln lo lp ng lr ls lt im bi translated">这个项目的目标是根据流媒体用户以前的流媒体播放历史和观众的接受程度，为流媒体用户推荐游戏。该推荐系统将理想地为提供他们的名字作为输入的流播者输出游戏和理想时间。所有这一切，包括项目构思和数据收集，将在三周的时间内完成。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="40e6" class="mk ml jj bd mm mn mo mp mq mr ms mt mu kp mv kq mw ks mx kt my kv mz kw na nb bi translated">1.数据</h1><p id="5d3f" class="pw-post-body-paragraph ky kz jj la b lb nc kk ld le nd kn lg lh ne lj lk ll nf ln lo lp ng lr ls lt im bi translated">在我们能说出想法之前，我们需要看看我们在做什么。通过<a class="ae jg" href="https://dev.twitch.tv/docs/api/" rel="noopener ugc nofollow" target="_blank"> Twitch API </a>，我们可以抓取一些东西:</p><ol class=""><li id="27e3" class="nh ni jj la b lb lc le lf lh nj ll nk lp nl lt nm nn no np bi translated">顶级游戏</li><li id="87f5" class="nh ni jj la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated">每场比赛中彩带的身份</li><li id="d92f" class="nh ni jj la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated">给定流媒体的观众计数</li><li id="0827" class="nh ni jj la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated">每场比赛的艺术框</li><li id="1853" class="nh ni jj la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated">每个游戏的类型</li></ol><p id="5013" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有这些都是以小时为基础的，并且有每 30 秒 100 个电话的限制。对于我们的分析来说，这是一个限制因素，但是为了证明这个概念，我们向前推进了。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="d0f0" class="mk ml jj bd mm mn mo mp mq mr ms mt mu kp mv kq mw ks mx kt my kv mz kw na nb bi translated">2.管道</h1><figure class="nw nx ny nz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nv"><img src="../Images/94d085c692c713542dc20eb4feb3d498.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WDGwhKpBS5M239s4s79_Ng.png"/></div></div></figure><p id="6eb6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了在 API 限制和粒度之间取得平衡，我们选择对排名前 100 的游戏进行每小时一次的清理。我们的管道由以下步骤组成:</p><ol class=""><li id="7dc5" class="nh ni jj la b lb lc le lf lh nj ll nk lp nl lt nm nn no np bi translated">从 Amazon EC2 实例上托管的 Python 脚本调用 Twitch API。使用每小时一次的内置 Linux Cron 作业自动调用脚本和 API。</li><li id="4505" class="nh ni jj la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated">将 JSON 对象转换成 SQL 格式，并将数据推送到托管 PostgreSQL 数据库的 Amazon RDS 实例。</li><li id="022f" class="nh ni jj la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated">从 RDS 数据库中训练模型，并拥有一个在运行模型时引用此数据库的应用程序。</li></ol><p id="1400" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是 RDS 数据库模式:</p><figure class="nw nx ny nz gt iv gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/d59e8234732e9af4a6b816195531f656.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*4c5RyiXrsloVn9ij_SPEwg.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Database schema, generated on <a class="ae jg" href="https://dbdiagram.io/home" rel="noopener ugc nofollow" target="_blank">https://dbdiagram.io/home</a></figcaption></figure><p id="d626" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你也可以在 Tableau 上玩我们搜集的数据:</p><div class="is it gp gr iu ob"><a href="https://public.tableau.com/views/TwitchVisualizations/PickYourGame?:embed=y&amp;:display_count=yes&amp;:origin=viz_share_link&amp;source=post_page-----e40d4a45e4ee----------------------&amp;:showVizHome=no" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd jk gy z fp og fr fs oh fu fw ji bi translated">随着时间的推移，Twitch 的游戏、类型、频道和收视率的趋势。GitHub…</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">随着时间的推移，Twitch 的游戏、类型、频道和收视率的趋势。GitHub…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">随着时间的推移，Twitch 的游戏、类型、频道和收视率的趋势。GitHub…public.tableau.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op ja ob"/></div></div></a></div></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="785f" class="mk ml jj bd mm mn mo mp mq mr ms mt mu kp mv kq mw ks mx kt my kv mz kw na nb bi translated">3.成长分数</h1><p id="4b8e" class="pw-post-body-paragraph ky kz jj la b lb nc kk ld le nd kn lg lh ne lj lk ll nf ln lo lp ng lr ls lt im bi translated">一旦我们有了数据，我们想找到一种方法来对推荐的游戏进行排名。要做到这一点，我们需要考虑哪些可量化的属性可能使游戏有利于流媒体频道的增长。我们得出了以下每场比赛的时间函数指标:</p><ol class=""><li id="6f6d" class="nh ni jj la b lb lc le lf lh nj ll nk lp nl lt nm nn no np bi translated"><strong class="la jk">流民亲和力</strong>—我们想根据流民以前的游戏推荐一款他们会喜欢的游戏。这通过使用推荐系统(惊喜包，使用相似用户矩阵)来量化</li><li id="3afd" class="nh ni jj la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated"><strong class="la jk">游戏增长</strong>——由于我们不想推荐一款垂死的游戏，我们想量化那些观众增长且得分较高的游戏。一个简单的表示可以通过查看一周前每个频道的观众数量来实现。</li><li id="36ad" class="nh ni jj la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated"><strong class="la jk">游戏受欢迎程度</strong>——因为 Twitch 默认按照观众数量降序排列游戏，所以一个更受欢迎的游戏可能有更好的机会获得新观众，因为它会更容易被寻找新内容的观众看到。我们可以用一场比赛的总观看人数占当时观看人数最多的比赛的观看人数的比例来量化这个。</li><li id="0e6b" class="nh ni jj la b lb nq le nr lh ns ll nt lp nu lt nm nn no np bi translated"><strong class="la jk">市场渗透力</strong> —有时观众会通过<em class="oq">各种彩带被带到一个不知名或不太受欢迎的游戏，而</em>彩带会随着忠实观众群从一个游戏跳到另一个游戏。除此之外，有时有些游戏没有人想看，但某个流是他们观看游戏的唯一原因，他们没有兴趣探索其他人。为了量化这一点，我们可以看看前 8 个 streamers 中的观众人数及其占该游戏观众总数的比例。</li></ol><figure class="nw nx ny nz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi or"><img src="../Images/09b9b7a761989b6b31872ce5177b3c8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O4Cyie9Rj0fFAnGPDlZmow.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Readable form of our metrics equation</figcaption></figure><figure class="nw nx ny nz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/5ab0ee84ea78938ef9b2a4bcf06e54e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Iqyo1db9STcuXJanWBDDA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Hypothetical equation for Growth Score</figcaption></figure><h1 id="6977" class="mk ml jj bd mm mn ot mp mq mr ou mt mu kp ov kq mw ks ow kt my kv ox kw na nb bi translated">4.推荐系统</h1><p id="ae4d" class="pw-post-body-paragraph ky kz jj la b lb nc kk ld le nd kn lg lh ne lj lk ll nf ln lo lp ng lr ls lt im bi translated">我们使用的框架是 Python 的惊喜包。该软件包需要用户矩阵形式的输入，其中每个用户是一行，他们玩过的每个游戏是该行中的一列，值在 1-5 之间。根据这些分数，它可以使用各种算法(如 KNN、余弦相似度)向用户推荐相似的游戏。</p><p id="a2ac" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因为我们没有每个流媒体播放者对他们玩的每个游戏的偏好，所以我们根据他们在每个游戏中的观众人数相对于他们播放的观众人数最高的游戏的比例来输入一个指标，然后在 1 到 5 之间进行缩放。这个指标将捕捉流媒体的观众更喜欢看什么，或者什么游戏对流媒体来说最成功。请注意，这个数字对异常值很敏感，可以通过在一段时间内取平均值来改善。</p><p id="e21e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在将我们的矩阵通过惊喜包中可用的不同算法后，我们得到了以下测试 RMSE 结果。这些都是相对于惊喜预期的 1-5 级，因此在 10-20%的准确度范围内。利用这些数据，我们能够补充增长得分中的<strong class="la jk">流光亲和力</strong>部分。</p><figure class="nw nx ny nz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/4c5963063aaaab5a9b4e4e4ed1586fbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X2M5zE5ZUI6Nc27aXZ_m5g.png"/></div></div></figure></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="6531" class="mk ml jj bd mm mn mo mp mq mr ms mt mu kp mv kq mw ks mx kt my kv mz kw na nb bi translated">5.时机</h1><p id="a442" class="pw-post-body-paragraph ky kz jj la b lb nc kk ld le nd kn lg lh ne lj lk ll nf ln lo lp ng lr ls lt im bi translated">基于观众和流媒体兴趣的推荐完成后，我们需要看看我们是否可以预测未来的游戏指标，以便提出流媒体播放时间的建议。为此，我们使用了长短期记忆(LSTM)神经网络。</p><p id="2e15" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">LSTM 网络是一种递归神经网络(RNN ),具有使用 sigmoid 层“忘记”先前输入的额外能力。这与 RNNs 相比具有优势，因为它不需要在所有先前的(并且可能不重要的)数据点上浪费处理时间和空间，而是只关注具有有价值信号的数据点。你可以在这里了解更多关于 LSTM 的<a class="ae jg" href="https://colah.github.io/posts/2015-08-Understanding-LSTMs/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="1209" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于 LSTM 的输入，我们选择输入前 168 小时和过去 24 小时的模型状态，以便预测下周的性能。这些参数是在我们有限的 2 周数据集内制定的，因此它们肯定会根据建议的预期范围和可用数据进行更改。当预测游戏《英雄联盟》的观众人数时，LSTM 得出的样本内和样本外 RMSE 约为 10%，这意味着它可以很好地推广到未来的新数据。</p><figure class="nw nx ny nz gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oz"><img src="../Images/69ca0f966a2688d1a39fcf3e90f013e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5sRjZNA2pR266LYqcymYFg.png"/></div></div></figure><p id="24d5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过 LSTMs 运行每场比赛的观众数量数据变化和每场比赛的频道数量变化，我们可以计算下周任何时间点的比赛分数，并相应地对比赛和时间进行排名。不幸的是，我们最终没有时间来实现这一点，因为它需要为 100 多个游戏中的每一个训练两个 LSTM 模型，因此超出了我们的时间范围。然而，基本的想法仍然是合理的，并且可以在未来实际实施。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h1 id="04cd" class="mk ml jj bd mm mn mo mp mq mr ms mt mu kp mv kq mw ks mx kt my kv mz kw na nb bi translated">6.事后思考</h1><p id="189f" class="pw-post-body-paragraph ky kz jj la b lb nc kk ld le nd kn lg lh ne lj lk ll nf ln lo lp ng lr ls lt im bi translated">总之，像我们正在构建的系统将有助于提高流注保留率，同时，理想情况下，也有助于为那些忠实于流注的用户保留用户。</p><p id="9b2a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了量化这种功能的影响，我们可以进行 A/B 测试，将该功能随机分配给一组流媒体工具(可能包括一项调查，看看他们是否会根据我们的推荐播放推荐的游戏)。我们可以添加一个简单的推荐系统，而不需要将增长指标作为另一个测试用例来计算。一段时间后，我们可以比较这些组之间的频道增长，以量化推荐者的效果。</p><h1 id="e24d" class="mk ml jj bd mm mn ot mp mq mr ou mt mu kp ov kq mw ks ow kt my kv ox kw na nb bi translated">7.附加链接</h1><p id="893f" class="pw-post-body-paragraph ky kz jj la b lb nc kk ld le nd kn lg lh ne lj lk ll nf ln lo lp ng lr ls lt im bi translated">这是我们在 Heroku 上建立并托管的网站的一个快速演示:</p><div class="is it gp gr iu ob"><a href="https://drive.google.com/file/d/1rEY_Flt0ieiVEc1oqZm-59ydiPmJGkh2/view?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd jk gy z fp og fr fs oh fu fw ji bi translated">网站演示视频</h2><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">drive.google.com</p></div></div><div class="ok l"><div class="pa l om on oo ok op ja ob"/></div></div></a></div><p id="df86" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">代码可以在<a class="ae jg" href="https://github.com/jeremyrchow/Twitch_Streamers_Recommender" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="7742" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢阅读！如果你喜欢这篇文章，看看我的其他项目文章，如<a class="ae jg" rel="noopener" target="_blank" href="/quantifying-chatroom-toxicity-e755dd2f9ccf">量化聊天室毒性</a>！</p></div></div>    
</body>
</html>