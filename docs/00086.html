<html>
<head>
<title>iOS Natural Language Processing in 6 lines of code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">6 行代码中的 iOS 自然语言处理</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/ios-natural-language-processing-in-6-lines-of-code-36b08af7f440?source=collection_archive---------14-----------------------#2019-01-04">https://towardsdatascience.com/ios-natural-language-processing-in-6-lines-of-code-36b08af7f440?source=collection_archive---------14-----------------------#2019-01-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6189" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从真实的推文中判断人们的感受</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a04d59a97b41822f0bbe1e5f00f0cc26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*c7b0cprwo3VWj8CZ"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@hannes_wolf?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Hannes Wolf</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9ccb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用苹果的 CreateML 库和人们过去的推文中的文本，可以非常容易地实现和导出一个用于确定人们感受的 iOS 和 MacOS 自然语言处理模型。让我们<a class="ae kv" href="http://boston.lti.cs.cmu.edu/classes/95-865-K/HW/HW3/twitter-sanders-apple3.zip" rel="noopener ugc nofollow" target="_blank">下载数据</a>并进行测试！</p><p id="c3af" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从上面的链接中解压数据后，拖放。csv 文件放在方便的地方。接下来，在 Xcode 上打开一个游乐场，选择 MacOS，选择一个空白文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/c96d22c283fabb84b3a51b6a726ce8b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NzRyusvDs33jIG9COiZY_A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Make sure to select Mac OS</figcaption></figure><p id="f986" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成后，导入所需的库:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="ce71" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，从。csv 文件，请确保将文件 URL 路径更改为您下载数据的位置</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="10fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们需要将数据分成训练和测试两部分，可以随意试验分割比例</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="be98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想要设置种子以便以后跟踪随机分割，请将上面的行更改为:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="c804" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你看一下数据，你会看到它分为两列:一列是标签(正面、负面或中性)，另一列包含推文的文本</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lv"><img src="../Images/a54c6fbe4b42898b8d1a3f0a8cfc054e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LZnQ9aygyNjFWI-dis4_OA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">A look at the csv data</figcaption></figure><p id="f07a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们可以用我们的训练数据来训练模型，</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="7a22" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您的 Xcode 控制台现在应该开始解析数据了，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lw"><img src="../Images/3a44397688cc8e3e192bd6f9626580a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gWtXN3Mc-hRNnK6tBGt7gg.png"/></div></div></figure><p id="a968" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后它开始训练，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/86bd31d219500e35d45e1d60d22ae2be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*r9QYrtPtWtvM2BnXM0Ef2w.png"/></div></figure><p id="b3b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们可以测试一下它的表现。这超过了我们的 6 线限制，但模型已经完成，所以这不算😏</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="2507" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我把误差降低到了 28%，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/0491d2e4620e106dc114391ce12b2aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*SGNHGpGfdOM8npHW6hxNGg.png"/></div></figure><p id="86a0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你能进一步降低错误，让我知道你是怎么做的。就是这样！你做到了！如果您想使用该模型来测试一个随机的文本字符串，以查看它是正面的、负面的还是中性的，这里有一个示例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="e55b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我运行时，我的模型能够正确地预测“pos”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lz"><img src="../Images/b953c115caf5159fbe11d2a1281d97fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ESPHKsp9l_6_7boerbrvuA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Correctly identified “pos” on last line</figcaption></figure><p id="66f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，如果您想要导出模型，</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="56ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">像所有 CreateML 模型一样，它将保存为. mlmodel</p><h1 id="2661" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">结论和完整的源代码</h1><p id="2b8f" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">所以我们学到了三件事:</p><ol class=""><li id="2ac0" class="mx my iq ky b kz la lc ld lf mz lj na ln nb lr nc nd ne nf bi translated">如果我们有正确的数据，从人们的推文中判断他们的情绪是可能的</li><li id="0190" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nc nd ne nf bi translated">苹果的 CreateML 库让这变得超级简单</li><li id="e3c7" class="mx my iq ky b kz ng lc nh lf ni lj nj ln nk lr nc nd ne nf bi translated">整个训练和测试可以在六行代码中完成</li></ol><p id="dfc1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">既然你知道了这个，你打算用它做什么？你要向你的朋友炫耀吗？你会试着让它更精确吗？或者，你是不是很大胆，打算建立一个股票预测器，利用人们在推特上的情绪来决定价格波动？最后一个可能很难，但我说你要去争取！祝你好运！完整的源代码如下。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lt lu l"/></div></figure><p id="ed36" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有问题吗？你可以在 www.cggonzalez.com 的<a class="ae kv" href="http://www.cggonzalez.com" rel="noopener ugc nofollow" target="_blank">找到我</a></p></div></div>    
</body>
</html>