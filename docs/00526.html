<html>
<head>
<title>Python’s Collections Module — High-performance container data types.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 的集合模块——高性能容器数据类型。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pythons-collections-module-high-performance-container-data-types-cb4187afb5fc?source=collection_archive---------7-----------------------#2019-01-24">https://towardsdatascience.com/pythons-collections-module-high-performance-container-data-types-cb4187afb5fc?source=collection_archive---------7-----------------------#2019-01-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ee8b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python 超级有用的集合模块的快速概述。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5908aa9219a251d2514183ee840d6f50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k7SqU5vxtL5jhzdZ"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">rawpixel</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="kz"><p id="8de6" class="la lb it bd lc ld le lf lg lh li lj dk translated">如果实现很难解释，这是个坏主意:<a class="ae ky" href="https://www.python.org/dev/peps/pep-0020/#id3" rel="noopener ugc nofollow" target="_blank">Python 的禅</a></p></blockquote><p id="4e61" class="pw-post-body-paragraph lk ll it lm b ln lo ju lp lq lr jx ls lt lu lv lw lx ly lz ma mb mc md me lj im bi translated">Python 是一种非常强大的语言，这种强大的力量很大一部分来自于它支持<a class="ae ky" href="https://realpython.com/python-modules-packages/" rel="noopener ugc nofollow" target="_blank"> <strong class="lm iu">模块化编程</strong> </a>。模块化编程本质上是将一个大而复杂的编程任务分解成更小且更易管理的子任务/ <strong class="lm iu">模块</strong>的过程。模块就像<strong class="lm iu">乐高积木</strong>可以捆绑在一起创建一个更大的任务。</p><p id="ce70" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">模块化在编写代码时有很多优势，比如:</p><ul class=""><li id="ac3e" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated"><strong class="lm iu">可重用性</strong></li><li id="adfd" class="mk ml it lm b ln mt lq mu lt mv lx mw mb mx lj mp mq mr ms bi translated"><strong class="lm iu">可维护性</strong></li><li id="6b39" class="mk ml it lm b ln mt lq mu lt mv lx mw mb mx lj mp mq mr ms bi translated"><strong class="lm iu">简单性</strong></li></ul><p id="4d03" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><strong class="lm iu">函数</strong>、<strong class="lm iu">模块</strong>和<strong class="lm iu">包</strong>都是 Python 中促进代码模块化的构造。</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="1590" class="nf ng it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated">目标</h1><p id="0207" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated">通过这篇文章，我们将探索 Python 的<strong class="lm iu">集合</strong>模块。该模块旨在改进功能，并为 Python 的通用内置容器(如 dict、list、set 和 tuple)提供替代方案。</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="34c5" class="nf ng it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated">介绍</h1><p id="62a8" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated">让我们从快速浏览模块和包的概念开始这篇文章。</p><h2 id="7884" class="oc ng it bd nh od oe dn nl of og dp np lt oh oi nr lx oj ok nt mb ol om nv on bi translated">组件</h2><p id="9b90" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated">模块只不过是一个可以在另一个模块中调用的. py 脚本。py 脚本。模块是包含 Python 定义和语句的文件，有助于实现一组函数。文件名是模块名加上后缀<code class="fe oo op oq or b">.py</code>。使用<code class="fe oo op oq or b">import</code>命令从其他模块导入模块。让我们导入数学模块。</p><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="e6ec" class="oc ng it or b gy ow ox l oy oz"><em class="pa"># import the library</em><br/>import math</span><span id="6e50" class="oc ng it or b gy pb ox l oy oz">#Using it for taking the log<br/>math.log(10)<br/>2.302585092994046</span></pre><h2 id="35fe" class="oc ng it bd nh od oe dn nl of og dp np lt oh oi nr lx oj ok nt mb ol om nv on bi translated">Python 的内置模块</h2><p id="5b65" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated">Python 有无数的内置模块，并且已经为你能想到的几乎所有用例创建了包。点击查看完整列表<a class="ae ky" href="https://docs.python.org/3/py-modindex.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="487f" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">在探索 Python 中的模块时，两个非常重要的函数派上了用场——<code class="fe oo op oq or b">dir</code>和<code class="fe oo op oq or b">help</code>函数。</p><ul class=""><li id="4a73" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated">内置函数<code class="fe oo op oq or b"><a class="ae ky" href="https://docs.python.org/3/library/functions.html#dir" rel="noopener ugc nofollow" target="_blank">dir()</a></code>用于找出每个模块中实现了哪些功能。它返回字符串的排序列表:</li></ul><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="e8e0" class="oc ng it or b gy ow ox l oy oz">print(dir(math))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/68904d244e9a3481dd67bb0948dbc9f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-3REI3o73zvsEynVEhb2Vw.png"/></div></div></figure><ul class=""><li id="7691" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated">在模块中找到我们想要的函数后，我们可以在 Python 解释器中使用<code class="fe oo op oq or b">help</code>函数来了解更多信息:</li></ul><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="395a" class="oc ng it or b gy ow ox l oy oz">help(math.factorial)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/f45bd31f5b4c61d376318dbdb385a1f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*Dvc3Dt-eORYuJafVmMyeow.png"/></div></figure><h2 id="0a6c" class="oc ng it bd nh od oe dn nl of og dp np lt oh oi nr lx oj ok nt mb ol om nv on bi translated">包装</h2><p id="5901" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated">包是堆叠在一起的相关模块的集合。核心机器学习包 Numpy 和 Scipy 由数百个模块组成。这里是在<a class="ae ky" href="http://scipy.org/" rel="noopener ugc nofollow" target="_blank"> SciPy </a>中可用的部分子包列表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/2ae4c5291a5e27c62f993ab11e961011.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*oQtJJMQC02SJzJ05KnYXUQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><a class="ae ky" href="https://docs.scipy.org/doc/scipy/reference/tutorial/general.html" rel="noopener ugc nofollow" target="_blank">source</a></figcaption></figure></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><p id="a566" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">现在让我们跳到本文的实际目标，了解 Python 的集合模块。这只是一个概述，详细的解释和例子请参考官方 Python 文档。</p><h1 id="e199" class="nf ng it bd nh ni pf nk nl nm pg no np jz ph ka nr kc pi kd nt kf pj kg nv nw bi translated">集合模块</h1><p id="25bf" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated"><a class="ae ky" href="http://Container datatypes" rel="noopener ugc nofollow" target="_blank">集合</a>是一个内置的 Python 模块，它实现了专门的容器数据类型，为 Python 的通用内置容器(如<code class="fe oo op oq or b"><a class="ae ky" href="https://docs.python.org/3.6/library/stdtypes.html#dict" rel="noopener ugc nofollow" target="_blank">dict</a></code>、<code class="fe oo op oq or b"><a class="ae ky" href="https://docs.python.org/3.6/library/stdtypes.html#list" rel="noopener ugc nofollow" target="_blank">list</a></code>、<code class="fe oo op oq or b"><a class="ae ky" href="https://docs.python.org/3.6/library/stdtypes.html#set" rel="noopener ugc nofollow" target="_blank">set</a></code>和<code class="fe oo op oq or b"><a class="ae ky" href="https://docs.python.org/3.6/library/stdtypes.html#tuple" rel="noopener ugc nofollow" target="_blank">tuple</a></code>)提供了替代方案。</p><p id="4082" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">本模块中一些有用的数据结构包括:</p><h2 id="80ba" class="oc ng it bd nh od oe dn nl of og dp np lt oh oi nr lx oj ok nt mb ol om nv on bi translated"><code class="fe oo op oq or b">1. <a class="ae ky" href="https://docs.python.org/3.6/library/collections.html#collections.namedtuple" rel="noopener ugc nofollow" target="_blank">namedtuple()</a></code></h2><p id="9839" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated">存储在普通元组中的数据只能通过索引来访问，如下例所示:</p><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="56ba" class="oc ng it or b gy ow ox l oy oz">plain_tuple = (10,11,12,13)</span><span id="7fea" class="oc ng it or b gy pb ox l oy oz">plain_tuple[0]<br/>10</span><span id="eb02" class="oc ng it or b gy pb ox l oy oz">plain_tuple[3]<br/>13</span></pre><p id="1dc5" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们不能给存储在元组中的单个元素命名。现在，在简单的情况下可能不需要这个。然而，如果一个元组有许多字段，这可能是必要的，也会影响代码的可读性。</p><p id="64c3" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">在这里，<strong class="lm iu"> namedtuple 的</strong>功能开始发挥作用。它是一个用于具有名为字段的<strong class="lm iu">的元组的函数，可以看作是内置元组数据类型的扩展。命名元组为元组中的每个位置赋予意义，并允许更具可读性、自文档化的代码。存储在其中的每个对象都可以通过一个唯一的(人类可读的)标识符来访问，这使我们不必记住整数索引。我们来看看它的实现。</strong></p><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="1d3b" class="oc ng it or b gy ow ox l oy oz">from collections import namedtuple<br/>fruit = namedtuple('fruit','number variety color')</span><span id="5ef6" class="oc ng it or b gy pb ox l oy oz">guava = fruit(number=2,variety='HoneyCrisp',color='green')</span><span id="1aab" class="oc ng it or b gy pb ox l oy oz">apple = fruit(number=5,variety='Granny Smith',color='red')</span></pre><p id="4f28" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们构造 namedtuple 的方法是，首先传递对象类型名称(fruit ),然后传递一个包含各种字段的字符串，作为字段名之间有空格的字符串。然后，我们可以调用各种属性:</p><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="27e5" class="oc ng it or b gy ow ox l oy oz">guava.color<br/>'green'</span><span id="1bff" class="oc ng it or b gy pb ox l oy oz">apple.variety<br/>'Granny Smith'</span></pre><p id="da78" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><strong class="lm iu"> <em class="pa">在 Python 中定义不可变类时，命名元组也是一个节省内存的选项。</em> </strong></p><h2 id="d75b" class="oc ng it bd nh od oe dn nl of og dp np lt oh oi nr lx oj ok nt mb ol om nv on bi translated">2.计数器</h2><p id="e18f" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated"><em class="pa"> Counter </em>是一个<em class="pa"> dict </em>子类，帮助计算可散列对象。元素存储为字典键，而对象计数存储为值。让我们看几个关于计数器的例子。</p><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="680d" class="oc ng it or b gy ow ox l oy oz">#Importing Counter from collections<br/><strong class="or iu">from</strong> <strong class="or iu">collections</strong> <strong class="or iu">import</strong> Counter</span></pre><ul class=""><li id="72e6" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated">用绳子</li></ul><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="cc95" class="oc ng it or b gy ow ox l oy oz">c = Counter('abcacdabcacd')<br/>print(c)</span><span id="7bd3" class="oc ng it or b gy pb ox l oy oz">Counter({'a': 4, 'c': 4, 'b': 2, 'd': 2})</span></pre><ul class=""><li id="5fb4" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated">使用列表</li></ul><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="09a5" class="oc ng it or b gy ow ox l oy oz">lst = [5,6,7,1,3,9,9,1,2,5,5,7,7]<br/>c = Counter(lst)<br/>print(c)</span><span id="91db" class="oc ng it or b gy pb ox l oy oz">Counter({'a': 4, 'c': 4, 'b': 2, 'd': 2})</span></pre><ul class=""><li id="3739" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated">带句子</li></ul><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="4bf9" class="oc ng it or b gy ow ox l oy oz">s = 'the lazy dog jumped over another lazy dog'<br/>words = s.split()<br/>Counter(words)</span><span id="269a" class="oc ng it or b gy pb ox l oy oz">Counter({'another': 1, 'dog': 2, 'jumped': 1, 'lazy': 2, 'over': 1, 'the': 1})</span></pre><p id="e402" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><strong class="lm iu">计数器对象除了支持所有字典可用的方法之外，还支持三种方法:</strong></p><ul class=""><li id="7c6a" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated"><strong class="lm iu">元素()</strong></li></ul><p id="57ee" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">返回每个元素的计数，如果元素的计数小于 1，则忽略它。</p><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="77cb" class="oc ng it or b gy ow ox l oy oz">c = Counter(a=3, b=2, c=1, d=-2)<br/>sorted(c.elements())</span><span id="beae" class="oc ng it or b gy pb ox l oy oz">['a', 'a', 'a', 'b', 'b', 'c']</span></pre><ul class=""><li id="87e6" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated"><strong class="lm iu">最常见([<em class="pa">n</em>)</strong></li></ul><p id="bbf1" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">返回最常见元素及其计数的列表。元素的数量必须指定为 n。如果没有指定，它将返回所有元素的计数。</p><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="dd02" class="oc ng it or b gy ow ox l oy oz">s = 'the lazy dog jumped over another lazy dog'<br/>words = s.split()<br/>Counter(words).most_common(3)</span><span id="88e0" class="oc ng it or b gy pb ox l oy oz">[('lazy', 2), ('dog', 2), ('the', 1)]</span></pre><h2 id="3e5c" class="oc ng it bd nh od oe dn nl of og dp np lt oh oi nr lx oj ok nt mb ol om nv on bi translated">使用 Counter()对象时的常见模式</h2><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="443d" class="oc ng it or b gy ow ox l oy oz">sum(c.values())                 # total of all counts <br/>c.clear()                       # reset all counts <br/>list(c)                         # list unique elements <br/>set(c)                          # convert to a set <br/>dict(c)                         # convert to a regular dictionary c.items()                       # convert to a list like (elem, cnt) <br/>Counter(dict(list_of_pairs))    # convert from a list of(elem, cnt) <br/>c.most_common()[:-n-1:-1]       # n least common elements <br/>c += Counter()                  # remove zero and negative counts</span></pre></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h2 id="7510" class="oc ng it bd nh od oe dn nl of og dp np lt oh oi nr lx oj ok nt mb ol om nv on bi translated">3.默认字典</h2><p id="0dec" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated">字典是一种有效的方式来存储数据，以便以后检索，它有一组无序的<em class="pa">键:值</em>对。键必须是唯一且不可变的对象。</p><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="8eb9" class="oc ng it or b gy ow ox l oy oz">fruits = {'apple':300, 'guava': 200}<br/>fruits['guava']</span><span id="98c1" class="oc ng it or b gy pb ox l oy oz">200</span></pre><p id="2440" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">如果值是整数或字符串，事情就简单了。<a class="ae ky" href="https://stackoverflow.com/questions/5900578/how-does-collections-defaultdict-work" rel="noopener ugc nofollow" target="_blank">然而</a>，如果值是列表或字典等集合的形式，则值(空列表或字典)必须在第一次使用给定键时初始化。defaultdict 自动化并简化了这些东西。下面的例子将使它更加明显:</p><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="3ddc" class="oc ng it or b gy ow ox l oy oz">d = {}<br/>print(d['A'])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/52d4cc9d9134f6f39527e6a81ad135ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*m6v0hPuJ0oM6UyZO_Isiew.png"/></div></figure><p id="4012" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">这里，Python 字典抛出一个错误，因为‘A’当前不在字典中。现在让我们用 defaultdict 运行相同的示例。</p><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="0b0c" class="oc ng it or b gy ow ox l oy oz">from collections import defaultdict<br/>d = defaultdict(object)<br/>print(d['A'])</span><span id="3904" class="oc ng it or b gy pb ox l oy oz">&lt;object object at 0x7fc9bed4cb00&gt;</span></pre><p id="8f23" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">相反，<code class="fe oo op oq or b">defaultdict</code>将简单地创建您试图访问的任何项目(当然前提是它们还不存在)。defaultdict 也是一个类似字典的对象，它提供了字典提供的所有方法。然而，不同之处在于它将第一个参数(default_factory)作为字典的默认数据类型。</p><h2 id="9cde" class="oc ng it bd nh od oe dn nl of og dp np lt oh oi nr lx oj ok nt mb ol om nv on bi translated">4.有序直接</h2><p id="c692" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated">一个<em class="pa"> OrderedDict </em>是一个字典子类，它记住键第一次被插入的顺序。当遍历一个有序字典时，条目按照它们的键第一次被添加的顺序返回。因为有序字典会记住它的插入顺序，所以它可以与排序结合使用来创建一个有序字典:</p><ul class=""><li id="1a93" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated"><strong class="lm iu">正规字典</strong></li></ul><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="e7ba" class="oc ng it or b gy ow ox l oy oz">d = {'banana': 3, 'apple': 4, 'pear': 1, 'orange': 2}</span></pre><ul class=""><li id="f929" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated"><strong class="lm iu">按关键字排序的字典</strong></li></ul><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="f49f" class="oc ng it or b gy ow ox l oy oz">OrderedDict(sorted(d.items(), key=<strong class="or iu">lambda</strong> t: t[0]))</span><span id="072f" class="oc ng it or b gy pb ox l oy oz">OrderedDict([('apple', 4), ('banana', 3), ('orange', 2), ('pear', 1)])</span></pre><ul class=""><li id="d9fb" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated"><strong class="lm iu">按值排序的字典</strong></li></ul><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="0b73" class="oc ng it or b gy ow ox l oy oz">OrderedDict(sorted(d.items(), key=lambda t: t[1]))</span><span id="3ab3" class="oc ng it or b gy pb ox l oy oz">OrderedDict([('pear', 1), ('orange', 2), ('banana', 3), ('apple', 4)])</span></pre><ul class=""><li id="04d0" class="mk ml it lm b ln mf lq mg lt mm lx mn mb mo lj mp mq mr ms bi translated"><strong class="lm iu">字典按关键字串的长度排序</strong></li></ul><pre class="kj kk kl km gt os or ot ou aw ov bi"><span id="d5ec" class="oc ng it or b gy ow ox l oy oz">OrderedDict(sorted(d.items(), key=lambda t: len(t[0])))</span><span id="b864" class="oc ng it or b gy pb ox l oy oz">OrderedDict([('pear', 1), ('apple', 4), ('banana', 3), ('orange', 2)])</span></pre><p id="fbfd" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><em class="pa">这里需要注意的一点是，在 Python 3.6 中，常规的字典都是</em> <strong class="lm iu"> <em class="pa">插入有序即</em> </strong> <em class="pa">字典记住插入条目的顺序。在这里阅读讨论</em><a class="ae ky" href="https://stackoverflow.com/questions/39980323/are-dictionaries-ordered-in-python-3-6" rel="noopener ugc nofollow" target="_blank"><em class="pa"/></a><em class="pa">。</em></p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="fa64" class="nf ng it bd nh ni nj nk nl nm nn no np jz nq ka nr kc ns kd nt kf nu kg nv nw bi translated">结论</h1><p id="c1b4" class="pw-post-body-paragraph lk ll it lm b ln nx ju lp lq ny jx ls lt nz lv lw lx oa lz ma mb ob md me lj im bi translated">集合模块还包含一些其他有用的数据类型，如<strong class="lm iu"> deque、Chainmap、UserString </strong>等等。然而，我已经分享了我在日常编程中使用的一些方法来使事情变得简单。关于详细的解释和用法，请访问官方 Python <a class="ae ky" href="https://docs.python.org/3.7/library/collections.html#collections.UserString" rel="noopener ugc nofollow" target="_blank">文档页面</a>。</p></div></div>    
</body>
</html>