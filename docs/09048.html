<html>
<head>
<title>Illustration of Central Limit Theorem Using Monte-Carlo Simulation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用蒙特卡罗模拟说明中心极限定理</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/proof-of-central-limit-theorem-using-monte-carlo-simulation-34925a7bc64a?source=collection_archive---------18-----------------------#2019-12-02">https://towardsdatascience.com/proof-of-central-limit-theorem-using-monte-carlo-simulation-34925a7bc64a?source=collection_archive---------18-----------------------#2019-12-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/cf65f73b6703e38c4c8122d253988d52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kx5n0wR3JKhMCfPl7a06uA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk"><strong class="bd kf">Probability distribution of the sample mean of a uniform distribution using Monte-Carlo simulation.</strong></figcaption></figure><p id="5f16" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi le translated">中心极限定理(CLT)是统计学和数据科学中最重要的定理之一。CLT 指出，概率分布样本的样本均值是一个随机变量，其均值由总体均值给出，标准差由总体标准差除以 N 的平方根给出，其中 N 是样本大小。</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ln"><img src="../Images/c25bc56b3d0a4e7ed4b06880c4cdc424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D5sD0f0QbUQpFcc-pwrejQ.png"/></div></div></figure><p id="ebdb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以用均匀分布来说明中心极限定理。任何概率分布，如正态分布、泊松分布、二项式分布都可以。</p><h2 id="e41d" class="ls lt it bd lu lv lw dn lx ly lz dp ma kr mb mc md kv me mf mg kz mh mi mj mk bi translated">均匀分布</h2><p id="7fc2" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">让我们考虑定义在范围[a，b]中的均匀分布。概率分布函数、均值和标准差从<a class="ae mq" href="http://mathworld.wolfram.com/UniformDistribution.html" rel="noopener ugc nofollow" target="_blank"> Wolfram Mathematica 网站</a>获得。</p><p id="5b62" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> a)人口平均数</strong></p><p id="96b4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于均匀分布，总体平均值由下式给出</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/d7534ffec814712e208a87eb3e03f225.png" data-original-src="https://miro.medium.com/v2/resize:fit:460/format:webp/1*Vwg8XAyHqjiifbMJsNO1YA.png"/></div></figure><p id="84fe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> b)总体标准偏差</strong></p><p id="d638" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于均匀分布，总体标准差由下式给出</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/124fdcfb2d92ad202a5b69bf5d7cedf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:406/format:webp/1*36OBviFxCWW51fDWC9Ci3A.png"/></div></figure><p id="76c0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">中心极限定理指出，任何大小为 N 的样本的平均值是一个均值为的随机变量</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/56a1f4c845aca8c41ab6abb95e5e6e12.png" data-original-src="https://miro.medium.com/v2/resize:fit:362/format:webp/1*DGoxVCYHA7EI8yPdFl-xqA.png"/></div></figure><p id="00a7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">标准偏差由下式给出</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/b59d5cdac75182daee218a30d2fc87c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/1*KYqyy6miSQWZ3c66p8bt7Q.png"/></div></figure><p id="c224" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们通过考虑 a = 0，b = 100 的均匀分布来说明我们的计算。我们将通过考虑总体(N→无穷大)和两个样本来说明中心极限定理，一个样本 N = 100，另一个样本 N = 1000。</p><h1 id="fda4" class="mv lt it bd lu mw mx my lx mz na nb ma nc nd ne md nf ng nh mg ni nj nk mj nl bi translated">一.分析结果</h1><p id="978b" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated"><strong class="ki iu"> a)人口平均数</strong></p><p id="7075" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用上述等式，a = 0，b = 100 的均匀分布的总体均值为</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/a27365e8090f5bd2c2abe2a89cd8db1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:286/format:webp/1*WiXYjq--ytUqmE_0RofZlw.png"/></div></figure><p id="93cf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> b)总体标准偏差</strong></p><p id="f079" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">类似地，a = 0 且 b = 100 的均匀分布的总体标准差为</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/be3e32eac66d1c8de373d45b1131bd0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:348/format:webp/1*jctN1GorSvLqJ6CfRpa0Hg.png"/></div></figure><p id="0d18" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> c)样本 1，N = 100 </strong></p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi no"><img src="../Images/c757f8378b431cfa91f62b4bffaf2e90.png" data-original-src="https://miro.medium.com/v2/resize:fit:732/format:webp/1*_2zomN9i-sqqHPFRwwmjow.png"/></div></figure><p id="de2b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">d)N = 1000 的样品 2</strong></p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi np"><img src="../Images/922a3e40050e664a2431388e7edbbf0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*sWTOLwLbp_EKJ8iqQNPFHQ.png"/></div></figure><h1 id="55ee" class="mv lt it bd lu mw mx my lx mz na nb ma nc nd ne md nf ng nh mg ni nj nk mj nl bi translated">二。蒙特卡罗模拟结果</h1><p id="ea9c" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">对于蒙特卡罗模拟，我们生成一个规模为 10，000 的非常大的群体。</p><p id="9fb7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> a)人口平均数</strong></p><pre class="lo lp lq lr gt nq nr ns nt aw nu bi"><span id="7ff7" class="ls lt it nr b gy nv nw l nx ny">pop_mean &lt;- mean(runif(10000,0,100))</span></pre><p id="258f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出为 50.0，这与我们的分析结果一致。</p><p id="b9c9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> b)总体标准偏差</strong></p><pre class="lo lp lq lr gt nq nr ns nt aw nu bi"><span id="c78b" class="ls lt it nr b gy nv nw l nx ny">pop_sd &lt;- sd(runif(10000,0,100))</span></pre><p id="df3d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出为 28.9，与我们的分析结果一致。</p><p id="1f22" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">c)N = 100 和 N = 1000 的两个样本的蒙特卡罗代码</strong></p><pre class="lo lp lq lr gt nq nr ns nt aw nu bi"><span id="ecea" class="ls lt it nr b gy nv nw l nx ny">library(tidyverse)</span><span id="b748" class="ls lt it nr b gy nz nw l nx ny">a &lt;-0<br/>b &lt;-100</span><span id="120e" class="ls lt it nr b gy nz nw l nx ny">mean_function &lt;-function(x)mean(runif(x,a,b))</span><span id="887b" class="ls lt it nr b gy nz nw l nx ny">B &lt;-10000</span><span id="048b" class="ls lt it nr b gy nz nw l nx ny">sample_1 &lt;-replicate(B, {mean_function(100)})</span><span id="06fc" class="ls lt it nr b gy nz nw l nx ny">sample_2 &lt;-replicate(B, {mean_function(1000)})</span></pre><p id="5753" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">蒙特卡洛模拟的输出</p><pre class="lo lp lq lr gt nq nr ns nt aw nu bi"><span id="1a00" class="ls lt it nr b gy nv nw l nx ny">mean(sample_1)</span></pre><p id="f49c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">产率为 50.0，这与我们的分析结果一致。</p><pre class="lo lp lq lr gt nq nr ns nt aw nu bi"><span id="83db" class="ls lt it nr b gy nv nw l nx ny">sd(sample_1)</span></pre><p id="fa4f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">产率为 2.83，这与我们的分析结果(2.89)一致。</p><pre class="lo lp lq lr gt nq nr ns nt aw nu bi"><span id="3d5a" class="ls lt it nr b gy nv nw l nx ny">mean(sample_2)</span></pre><p id="b374" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">产率为 50.0，这与我们的分析结果一致。</p><pre class="lo lp lq lr gt nq nr ns nt aw nu bi"><span id="abe0" class="ls lt it nr b gy nv nw l nx ny">sd(sample_2)</span></pre><p id="c223" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">产率为 0.888，这与我们的分析结果(0.914)一致。</p><p id="13af" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> d)生成 N = 100 和 N = 1000 的平均值的概率分布。</strong></p><pre class="lo lp lq lr gt nq nr ns nt aw nu bi"><span id="978e" class="ls lt it nr b gy nv nw l nx ny">X &lt;- data.frame(sample_size=rep(c("N=100","N=1000"),<br/>                times=c(B,B)),mean=c(sample_1,sample_2))</span><span id="8662" class="ls lt it nr b gy nz nw l nx ny">X%&gt;%ggplot(aes(mean,color=sample_size))+<br/>    geom_density(aes(mean,fill=sample_size),alpha=0.2)+<br/>    theme_bw()</span></pre><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oa"><img src="../Images/ef63ef7e1864d7e3db6087cff6c1735c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qHK-tQTHQGvvDbjJxrmp2w.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk"><strong class="bd kf">Probability distribution of the sample mean of a uniform distribution using Monte-Carlo simulation.</strong></figcaption></figure><p id="d7bb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该图显示样本均值是一个正态分布的随机变量，其均值等于总体均值，标准差由总体标准差除以样本大小的平方根给出。由于样本标准偏差(不确定性)与样本大小成反比，因此计算平均值的精度会随着样本大小的增加而降低。</p><h1 id="ba7a" class="mv lt it bd lu mw mx my lx mz na nb ma nc nd ne md nf ng nh mg ni nj nk mj nl bi translated">中心极限定理的含义</h1><p id="ee62" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">我们已经表明，任何概率分布的样本均值都是一个随机变量，其均值等于总体均值和均值的标准差，由下式给出:</p><figure class="lo lp lq lr gt ju gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/b59d5cdac75182daee218a30d2fc87c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/1*KYqyy6miSQWZ3c66p8bt7Q.png"/></div></figure><p id="75b0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">基于这个等式，我们可以观察到，随着样本大小 N →无穷大，均值的不确定性或标准差趋于零。这意味着我们的数据集越大越好，因为样本越大，方差误差越小。</p><p id="6304" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">总之，我们已经讨论了如何使用蒙特卡罗模拟证明中心极限定理。中心极限定理是统计学和数据科学中最重要的定理之一，所以作为一名实践数据科学的人，熟悉中心极限定理的数学基础是非常重要的。</p></div></div>    
</body>
</html>