<html>
<head>
<title>Finding Lane Lines — Simple Pipeline For Lane Detection.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">寻找车道线-用于车道检测的简单管道。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/finding-lane-lines-simple-pipeline-for-lane-detection-d02b62e7572b?source=collection_archive---------6-----------------------#2019-03-02">https://towardsdatascience.com/finding-lane-lines-simple-pipeline-for-lane-detection-d02b62e7572b?source=collection_archive---------6-----------------------#2019-03-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="45c4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">识别道路的车道是人类驾驶员执行的非常常见的任务。这对于保持车辆在车道的限制内是很重要的。这对于自动驾驶汽车来说也是非常关键的任务。并且利用简单的计算机视觉技术，非常简单的车道检测流水线是可能的。本文将使用<a class="ae ko" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>和<a class="ae ko" href="https://opencv.org/" rel="noopener ugc nofollow" target="_blank"> OpenCV </a>描述可用于简单车道检测的简单管道。这个练习是作为<a class="ae ko" href="https://classroom.udacity.com/nanodegrees/nd013/dashboard/overview" rel="noopener ugc nofollow" target="_blank">“uda city 无人驾驶汽车 nano degree”</a>的一部分完成的。</p><p id="7a50" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请注意，该管道有其自身的局限性(如下所述),并且可以改进。改进将在后续文章中描述。</p><h1 id="99d9" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">车道检测管道:</h1><ol class=""><li id="6f95" class="ln lo it js b jt lp jx lq kb lr kf ls kj lt kn lu lv lw lx bi translated">将原始图像转换为灰度。</li><li id="0f07" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">使灰度图像变暗(这有助于降低道路变色区域的对比度)</li><li id="30de" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">将原始图像转换到 HLS 颜色空间。</li><li id="9398" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">将黄色从 HLS 中分离出来，得到黄色遮罩。(适用于黄色车道标线)</li><li id="0830" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">将白色从 HLS 中分离出来，得到白色面膜。(适用于白色车道标线)</li><li id="c29e" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">逐位或黄色和白色掩码以获得公共掩码。</li><li id="14cb" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">逐位并使用暗化图像进行屏蔽。</li><li id="553f" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">应用轻微高斯模糊。</li><li id="2635" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">应用 canny 边缘检测器(调整阈值—试凑法)获得边缘。</li><li id="dfe4" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">定义感兴趣的区域。这有助于剔除 canny 边缘检测器检测到的不需要的边缘。</li><li id="d248" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">检索霍夫线。</li><li id="b46c" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">巩固和外推霍夫线，并绘制在原始图像上。</li></ol><h2 id="484e" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">原始测试图像</h2><div class="mp mq mr ms gt ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/2e49b20727d542be1f42dedf7f7256d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*SLXbK62TGc_wGSrIEnd08g.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/286528b0304b93e549f47838fab6884c.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*IKPBOOKUeKqvnyQWLJ6U9A.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/b0980e46ca8b650ccd5a982ca6eab548.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*k53hvMiHU-PMxcT4g0VJaA.jpeg"/></div></figure></div><div class="ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/66a19f8cd6627a68606c6e72db2d689f.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*M4GuY-R3OM3-6BXJ-Ek3SQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/daf7db07edcb7e088baef1b079066fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*PipigDi328-QTmnxO4Q2cQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/a7754bb0237262b65f7fc9eb6a100897.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Ogtisede8ukTGKga2RKljg.jpeg"/></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk nk di nl nm">Original Test Images</figcaption></figure></div><h2 id="9502" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">转换为灰度</h2><p id="c99d" class="pw-post-body-paragraph jq jr it js b jt lp jv jw jx lq jz ka kb nn kd ke kf no kh ki kj np kl km kn im bi translated">将原始图像转换成灰度有它的好处。我们必须找到黄色和白色的车道，将原始图像转换为灰度可以增加车道相对于道路的对比度。</p><div class="mp mq mr ms gt ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/85516022e7f7e3ea814d2b7a2d171ef2.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*SvyRONiUJi7kWVQUEBkXlw.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/a5feffaa7092cbb45093d351682689ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*r4z_0UhUh-uElH40wtxRlQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/5c0cd7769252e56d79010343031ef075.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*7sCrXjZyVeo1p0n-3yZQPQ.jpeg"/></div></figure></div><div class="ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/5c279bccd28870cf861d27a46ad0da63.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*74dij_p50W8JPzT_irGgwQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/ffb0514aabd65e163520db5f0c22b3a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*1SqL34xSZIpB52FT08hUJw.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/117d2e877e628d948e9161bbd1e73553.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*I6HS2u4XewUQi6PiIruJ4g.jpeg"/></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk nk di nl nm">Original Images to Grayscale</figcaption></figure></div><h2 id="ebd0" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">使灰度图像变暗</h2><p id="38d3" class="pw-post-body-paragraph jq jr it js b jt lp jv jw jx lq jz ka kb nn kd ke kf no kh ki kj np kl km kn im bi translated">这样做的目的是降低道路变色部分的对比度。</p><div class="mp mq mr ms gt ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/4d899fbd6d5c790eb51172064b8b5b68.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*SeT0h-wQ3ZQgoTuqjRs3rw.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/537180b7c92f518b5c0b61032eff3cf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*HvB3b-St8UG84dN9XWW8MQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/a9fde5b62182f7aee24299870bf04e33.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*4j2128cEpmZOfq4ZI_NL2Q.jpeg"/></div></figure></div><div class="ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/ef0300d08bf17c3cc11d88d0b32d87cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*2IW4rLmN98YGHievr_jecA.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/1ef8f913ad68071a3dc1f79f6c5fca61.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*2sE1M63wq_tGUDKe53Y6Og.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/e585c83e09de445783533761c8f522bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Jj-jHlrBQNVMOgP97kFdYw.jpeg"/></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk nk di nl nm">Darkened grayscale images</figcaption></figure></div><h2 id="57ea" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">将原始图像转换到 HLS 颜色空间</h2><p id="8de3" class="pw-post-body-paragraph jq jr it js b jt lp jv jw jx lq jz ka kb nn kd ke kf no kh ki kj np kl km kn im bi translated">原始图像是 RGB 的，但我们也应该探索其他颜色空间，如<a class="ae ko" href="https://docs.opencv.org/3.4/de/d25/imgproc_color_conversions.html#color_convert_rgb_hsv" rel="noopener ugc nofollow" target="_blank"> HSV </a>和<a class="ae ko" href="https://docs.opencv.org/3.4/de/d25/imgproc_color_conversions.html#color_convert_rgb_hls" rel="noopener ugc nofollow" target="_blank"> HLS </a>。当并排看时，可以很容易地看到，我们可以从道路的 HLS 颜色空间中获得更好的颜色对比度。这可能有助于更好的颜色选择，进而有助于车道检测。</p><div class="mp mq mr ms gt ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/daf7db07edcb7e088baef1b079066fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*PipigDi328-QTmnxO4Q2cQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/4082152a4aa26b7b2af8d5c6ae539965.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*J63HV2Ww0asXpTNqH4xlLQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/04b346d075485e548e6f33e09f03eb17.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*zb51GKRucuIbSIRlPcGtBg.jpeg"/></div></figure></div><div class="ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/286528b0304b93e549f47838fab6884c.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*IKPBOOKUeKqvnyQWLJ6U9A.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/6c5918ca525356489e86407a775ee12a.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*j2kCyXMUotBkfjFCwarDmA.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/1fe08d4ae8b6ad438837eff62bf5d9fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*ZefztnoqtnozqmNYkXrkFg.jpeg"/></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk nk di nl nm">RGB vs HSV vs HLS</figcaption></figure></div><h2 id="8e7f" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">颜色选择</h2><p id="5f18" class="pw-post-body-paragraph jq jr it js b jt lp jv jw jx lq jz ka kb nn kd ke kf no kh ki kj np kl km kn im bi translated">这里我们使用 OpenCV 的<a class="ae ko" href="https://docs.opencv.org/3.0-beta/modules/core/doc/operations_on_arrays.html?highlight=inrange" rel="noopener ugc nofollow" target="_blank"> inRange </a>来获取 thresh hold 值之间的掩码。经过反复试验，我们可以找出阈值的范围。</p><p id="0382" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于黄色面具:</p><ol class=""><li id="1ec4" class="ln lo it js b jt ju jx jy kb nq kf nr kj ns kn lu lv lw lx bi translated">色调值介于 10 和 40 之间。</li><li id="5a20" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">我们使用较高的饱和度值(100–255)来避免山丘的黄色。</li></ol><p id="3938" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于白色面具:</p><ol class=""><li id="082f" class="ln lo it js b jt ju jx jy kb nq kf nr kj ns kn lu lv lw lx bi translated">我们使用更高的亮度值(200-255)作为白色蒙版。</li></ol><p id="0965" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们按位或两个掩码来得到组合掩码。</p><p id="acb9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下图显示了组合蒙版是逐位的，并带有暗化图像。</p><div class="mp mq mr ms gt ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/854c4bfb63b1613edee2507ff2d87e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*F9o1ogRjDVqZ4geR0ftkag.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/9029620506ef33a76cf69e20a23e3d21.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*as8UdLwhKswkOWG6sVJD7A.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/bef0eecc4828b34229d72cf5d87d203b.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*KxO90hMwMwegtZRCv6YJsA.jpeg"/></div></figure></div><div class="ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/a0a24f43aefc62bb4533ed7caf2be918.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*gBnIzdAwnSKn9NTRCFGHnQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/d4936e2a38ea8748dbf23a5b8fbcedbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*xzbf4e90mUOjjhNhDBcCvA.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/96a7875a5090ab30508169378ec3c914.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*k0T2fv9CocCKrQZ6aEzDiA.jpeg"/></div></figure></div><h2 id="650d" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">高斯模糊</h2><p id="76e8" class="pw-post-body-paragraph jq jr it js b jt lp jv jw jx lq jz ka kb nn kd ke kf no kh ki kj np kl km kn im bi translated"><a class="ae ko" href="https://docs.opencv.org/3.0-beta/modules/imgproc/doc/filtering.html#gaussianblur" rel="noopener ugc nofollow" target="_blank">高斯模糊</a>(高斯平滑)是预处理步骤，用于减少图像中的噪声(或平滑图像)。我们使用这个预处理步骤来移除许多检测到的边缘，并且只保留图像中最突出的边缘。</p><p id="2426" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">OpenCV 的 GaussianBlur 期望模糊的内核大小(奇数值)。在尝试了一些值之后，我们使用了 7。</p><div class="mp mq mr ms gt ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/d26b6e242f9a039efcfc6919bdfc79f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*vTtxkGZZZHbrP5X6H5SGCA.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/30c9268f427f3e76dcd544fd2d64ff56.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*mamsU3FOLrZolSV2m22vXQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/b55a1d5fc61f6025b08ba5b7d7b2dce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*NO3w9BDyd8_tkKcC8tEvUA.jpeg"/></div></figure></div><div class="ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/d0a0541a2b44813e644cf853f1550f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*ysb5b8y6x9S7KB380ovwYw.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/b0660c0698b29c3c98db31beffdef2f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*30EvlJLxOTg05RbOBD8vZA.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/10bceed2bf54cff62eddd07af52c78a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Q3nyg24Imj5lhmulvPOQ0A.jpeg"/></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk nk di nl nm">Gaussian Blur</figcaption></figure></div><h2 id="1b37" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">应用 Canny 边缘检测</h2><p id="b5ed" class="pw-post-body-paragraph jq jr it js b jt lp jv jw jx lq jz ka kb nn kd ke kf no kh ki kj np kl km kn im bi translated">现在我们将 Canny 边缘检测应用于这些高斯模糊图像。Canny 边缘检测是基于梯度变化检测边缘的算法。并不是说 Canny 边缘检测的第一步是使用默认的核大小 5 进行图像平滑，我们仍然在上一步中应用显式高斯模糊。Canny 边缘检测的其他步骤包括:</p><ul class=""><li id="0b1f" class="ln lo it js b jt ju jx jy kb nq kf nr kj ns kn nt lv lw lx bi translated">寻找图像的强度梯度</li><li id="c1e6" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn nt lv lw lx bi translated">非最大抑制</li><li id="777a" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn nt lv lw lx bi translated">滞后阈值</li></ul><p id="0939" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个<a class="ae ko" href="https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_canny/py_canny.html" rel="noopener ugc nofollow" target="_blank">链接</a>很好的解释了 Canny 边缘检测。</p><div class="mp mq mr ms gt ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/47f391ac805bcdf58fdb29acc6f0d6fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*_QH5SX4SwEbheUs5_esBCw.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/19f9307a5df7fdcd9e2a5c54c830477d.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*sprfK3bcynur1y0_apE_QA.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/77b889641f4449667f8ec632c2161c94.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*loUkYwvq-NhtqMJanXQIFA.jpeg"/></div></figure></div><div class="ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/1287e73d37cf42ffb1b8b1aae5ce7142.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*a9PUfIAwPly8jAVM2RZ3nQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/0128bd5777f28fbaf9cd5d1eaad691c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*pvxqVP0mscp4X8B2ML8RdQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/ecc85945dbd34878497a2c928627650d.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*lhA04jnPpb-YMgAt9sKfGQ.jpeg"/></div></figure></div><h2 id="7ac1" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">选择感兴趣区域</h2><p id="fbf8" class="pw-post-body-paragraph jq jr it js b jt lp jv jw jx lq jz ka kb nn kd ke kf no kh ki kj np kl km kn im bi translated">即使在应用 Canny 边缘检测之后，仍然有许多边缘被检测到，它们不是车道。感兴趣区域是一个多边形，它定义了图像中我们感兴趣的边缘所在的区域。</p><p id="5933" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意，图像中的坐标原点是图像的左上角。行坐标自上而下增加，列坐标自左而右增加。</p><p id="dcc3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里的假设是摄像机保持在恒定的位置，并且车道是平坦的，因此我们可以“猜测”感兴趣的区域。</p><div class="mp mq mr ms gt ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/98c513fd5b55ef1bd5c65d07dedd73d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*ceRDn2nxFha_7b1jTiZ2Bw.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/a076d7f8af3e880a095c930bebeb12a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*aPjlUo1Wz_Fr3QSytc9wOg.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/b94cb0ab523bc14b38189a84bb72c540.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*1oGPsaWLAGA-N8MQB8mihw.jpeg"/></div></figure></div><div class="ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/977db411dbaba9b26a88fba1cbe21e95.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*-jzc80gUXmlSndH02_7sSw.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/dab6ed0d06478d9ec82a2329935250bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*njpTjBJBJgngQqr4VyjjYQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/156db7f79aa83625f685f160d114e363.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*eaOr7F3qp-gXDYnHvJQSkA.jpeg"/></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk nk di nl nm">Region of Interest applied to Canny Edge Detected Images.</figcaption></figure></div><h2 id="6885" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">霍夫变换线检测</h2><p id="5340" class="pw-post-body-paragraph jq jr it js b jt lp jv jw jx lq jz ka kb nn kd ke kf no kh ki kj np kl km kn im bi translated">霍夫变换是一种通过识别直线上所有点来找出直线的技术。这是通过将线表示为点来实现的。并且点被表示为线/正弦曲线(取决于笛卡尔/极坐标系统)。如果多条直线/正弦曲线通过该点，我们可以推断这些点位于同一条直线上。</p><div class="mp mq mr ms gt ab cb"><figure class="mt mu nu mw mx my mz paragraph-image"><img src="../Images/2a1192d6200b216e9de59af51c5f6b02.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*acYcUvLC7aCsxJWDX4JerA.jpeg"/></figure><figure class="mt mu nv mw mx my mz paragraph-image"><img src="../Images/a8bf086eb5a2d65c2c94ff060860d556.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*kPx49Dc6oPdT2MgubDuBEQ.jpeg"/><figcaption class="ng nh gj gh gi ni nj bd b be z dk nw di nx nm">Line in polar co-ordinates and sinusoidal that represent point , intersection point represent line.</figcaption></figure></div><p id="e68a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">更多信息可在<a class="ae ko" href="https://docs.opencv.org/2.4/doc/tutorials/imgproc/imgtrans/hough_lines/hough_lines.html" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="11f2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">从感兴趣区域图像中找出 Hough 线，然后在原始图像上绘制 Hough 线。</p><div class="mp mq mr ms gt ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/27dc5ca2e883fc6d145608469676634d.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*EIe3_ViuAVETUzqOrTdvtw.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/4d8ff2f18918cd9b0828325f543c2a42.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*s30t-izlCCGsyKZmRORJ6w.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/55bee4036a286be5c2a551ad283df7eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*nbJPk8u3ONNyCGVD8lYTKA.jpeg"/></div></figure></div><div class="ab cb"><figure class="mt mu ny mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/39cdef10adf2c74f4e134d799abe068e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*d8gcSmww2VEd4yDNsz5ygg.jpeg"/></div></figure><figure class="mt mu ny mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/88ad8c0334f38ebb999abdc56dfdb70f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*HvJdkE5v56rsawRspd42dw.jpeg"/></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk nz di oa nm">Hough Lines</figcaption></figure></div><h2 id="8e36" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">霍夫线的合并和外推</h2><p id="5ac1" class="pw-post-body-paragraph jq jr it js b jt lp jv jw jx lq jz ka kb nn kd ke kf no kh ki kj np kl km kn im bi translated">我们需要追踪完整的车道标志。为此，我们首先需要区分左车道和右车道。有一个简单的方法来识别左车道和右车道。</p><ul class=""><li id="4d22" class="ln lo it js b jt ju jx jy kb nq kf nr kj ns kn nt lv lw lx bi translated"><strong class="js iu">左车道:</strong>随着列坐标值的增加，行坐标值减少。所以梯度一定是负的。</li><li id="3a4d" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn nt lv lw lx bi translated"><strong class="js iu">右车道:</strong>随着列坐标值的增加，行坐标值也增加。所以梯度一定是正的。</li><li id="6434" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn nt lv lw lx bi translated">我们将忽略垂直线。</li></ul><p id="f85d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在识别左车道和右车道霍夫线之后，我们将外推这些线。我们做两件事:</p><ol class=""><li id="ee39" class="ln lo it js b jt ju jx jy kb nq kf nr kj ns kn lu lv lw lx bi translated">车道检测到多条线，我们将对这些线进行平均</li><li id="5aa9" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn lu lv lw lx bi translated">有一些部分检测到的线，我们将推断它们。</li></ol><div class="mp mq mr ms gt ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/7e52fc6ee819858555dba34b9951ccf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*FT1COh8vAUrPgNYdZ8KdLQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/e2e5965d293b2a7329b1f60729a2c277.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*fIYlzvlpNR9R6fvhNClY5g.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/659946f531d32cdf9993d4f0a04a8063.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*SqnPVkiFFJNg5-iA3jpy7A.jpeg"/></div></figure></div><div class="ab cb"><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/996afec0d81b95f87a5242a492ae922b.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*-T1TAPbZReJkywp1uqR4vQ.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/00eb320875c7579b6cf221a2402b56c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*mcNBuERXOqqhkzsNF9IgRw.jpeg"/></div></figure><figure class="mt mu mv mw mx my mz paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><img src="../Images/80268a08b066a3a68211c796283192b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*6NQ6PoGMX2VO69nNj7IcSw.jpeg"/></div></figure></div><h2 id="a958" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">将管道应用于视频</h2><p id="04ee" class="pw-post-body-paragraph jq jr it js b jt lp jv jw jx lq jz ka kb nn kd ke kf no kh ki kj np kl km kn im bi translated">现在让我们将这个管道应用于视频。</p><p id="faa0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">管道在直道上非常好用。</p><figure class="mp mq mr ms gt mu"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="cb89" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是这对于弯曲的车道来说效果不好。</p><figure class="mp mq mr ms gt mu"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="42dd" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">缺点</h2><ul class=""><li id="ffd9" class="ln lo it js b jt lp jx lq kb lr kf ls kj lt kn nt lv lw lx bi translated">基于直线的霍夫线不适用于弯曲的道路/车道。</li><li id="fd83" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn nt lv lw lx bi translated">有许多试错法来获得正确的超参数。此外，感兴趣的区域假设摄像机停留在相同的位置，并且车道是平坦的。因此，在决定多边形顶点时涉及到“猜测”工作或硬编码。</li><li id="278c" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn nt lv lw lx bi translated">一般来说，有许多道路可能没有车道标志，这是行不通的。</li></ul><h2 id="5229" class="md kq it bd kr me mf dn kv mg mh dp kz kb mi mj ld kf mk ml lh kj mm mn ll mo bi translated">未来的改进</h2><ul class=""><li id="85be" class="ln lo it js b jt lp jx lq kb lr kf ls kj lt kn nt lv lw lx bi translated">代替直线，使用在弯曲道路上有用的更高程度的曲线将是有益的。</li><li id="50b9" class="ln lo it js b jt ly jx lz kb ma kf mb kj mc kn nt lv lw lx bi translated">即使当我们使用来自先前帧的信息时，仅仅平均车道可能不是很好的策略。可以是加权平均值，或者某种形式的优先级值也可以。</li></ul><p id="95a3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该代码可在<a class="ae ko" href="https://github.com/nachiket273/Self_Driving_Car" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得</p></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><p id="b8f2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你喜欢这篇文章，请一定给我一个掌声，并关注我以获得我未来文章的更新。</p><p id="c7ac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ok">还有，随时在</em><a class="ae ko" href="https://www.linkedin.com/in/nachikettanksale/" rel="noopener ugc nofollow" target="_blank"><em class="ok">LinkedIn</em></a><em class="ok">上联系我或者在</em><a class="ae ko" href="https://twitter.com/nachiket273" rel="noopener ugc nofollow" target="_blank"><em class="ok">Twitter</em></a><em class="ok">上关注我。</em></p><p id="297a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你喜欢我的作品，请考虑赞助我，它会帮助我推出更多这样的作品。</p></div></div>    
</body>
</html>