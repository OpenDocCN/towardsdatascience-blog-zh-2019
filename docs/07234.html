<html>
<head>
<title>What You Need to Know About Data Preprocessing and Linguistic Annotations for Natural Language Processing (NLP)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于自然语言处理(NLP)的数据预处理和语言注释，您需要了解什么</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-you-need-to-know-about-data-preprocessing-and-linguistic-annotations-for-natural-language-439d42f2f355?source=collection_archive---------23-----------------------#2019-10-11">https://towardsdatascience.com/what-you-need-to-know-about-data-preprocessing-and-linguistic-annotations-for-natural-language-439d42f2f355?source=collection_archive---------23-----------------------#2019-10-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="90ff" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">快速浏览自然语言处理数据预处理</h2></div><p id="5289" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">读者注意:Python 代码在<a class="ae le" href="https://github.com/kevinclee26/Medium_Posts/blob/master/439d42f2f355.py" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中共享</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/99545c911123a6d0269980a7e6573fd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7tVWLN7MZUGQg5ZCq2Wjvw.jpeg"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">PC: Brett Jordan from Upsplash</figcaption></figure><p id="ff87" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">机器学习的进步导致了<strong class="kk iu">自然语言处理(NLP) </strong>的显著进步，这是一个赋予计算机理解人类语言能力的人工智能领域。自然语言是指人们说的和写的语言，NLP 使用算法从单词和句子中提取信息。NLP 扩展到自然语言生成(NLG)，像人类一样表达短语的能力，以及自然语言理解(NLU)，建立对短语理解的能力。通过使用机器学习算法来训练数千年的现有文献，我们能够比手动编程更有效地开发模式和规则。此外，机器学习对于人类语言应用特别有用，因为表达(书面或口头)并不总是遵循逻辑和一致的规则。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lv"><img src="../Images/f6ea18ee6d6bbd4728a29618d37c7839.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p-RDVzI8oTWufkJUMEQmMA.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Machine Learning is used through out the different stages of the NLP pipeline</figcaption></figure><p id="3ef0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本文中，我们将回顾 NLP 项目中数据争论过程中经常发生的一些步骤。目标是阐明文本数据是如何被计算机处理的，这样你就知道它们如何能够并将继续在数字世界中被使用。有许多开源库使得 NLP 非常容易实现，比如 NLTK、Genism、spaCy 等。我们将举例说明空间的使用，并提供一些熟悉。</p><p id="fd5a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们来看看这篇关于<a class="ae le" href="https://theoceancleanup.com/" rel="noopener ugc nofollow" target="_blank">海洋清洁</a>的文章的样本:</p><pre class="lg lh li lj gt lw lx ly lz aw ma bi"><span id="1321" class="mb mc it lx b gy md me l mf mg">sample_text='A huge trash-collecting system designed to clean up plastic floating in the Pacific Ocean is finally picking up plastic, its inventor announced Wednesday.\'</span></pre><p id="6ad8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">1.将文本转换成小写的<strong class="kk iu">有助于减少文本数据的词汇大小。类似地，<strong class="kk iu">将重音符号</strong>如 café转换为 café，<strong class="kk iu">扩展收缩</strong>如 won't to will not，以及<strong class="kk iu">拼写检查</strong>也可以根据您的项目进行考虑</strong></p><pre class="lg lh li lj gt lw lx ly lz aw ma bi"><span id="536b" class="mb mc it lx b gy md me l mf mg">import unidecode<br/>sample_text=sample_text.lower()<br/>sample_text=unidecode.unidecode(sample_text)</span></pre><p id="1093" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.如果<strong class="kk iu">数字</strong>和<strong class="kk iu">标点符号</strong>与分析无关，则将其删除</p><pre class="lg lh li lj gt lw lx ly lz aw ma bi"><span id="8e45" class="mb mc it lx b gy md me l mf mg">import re, string<br/>sample_text=re.sub(r'\d+', '', sample_text)<br/>sample_text=sample_text.translate(str.maketrans('', '', string.punctuation))</span></pre><p id="2524" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.移除<strong class="kk iu">空格</strong></p><pre class="lg lh li lj gt lw lx ly lz aw ma bi"><span id="eb0c" class="mb mc it lx b gy md me l mf mg">sample_text=sample_text.strip()</span></pre><p id="c939" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.<strong class="kk iu">分词</strong>是将连续文本分割成句子和单词的过程。虽然在像英语这样的语言中用空格分隔单词看起来很简单，但有时空格上的拆分可能会破坏应该被视为一个标记的内容，例如某些名称和带连字符的单词。还有一个选项是将标点符号视为单独的标记，因为标点符号也可以有意义，例如问号(？)和感叹号(！)</p><pre class="lg lh li lj gt lw lx ly lz aw ma bi"><span id="46c0" class="mb mc it lx b gy md me l mf mg">import spacy<br/>nlp=spacy.load('en_core_web_sm')<br/>doc=nlp(sample_text)<br/>[token for token in doc]</span></pre><ul class=""><li id="5c84" class="mh mi it kk b kl km ko kp kr mj kv mk kz ml ld mm mn mo mp bi translated"><strong class="kk iu">注意了。load()函数用于加载用于预测语言特征的模型</strong></li></ul><p id="66eb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.去除<strong class="kk iu">停用词</strong>是去除诸如代词和介词之类的常用词的过程，因为它们广泛而频繁，因此不提供关于相应文本的太多信息。这通常通过在预定义的关键字列表中执行查找来完成，从而释放数据库空间并改善处理时间。在某些情况下，停用词列表可以定制为添加(对于“稀疏”术语)或删除</p><pre class="lg lh li lj gt lw lx ly lz aw ma bi"><span id="a8c3" class="mb mc it lx b gy md me l mf mg">[token for token in tokens if not token.is_stop]</span></pre><p id="19ba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.<strong class="kk iu">词干</strong>和<strong class="kk iu">词汇化</strong>是两种不同的方法，用于规范化文本数据并使单词相互匹配，即使它们不在相同的时态或形式下。一方面，词干化通过字符串操作去除单词开头(前缀)和结尾(后缀)的词缀。另一方面，词汇化通常通过查找单词的字典形式(称为词汇)来完成，并且可以进一步考虑词类以及单词的上下文。选择使用哪种方法将取决于速度和意图。词汇化需要更多的资源，可能不适合所有的 NLP 任务</p><pre class="lg lh li lj gt lw lx ly lz aw ma bi"><span id="99da" class="mb mc it lx b gy md me l mf mg">[token.lemma_ for token in filtered_tokens]</span></pre><p id="d697" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">7.词性(<strong class="kk iu"> POS </strong>)标注是确定每个单词在句子中的作用的过程，这有助于我们理解文章在谈论什么。获取词性是通过一个预测模型来实现的，该模型已经通过足够数量的句子进行了训练，这些句子已经标记了每个单词的词性。我们通过将单词(作为输入)及其周围的单词传递给预测模型来获得单词的词性</p><pre class="lg lh li lj gt lw lx ly lz aw ma bi"><span id="8843" class="mb mc it lx b gy md me l mf mg">[token.pos_ for token in filtered_tokens]</span></pre><p id="4b20" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">8.<strong class="kk iu">命名实体识别(NER) </strong>指将文本中发现的命名实体分类到预定义的类别中，例如，人、日期、事件、地点、组织等。<strong class="kk iu">名词组块</strong>对于确定文本中的主语和宾语也很重要。使用统计模型比明确定义它们更有效</p><pre class="lg lh li lj gt lw lx ly lz aw ma bi"><span id="3834" class="mb mc it lx b gy md me l mf mg">[(entity, entity.label_) for entity in doc.ents]<br/>[noun.text for noun in doc.noun_chunks]</span></pre><p id="8f40" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">9.<strong class="kk iu">依存解析</strong>是给每个单词分配句法依存标签的过程。目标是为句子中的每个单词确定一个父单词，并预测父单词和单词之间的关系类型，如主语、定语、修饰语等。</p><pre class="lg lh li lj gt lw lx ly lz aw ma bi"><span id="4fa6" class="mb mc it lx b gy md me l mf mg">[(token, token.dep_) for token in filtered_tokens]<br/>spacy.displacy.render(list(doc.sents)[0], style<strong class="lx iu">=</strong>'dep')</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mq"><img src="../Images/9a0acd05b6d27a77f198329176335288.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*scxbyVDm8Ff9XAYJd-nLFQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Visualizing dependencies</figcaption></figure><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/2542972746452adfc9e01c67a02d663f.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*M1hImIjdCPMJdd918RnkSA.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Table of the preprocessed data</figcaption></figure><p id="be45" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您还可以从文本中提取其他属性，比如<strong class="kk iu">共指消解</strong>和<strong class="kk iu">搭配提取</strong>。当构建特定应用程序的领域词汇表时，这些变得非常重要，因为上下文关系重大，例如医疗记录、系统日志、财务计划书等。这里有一个表格，包含了我们目前为止为第一句话中的每个单词定义的所有属性。</p><p id="986a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们已经介绍了 NLP 项目的数据预处理步骤，下一步可能是对数据进行矢量化，以获得数字表示，然后是模型消费的特征提取。直到下一次…</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ms"><img src="../Images/a1fdac9e91077e24d09542a89db74e64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mxtMLidEifL-W00mVMUqvg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Typical pipeline for an NLP project</figcaption></figure></div></div>    
</body>
</html>