<html>
<head>
<title>An Introduction to the Bootstrap Method</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自助法简介</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-introduction-to-the-bootstrap-method-58bcb51b4d60?source=collection_archive---------0-----------------------#2019-01-26">https://towardsdatascience.com/an-introduction-to-the-bootstrap-method-58bcb51b4d60?source=collection_archive---------0-----------------------#2019-01-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b44d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于 bootstrap 方法、动机及其工作原理的探讨</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c0189830b1955b0762190b59ae9e487e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RkGsbH5zbz84uALZ"/></div></div></figure><p id="1059" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Bootstrap 是一种强大的基于计算机的统计推断方法，它不依赖于太多的假设。我第一次应用自举方法是在一个 A/B 测试项目中。当时我就像是使用了一种强大的魔法，仅仅从一个样本数据就形成了一个抽样分布。我的统计推断不需要公式。不仅如此，事实上，它还广泛应用于其他统计推断如置信区间、回归模型，甚至机器学习领域。这使我通过一些关于 bootstrap 的研究，用比我的理论数理统计课更实际的知识来补充统计推断知识。</p><p id="8704" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">本文主要介绍 Bootstrap 的核心概念及其应用。但是一些嵌入代码将被用作说明的概念。我们将介绍 bootstrap 重采样方法，然后说明 Bradley Efron(1979)提出 Bootstrap 的动机，并说明 Bootstrap 的一般思想。</p><h1 id="ef8a" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">相关基础知识</h1><p id="47b1" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">事实上，bootstrap 背后的思想包含了太多需要关注的统计主题。然而，这是一个回顾一些统计推断概念的好机会！相关的统计概念包括:</p><ul class=""><li id="4bd8" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">基础微积分和函数的概念</li><li id="b05b" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">均值、方差和标准差</li><li id="f934" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">分布函数和概率密度函数</li><li id="923b" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">抽样分布</li><li id="a288" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">中心极限理论、大数定律和依概率收敛</li><li id="0974" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">统计泛函、经验分布函数和插入原理</li></ul><p id="c6e8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">具备以上一些基础知识将有助于获得 bootstrap 背后的基本概念。有些想法可能会涉及到高级统计，但我会用一种简单的方式，而不是非常正式的数学表达式来说明基本的想法，尽可能简单。如果你想了解更多关于这些概念的知识，文章末尾会提供一些链接。</p><h1 id="3779" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">自助抽样方法</h1><p id="ed9b" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">bootstrap 的基本思想是在样本数据上对总体参数<em class="my"> θ </em>(如总体均值)的一个<strong class="kt ir">估计</strong>(如样本均值)进行推断。它是一种重采样方法，通过从具有相同样本大小 n 的现有样本数据中独立地进行替换采样，并在这些重采样数据之间执行推理。</p><p id="a37c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通常，引导包括以下步骤:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/67599c6af5dea1eb748afd0b47168a99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iH5w0MBdiOlxDOCX6nmqqw.png"/></div></div></figure><ol class=""><li id="3123" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm na mq mr ms bi translated">样本量为 n 的总体样本。</li><li id="58be" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">从原始样本数据<strong class="kt ir">中抽取一个样本，替换为大小为 n 的</strong>，复制 B 次，每个重新抽样的样本称为一个 Bootstrap 样本，总共有 B 个 Bootstrap 样本。</li><li id="f8e8" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">评估每个 Bootstrap 样本的<em class="my"> θ </em>的<strong class="kt ir">统计量</strong>，总共会有<em class="my"> θ </em>的 B 估计。</li><li id="d59d" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">用这些最佳 Bootstrap 统计数据构建一个<strong class="kt ir">抽样分布</strong>,并使用它进行进一步的统计推断，例如:</li></ol><ul class=""><li id="46a9" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">估计<em class="my"> θ的统计标准误差。</em></li><li id="0612" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">获得<em class="my"> θ </em>的置信区间。</li></ul><p id="cea2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们可以看到，我们通过对现有样本进行重新采样来生成新的数据点，并根据这些新的数据点做出推断。</p><p id="a43c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">【bootstrap 如何工作以及为什么工作？</p><p id="d128" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文中，我将这个大问题分成三个部分:</p><ol class=""><li id="27e2" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm na mq mr ms bi translated">Efron 推出 bootstrap 的<strong class="kt ir">最初动机</strong>是什么？</li><li id="9d84" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">为什么使用<strong class="kt ir">模拟技术</strong>？换句话说，如何通过重采样找到统计量的估计方差？</li><li id="7386" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">我们需要从原始样品<strong class="kt ir">中抽取一个样品并替换</strong>的主要想法是什么？</li></ol><h1 id="78c5" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated"><strong class="ak">一、初始动机——估计者的标准误差</strong></h1><p id="8b20" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">bootstrap 技术的核心思想是借助现代计算机能力进行某种统计推断。当 Efron 引入该方法时，它特别受到统计推断领域中评估者的<strong class="kt ir">准确性的激励。通常，估计标准误差是批判性思考统计估计准确性的第一步。</strong></p><p id="8ce4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，为了说明 bootstrap 是如何工作的以及估计量的标准误差是如何起重要作用的，让我们从一个简单的例子开始。</p><h2 id="47eb" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">情景案例</h2><blockquote class="nn no np"><p id="bf99" class="kr ks my kt b ku kv jr kw kx ky ju kz nq lb lc ld nr lf lg lh ns lj lk ll lm ij bi translated">想象一下，你想总结 100 名学生每天在你的实验室拿起智能手机的次数。很难像人口普查那样统计整个实验室的皮卡数量。取而代之的是，你可以做一个在线调查，这个调查还提供了一个计数应用程序。在接下来的几天里，你会收到 30 名学生的回复，告知他们在某一天的接送次数。你计算了这 30 个拾音器的<strong class="kt ir">平均值</strong>，得到拾音器的<strong class="kt ir">估计值为 228.06 倍。</strong></p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Codes for this case, just feel free to check out.</figcaption></figure><p id="6e87" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在统计学领域，上述过程称为<strong class="kt ir">点估计</strong>。我们想知道的是整个实验室中皮卡的真实数量。我们没有人口普查数据，我们能做的只是通过一个基于观察样本的<strong class="kt ir">估计器</strong>来评估<strong class="kt ir">人口参数</strong>，然后得到一个<strong class="kt ir">估计值</strong>作为对实验室中智能手机平均使用情况的评估。</p><ul class=""><li id="8a4a" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated"><strong class="kt ir">估计量/统计量</strong>:计算估计量的规则<strong class="kt ir">。</strong>在这种情况下是样本平均值，通常表示为<em class="my"> X̄ </em>。</li><li id="92dd" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated"><strong class="kt ir">总体参数:</strong>总体的数字汇总。在这种情况下，是我们实验室每天接听电话的平均时间，通常表示为<em class="my"> μ </em>。</li></ul><p id="c34d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一个关键问题是——<strong class="kt ir">这个估算结果有多准确？</strong></p><p id="3938" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">由于<strong class="kt ir"><em class="my"/></strong>，实际上<strong class="kt ir"> <em class="my"> X̄ = μ </em> </strong>发生<strong class="kt ir"> <em class="my">的情况几乎不会发生。</em> </strong>因此<strong class="kt ir"> <em class="my">，</em> </strong>除了报告点估计值外，还应给出一些关于精度的指示。衡量准确性的常用标准是估计值的标准误差。</p><h2 id="5d75" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">标准误差</h2><p id="305d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">估计量<strong class="kt ir"> </strong>的<em class="my">标准误差</em>是它的标准偏差。它告诉我们你的样本估计值偏离实际参数的程度。如果标准误差本身涉及未知参数，我们使用<em class="my">估计标准误差</em> <strong class="kt ir"> <em class="my"> </em> </strong>通过用参数的估计值替换未知参数。</p><p id="daaf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们举个例子。在我们的例子中，我们的估计量是样本均值，对于样本均值(而且几乎只有一个！)，我们有一个简单的公式很容易获得它的标准误差。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/14454461fe010c93e262db8b43f3c181.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YTL9SPZ6rWwM0pt9Po-8uA.png"/></div></div></figure><p id="ec6f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，在现实世界中，总体的标准差<em class="my"> σ </em>总是<strong class="kt ir">未知的</strong>，因此最常见的度量是<strong class="kt ir"> <em class="my">估计标准差、</em> </strong>使用样本标准差<em class="my"> S </em>作为总体的估计标准差:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/8eed879c7c964f3f0ca82c207dc7dbe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gdIoAsa325AxSNFqhe6DyA.png"/></div></div></figure><p id="3131" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们的例子中，我们有 30 个样本，样本均值为 228.06，样本标准差为 166.97，因此我们的<strong class="kt ir"> <em class="my"> </em> </strong> <em class="my">估计样本均值的标准差为</em><strong class="kt ir"><em class="my"/></strong>166.97<strong class="kt ir">//</strong>√30 = 30.48。</p><h2 id="1bf0" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">统计推断中的标准误差</h2><p id="36c1" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">现在我们已经得到了我们的<strong class="kt ir"> </strong>估计标准误差。如何在统计推断中使用标准误差？我们用一个简单的例子来说明。</p><p id="c096" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">粗略地说，如果一个估计量具有<strong class="kt ir">正态分布或近似正态分布</strong>，那么我们期望我们的估计<em class="my"> </em>在大约 68%的时间里与其期望值相差不到一个标准误差，在大约 95%的时间里相差不到两个标准误差。</p><p id="1fe1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我们的例子中，回想一下我们收集的样本是 30 个响应样本，这在经验法则中是足够大的，<strong class="kt ir">中心极限定理</strong>告诉我们 X̄的抽样分布是<strong class="kt ir"> <em class="my"> </em> </strong>非常接近正态分布。结合估计的标准误差，我们可以得到:</p><blockquote class="nn no np"><p id="0b1b" class="kr ks my kt b ku kv jr kw kx ky ju kz nq lb lc ld nr lf lg lh ns lj lk ll lm ij bi translated">我们有理由相信，学生每天在我们实验室拿起智能手机的平均次数<em class="iq"> μ的真实值</em>，<em class="iq"> </em>位于 X̄的大约 2 个标准误差之内，即(228.06-2×30.48，228.06+2×30.48) = (167.1，289.02)。</p></blockquote><h2 id="f9de" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">统计世界中的理想与现实</h2><p id="b997" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我们已经做出了统计推断。然而，这一推论是如何顺利进行的是在一些严格的假设下。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/d09795dd3c7e120329be23b2d0e41876.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aJp7Bljn4nlGyhJvO0XL1Q.png"/></div></div></figure><p id="1f62" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们回忆一下到目前为止我们可能用过的假设或经典定理:</p><ul class=""><li id="f0ed" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">我们的样本均值的标准差<strong class="kt ir">可以很容易地估计，</strong>我们使用样本的标准差作为估计量，并通过一个简单的公式来获得估计的标准差。</li><li id="3ca0" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">我们假设我们知道或者能够估计估计者的总体。在我们的例子中是近似的正态分布。</li></ul><p id="4da2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，在我们的现实世界中，有时很难满足如上的假设或定理:</p><ul class=""><li id="c855" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">很难知道关于人口或人口分布的信息。</li><li id="6bad" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">一般来说，估计值的标准误差很难估计。<strong class="kt ir">很多时候，没有像样本均值的标准差</strong>这样精确的公式。如果现在，我们要对智能手机拾音器的<strong class="kt ir"> <em class="my"> </em> </strong> <em class="my">中值</em>做一个推断，样本<em class="my">中值</em>的标准误差是多少？</li></ul><p id="673d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这就是 bootstrap 解决这类问题的原因。当这些假设被违反时，或者当不存在估计标准误差的公式时，bootstrap 是强有力的选择。</p><h1 id="64a9" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">二。<strong class="ak">关于引导程序的说明</strong></h1><p id="63b6" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">为了说明主要概念，下面的解释将发展一些数学定义和外延，这是一种非正式的，以提供更多的直觉和理解。</p><h2 id="d900" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">1.初始场景</h2><p id="9ad0" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">假设我们要估计我们的统计量的标准误差来作出一个关于总体参数的推断，<strong class="kt ir"> </strong>如用于构造相应的置信区间(就像我们以前所做的一样！).并且:</p><ul class=""><li id="8bcf" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">我们对人口一无所知。</li><li id="ac7b" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">没有精确的公式来估计统计的标准误差<strong class="kt ir">。</strong></li></ul><p id="b4a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">设<strong class="kt ir"> </strong> X1，X2，…，Xn 是分布函数为 F <strong class="kt ir"> <em class="my">的总体 P 中的随机样本。</em> </strong>和<strong class="kt ir"> <em class="my"> M </em> = g(X1，X2，…，Xn) </strong>，是我们感兴趣的参数的<strong class="kt ir">统计量，</strong>意味着统计量是样本数据 X1，X2，…，Xn 的函数。<strong class="kt ir"> </strong>我们想知道的是<em class="my"/>M<em class="my"/>的<strong class="kt ir">方差</strong>，记为 Var(M)。</p><ul class=""><li id="19e2" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">首先，由于我们对总体一无所知，我们无法确定 Var(M) <em class="my"> </em>的值，这需要已知总体<em class="my">、</em>的参数，所以我们需要估计 Var(M) <em class="my">、</em>的估计标准差<em class="my">、</em>表示为<em class="my">、</em> EST_Var(M)。(还记得样本均值的估计标准差吗？)</li><li id="5d9b" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">第二，在现实世界中，除了样本均值之外，我们总是没有一个简单的公式来计算 EST_Var(M) <em class="my"> </em>。</li></ul><p id="c43e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这就导致我们需要<strong class="kt ir">近似</strong>EST _ Var(M)<em class="my">。</em> <strong class="kt ir"> <em class="my"> </em> </strong>如何？在回答这个问题之前，让我们先介绍一种常见的实用方法是<strong class="kt ir">模拟，假设我们知道 P </strong>。</p><h2 id="042a" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">2.模拟</h2><p id="7384" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">先说模拟的思路。借助计算机获得有关统计抽样分布的信息是很有用的。但是它有一个重要的假设——假设我们知道人口<strong class="kt ir"><em class="my"/></strong></p><p id="9191" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，假设 X1，X2，…，Xn 是来自总体的随机样本，并假设 M= g(X1，X2，…，Xn)是感兴趣的统计量<strong class="kt ir">，</strong>，我们可以通过如下模拟来近似统计量<strong class="kt ir"> <em class="my"> M </em> </strong>的均值和方差:</p><ol class=""><li id="41fc" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm na mq mr ms bi translated">从 P <strong class="kt ir">中抽取大小为 n 的随机样本。</strong></li><li id="2b4f" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">计算样本的统计数据。</li><li id="3f4c" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">流程 1 重复 B 次。和 2，并得到 B 统计量。</li><li id="9f48" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">得到这些 B 统计量的<strong class="kt ir">平均值</strong>和<strong class="kt ir">方差</strong>。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/667f48376900c51b403e26aa316a915f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dzKAwtrJlbC9yfLkfMoJiQ.png"/></div></div></figure><p id="8657" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> <em class="my">这个模拟为什么会起作用？</em> </strong>从一个经典定理开始，<strong class="kt ir"> <em class="my">大数定律</em> : </strong></p><ul class=""><li id="6637" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">当 B → ∞ <em class="my">时，这些 B 统计值的平均值收敛<strong class="kt ir"> </strong>到统计值的真实平均值<em class="my"> M </em>。</em></li></ul><p id="4fd5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">并通过大数定律和几个与<strong class="kt ir">依概率收敛</strong>有关的定理:</p><ul class=""><li id="a689" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">当 B → ∞ <em class="my">时，这些 B 统计量的样本方差收敛于统计量<em class="my"> M </em>的真实方差。</em></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/bbf7b0f0ababf1e79db5d929005774da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cixwwxXOs6nKIns6hoiCLQ.png"/></div></div></figure><p id="0cce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">借助计算机，我们可以使 B 尽可能大，以逼近统计量 M 的抽样分布。</p><p id="a6ce" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面是在前面的电话拾音案例中模拟的示例 Python 代码。我使用 B=100000，样本平均值的模拟平均值和标准误差非常接近最后两个单元格中的理论结果。请随意退房。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Example codes for simulation applied with the previous phone-picks case start from cell [10].</figcaption></figure><h2 id="8312" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">3.经验分布函数和插入原理</h2><p id="51cb" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我们已经学会了模拟的概念。现在，我们是否可以通过模拟的方式<strong class="kt ir">近似</strong><em class="my">EST _ Var(M)</em><strong class="kt ir"><em class="my"/></strong>？不幸的是，要做上面的模拟，<strong class="kt ir"> </strong>我们需要知道人口 P <em class="my">的信息。</em>事实是，我们对 p 一无所知。为了解决这个问题，采用了 bootstrap 方法中最重要的组件之一:</p><p id="0bac" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">用<strong class="kt ir">经验分布函数</strong>逼近总体<strong class="kt ir">、</strong>的<strong class="kt ir">分布函数</strong>，应用<strong class="kt ir">插入原理得到</strong> Var(M)的估计值——即<strong class="kt ir">插入估计量</strong>。</p><h2 id="00a9" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">(1)经验分布函数</h2><p id="288d" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated"><strong class="kt ir">经验分布函数(EDF) </strong>的思想是从现有数据集构建分布函数(CDF)。EDF 通常非常接近 CDF，特别是对于大样本量。事实上，在实际中，这是一种估计随机变量 CDF 的常用而有用的方法。</p><p id="e6e0" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">EDF 是一个离散分布，它给每个数据点赋予相等的权重(即，它给原始 n 个观测值中的每一个赋予 1/ n 的概率)，并形成一个累积分布函数，该函数是一个阶跃函数，在每个<em class="my"> n </em>数据点上跳跃 1/ <em class="my"> n </em>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/8fc0648f39530289d729eb53eb6b772b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4oWOT_iLYFMjlGqOnuf4Xw.png"/></div></div></figure><h2 id="2f65" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">(2)统计功能</h2><p id="1be0" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Bootstrap 使用 EDF 作为人口 CDF 的估计值<em class="my">。</em>然而，我们知道 EDF 是一种累积分布函数(CDF)。<strong class="kt ir">为了应用 EDF 作为我们统计 M </strong>、<strong class="kt ir">的估计量，我们需要将 M 的形式作为 CDF 类型的函数，甚至感兴趣的参数</strong>、<strong class="kt ir">也要有一些基线。</strong>要做到这一点，一个常见的方法是称为统计泛函的概念。粗略地说，统计泛函是分布函数的任何函数。让我们举个例子:</p><p id="28d3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">假设我们对人口的参数感兴趣。在统计领域，总有这样一种情况，感兴趣的<strong class="kt ir">参数是分布函数</strong>的函数，这些被称为统计泛函。下面列出了总体平均值 E(X)是一个统计函数:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/cf828ffdbf4c3622a52c3bccfc2ecaf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WZWGW8Tgw8muqO7YVYpb6g.png"/></div></div></figure><p id="1450" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">从上面我们可以看出，总体 E(X)的均值也可以表示为总体的 CDF 的一个<strong class="kt ir">形式<em class="my"> F — </em> </strong>这是<strong class="kt ir"> <em class="my"> </em> </strong>的一个统计泛函。当然，这个表达式可以应用于均值以外的任何函数，比如方差。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/63b54b3a9bb3ad7f35e39c7a50cef480.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tBcSm79p5pePHHN_CUUK4w.png"/></div></div></figure><p id="e90e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">统计函数可以看作是描述总体特征的量。F 的均值、方差、中位数、分位数是总体的特征。因此，使用统计泛函，我们有一个更严格的方法来定义人口参数的概念。因此，我们可以说，我们的统计量 M 可以是:M=g(F)，用人口 CDF F。</p><h2 id="7e82" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated"><strong class="ak"> (3)插件原理= </strong> EDF +统计泛函</h2><p id="2e8b" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我们已经使我们的统计量 is <em class="my"> M </em> = g(X1，X2，…，Xn)=g(F)成为一个统计函数形式。但是，我们不知道 F。所以我们必须为 F“插入”一个估计量，“到”我们的 M=g(F)，以便使这个 M 可以被评估。</p><p id="c9b8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">叫做<strong class="kt ir">插件原理。</strong>一般来说，插入原理<strong class="kt ir"> </strong>是一种通过评估相同的泛函，从总体分布中<strong class="kt ir">估计统计泛函</strong>的方法，但是使用基于样本的经验分布。该估计被称为感兴趣的总体参数的<strong class="kt ir">插件估计</strong>。例如，总体分布的中值可以由样本的经验分布的中值来近似。这里的经验分布是由样本形成的，因为我们不知道人口。简单来说:</p><ul class=""><li id="f555" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">如果我们感兴趣的参数，比如θ，具有统计函数形式θ=g(F)，其中 F 是总体 CDF。</li><li id="f5ef" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">θ=g(F)的插入式估计量定义为θ_hat=g(F_hat):</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/a8065c65fe5260be86533ba30df9f261.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*97CI5_UEBw0g2O0Ipp30uA.png"/></div></figure><ul class=""><li id="3d2c" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">从上式可以看出，我们将θ_hat 和 F_hat“代入”未知的θ和 F，这里的 F_hat 纯粹是由样本数据估计的。</li><li id="3fba" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated"><strong class="kt ir">注意，θ和θ_hat 都是由同一个函数 g(.).</strong></li></ul><p id="d763" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">下面举个刻薄的例子，我们可以看到 g(。)表示平均值，即所有数据点的平均值，它也适用于样本平均值。这里的 F_hat 是作为 f 的估计量的样本形式。我们说样本均值是总体均值的插入估计量。(更明确的结果将很快提供。)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/6772d16746dfbd250ecd1611aacba70c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HlMtFogCsjM1D0ra4OlHig.png"/></div></div></figure><p id="f01b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">那么，F_hat 是什么？还记得 bootstrap 使用经验分布函数(EDF)作为人口 CDF 的估计值吗？事实上，EDF 也是一种常用的估计器，广泛应用于 F_hat 的插入式原理中。</p><p id="c19f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">让我们看看，如果我们将 EDF 插入其中，我们的估计器<em class="my"> M </em> = g(X1，X2，…，Xn)=g(F)会是什么样子。</p><ul class=""><li id="82a1" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">设感兴趣的统计量是 M=g(X1，X2，…，Xn)= g(F)来自一个总体 CDF F</li><li id="6542" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">我们不知道 F，所以我们为 M 建立一个插入式估计量，M 变成 M_hat= g(F_hat)。让我们重写 M_hat 如下:</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/037e7793df13e7ff837cf8ccbed026b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MSNb08PKpaiY2wOyp82JJw.png"/></div></div></figure><p id="bee6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们知道 EDF 是一个离散分布，通过概率质量函数<strong class="kt ir"> PMF </strong>将概率 1/ n 分配给 n 个观测值中的每一个，因此据此，M_hat 变为:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/d2f3b7d641833ed2c7184999a2454c20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vCahqo3ouztmyHaA7oLApw.png"/></div></div></figure><p id="b1d2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">据此，对于我们的均值例子，我们可以发现均值的插入估计量<strong class="kt ir"> μ </strong>就是样本均值:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/4937a147a98e6cee8a272dabaebfa3a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1h8DZkKpIKZGt26L2digHg.png"/></div></div></figure><p id="c80f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，我们通过插入原理，对 M=g(F)作出估计，比如说 M_hat=g(F_hat)。记住，我们要找出的是 Var(M)，我们用 Var(M_hat)来逼近 Var(M)。但是一般情况下，除了样本均值，Var(M_hat)没有精确的公式！它引导我们应用一个模拟。</p><h2 id="da1d" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">(4)自助方差估计</h2><p id="f4f2" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">快到最后一步了！让我们用插件原理概念来刷新整个过程。</p><p id="3253" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们的目标是估计我们的估计量 M 的<strong class="kt ir"> <em class="my">方差，也就是 Var(M)。</em> </strong>自举原理如下:</p><ol class=""><li id="eb32" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm na mq mr ms bi translated">我们不知道人口<strong class="kt ir"> <em class="my"> </em> </strong> P 与 CDF 表示为 F，所以 bootstrap 使用<strong class="kt ir">经验分布函数(EDF)作为 F 的估计值。</strong></li><li id="f565" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">使用我们现有的样本数据形成一个 EDF 作为估计人口。</li><li id="4f32" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">应用插入原理使 M=g(F)可以用 EDF 计算。因此，M=g(F)成为<strong class="kt ir"> </strong> M_hat= g(F_hat) <strong class="kt ir">，</strong>它是带 EDF 的插入式估计器— F_hat。</li><li id="1c4b" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">取<strong class="kt ir">模拟</strong>到<strong class="kt ir">近似为</strong> <strong class="kt ir"> <em class="my"> Var(M_hat) </em>。</strong></li></ol><p id="e56d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">回想一下，要进行原始版本的模拟，我们需要从总体中抽取一个样本数据，从中获得一个统计量 M=g(F ),并将该过程重复 B 次，然后获得这些 B 统计量的方差，以逼近统计量的真实方差。</p><p id="f2da" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因此，要在步骤 4 中进行模拟，我们需要:</p><ol class=""><li id="e997" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm na mq mr ms bi translated">从<strong class="kt ir"> EDF 中提取样本数据。</strong></li><li id="4c86" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">获得一个<strong class="kt ir">插件</strong>统计 M_hat= g(F_hat)。</li><li id="d95d" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">重复两个程序 B 次。</li><li id="e2bf" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">得到这些 B 统计量的方差，<strong class="kt ir">来逼近插件统计量</strong>的真实方差。(这是一个容易混淆的部分。)</li></ol><p id="5182" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">什么是<strong class="kt ir">模拟？其实就是我们在本文开头提到的 bootstrap 抽样过程！</strong></p><p id="d12c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这里两个问题(我保证这是最后两个！):</p><ol class=""><li id="d83d" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm na mq mr ms bi translated"><strong class="kt ir">在步骤 1 中，从 EDF 中提取看起来如何？</strong></li><li id="a6bd" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">这个模拟是如何工作的？</li></ol><h2 id="49ed" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated"><strong class="ak">EDF 的图纸看起来怎么样？</strong></h2><p id="6e60" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我们知道 EDF 从现有样本数据 X1，…，Xn 构建 CDF，根据定义，它在每个样本数据点放置质量 1/n。因此，从 EDF 中抽取一个随机样本，可以看作是从我们现有的样本数据 X1，…，Xn 中抽取 n 个观察值，并进行替换。<strong class="kt ir">这就是为什么如上所示，使用替换对引导样本进行采样。</strong></p><h2 id="b4ab" class="nb lo iq bd lp nc nd dn lt ne nf dp lx la ng nh lz le ni nj mb li nk nl md nm bi translated">模拟是如何工作的？</h2><p id="0b07" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">插件估计量 M_hat=g(F_hat)的<strong class="kt ir">方差</strong>就是 bootstrap 模拟想要模拟的。在模拟的开始，我们从现有的样本数据 X1，…，Xn 中得出替换的观察值。让我们将这些重采样数据表示为 X1*，…，Xn*。现在，让我们再次将 bootstrap 模拟与我们的原始模拟版本进行比较。</p><p id="3c7e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Var(M=g(F))的原始模拟过程:</p><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="c024" class="nb lo iq om b gy oq or l os ot"><strong class="om ir">Original Simulation Version- Approximate EST_Var(M|F) with known F</strong></span><span id="a5e0" class="nb lo iq om b gy ou or l os ot">Let X1, X2, … , Xn be a random sample from a population <em class="my">P</em> and assume <em class="my">M</em>= g(X1, X2, …, Xn) is the statistic of interest, we could approximate variance of statistic <em class="my">M</em> by simulation as follows:</span><span id="1e8d" class="nb lo iq om b gy ou or l os ot">1. Draw random sample with size n from P.<br/>2. Compute statistic for the sample.<br/>3. Replicate B times for process 1. and 2 and get B statistics.<br/>4. Get the variance for these B statistics.</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/a192c053f4374238306ed34079bd3593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SmPWrpvllt2K5ghDwqJ4GA.png"/></div></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Same with previous Simulation part for simulating Var(M).</figcaption></figure><p id="76c1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Var(M_hat=g(F_hat))的自举模拟</p><pre class="kg kh ki kj gt ol om on oo aw op bi"><span id="e831" class="nb lo iq om b gy oq or l os ot"><strong class="om ir">Bootstrap Simulation Version- Approximate Var(M_hat|F_hat) with EDF</strong></span><span id="4e8f" class="nb lo iq om b gy ou or l os ot">Now let X1, X2, … , Xn be a random sample from a population <em class="my">P with CDF F,</em> and assume <em class="my">M</em>= g(X1, X2, …, Xn ;F) is the statistic of interest. But we don't know F, so we:</span><span id="be23" class="nb lo iq om b gy ou or l os ot">1.Form a EDF from the existing sample data by draw observations with replacement from our existing sample data X1, …, Xn. These are denote as X1*, X2*, …, Xn*. We call this is a bootstrap sample.</span><span id="8395" class="nb lo iq om b gy ou or l os ot">2.Compute statistic <em class="my">M_hat</em>= g(X1*, X2*, …, Xn* ;F_hat) for the bootstrap sample.</span><span id="4e75" class="nb lo iq om b gy ou or l os ot">3. Replicate B times for steps 2 and 3, and get B statistics M_hat.</span><span id="e1b6" class="nb lo iq om b gy ou or l os ot">4. Get the variance for these B statistics to approximate the <strong class="om ir">Var(M_hat)</strong>.</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/c0d004566d1a4b221c77f5e0c961ec04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EeJ5ZLh5_V884itY9lVjPw.png"/></div></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Simulating for Var(M_hat).</figcaption></figure><p id="4b38" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你对上述流程熟悉吗？其实和我们之前说的 bootstrap 抽样法的过程是一样的！</p><h1 id="3822" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">三。引导程序的工作原理是什么？</h1><p id="9a25" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">最后，让我们看看我们的模拟将如何工作。<strong class="kt ir">我们从这个 bootstrap 模拟中得到的近似值是针对 Var(M_hat) </strong>的，但我们真正关心的是<strong class="kt ir"> Var(M_hat)能否逼近 Var(M)。</strong>所以这里有两个问题:</p><ol class=""><li id="e37e" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm na mq mr ms bi translated"><strong class="kt ir">将 bootstrap 方差模拟结果，即 S </strong>，<strong class="kt ir">能很好地近似为 Var(M_hat)？</strong></li><li id="a47e" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated"><strong class="kt ir"/><strong class="kt ir">Var(M _ hat)能近似为 Var(M)吗？</strong></li></ol><p id="60f8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了回答这个问题，让我们用一个图表来说明这两种类型的模拟误差:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/87b53cc10dfdf7d1b1822b331b3f28e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hwOJ8K1yQ-vnKTt-o5Bstg.png"/></div></div></figure><ol class=""><li id="6f32" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm na mq mr ms bi translated">从 bootstrap 方差估计中，我们将得到 Var(M_hat)的估计—Var(M)的插入估计。而大数定律告诉我们，如果我们的模拟次数 B 足够大，bootstrap 方差估计 S，是 Var(M_hat)的一个很好的近似。幸运的是，借助计算机，我们可以随心所欲地得到一个更大的 B。所以这个模拟误差可以很小。</li><li id="7a95" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm na mq mr ms bi translated">M_hat 的方差，是 M 相对于真实 f 的方差的插入式估计。<strong class="kt ir">是 Var(M _ hat；f _ hat)Var(M；F) </strong>？换句话说，插入式估计量是否与感兴趣的估计量非常接近？这是我们真正关心的关键点。事实上，插入估计量的渐近性质这一主题属于高级数理统计范畴。但是让我们解释一下主要的问题和想法。</li></ol><ul class=""><li id="c4ff" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated">首先，我们知道如果样本量很大，比如说 F_hat → F，经验分布将很好地收敛到真实分布函数。</li><li id="220f" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated">第二，如果 F_hat → F，并且如果是对应的统计函数 g(。)是一个<strong class="kt ir">平滑度条件，那么</strong> g(F_hat) → g(F)。在我们的例子中，统计函数 g(。)是<em class="my">方差</em>，满足所需的连续性条件。因此，这解释了为什么 bootstrap 方差是估计量 m 的真实方差的良好估计。</li></ul><p id="f4ef" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一般来说，一些泛函上的<strong class="kt ir">光滑条件</strong>很难验证。幸运的是，大多数常见的统计函数，如均值、方差或矩，都满足所需的连续性条件。它规定自举是可行的。当然，尽可能使原始样本量不要太小。</p><p id="264d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下是我的自举样本代码的皮卡情况下，觉得自由检查。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nt nu l"/></div></figure><h1 id="5148" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">自举概述</h1><p id="cfcf" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">让我们用下图回顾一下 bootstrap 的主要思想！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/0551d6731f6c31bc0dfb62fd96f757fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y42mIxqot08pZq8_ZoFiXw.png"/></div></div></figure></div><div class="ab cl oz pa hu pb" role="separator"><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe"/></div><div class="ij ik il im in"><p id="cf19" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">到目前为止，我知道有大量的统计概念并不容易。但是理解一个方法背后的基本概念可以让我们在应用它的时候有一个正确的方向。毕竟，Bootstrap 已经被应用到更广泛的实际案例中，从基础部分开始学习更有建设性。感谢阅读到目前为止，希望这篇文章有所帮助！如果我有任何错误，请留下您的评论:)！</p><h1 id="c1c7" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated"><strong class="ak">参考</strong></h1><p id="1721" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">Efron 的最有帮助的书，有更一般的 Bootstrap 的概念和它如何连接到统计推断。</p><ul class=""><li id="baa0" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated"><a class="ae pg" href="https://www.amazon.com/gp/product/0412042312?ie=UTF8&amp;linkCode=as2&amp;camp=1634&amp;creative=6738&amp;tag=thstge-20&amp;creativeASIN=0412042312" rel="noopener ugc nofollow" target="_blank">自举简介</a></li></ul><p id="5105" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">也是一本有用的书，从 EDF 到 Bootstrap 方法</p><ul class=""><li id="ff8c" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated"><a class="ae pg" href="https://www.amazon.com/All-Statistics-Statistical-Inference-Springer/dp/1441923225" rel="noopener ugc nofollow" target="_blank">所有的统计:统计推断简明教程</a></li></ul><p id="8257" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">其他书籍:</p><ul class=""><li id="54f1" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated"><a class="ae pg" href="https://www.amazon.com/gp/product/0521574714?ie=UTF8&amp;linkCode=as2&amp;camp=1634&amp;creative=6738&amp;tag=thstge-20&amp;creativeASIN=0521574714" rel="noopener ugc nofollow" target="_blank"> Bootstrap 方法及其应用</a></li><li id="01b2" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated"><a class="ae pg" href="https://www.amazon.com/Introduction-Bootstrap-Methods-Applications/dp/0470467045" rel="noopener ugc nofollow" target="_blank">介绍 Bootstrap 方法及其在 R 上的应用</a></li></ul><p id="53dc" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">经验分布函数和插入原理</p><ul class=""><li id="e357" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated"><a class="ae pg" href="http://faculty.washington.edu/yenchic/17Sp_403/Lec9_theory.pdf" rel="noopener ugc nofollow" target="_blank">http://faculty . Washington . edu/yen chic/17Sp _ 403/le C9 _ theory . pdf</a></li><li id="6853" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated"><a class="ae pg" href="https://www.statlect.com/asymptotic-theory/empirical-distribution" rel="noopener ugc nofollow" target="_blank">https://www . stat lect . com/渐近理论/经验分布</a></li><li id="f031" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated"><a class="ae pg" href="http://bjlkeng.github.io/posts/the-empirical-distribution-function/" rel="noopener ugc nofollow" target="_blank">http://bjlkeng . github . io/posts/the-experimental-distribution-function/</a></li><li id="a476" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated"><a class="ae pg" href="http://pub.math.leidenuniv.nl/~szabobt/STAN/STAN7.pdf" rel="noopener ugc nofollow" target="_blank">http://pub.math.leidenuniv.nl/~szabobt/STAN/STAN7.pdf</a></li></ul><p id="e50c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">其他材料</p><ul class=""><li id="ddba" class="mk ml iq kt b ku kv kx ky la mm le mn li mo lm mp mq mr ms bi translated"><a class="ae pg" href="http://www.stat.cmu.edu/~larry/=stat705/Lecture13.pdf" rel="noopener ugc nofollow" target="_blank">http://www.stat.cmu.edu/~larry/=stat705/Lecture13.pdf</a></li><li id="3efb" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated"><a class="ae pg" href="http://faculty.washington.edu/yenchic/17Sp_403/Lec5-bootstrap.pdf" rel="noopener ugc nofollow" target="_blank">http://faculty . Washington . edu/yen chic/17Sp _ 403/le C5-bootstrap . pdf</a></li><li id="fd2e" class="mk ml iq kt b ku mt kx mu la mv le mw li mx lm mp mq mr ms bi translated"><a class="ae pg" href="https://web.as.uky.edu/statistics/users/pbreheny/764-F11/notes/12-6.pdf" rel="noopener ugc nofollow" target="_blank">https://web . as . uky . edu/statistics/users/pbre heny/764-F11/notes/12-6 . pdf</a></li></ul></div></div>    
</body>
</html>