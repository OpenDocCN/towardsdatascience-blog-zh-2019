<html>
<head>
<title>Image Object detection with Tensorflow-js ğŸ¤”</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åŸºäº Tensorflow-js çš„å›¾åƒç›®æ ‡æ£€æµ‹ğŸ¤”</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/image-object-detection-with-tensorflow-js-b8861119ed46?source=collection_archive---------7-----------------------#2019-08-27">https://towardsdatascience.com/image-object-detection-with-tensorflow-js-b8861119ed46?source=collection_archive---------7-----------------------#2019-08-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/5c94c9f029bcb55e7e77e37b9d6d1bc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*_goV6BV1jk2gdkPf9MlAXg.png"/></div></figure><p id="8173" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¿™æ˜¯å›¾åƒå¤„ç†ç³»åˆ—ä»é›¶åˆ°ä¸€çš„ç¬¬å››ç¯‡å¸–å­ã€‚</p><p id="b82d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¿™æ˜¯å…¶ä»–å¸–å­çš„åˆ—è¡¨</p><ol class=""><li id="fbcb" class="kv kw it jz b ka kb ke kf ki kx km ky kq kz ku la lb lc ld bi translated"><a class="ae le" href="https://overflowjs.com/posts/Image-Processing-OpenCV-and-Nodejs-Part-3.html" rel="noopener ugc nofollow" target="_blank">å›¾åƒå¤„ç†â€” OpenCV å’Œ Node.js(ç¬¬ä¸‰éƒ¨åˆ†)</a></li><li id="5e1e" class="kv kw it jz b ka lf ke lg ki lh km li kq lj ku la lb lc ld bi translated"><a class="ae le" href="https://overflowjs.com/posts/Image-Processing-Making-Custom-Filters-Reactjs-Part-2.html" rel="noopener ugc nofollow" target="_blank">å›¾åƒå¤„ç†â€”åˆ¶ä½œè‡ªå®šä¹‰æ»¤é•œâ€” React.js â€”ç¬¬äºŒéƒ¨åˆ†</a></li><li id="17e0" class="kv kw it jz b ka lf ke lg ki lh km li kq lj ku la lb lc ld bi translated"><a class="ae le" href="https://overflowjs.com/posts/Image-Processing-In-Reactjs-Part-1.html" rel="noopener ugc nofollow" target="_blank">ä½¿ç”¨ Cloundinary çš„å›¾åƒå¤„ç†(ç¬¬ä¸€éƒ¨åˆ†)</a></li></ol><p id="e5b5" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Tensorflow-js å’Œé¢„è®­ç»ƒçš„æ¨¡å‹æ„å»ºä¸€ä¸ªå›¾åƒå¯¹è±¡æ£€æµ‹ç³»ç»Ÿã€‚</p><p id="3892" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">é¦–å…ˆï¼Œåœ¨ç½‘é¡µä¸­éƒ¨ç½² TensorFlow æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯åŒ…å« ml5jsã€‚å‚è§‚ https://ml5js.org/ã€‚å®ƒæ˜¯ tf.js çš„åŒ…è£…å™¨ï¼Œä¸€ä¸ªå¼ é‡æµå’Œ p5.js åº“ï¼Œç”¨äºåœ¨ Html å…ƒç´ ä¸­è¿›è¡Œæ“ä½œã€‚</p><p id="0271" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ä½†æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›ä¿æŒåç«¯éƒ¨åˆ†çš„ç”µæºï¼Œä»¥ä¾¿æˆ‘å¯ä»¥å°è¯•ä½¿ç”¨ API çš„åç«¯è¿›ç¨‹ç­‰åœ¨åç«¯è¿è¡Œè¿™äº›æ¨¡å‹ã€‚</p><p id="7d5f" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å› æ­¤ï¼Œåœ¨æœ¬æ–‡çš„å‰åŠéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ React.js å’Œ Material-UI åˆ›å»ºä¸€ä¸ª UIï¼Œåœ¨ååŠéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†åœ¨ Node.js ä¸­åˆ›å»ºä¸€ä¸ª API æ¥æ”¯æŒè¿™ä¸ª UIã€‚</p><p id="1f83" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è®©æˆ‘ä»¬ä»æ„å»ºä¸€ä¸ªç¤ºä¾‹ React é¡¹ç›®å¼€å§‹ã€‚ğŸš€</p><h1 id="157f" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">å‰ç«¯éƒ¨åˆ†:-</h1><p id="958a" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">å¦‚æœæ‚¨éµå¾ªäº†æˆ‘çš„å‰ä¸€ç¯‡æ–‡ç« ï¼Œé‚£ä¹ˆ react é¡¹ç›®ä¼¼ä¹å¾ˆå®¹æ˜“æ„å»ºã€‚</p><ol class=""><li id="9647" class="kv kw it jz b ka kb ke kf ki kx km ky kq kz ku la lb lc ld bi translated">æ‰“å¼€ç»ˆç«¯ï¼Œåš</li></ol><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="e3d0" class="mw ll it ms b gy mx my l mz na">create-react-app image_classification_react_ui</span></pre><p id="54c6" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¿™å°†åˆ›å»ºä¸€ä¸ª react é¡¹ç›®æ¥ä½¿ç”¨ã€‚</p><p id="f3c9" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">2.è®©æˆ‘ä»¬å®‰è£…æ‰€éœ€çš„ä¾èµ–é¡¹</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="0c29" class="mw ll it ms b gy mx my l mz na">npm install @material-ui/core<br/>npm install â€” save isomorphic-fetch es6-promise</span></pre><blockquote class="nb nc nd"><p id="47af" class="jx jy ne jz b ka kb kc kd ke kf kg kh nf kj kk kl ng kn ko kp nh kr ks kt ku im bi translated">æ³¨æ„:ä» React ä»£ç è°ƒç”¨å¯¹è±¡æ£€æµ‹ API ç«¯ç‚¹éœ€è¦åŒæ„æå–ã€‚</p></blockquote><p id="a050" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">3.åœ¨ä½ æœ€å–œæ¬¢çš„ç¼–è¾‘å™¨ä¸­æ‰“å¼€é¡¹ç›®ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹</p><ol class=""><li id="7c82" class="kv kw it jz b ka kb ke kf ki kx km ky kq kz ku la lb lc ld bi translated"><strong class="jz iu">å®¹å™¨</strong> â€”è¿™å°†åŒ…å«ä¸€ä¸ªæ–‡ä»¶â€” <code class="fe ni nj nk ms b">ImageOps.jsx</code>ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰çš„å‰ç«¯ UI ä»£ç ã€‚</li><li id="93b5" class="kv kw it jz b ka lf ke lg ki lh km li kq lj ku la lb lc ld bi translated"><strong class="jz iu"> utils </strong> â€”è¿™å°†åŒ…å«ä¸€ä¸ªæ–‡ä»¶<code class="fe ni nj nk ms b">Api.js</code>ï¼Œç”¨äºè°ƒç”¨å¯¹è±¡æ£€æµ‹ç«¯ç‚¹ã€‚</li></ol><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="9bb9" class="mw ll it ms b gy mx my l mz na">â””â”€â”€ src<br/>    â”œâ”€â”€ containers<br/>        â”œâ”€â”€ ImageOps.jsx<br/>    â”œâ”€â”€ utils<br/>        â”œâ”€â”€ Api.js</span></pre><p id="7bb1" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è®©æˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹<code class="fe ni nj nk ms b">ImageOps.jsx</code>ä»£ç å¹¶ç†è§£å®ƒã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="8df2" class="mw ll it ms b gy mx my l mz na">import React from 'react';<br/> <br/>import Container from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Container';<br/>import Grid from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Grid';<br/> <br/>import Card from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Card';<br/>import CardContent from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/CardContent';<br/>import Typography from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Typography';<br/>import Button from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Button';<br/>import { red } from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/colors';<br/> <br/>import {api} from '../utils/Api';<br/> <br/>import Table from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Table';<br/>import TableBody from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/TableBody';<br/>import TableCell from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/TableCell';<br/>import TableHead from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/TableHead';<br/>import TableRow from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/TableRow';<br/>import Paper from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/Paper';<br/>import CircularProgress from '<a class="ae le" href="http://twitter.com/material" rel="noopener ugc nofollow" target="_blank">@material</a>-ui/core/CircularProgress';<br/> <br/> <br/>export default class ImageOps extends React.Component {<br/>  <br/>   constructor(props) {<br/>       super(props);<br/> <br/>       this.state = {<br/>           image_object: null,<br/>           image_object_details: {},<br/>           active_type: null<br/>       }<br/>   }<br/> <br/>   updateImageObject(e) {<br/>       const file  = e.target.files[0];<br/>       const reader = new FileReader();<br/>      <br/>       reader.readAsDataURL(file);<br/>       reader.onload = () =&gt; {<br/>           this.setState({image_object: reader.result, image_object_details: {}, active_type: null});<br/>       };<br/> <br/>   }<br/> <br/>   processImageObject(type) {<br/> <br/>       this.setState({active_type: type}, () =&gt; {<br/> <br/>           if(!this.state.image_object_details[this.state.active_type]) {<br/>               api("detect_image_objects", {<br/>                   type,<br/>                   data: this.state.image_object<br/>               }).then((response) =&gt; {<br/>                  <br/>                   const filtered_data = response;<br/>                   const image_details = this.state.image_object_details;<br/>      <br/>                   image_details[filtered_data.type] = filtered_data.data;<br/>      <br/>                   this.setState({image_object_details: image_details });<br/>               });<br/>           }<br/>       });<br/>   }<br/> <br/>   render() {<br/>       return (<br/>           &lt;Container maxWidth="md"&gt;<br/>               &lt;Grid container spacing={2}&gt;<br/>                   &lt;Grid item xs={12}&gt;<br/>                       &lt;CardContent&gt;<br/>                           &lt;Typography variant="h4" color="textPrimary" component="h4"&gt;<br/>                               Object Detection Tensorflow<br/>                           &lt;/Typography&gt;<br/>                       &lt;/CardContent&gt;<br/>                   &lt;/Grid&gt;<br/>                   &lt;Grid item xs={12}&gt;<br/>                       {this.state.image_object &amp;&amp;<br/>                           &lt;img src={this.state.image_object} alt="" height="500px"/&gt;<br/>                       }<br/>                   &lt;/Grid&gt;<br/>                   &lt;Grid item xs={12}&gt;<br/>                       &lt;Card&gt;<br/>                           &lt;CardContent&gt;<br/>                               &lt;Button variant="contained"<br/>                                   component='label' // &lt;-- Just add me!<br/>                                   &gt;<br/>                                   Upload Image<br/>                                   &lt;input accept="image/jpeg" onChange={(e) =&gt;  this.updateImageObject(e)} type="file" style={{ display: 'none' }} /&gt;<br/>                               &lt;/Button&gt;<br/>                           &lt;/CardContent&gt;<br/>                       &lt;/Card&gt;<br/>                   &lt;/Grid&gt;<br/>                   &lt;Grid item xs={3}&gt;<br/>                       &lt;Grid container justify="center" spacing={3}&gt;<br/>                           &lt;Grid item &gt;<br/>                               {this.state.image_object &amp;&amp; &lt;Button onClick={() =&gt; this.processImageObject("imagenet")}variant="contained" color="primary"&gt;<br/>                                   Get objects with ImageNet<br/>                               &lt;/Button&gt;}<br/>                           &lt;/Grid&gt;<br/>                           &lt;Grid item&gt;<br/>                               {this.state.image_object &amp;&amp; &lt;Button onClick={() =&gt; this.processImageObject("coco-ssd")}variant="contained" color="secondary"&gt;<br/>                                   Get objects with Coco SSD<br/>                               &lt;/Button&gt;}<br/>                           &lt;/Grid&gt;<br/>                       &lt;/Grid&gt;<br/>                   &lt;/Grid&gt;<br/>                   &lt;Grid item xs={9}&gt;<br/>                       &lt;Grid container justify="center"&gt;<br/>                           {this.state.active_type &amp;&amp; this.state.image_object_details[this.state.active_type] &amp;&amp;<br/>                               &lt;Grid item xs={12}&gt;<br/>                                   &lt;Card&gt;<br/>                                       &lt;CardContent&gt;<br/>                                           &lt;Typography variant="h4" color="textPrimary" component="h4"&gt;<br/>                                               {this.state.active_type.toUpperCase()}<br/>                                           &lt;/Typography&gt;<br/>                                           &lt;ImageDetails type={this.state.active_type} data = {this.state.image_object_details[this.state.active_type]}&gt;&lt;/ImageDetails&gt;<br/>                                       &lt;/CardContent&gt;<br/>                                   &lt;/Card&gt;<br/>                               &lt;/Grid&gt;<br/>                           }<br/>                           {this.state.active_type &amp;&amp; !this.state.image_object_details[this.state.active_type] &amp;&amp;<br/>                               &lt;Grid item xs={12}&gt;<br/>                                   &lt;CircularProgress<br/>                                       color="secondary"<br/>                                   /&gt;<br/>                               &lt;/Grid&gt;<br/>                           }<br/>                       &lt;/Grid&gt;<br/>                   &lt;/Grid&gt;<br/>               &lt;/Grid&gt;<br/>           &lt;/Container&gt;<br/>       )<br/>   }<br/>}<br/> <br/>class ImageDetails extends React.Component {<br/>  <br/>   render() {<br/> <br/>       console.log(this.props.data);<br/> <br/>       return (<br/>           &lt;Grid item xs={12}&gt;<br/>               &lt;Paper&gt;<br/>                   &lt;Table&gt;<br/>                   &lt;TableHead&gt;<br/>                       &lt;TableRow&gt;<br/>                       &lt;TableCell&gt;Objects&lt;/TableCell&gt;<br/>                       &lt;TableCell align="right"&gt;Probability&lt;/TableCell&gt;<br/>                       &lt;/TableRow&gt;<br/>                   &lt;/TableHead&gt;<br/>                   &lt;TableBody&gt;<br/>                       {this.props.data.map((row) =&gt; {<br/>                           if (this.props.type === "imagenet") {<br/>                               return (<br/>                                   &lt;TableRow key={row.className}&gt;<br/>                                       &lt;TableCell component="th" scope="row"&gt;<br/>                                       {row.className}<br/>                                       &lt;/TableCell&gt;<br/>                                       &lt;TableCell align="right"&gt;{row.probability.toFixed(2)}&lt;/TableCell&gt;<br/>                                   &lt;/TableRow&gt;<br/>                               )<br/>                           } else if(this.props.type === "coco-ssd") {<br/>                               return (<br/>                                   &lt;TableRow key={row.className}&gt;<br/>                                       &lt;TableCell component="th" scope="row"&gt;<br/>                                       {row.class}<br/>                                       &lt;/TableCell&gt;<br/>                                       &lt;TableCell align="right"&gt;{row.score.toFixed(2)}&lt;/TableCell&gt;<br/>                                   &lt;/TableRow&gt;<br/>                               )<br/>                           }<br/>                           })<br/>                       }<br/>                   &lt;/TableBody&gt;<br/>                   &lt;/Table&gt;<br/>               &lt;/Paper&gt;<br/>            <br/>           &lt;/Grid&gt;<br/>       )<br/>   }<br/>}<br/> <br/>}</span></pre><blockquote class="nb nc nd"><p id="18f4" class="jx jy ne jz b ka kb kc kd ke kf kg kh nf kj kk kl ng kn ko kp nh kr ks kt ku im bi translated">æ³¨:è¿™é‡Œæ˜¯ä¸Šé¢çš„ Github repo é“¾æ¥â€”<a class="ae le" href="https://github.com/overflowjs-com/image_object_detction_react_ui" rel="noopener ugc nofollow" target="_blank">https://Github . com/overflow js-com/image _ object _ det ction _ react _ ui</a>ã€‚å¦‚æœä½ è§‰å¾—ç†è§£å¾ˆéš¾ï¼Œé‚£ä¹ˆæˆ‘å¼ºçƒˆæ¨èä½ é˜…è¯»æˆ‘ä»¬çš„ç¬¬ 2 éƒ¨åˆ†å’Œç¬¬ 1 éƒ¨åˆ†ã€‚</p></blockquote><p id="2366" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">åœ¨æ¸²æŸ“ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªä¸‰è¡Œçš„ç½‘æ ¼ï¼Œå…¶ä¸­ä¸€è¡ŒåŒ…å«æ ‡é¢˜</p><p id="a366" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ç¬¬äºŒï¼ŒåŒ…å«è¦æ˜¾ç¤ºçš„å›¾åƒ</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="3c4f" class="mw ll it ms b gy mx my l mz na">&lt;Grid item xs={12}&gt;<br/>  {this.state.image_object &amp;&amp;<br/>    &lt;img src={this.state.image_object} alt="" height="500px"/&gt;}                <br/>&lt;/Grid&gt;</span></pre><p id="c413" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¦‚æœå›¾åƒå·²ç»ä¸Šä¼ æˆ–å›¾åƒå¯¹è±¡å¤„äºå¯ç”¨çŠ¶æ€ï¼Œæˆ‘ä»¬å°†åœ¨æ­¤æ˜¾ç¤ºå›¾åƒ</p><p id="2d18" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ä¸‹ä¸€ä¸ªç½‘æ ¼åŒ…å«ä¸€ä¸ªæŒ‰é’®ï¼Œç”¨äºä¸Šä¼ æ–‡ä»¶å¹¶å°†ä¸Šä¼ çš„æ–‡ä»¶æ›´æ–°åˆ°å½“å‰çŠ¶æ€ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="ca7f" class="mw ll it ms b gy mx my l mz na">&lt;Grid item xs={12}&gt;<br/>    &lt;Card&gt;<br/>        &lt;CardContent&gt;<br/>            &lt;Button variant="contained"<br/>                component='label' // &lt;-- Just add me!<br/>                &gt;<br/>                Upload Image<br/>                &lt;input accept="image/jpeg" onChange={(e) =&gt;  this.updateImageObject(e)} type="file" style={{ display: 'none' }} /&gt;<br/>            &lt;/Button&gt;<br/>        &lt;/CardContent&gt;<br/>    &lt;/Card&gt;<br/>&lt;/Grid&gt;</span></pre><p id="c79b" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æˆ‘ä»¬è°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°<code class="fe ni nj nk ms b">updateImage</code>æ¥æ›´æ–°çŠ¶æ€ä¸‹å½“å‰é€‰ä¸­çš„å›¾åƒã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="fcf2" class="mw ll it ms b gy mx my l mz na">updateImageObject(e) {<br/>       const file  = e.target.files[0];<br/>       const reader = new FileReader();<br/>      <br/>       reader.readAsDataURL(file);<br/>       reader.onload = () =&gt; {<br/>           this.setState({image_object: reader.result, image_object_details: {}, active_type: null<br/>           });<br/>       };<br/>}</span></pre><p id="5570" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä»æ–‡ä»¶è¾“å…¥ä¸Šä¼ å™¨ä¸­è¯»å–å½“å‰æ–‡ä»¶å¯¹è±¡ï¼Œå¹¶åœ¨å½“å‰çŠ¶æ€ä¸‹åŠ è½½å®ƒçš„æ•°æ®ã€‚éšç€æ–°å›¾åƒçš„ä¸Šä¼ ï¼Œæˆ‘ä»¬æ­£åœ¨é‡ç½® image_object_details å’Œ active_typeï¼Œä»¥ä¾¿å¯ä»¥å¯¹ä¸Šä¼ çš„å›¾åƒåº”ç”¨æ–°çš„æ“ä½œ</p><p id="8cb3" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ä¸‹é¢æ˜¯ä¸‹ä¸€ä¸ªç½‘æ ¼ï¼ŒåŒ…å«æ¯ä¸ªæ¨¡å‹çš„ä¸¤ä¸ªæŒ‰é’®çš„ä»£ç ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="bea1" class="mw ll it ms b gy mx my l mz na">&lt;Grid item xs={3}&gt;<br/>        &lt;Grid container justify="center" spacing={3}&gt;<br/>            &lt;Grid item &gt;<br/>                {this.state.image_object &amp;&amp; &lt;Button onClick={() =&gt; this.processImageObject("imagenet")}variant="contained" color="primary"&gt;<br/>                    Get objects with ImageNet<br/>                &lt;/Button&gt;}<br/>            &lt;/Grid&gt;<br/>            &lt;Grid item&gt; <br/>                {this.state.image_object &amp;&amp; &lt;Button onClick={() =&gt; this.processImageObject("coco-ssd")}variant="contained" color="secondary"&gt;<br/>                    Get objects with Coco SSD<br/>                &lt;/Button&gt;}<br/>            &lt;/Grid&gt;<br/>        &lt;/Grid&gt;<br/>    &lt;/Grid&gt;<br/>    &lt;Grid item xs={9}&gt;<br/>        &lt;Grid container justify="center"&gt;<br/>            {this.state.active_type &amp;&amp; this.state.image_object_details[this.state.active_type] &amp;&amp;<br/>                &lt;Grid item xs={12}&gt;<br/>                    &lt;Card&gt;<br/>                        &lt;CardContent&gt;<br/>                            &lt;Typography variant="h4" color="textPrimary" component="h4"&gt;<br/>                                {this.state.active_type.toUpperCase()}<br/>                            &lt;/Typography&gt;<br/>                            &lt;ImageDetails data = {this.state.image_object_details[this.state.active_type]}&gt;&lt;/ImageDetails&gt;<br/>                        &lt;/CardContent&gt;<br/>                    &lt;/Card&gt;<br/>                &lt;/Grid&gt;<br/>            }<br/>            {this.state.active_type &amp;&amp; !this.state.image_object_details[this.state.active_type] &amp;&amp; <br/>                &lt;Grid item xs={12}&gt;<br/>                    &lt;CircularProgress<br/>                        color="secondary"<br/>                    /&gt;<br/>                &lt;/Grid&gt;<br/>            }<br/>     &lt;/Grid&gt;<br/>&lt;/Grid&gt;</span></pre><p id="c468" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ç½‘æ ¼ä» 12 åˆ—çˆ¶ç½‘æ ¼åˆ†ä¸º 3 åˆ—å’Œ 9 åˆ—ä¸¤éƒ¨åˆ†ã€‚</p><p id="67d8" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ç¬¬ä¸€ä¸ªæœ‰ 3 åˆ—çš„ç½‘æ ¼åŒ…å«ä¸¤ä¸ªæœ‰ä¸¤ä¸ªæŒ‰é’®çš„ç½‘æ ¼</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="39b3" class="mw ll it ms b gy mx my l mz na">&lt;Grid container justify="center" spacing={3}&gt;<br/>    &lt;Grid item &gt;<br/>        {this.state.image_object &amp;&amp; &lt;Button onClick={() =&gt; this.processImageObject("imagenet")}variant="contained" color="primary"&gt;<br/>            Get objects with ImageNet<br/>        &lt;/Button&gt;}<br/>    &lt;/Grid&gt;<br/>    &lt;Grid item&gt; <br/>        {this.state.image_object &amp;&amp; &lt;Button onClick={() =&gt; this.processImageObject("coco-ssd")}variant="contained" color="secondary"&gt;<br/>            Get objects with Coco SSD<br/>        &lt;/Button&gt;}<br/>    &lt;/Grid&gt;<br/>&lt;/Grid&gt;</span></pre><blockquote class="nb nc nd"><p id="fde4" class="jx jy ne jz b ka kb kc kd ke kf kg kh nf kj kk kl ng kn ko kp nh kr ks kt ku im bi translated">æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨<strong class="jz iu"> ImageNet å’Œ Coco SSD å‹å·</strong>åˆ†æå›¾åƒæ£€æµ‹ï¼Œå¹¶æ¯”è¾ƒè¾“å‡ºã€‚</p></blockquote><p id="f0ff" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æ¯ä¸ªæŒ‰é’®éƒ½æœ‰ä¸€ä¸ªåŠ¨ä½œäº‹ä»¶ onClickï¼Œå®ƒè°ƒç”¨ä¸€ä¸ªå‡½æ•°<code class="fe ni nj nk ms b">processImageObject()</code>,è¯¥å‡½æ•°å°†æ¨¡å‹çš„åç§°ä½œä¸ºå‚æ•°ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="fe31" class="mw ll it ms b gy mx my l mz na">processImageObject(type) {</span><span id="a29d" class="mw ll it ms b gy nl my l mz na">this.setState({active_type: type}, () =&gt; {<br/>        api("detect_image_objects", {<br/>            type,<br/>            data: this.state.image_object<br/>        }).then((response) =&gt; {<br/>            <br/>            const filtered_data = response;<br/>            const image_details = this.state.image_object_details;</span><span id="dcda" class="mw ll it ms b gy nl my l mz na">image_details[filtered_data.type] = filtered_data.data;</span><span id="4d7d" class="mw ll it ms b gy nl my l mz na">this.setState({image_object_details: image_details });<br/>        });<br/>    });<br/>}</span></pre><p id="bc9d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æˆ‘ä»¬æ­£åœ¨ç”¨å½“å‰é€‰æ‹©çš„æ¨¡æ€è®¾ç½®çŠ¶æ€å¯¹è±¡<code class="fe ni nj nk ms b">action_type</code>ã€‚</p><p id="431f" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Process image å¯¹è±¡å‡½æ•°å°†ä» state ä¸­è·å–å½“å‰å›¾åƒï¼Œå¹¶å°†å…¶å‘é€ç»™ API å‡½æ•°ï¼Œæˆ‘æ¥ä¸‹æ¥å°†å‘æ‚¨å±•ç¤ºè¯¥å‡½æ•°ï¼ŒAPI å°†è¢«è°ƒç”¨<code class="fe ni nj nk ms b">detect_image_objects</code>ï¼Œä½œä¸ºå“åº”ï¼Œæˆ‘ä»¬å°†åœ¨ UI ä¸­è¿›è¡Œå¤„ç†å’Œæ˜¾ç¤ºã€‚</p><p id="4ea0" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å°†ä» API è·å–å“åº”ï¼Œå¹¶åœ¨é˜¶æ®µ<code class="fe ni nj nk ms b">image_object_details</code>ä¸­è®¾ç½®ã€‚</p><p id="bc98" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æˆ‘ä»¬æ ¹æ®å‹å·ç±»å‹<strong class="jz iu"> (imagenet/coco-ssd) </strong>è®¾ç½®æ¯ä¸ª API å“åº”</p><p id="38d4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¯¥æŒ‰é’®ä»…åœ¨<code class="fe ni nj nk ms b">image_object</code>å¤„äºè¯¥çŠ¶æ€æ—¶å¯è§ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="7d75" class="mw ll it ms b gy mx my l mz na">{<br/> this.state.image_object &amp;&amp; <br/> &lt;Button onClick={() =&gt; this.processImageObject()} variant="contained" color="primary"&gt;Process Image <br/> &lt;/Button&gt;<br/>}</span></pre><p id="713e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ä¸‹é¢æ˜¯æˆ‘ä»¬åˆ›å»ºçš„å¦ä¸€ä¸ªç½‘æ ¼:</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="1e42" class="mw ll it ms b gy mx my l mz na">&lt;Grid item xs={9}&gt;<br/>    &lt;Grid container justify="center"&gt;<br/>        {this.state.active_type &amp;&amp; this.state.image_object_details[this.state.active_type] &amp;&amp;<br/>            &lt;Grid item xs={12}&gt;<br/>                &lt;Card&gt;<br/>                    &lt;CardContent&gt;<br/>                        &lt;Typography variant="h4" color="textPrimary" component="h4"&gt;<br/>                            {this.state.active_type.toUpperCase()}<br/>                        &lt;/Typography&gt;<br/>                        &lt;ImageDetails  type={this.state.active_type} data = {this.state.image_object_details[this.state.active_type]}&gt;&lt;/ImageDetails&gt;<br/>                    &lt;/CardContent&gt;<br/>                &lt;/Card&gt;<br/>            &lt;/Grid&gt;<br/>        }<br/>        {this.state.active_type &amp;&amp; !this.state.image_object_details[this.state.active_type] &amp;&amp; <br/>            &lt;Grid item xs={12}&gt;<br/>                &lt;CircularProgress<br/>                    color="secondary"<br/>                /&gt;<br/>            &lt;/Grid&gt;<br/>        }<br/>    &lt;/Grid&gt;<br/>&lt;/Grid&gt;</span></pre><p id="24a8" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¿™é‡Œæˆ‘ä»¬å·²ç»æ£€æŸ¥äº†å½“å‰çš„<code class="fe ni nj nk ms b">action_type</code>æ¨¡å¼æ˜¯å¦è¢«é€‰ä¸­ï¼Œå¦‚æœ API å·²ç»å¤„ç†äº†ç»†èŠ‚ï¼Œå®ƒå°†æ˜¾ç¤ºå¯¹è±¡ç»†èŠ‚ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç»„ä»¶<code class="fe ni nj nk ms b">ImageDetails</code>ã€‚</p><p id="22bf" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è®©æˆ‘ä»¬çœ‹çœ‹<code class="fe ni nj nk ms b">ImageDetails</code>ç»„ä»¶ä»£ç ï¼Œå®ƒå¾ˆå®¹æ˜“ç†è§£ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="e8d1" class="mw ll it ms b gy mx my l mz na">class ImageDetails extends React.Component {<br/>  <br/>   render() {<br/> <br/>       console.log(this.props.data);<br/> <br/>       return (<br/>           &lt;Grid item xs={12}&gt;<br/>               &lt;Paper&gt;<br/>                   &lt;Table&gt;<br/>                   &lt;TableHead&gt;<br/>                       &lt;TableRow&gt;<br/>                       &lt;TableCell&gt;Objects&lt;/TableCell&gt;<br/>                       &lt;TableCell align="right"&gt;Probability&lt;/TableCell&gt;<br/>                       &lt;/TableRow&gt;<br/>                   &lt;/TableHead&gt;<br/>                   &lt;TableBody&gt;<br/>                       {this.props.data.map((row) =&gt; {<br/>                           if (this.props.type === "imagenet") {<br/>                               return (<br/>                                   &lt;TableRow key={row.className}&gt;<br/>                                       &lt;TableCell component="th" scope="row"&gt;<br/>                                       {row.className}<br/>                                       &lt;/TableCell&gt;<br/>                                       &lt;TableCell align="right"&gt;{row.probability.toFixed(2)}&lt;/TableCell&gt;<br/>                                   &lt;/TableRow&gt;<br/>                               )<br/>                           } else if(this.props.type === "coco-ssd") {<br/>                               return (<br/>                                   &lt;TableRow key={row.className}&gt;<br/>                                       &lt;TableCell component="th" scope="row"&gt;<br/>                                       {row.class}<br/>                                       &lt;/TableCell&gt;<br/>                                       &lt;TableCell align="right"&gt;{row.score.toFixed(2)}&lt;/TableCell&gt;<br/>                                   &lt;/TableRow&gt;<br/>                               )<br/>                           }<br/>                           })<br/>                       }<br/>                   &lt;/TableBody&gt;<br/>                   &lt;/Table&gt;<br/>               &lt;/Paper&gt;<br/>            <br/>           &lt;/Grid&gt;<br/>       )<br/>   }<br/>}</span></pre><p id="8821" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¯¥ç»„ä»¶å°†æ˜¾ç¤ºä»å¯¹è±¡çš„æ¨¡æ€åç§°æ¥æ”¶çš„è¯¦ç»†ä¿¡æ¯åŠå…¶æ¦‚ç‡ã€‚åŸºäºæˆ‘ä»¬æ­£åœ¨å¤„ç†çš„æ¨¡æ€çš„ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾ç¤ºåœ¨è¿™ä¸ªç±»ä¸­å¤„ç†çš„ä¸¤ä¸ªä¸åŒçš„è¾“å‡ºã€‚</p><p id="b5ac" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">4.æœ€åä¸€æ­¥æ˜¯ç¼–å†™ API.js åŒ…è£…å™¨è¿›è¡ŒæœåŠ¡å™¨ç«¯è°ƒç”¨ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="6779" class="mw ll it ms b gy mx my l mz na">import fetch from  'isomorphic-fetch';<br/><br/>const BASE_API_URL = "<a class="ae le" href="http://localhost:4000/api/" rel="noopener ugc nofollow" target="_blank">http://localhost:4000/api/</a>"<br/> <br/>export function api(api_end_point, data) {<br/> <br/>   return fetch(BASE_API_URL+api_end_point,<br/>       {<br/>           method: 'POST',<br/>           headers: {<br/>               'Content-Type': 'application/json'<br/>           },<br/>           body:JSON.stringify(data)<br/>       }).then((response) =&gt; {<br/>           return response.json();<br/>       });<br/>}</span></pre><p id="cea5" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">åœ¨è¿™ä¸ªç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªé€šè¿‡è·å– API å‡½æ•°çš„åŒ…è£…å™¨ï¼Œå®ƒå°†è·å– API ç«¯ç‚¹å’Œæ•°æ®ï¼Œå¹¶å°†æ„é€ å®Œæ•´çš„ URL å’Œä» API å‘é€çš„è¿”å›å“åº”ã€‚</p><p id="5984" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æœ€ç»ˆçš„ç”¨æˆ·ç•Œé¢å°†å¦‚ä¸‹æ‰€ç¤º</p><figure class="mn mo mp mq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi nm"><img src="../Images/5d4ad53a7023afb39e96b19441b19aa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nYxMAew-o32Uda1ja6_Inw.png"/></div></div></figure><h1 id="09c8" class="lk ll it bd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated">åç«¯éƒ¨åˆ†:-</h1><p id="8c0e" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">ç°åœ¨ï¼Œæ—¢ç„¶æˆ‘ä»¬å·²ç»æœ‰äº†è‡ªå·±çš„ UIï¼Œè®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ tensorflow.js åˆ›å»ºä¸€ä¸ª API ç«¯ç‚¹ï¼Œçœ‹èµ·æ¥åƒè¿™æ ·</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="1b46" class="mw ll it ms b gy mx my l mz na"><a class="ae le" href="http://localhost:4000/api/detect_image_objects" rel="noopener ugc nofollow" target="_blank">http://localhost:4000/api/detect_image_objects</a></span></pre><ol class=""><li id="3382" class="kv kw it jz b ka kb ke kf ki kx km ky kq kz ku la lb lc ld bi translated">ç¬¬ä¸€æ­¥æ˜¯é€‰æ‹©ä¸€ä¸ªæ ·æ¿æ–‡ä»¶ï¼Œå®ƒä½¿ç”¨ express.js å¹¶æä¾›åªç¼–å†™è·¯ç”±å’Œå¯¹è±¡æ£€æµ‹é€»è¾‘çš„èƒ½åŠ›ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<a class="ae le" href="https://github.com/developit/express-es6-rest-api" rel="noopener ugc nofollow" target="_blank">https://github.com/developit/express-es6-rest-api</a>ã€‚è®©æˆ‘ä»¬å…‹éš†å®ƒ</li></ol><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="0022" class="mw ll it ms b gy mx my l mz na">git clone <a class="ae le" href="https://github.com/developit/express-es6-rest-api" rel="noopener ugc nofollow" target="_blank">https://github.com/developit/express-es6-rest-api</a> image_detection_tensorflow_api</span></pre><p id="2536" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">2.ç°åœ¨ï¼Œé€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="838b" class="mw ll it ms b gy mx my l mz na">cd image_detection_tensorflow_api<br/>npm install</span></pre><p id="254a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">3.è½¬åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code class="fe ni nj nk ms b">config.json</code>ï¼Œå°†<code class="fe ni nj nk ms b">port</code>ç¼–è¾‘ä¸º 4000ï¼Œå°†<code class="fe ni nj nk ms b">bodylimit</code>ç¼–è¾‘ä¸º 10000kbã€‚</p><blockquote class="nb nc nd"><p id="839b" class="jx jy ne jz b ka kb kc kd ke kf kg kh nf kj kk kl ng kn ko kp nh kr ks kt ku im bi translated">æ³¨æ„:æˆ‘ä»¬å°†ä½¿ç”¨é¢„å…ˆè®­ç»ƒçš„æ¨¡å‹<code class="fe ni nj nk ms b">imagenet and coco-ssd.</code>ä»å›¾åƒä¸­å¯»æ‰¾å¤šä¸ªå¯¹è±¡æ˜¯ä¸€é¡¹ç¹ççš„å·¥ä½œï¼Œå°½ç®¡ image net ä»¥ä»å›¾åƒä¸­æ£€æµ‹å•ä¸ªå¯¹è±¡(åŠ¨ç‰©/å…¶ä»–å¯¹è±¡)è€Œé—»åï¼Œä½†è¿™ä¸¤ç§æ¨¡å‹éƒ½åŸºäºéå¸¸å¹¿æ³›çš„ä¸åŒæ•°æ®é›†ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æ²¡æœ‰å¾—åˆ°ä½ çš„ç›®æ ‡ï¼Œä¸è¦æ‹…å¿ƒğŸ˜…ã€‚</p></blockquote><p id="fdf5" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">4.ä» TensorFlow å¼€å§‹ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯æ—§ç‰ˆæœ¬ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°èŠ‚ç‚¹ç‰ˆæœ¬ã€‚åœ¨ä½ ç†Ÿæ‚‰äº†èŠ‚ç‚¹ç‰ˆæœ¬ä¹‹åï¼Œè®©æˆ‘ä»¬è¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£…<a class="ae le" href="https://github.com/tensorflow/tfjs-models/tree/master/coco-ssd/demo" rel="noopener ugc nofollow" target="_blank">https://github.com/tensorflow/tfjs-models</a></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="c642" class="mw ll it ms b gy mx my l mz na">npm install @tensorflow/tfjs-node</span></pre><blockquote class="nb nc nd"><p id="85b1" class="jx jy ne jz b ka kb kc kd ke kf kg kh nf kj kk kl ng kn ko kp nh kr ks kt ku im bi translated">æ³¨æ„:æ‚¨å¯ä»¥æ ¹æ®æ‚¨çš„ç³»ç»Ÿ Linux/Windows/Mac ä½¿ç”¨â€”<a class="ae le" href="https://www.npmjs.com/package/@tensorflow/tfjs-node" rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/package/@tensorflow/tfjs-node</a>å®‰è£…<a class="ae le" href="https://www.npmjs.com/package/@tensorflow/tfjs-node" rel="noopener ugc nofollow" target="_blank"> tfjs-node </a></p></blockquote><p id="48d1" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">5.ç°åœ¨è®©æˆ‘ä»¬å®‰è£…æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„ä¸¤ä¸ªæ¨¡å‹ï¼Œæ‰€ä»¥è¿è¡Œ</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="0527" class="mw ll it ms b gy mx my l mz na">npm install @tensorflow-models/mobilenet â€” save<br/>npm install @tensorflow-models/coco-ssd â€” save</span></pre><p id="b870" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">6.æˆ‘ä»¬éœ€è¦å®‰è£…ä¸‹é¢çš„æ¨¡å—ï¼Œå› ä¸ºéœ€è¦ä¾èµ–</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="e10c" class="mw ll it ms b gy mx my l mz na">npm install base64-to-uint8array â€” save</span></pre><p id="2b09" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">7.ç°åœ¨è½¬åˆ°<code class="fe ni nj nk ms b">src &gt; api</code>æ–‡ä»¶å¤¹ä¸‹çš„<code class="fe ni nj nk ms b">index.js</code>ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç«¯ç‚¹</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="8e60" class="mw ll it ms b gy mx my l mz na">api.post('/detect_image_objects', async (req, res) =&gt; {<br/>  const data = req.body.data;<br/>  const type = req.body.type;</span><span id="ee95" class="mw ll it ms b gy nl my l mz na">  const objectDetect = new ObjectDetectors(data, type);<br/>  const results = await objectDetect.process();</span><span id="c1d2" class="mw ll it ms b gy nl my l mz na">  res.json(results);<br/>});</span></pre><p id="804a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è¿™é‡Œæˆ‘ä»¬è°ƒç”¨<code class="fe ni nj nk ms b">ObjectDetectors</code>ç±»å¹¶ä¼ é€’ä» UI æ¥æ”¶çš„ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ base64 ç¼–ç çš„å›¾åƒï¼Œå¦ä¸€ä¸ªæ˜¯æ¨¡å‹çš„ç±»å‹ã€‚</p><p id="cb22" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">8.ç°åœ¨è®©æˆ‘ä»¬åˆ›å»º<code class="fe ni nj nk ms b">ObjectDetectors</code>ç±»ã€‚è½¬åˆ°<code class="fe ni nj nk ms b">src &gt; api</code>æ–‡ä»¶å¤¹å¹¶åˆ›å»º<code class="fe ni nj nk ms b">object_detector</code>æ–‡ä»¶å¤¹ã€‚åœ¨<code class="fe ni nj nk ms b">object_detector</code>ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶<code class="fe ni nj nk ms b">ObjectDetectors.js</code></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="f71d" class="mw ll it ms b gy mx my l mz na">const tf = require('<a class="ae le" href="http://twitter.com/tensorflow/tfjs-node" rel="noopener ugc nofollow" target="_blank">@tensorflow/tfjs-node</a>');<br/> <br/>const cocossd = require('<a class="ae le" href="http://twitter.com/tensorflow" rel="noopener ugc nofollow" target="_blank">@tensorflow</a>-models/coco-ssd');<br/>const mobilenet = require('<a class="ae le" href="http://twitter.com/tensorflow" rel="noopener ugc nofollow" target="_blank">@tensorflow</a>-models/mobilenet');<br/> <br/>import toUint8Array from 'base64-to-uint8array';<br/> <br/> <br/>export default class ObjectDetectors {<br/> <br/>   constructor(image, type) {<br/> <br/>       this.inputImage = image;<br/>       this.type = type;<br/>   }<br/>  <br/>   async loadCocoSsdModal() {<br/>       const modal = await cocossd.load({<br/>           base: 'mobilenet_v2'<br/>       })<br/>       return modal;<br/>   }<br/> <br/>   async loadMobileNetModal() {<br/>       const modal = await mobilenet.load({<br/>           version: 1,<br/>           alpha: 0.25 | .50 | .75 | 1.0,<br/>       })<br/>       return modal;<br/>   }<br/> <br/>   getTensor3dObject(numOfChannels) {<br/> <br/>       const imageData = this.inputImage.replace('data:image/jpeg;base64','')<br/>                           .replace('data:image/png;base64','');<br/>      <br/>       const imageArray = toUint8Array(imageData);<br/>      <br/>       const tensor3d = tf.node.decodeJpeg( imageArray, numOfChannels );<br/> <br/>       return tensor3d;<br/>   }<br/> <br/>   async process() {<br/>        <br/>       let predictions = null;<br/>       const tensor3D = this.getTensor3dObject(3);<br/> <br/>       if(this.type === "imagenet") {<br/> <br/>           const model =  await this.loadMobileNetModal();<br/>           predictions = await model.classify(tensor3D);<br/> <br/>       } else {<br/> <br/>           const model =  await this.loadCocoSsdModal();<br/>           predictions = await model.detect(tensor3D);<br/>       }<br/> <br/>       tensor3D.dispose();<br/> <br/>      return {data: predictions, type: this.type};<br/>   }<br/>}</span></pre><p id="0547" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æˆ‘ä»¬æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å›¾åƒ base64 ç¼–ç ï¼Œå¦ä¸€ä¸ªæ˜¯å›¾åƒç±»å‹ã€‚</p><p id="ec07" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è°ƒç”¨ä¸€ä¸ªè°ƒç”¨<code class="fe ni nj nk ms b">getTensor3dObject(3).</code>çš„<code class="fe ni nj nk ms b">process</code>å‡½æ•°</p><blockquote class="nb nc nd"><p id="ca71" class="jx jy ne jz b ka kb kc kd ke kf kg kh nf kj kk kl ng kn ko kp nh kr ks kt ku im bi translated">æ³¨æ„:è¿™é‡Œ 3 æ˜¯é€šé“çš„æ•°é‡ï¼Œå› ä¸ºåœ¨ UI ä¸­ï¼Œæˆ‘ä»¬å°†å›¾åƒç±»å‹é™åˆ¶ä¸º jpegï¼Œç°åœ¨æ˜¯ 3 é€šé“å›¾åƒã€‚æˆ‘ä»¬ä¸å¤„ç† png çš„ 4 é€šé“å›¾åƒï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°å»ºç«‹è¿™ä¸ªï¼Œå› ä¸ºä½ å¯ä»¥åœ¨ API ä¸­å‘é€å›¾åƒç±»å‹ï¼Œå¹¶æ ¹æ®éœ€è¦æ”¹å˜ç»™å®šçš„å‡½æ•°ã€‚</p></blockquote><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="6e17" class="mw ll it ms b gy mx my l mz na">getTensor3dObject(numOfChannels) {<br/> const imageData = this.inputImage.replace('data:image/jpeg;base64','')<br/>           .replace('data:image/png;base64','');</span><span id="1888" class="mw ll it ms b gy nl my l mz na">const imageArray = toUint8Array(imageData);</span><span id="f7f2" class="mw ll it ms b gy nl my l mz na">const tensor3d = tf.node.decodeJpeg( imageArray, numOfChannels );</span><span id="6440" class="mw ll it ms b gy nl my l mz na">return tensor3d;<br/>}</span></pre><p id="e0fc" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ä» base64 å›¾åƒä¸­ç§»é™¤æ ‡ç­¾ï¼Œå°†å…¶è½¬æ¢ä¸ºå›¾åƒæ•°ç»„ï¼Œå¹¶æ„å»º tensor3dã€‚</p><p id="ce8f" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æˆ‘ä»¬çš„é¢„è®­ç»ƒæ¨¡å‹ä½¿ç”¨ tensor3d å¯¹è±¡æˆ–<code class="fe ni nj nk ms b">&lt;img&gt;</code> HTML æ ‡è®°æˆ– HTML è§†é¢‘æ ‡è®°ï¼Œä½†å½“æˆ‘ä»¬ä» Node.js API æ‰§è¡Œæ­¤æ“ä½œæ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª base64 å›¾åƒï¼Œå®ƒè¢«è½¬æ¢ä¸º tensor3d å¯¹è±¡ã€‚</p><p id="346e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æ¬£ç„¶ tensorflow.js ä¸ºå®ƒæä¾›äº†ä¸€ä¸ªå‡½æ•°<code class="fe ni nj nk ms b">decodeJpeg</code>ã€‚</p><blockquote class="nb nc nd"><p id="5f0c" class="jx jy ne jz b ka kb kc kd ke kf kg kh nf kj kk kl ng kn ko kp nh kr ks kt ku im bi translated">TensorFlow è¿˜æä¾›äº†å…¶ä»–åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æ›´å¤šè¯¦ç»†ä¿¡æ¯â€”<a class="ae le" href="https://js.tensorflow.org/api_node/1.2.7/#node.decodeJpeg" rel="noopener ugc nofollow" target="_blank">https://js.tensorflow.org/api_node/1.2.7/#node.decodeJpeg</a></p></blockquote><p id="a6a3" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ç°åœ¨<code class="fe ni nj nk ms b">decodeJpeg</code>å°†æŠŠæˆ‘ä»¬çš„ 3 é€šé“å›¾åƒçš„<code class="fe ni nj nk ms b">ArrayBuffer</code>è½¬æ¢æˆ tesnor3d å¯¹è±¡ã€‚</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="5531" class="mw ll it ms b gy mx my l mz na">if(this.type === "imagenet") {<br/> const model =  await this.loadMobileNetModal();<br/> predictions = await model.classify(tensor3D);</span><span id="365d" class="mw ll it ms b gy nl my l mz na">} else {<br/> const model =  await this.loadCocoSsdModal();<br/> predictions = await model.detect(tensor3D);<br/>}</span></pre><p id="ae5e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">åŸºäºé€‰æ‹©çš„æ¨¡å‹ç±»å‹ï¼Œæˆ‘ä»¬åœ¨ API è°ƒç”¨ä¸­åŠ è½½æ¨¡å‹ã€‚ä½ å¯ä»¥åœ¨ API å¼€å§‹åŠ è½½çš„æ—¶å€™åŠ è½½æ¨¡å‹ï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ªåšå®¢ï¼Œæˆ‘åªæ˜¯åœ¨ API å¾—åˆ°ä¸€ä¸ªè°ƒç”¨çš„æ—¶å€™åŠ è½½å®ƒä»¬ï¼Œæ‰€ä»¥ API å¯èƒ½éœ€è¦æ—¶é—´æ¥å“åº”ã€‚</p><p id="9df4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ä¸‹é¢æ˜¯æˆ‘ç›®å‰ä¸ºæ­¢å¾—åˆ°çš„ç»“æœ</p><h2 id="51a3" class="mw ll it bd lm nr ns dn lq nt nu dp lu ki nv nw ly km nx ny mc kq nz oa mg ob bi translated">IMAGENET æ¨¡å‹è¾“å‡º</h2><figure class="mn mo mp mq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi oc"><img src="../Images/024044dd5c6bac281b38fdfce732e288.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mKAQRbbTJ61Vx0lywCkS9Q.png"/></div></div></figure><p id="bffc" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><code class="fe ni nj nk ms b">imagenet</code>çš„è¾“å‡ºå®ƒæä¾›äº†ç‰©ä½“çš„åç§°åŠå…¶æ¦‚ç‡æœ‰ä¸‰ä¸ªç‰©ä½“ç”¨<code class="fe ni nj nk ms b">imagenet.</code>æ ‡è¯†</p><h2 id="b6e4" class="mw ll it bd lm nr ns dn lq nt nu dp lu ki nv nw ly km nx ny mc kq nz oa mg ob bi translated">COCO-SSD æ¨¡å‹è¾“å‡º-</h2><p id="df76" class="pw-post-body-paragraph jx jy it jz b ka mi kc kd ke mj kg kh ki mk kk kl km ml ko kp kq mm ks kt ku im bi translated">å¦‚æœæ‚¨äº†è§£æ›´å¤šå…³äº coco-ssd çš„ä¿¡æ¯ï¼Œå®ƒå¯ä»¥è¯†åˆ«å¤šä¸ªå¯¹è±¡ï¼Œå³ä½¿å®ƒä»¬æ˜¯ç›¸ä¼¼çš„ã€‚ä»¥åŠå®ƒä»¬çš„å¯¹è±¡æ‰€ä¾èµ–çš„çŸ©å½¢åæ ‡ã€‚</p><blockquote class="nb nc nd"><p id="912f" class="jx jy ne jz b ka kb kc kd ke kf kg kh nf kj kk kl ng kn ko kp nh kr ks kt ku im bi translated">åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šâ€”<a class="ae le" href="https://github.com/tensorflow/tfjs-models/tree/master/coco-ssd" rel="noopener ugc nofollow" target="_blank">https://github . com/tensor flow/tfjs-models/tree/master/coco-SSD</a></p></blockquote><figure class="mn mo mp mq gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nn no di np bf nq"><div class="gh gi od"><img src="../Images/06eaec6355b1cdb2bedf21ce4dc1043b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZytCo52sK-RJ7rzw1vgy7A.png"/></div></div></figure><p id="6b89" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">åœ¨è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°å®ƒå·²ç»ç¡®å®šäº† 6 ä¸ªäººï¼Œä»–ä»¬çš„ä½ç½®æ˜¯ä¸€ä¸ªçŸ©å½¢ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥å°†è¿™äº›åæ ‡ç”¨äºä»»ä½•ç›®çš„ï¼Œå› ä¸ºå®ƒä»¬ä¼šå‘Šè¯‰æ‚¨å¯¹è±¡åç§°å’Œå¯¹è±¡ä½ç½®ã€‚</p><p id="43d4" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•å›¾åƒåº“æ¥ç»˜åˆ¶è¿™äº›çŸ©å½¢ï¼Œå›´ç»•è¿™äº›ç»†èŠ‚æ„å»ºä¸€äº›å¾ˆé…·çš„å›¾åƒæ•ˆæœåº”ç”¨ç¨‹åºã€‚</p><p id="8a81" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ä½ å¯ä»¥è¯•è¯•æˆ‘åœ¨ React.js ä¸Šçš„å…³äº Cloudniary å’Œ OpenCV çš„æ•™ç¨‹ï¼Œä»¥å‰æ–‡ç« ä¸­çš„ Nodejs è¯•å›¾ä½¿ç”¨è¿™äº›çŸ¥è¯†æ¥æ„å»ºå¾ˆé…·çš„ä¸œè¥¿ã€‚</p><p id="80ce" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¿«ä¹ç¼–ç â¤ï¸</p><p id="b98c" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¦‚æœæ‚¨æƒ³è¢«æ·»åŠ åˆ°æˆ‘çš„ç”µå­é‚®ä»¶åˆ—è¡¨ä¸­ï¼Œè¯·è€ƒè™‘åœ¨è¿™é‡Œè¾“å…¥æ‚¨çš„ç”µå­é‚®ä»¶åœ°å€ å’Œ<strong class="jz iu">å…³æ³¨æˆ‘çš„</strong> <a class="ae le" href="https://medium.com/@ideepak.jsd" rel="noopener"> <strong class="jz iu"> medium </strong> </a> <strong class="jz iu">é˜…è¯»æ›´å¤šå…³äº javascript çš„æ–‡ç« ï¼Œå¹¶å…³æ³¨</strong><a class="ae le" href="https://github.com/dg92" rel="noopener ugc nofollow" target="_blank"><strong class="jz iu">github</strong></a><strong class="jz iu">æŸ¥çœ‹æˆ‘çš„ç–¯ç‹‚ä»£ç </strong>ã€‚å¦‚æœæœ‰ä»€ä¹ˆä¸æ¸…æ¥šæˆ–è€…ä½ æƒ³æŒ‡å‡ºä»€ä¹ˆï¼Œè¯·åœ¨ä¸‹é¢è¯„è®ºã€‚</p><p id="1581" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">ä½ å¯èƒ½ä¹Ÿä¼šå–œæ¬¢æˆ‘çš„å…¶ä»–æ–‡ç« </p><ol class=""><li id="44be" class="kv kw it jz b ka kb ke kf ki kx km ky kq kz ku la lb lc ld bi translated"><a class="ae le" href="https://levelup.gitconnected.com/image-object-detection-with-tensorflow-js-b8861119ed46" rel="noopener ugc nofollow" target="_blank">ç”¨ Tensorflow-js è¿›è¡Œå›¾åƒç›®æ ‡æ£€æµ‹ğŸ¤”</a></li><li id="c793" class="kv kw it jz b ka lf ke lg ki lh km li kq lj ku la lb lc ld bi translated">Nodejs åº”ç”¨ç¨‹åºç»“æ„â€”â€”æ„å»ºé«˜åº¦å¯æ‰©å±•çš„æ¶æ„ã€‚</li><li id="f5f1" class="kv kw it jz b ka lf ke lg ki lh km li kq lj ku la lb lc ld bi translated"><a class="ae le" href="https://levelup.gitconnected.com/image-processing-making-custom-image-filters-react-js-part-2-ee2787f56b0d" rel="noopener ugc nofollow" target="_blank">å›¾åƒå¤„ç†â€”â€”åœ¨ React.js ä¸­åˆ¶ä½œè‡ªå®šä¹‰å›¾åƒæ»¤é•œ</a></li></ol></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><p id="595d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·éšæ„åˆ†äº«å¹¶å¸®åŠ©ä»–äººæ‰¾åˆ°å®ƒï¼</p><p id="0cb6" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">è°¢è°¢ä½ ï¼</p></div></div>    
</body>
</html>