<html>
<head>
<title>Introduction to Endogeneity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">内生性介绍</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/endogeneity-the-reason-why-we-should-know-about-data-part-i-80ec33df66ae?source=collection_archive---------4-----------------------#2019-06-02">https://towardsdatascience.com/endogeneity-the-reason-why-we-should-know-about-data-part-i-80ec33df66ae?source=collection_archive---------4-----------------------#2019-06-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="4518" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">为什么我们应该了解我们的数据</h2><div class=""/><div class=""><h2 id="592f" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">描述不同类型内生性的例子</h2></div><p id="383c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">一个冰淇淋小贩在海滩上卖冰淇淋。他收集了两年的总销售额(Y)和销售价格(X)的数据。他将数据交给数据科学家，请他找出最佳销售价格。数据科学家拟合一个线性回归模型，Y = alpha+beta X+error，通过对利润函数=(X-cost)(alpha+beta X)求微分找到最优。</p><p id="85c4" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">然而，冰淇淋供应商过去常常随着需求的增加而提高冰淇淋的价格。他忘了向数据科学家提及他的定价策略。线性回归认为，随着销售价格的增加，销售额增加(β&gt; 0)或者斜率没有预期的那么负。因此，该模型得出的最优售价至少是次优的(如果对业务无害的话)。</p><p id="f082" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ln">一家商店给顾客赠送定制的优惠券。有不同的优惠券(有不同的优惠)。商店收集顾客反馈数据，即他们是否使用优惠券(Y)和优惠券详情(X)。他们想知道每张优惠券的有效性，以便将来可以定制并发送给不同的客户。</em></p><p id="253a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">数据科学家拟合一个模型来预测每个客户从每张优惠券购买(下个月或接下来几个月)的概率。同样，商店有一个策略，他们发送优惠券给谁，他们发送什么优惠券(而不是随机优惠券)。例如，如果他们认为顾客即使没有优惠券也会购买，他们就不会发送优惠券，或者如果他们认为某人<strong class="kt jd">可能</strong>会购买，他们就会发送更多的优惠券。这一策略没有向数据科学家公开。如果将更多优惠券发送给具有更高购买机会的顾客，也可能给出有偏见的优惠券“有效性”。</p><p id="524b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ln">富人变得更富，穷人变得更穷(概念上类似于后面解释的示例 2，但此示例旨在表明内生性不仅限于数据科学)。这在社会学上也叫马修效应。努力工作帮助电影艺术家赢得奖项。制片人希望与获奖的艺术家建立联系，因为他们将奖项与表演质量联系在一起，因此他们获得了更好的机会，从而获得了更多的认可和更多的奖项(同样，富人变得更富)。</em></p><p id="9601" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">所有这些例子<strong class="kt jd">都违背了</strong>实验设计的基本原则之一——<strong class="kt jd">随机化</strong>。很多时候，一个公司无法承担随机化。在现场实验中，受试者被随机分配到不同的处理水平(或者我们应该随机设置自变量的值并观察因变量)。但是在上面的例子中，这被违反了(因为独立变量依赖于特定的策略——由冰淇淋供应商/商品商店/电影制片人)。</p><p id="83f9" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">换句话说，独立预测变量(X)应该是<em class="ln">外生</em>而不是<em class="ln">内生</em>。外生变量不受其他因素驱动(可观察或不可观察)。在第一个例子中，价格由温度决定。在第二个例子中，优惠券是由过去的销售推动的)。<strong class="kt jd">内生变量与误差项相关，我们来解构一下。</strong></p><p id="72a3" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">模型中的响应(Y)应该用独立变量(X)来解释，所有不能用 X 来解释的都包括在误差项中。(<em class="ln">我们知道线性回归中多重共线性的问题和不利影响——在多重共线性的情况下，X1 由 X2 </em>解释)。如果有一个因素可以解释 Y 但没有被观察到，比如 Z，它就包含在误差中。但是如果 Z 可以解释任何 X(在例 1 中，Z =温度，X =价格)，误差项与 X 相关(因此，价格是内生变量)。因此，当我们有一个与 Y 相关的 Z，但它也与 X 相关，并且不包括在模型中时，内生性问题就出现了。</p><p id="2320" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">内生性有多种来源——如果供应商根据时间改变位置会怎样，如果供应商根据队列改变价格会怎样。内生性的来源可以大致分为:</p><ol class=""><li id="bb5f" class="lo lp it kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated"><strong class="kt jd">省略变量</strong>(如冰激凌示例所解释的，价格是内生变量，温度是省略变量)。</li><li id="974a" class="lo lp it kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">s <strong class="kt jd">同态性</strong>(例 2)其中 X 引起 Y，Y 引起 X，这是最常见的，也是最难的一个。在省略变量的情况下，如果结构信息是已知的，那就很简单了(这将在本博客的第 2 部分中讨论)。示例 2 是优惠券导致销售和销售导致给顾客更多优惠券的同时性的示例。在例 1 中，如果卖方基于队列长度改变作为控制的价格(在动态规划或顺序控制理论中研究的<em class="ln">),这是队列导致价格和价格导致队列的同时性。同时也可能是<em class="ln">自选造成的。</em></em></li><li id="8239" class="lo lp it kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated"><strong class="kt jd">选择偏差</strong>(例 3)如果取样有偏差，我们无法确定治疗对受试者的影响。例如，如果我们收集周末或高档社区的冰淇淋销售数据。如果我们的样本主要包括获奖者，我们会高估演员的表演质量。赫克曼博士就此课题获得了诺贝尔经济学奖(此处<a class="ae mc" href="https://www.jstor.org/stable/1912352?seq=1#metadata_info_tab_contents" rel="noopener ugc nofollow" target="_blank"/>)。</li></ol><p id="028d" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">修订一些定义:</p><ol class=""><li id="077f" class="lo lp it kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">P(X=x，Y=y)是一个联合分布</li><li id="470c" class="lo lp it kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">P(X=x|Y=y)是给定 Y 时 X 的条件分布</li><li id="b963" class="lo lp it kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">P(X=x) = sum [ P(X=x|Y=y)P(Y=y)除以所有 y]是 X 的边际</li><li id="23b1" class="lo lp it kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">如果 P(X=x，Y=y) = P(X=x)P(Y=y)，那么 X 独立于 Y</li></ol><p id="c8e2" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我希望下面的陈述现在更有意义(简单地说就是自变量被战略性地设定或者其中自变量是内生的):</p><blockquote class="md me mf"><p id="e6b3" class="kr ks ln kt b ku kv kd kw kx ky kg kz mg lb lc ld mh lf lg lh mi lj lk ll lm im bi translated"><em class="it">当自变量的边际分布不独立于因变量的条件分布时，内生性就产生了。</em></p></blockquote><p id="933a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kt jd">如果不考虑内生性呢？</strong></p><ol class=""><li id="7eee" class="lo lp it kt b ku kv kx ky la lq le lr li ls lm lt lu lv lw bi translated">这些例子说明了两个原因:首先，模型中自变量的实际影响可能被低估或高估。其次，基于模型推断的决策可能是次优的。</li><li id="895e" class="lo lp it kt b ku lx kx ly la lz le ma li mb lm lt lu lv lw bi translated">当数据科学家在不考虑内生性的情况下拟合模型时，模型拟合更好(增加了对错误事物的信心)。第二部分解释了这项索赔。</li></ol><p id="760b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">内容大量取自<a class="ae mc" href="https://link.springer.com/referenceworkentry/10.1007%2F978-3-319-05542-8_8-1" rel="noopener ugc nofollow" target="_blank">这里</a>和<a class="ae mc" href="https://link.springer.com/referenceworkentry/10.1007%2F978-3-319-05542-8_8-1" rel="noopener ugc nofollow" target="_blank">这里</a>。<a class="ae mc" href="https://medium.com/@ashutoshnayakkgp/endogeneity-the-reason-why-we-should-know-about-data-part-ii-c1487d69aeed" rel="noopener">此处</a>，我们将在处浏览<a class="ae mc" href="https://link.springer.com/referenceworkentry/10.1007%2F978-3-319-05542-8_8-1" rel="noopener ugc nofollow" target="_blank">所讨论的冰淇淋供应商案例。</a><a class="ae mc" href="https://medium.com/@ashutoshnayakkgp/endogeneity-the-reason-why-we-should-know-about-data-part-iii-50380e0d996e" rel="noopener">这里</a>将介绍同时性和本文中使用的参考文献。</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div class="ab gu cl mo"><img src="../Images/a083728fb0a4d6a8c26f166da0658d3f.png" data-original-src="https://miro.medium.com/v2/format:webp/1*8YNoBoxyknoCfnLzchd7Aw.jpeg"/></div></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><p id="db86" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ln">原载于 2019 年 6 月 2 日 https://medium.com</em><em class="ln">T21</em><a class="ae mc" href="https://medium.com/@ashutoshnayakkgp/endogeneity-the-reason-why-we-should-know-about-data-part-i-95d4f4f423d2" rel="noopener">。</a></p></div></div>    
</body>
</html>