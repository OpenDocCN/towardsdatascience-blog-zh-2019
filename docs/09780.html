<html>
<head>
<title>Confidence Intervals Explained Simply for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为数据科学家简单解释置信区间</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/confidence-intervals-explained-simply-for-data-scientists-8354a6e2266b?source=collection_archive---------4-----------------------#2019-12-23">https://towardsdatascience.com/confidence-intervals-explained-simply-for-data-scientists-8354a6e2266b?source=collection_archive---------4-----------------------#2019-12-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/ec02eb7603e180c77f14fcc848a43ca8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KvAhljnhx6ghK9YpqBipvQ.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><a class="ae jg" href="https://pixabay.com/photos/fish-fishermen-fishing-net-fishing-3062034/" rel="noopener ugc nofollow" target="_blank">PIxabay</a>: Cast a net</figcaption></figure><div class=""/><div class=""><h2 id="ee2c" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">没有沉重的术语</h2></div><p id="fd27" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最近，有人问我如何用简单的术语向外行解释置信区间。我发现很难做到这一点。</p><p id="9cb8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">即使对了解置信区间的人来说，解释置信区间也是一件令人头疼的事情，更不用说对不懂统计学的人来说了。</p><p id="d3f0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我去维基百科找了些东西，下面是它的定义:</p><blockquote class="lu lv lw"><p id="6b9e" class="ky kz lx la b lb lc kk ld le lf kn lg ly li lj lk lz lm ln lo ma lq lr ls lt im bi translated">在<a class="ae jg" href="https://en.wikipedia.org/wiki/Frequentist_statistics" rel="noopener ugc nofollow" target="_blank">统计</a>中，<strong class="la jk">置信区间</strong> ( <strong class="la jk"> CI </strong>)是从观测数据的统计中计算出来的一种<a class="ae jg" href="https://en.wikipedia.org/wiki/Interval_estimate" rel="noopener ugc nofollow" target="_blank">估计</a>。这为未知的<a class="ae jg" href="https://en.wikipedia.org/wiki/Parameter" rel="noopener ugc nofollow" target="_blank">参数</a>提出了一系列似是而非的值。该区间具有相关的<strong class="la jk">置信水平</strong>，即真实参数在建议的范围内。这可以更清楚地表述为:置信水平代表未知参数位于给定区间的<a class="ae jg" href="https://en.wikipedia.org/wiki/Probability" rel="noopener ugc nofollow" target="_blank">概率</a>。调查者可以选择置信度。一般来说，未知参数的置信区间基于对相应的<a class="ae jg" href="https://en.wikipedia.org/wiki/Estimator" rel="noopener ugc nofollow" target="_blank">估计器</a>的<a class="ae jg" href="https://en.wikipedia.org/wiki/Probability_distribution" rel="noopener ugc nofollow" target="_blank">分布</a>进行采样。<a class="ae jg" href="https://en.wikipedia.org/wiki/Confidence_interval#cite_note-:0-1" rel="noopener ugc nofollow" target="_blank">【1】</a></p></blockquote><p id="85d7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我的第一个想法是，他们可能是这样写的，所以没有人能理解它。这里的问题在于统计学家喜欢使用大量的术语和语言。</p><p id="563d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="lx">这篇文章是关于用一种简单易懂的方式解释置信区间，而不是故作姿态</em> </strong>。</p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="2a15" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">现实生活中的问题</h1><figure class="nb nc nd ne gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi na"><img src="../Images/e36c8c9fdd2cba050c92ae5641c18174.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Ku_y-ztKjYgY1nZb.jpg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><a class="ae jg" href="https://pixabay.com/photos/police-crime-scene-murder-forensics-3284258/" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="dcad" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们从创建一个真实的场景开始。</p><p id="aabd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="lx">假设你想找出美国某个州所有人的平均身高。</em> </strong></p><p id="ad9f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以去那个特定州的每个人那里询问他们的身高，或者你可以做更聪明的事情，在这个州抽取 1000 人作为样本。</p><p id="2fe7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，您可以使用他们身高的平均值(<strong class="la jk">估计平均值</strong>)来估计该州身高的平均值(<strong class="la jk">真实平均值</strong>)</p><p id="5abb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这一切都很好，但作为真正的数据科学家，你并不满意。估计的平均值只是一个单一的数字，您希望有一个真实平均值所在的范围。</p><p id="a8c1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="lx">我们为什么要一个范围？因为在现实生活中，我们关心的是估计值的置信度。</em>T3】</strong></p><p id="7a27" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通常情况下，即使我让你猜测美国某个州的人的身高，你也更倾向于说类似于<em class="lx">“我相信它在 6 英尺到 6 英尺 2 英寸之间”，而不是像“它的 6 英尺 2.2345 英寸”这样的点估计。</em></p><p id="7273" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们人类在进行评估时也喜欢附加一定程度的信心。你有没有说过——“我有 90%的自信”。</p><p id="f7bd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个特定的例子中，我对陈述- <em class="lx">“我相信它在 5 英尺到 7 英尺之间”比“我相信它在 6 英尺到 6 英尺 2 英寸之间”更有信心，因为第一个范围是第二个范围的超集。</em></p><p id="c067" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么我们如何得到这个范围并量化一个置信度值呢？</p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="ebc2" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">战略</h1><p id="44c1" class="pw-post-body-paragraph ky kz jj la b lb nf kk ld le ng kn lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">为了理解我们将如何计算置信区间，我们需要理解中心极限定理。</p><p id="8543" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="lx">中心极限定理:</em></strong><strong class="la jk">中心极限定理(CLT) </strong>简单地说，如果你有一个具有均值μ和标准差σ的总体，并从总体中随机抽取样本，那么<strong class="la jk">样本</strong>均值的<strong class="la jk">分布</strong>将近似正态分布<strong class="la jk"> <em class="lx">以均值为总体均值</em> </strong> <em class="lx">和估计的</em> <strong class="la jk"> <em class="lx">标准差 s/√</em></strong></p><p id="3d4c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以知道了这一切，你就变得好奇了。我们在美国已经有了 1000 人的样本。我们能应用 CLT 吗？</p><p id="33a5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们知道，抽样分布的均值等于总体均值(我们不知道但想估计)，抽样分布的样本偏差由<strong class="la jk"> σ/√n </strong>给出(即样本的标准差除以样本中的观察次数)</p><figure class="nb nc nd ne gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nk"><img src="../Images/54fbe4832800c816897ea69b5248bdc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e61uk2NzhibYPTfZAGFAVA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><strong class="bd nl">Casting a net</strong> around the sample mean to capture the true population mean</figcaption></figure><p id="904d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lx">现在，您想在 X 轴上找到包含真实总体平均值的区间。</em></p><p id="82df" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="lx">那我们怎么办？我们从已知的价值中撒网。</em> </strong></p><p id="b59a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="lx">为了得到这样的范围/区间，我们从 Xbar 开始走 1.96 个标准差，样本在两个方向上的均值。而这个范围就是 95%的置信区间。</em> </strong></p><p id="f9a4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，当我说我估计真实均值为 Xbar(样本均值)，置信区间为[Xbar-1.96SD，Xbar+1.96SD]时，我是说:</p><blockquote class="lu lv lw"><p id="3bfa" class="ky kz lx la b lb lc kk ld le lf kn lg ly li lj lk lz lm ln lo ma lq lr ls lt im bi translated">这是一个使用特定程序构建的音程。如果在大量样本上重复这一过程，包含真实总体参数的计算置信区间(每个样本不同)的分数将趋向于 95%</p></blockquote><p id="7895" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当你取 99%的置信区间时，你实际上增加了这个比例，从而用三个标准差撒出了一个更宽的网。</p><figure class="nb nc nd ne gt iv gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/d78171c458f135605d90c012af29fde4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/0*rhzu0HCveKdP5DhO"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">The simple formula</figcaption></figure><ul class=""><li id="8622" class="nn no jj la b lb lc le lf lh np ll nq lp nr lt ns nt nu nv bi translated">这里 Xbar 是样本平均值(你取的 1000 个高度样本的平均值)。</li><li id="2ec9" class="nn no jj la b lb nw le nx lh ny ll nz lp oa lt ns nt nu nv bi translated">z 是偏离样本均值的标准差的个数(1.96 代表 95%，2.576 代表 99%)——<strong class="la jk"><em class="lx">你想要的置信度</em> </strong>。</li><li id="1a9c" class="nn no jj la b lb nw le nx lh ny ll nz lp oa lt ns nt nu nv bi translated">s 是样本中的标准偏差。</li><li id="5eea" class="nn no jj la b lb nw le nx lh ny ll nz lp oa lt ns nt nu nv bi translated">n 是样本的大小。</li></ul><figure class="nb nc nd ne gt iv gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/6648eecdd3c5a4ddd2e71f6ef086a16d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*ZvATJ5fnFnPhYu-t"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Most of the nets we cast in different experiments do contain the true population mean</figcaption></figure><p id="fbb9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上图中的每条线都是这样一个实验，点代表样本平均值，线代表范围。图中的虚线是真实的人口平均值<em class="lx">。</em></p><p id="e1c4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="lx">看这些区间怎么有些不包含真实总体均值，几乎全部(95%)都包含真实总体均值</em> </strong> <em class="lx">。</em></p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="ac02" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">临界 Z 值</h1><p id="3672" class="pw-post-body-paragraph ky kz jj la b lb nf kk ld le ng kn lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">我们说过，Z 是偏离样本均值的标准差的个数(1.96 代表 95%，2.576 代表 99%)——<strong class="la jk"><em class="lx">你想要的置信度</em> </strong>。</p><p id="7b7a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以选择任意的自信程度。比方说，你想要 90%的信心。你可以通过使用法线曲线内部的阴影区域需要为 0.90 的想法来得到它。</p><figure class="nb nc nd ne gt iv gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/c71202cc398f865516d52cb8c88e3b90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*Y-uUetf--E1DS70M.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><a class="ae jg" href="https://stackoverflow.com/questions/20864847/probability-to-z-score-and-vice-versa-in-python" rel="noopener ugc nofollow" target="_blank">Source</a>: The Normal curve showing a 95% CI.</figcaption></figure><pre class="nb nc nd ne gt oc od oe of aw og bi"><span id="77a5" class="oh mj jj od b gy oi oj l ok ol">import scipy.stats as st<br/>p = 0.9 + (1-0.9)/2<br/>Z = st.norm.ppf(p, loc=0, scale=1)<br/>print(Z)<br/>----------------------------------------------------------<br/>1.6448536269514722</span></pre></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="ef52" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">继续学习</h1><p id="374f" class="pw-post-body-paragraph ky kz jj la b lb nf kk ld le ng kn lg lh nh lj lk ll ni ln lo lp nj lr ls lt im bi translated">如果你想了解更多关于假设检验、置信区间以及数字和分类数据的统计推断方法，Mine etinkaya-Rundel 在 coursera 上教授了<a class="ae jg" href="https://coursera.pxf.io/DVZ13d" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk">推断统计学</strong> </a>课程，没有比这更简单的了。她是一个伟大的导师，很好地解释了统计推断的基础。</p><p id="df54" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">谢谢你的阅读。将来我也会写更多初学者友好的帖子。关注我的<a class="ae jg" href="https://medium.com/@rahul_agarwal?source=post_page---------------------------" rel="noopener"> <strong class="la jk">媒体</strong> </a>或者订阅我的<a class="ae jg" href="http://eepurl.com/dbQnuX?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk">博客</strong> </a>了解他们。一如既往，我欢迎反馈和建设性的批评，可以通过 Twitter<a class="ae jg" href="https://twitter.com/MLWhiz?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"><strong class="la jk">@ mlwhiz</strong></a>联系</p><p id="12c5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，一个小小的免责声明——这篇文章中可能会有一些相关资源的附属链接，因为分享知识从来都不是一个坏主意。</p></div></div>    
</body>
</html>