# 从 R 开始——未知的领域

> 原文：<https://towardsdatascience.com/beginning-with-r-the-uncharted-territory-d35eaffff3f3?source=collection_archive---------29----------------------->

![](img/6c670c23d968bd99cc0132f9ec70cb16.png)

我来自非编程背景，并且 [python](https://python.org) 是第一次接触编程和数据分析，试图在 [R](https://www.r-project.org/) 中动手似乎一开始就相当令人生畏。r 有时会感觉有点奇特和独特，因为它是基于进行数据分析和统计的前提，而不是像 python 那样的软件编程。但是，当我鞭策自己，努力学习 R 相对于 python 的许多特点和优势时，它在某种程度上提供了进行数据分析的不同视角。此外，与 python 相比，使用 R 有一个很强的优势——世界各地的统计学家都在用 R 实现各种统计方法的庞大而现代的库。

除了它的怪癖之外，迄今为止为 R 开发的最有趣的 IDE—[R studio](https://www.rstudio.com/)让数据分析看起来像是有趣的活动。Rstudio 中的各种其他东西，如使用 LaTex 和 [HTML](https://en.wikipedia.org/wiki/HTML) 制作报告，以及使用 [HUGO](https://gohugo.io/) 制作静态网站，都让生活变得非常简单。

但是为了能够做所有这些很酷的事情，我们需要首先掌握 R 的基础知识，这是任何复杂的数据分析管道的构建块。那么我们开始 r 的旅程吧。😃

# 目录

*   R 简介
*   r 数据类型
*   处理未定义的值
*   经营者
*   逻辑运算符
*   数据结构—列表、向量、矩阵、数组、因子、数据框

# R 简介

r 是一种主要为统计计算和可视化而开发的动态语言。它包括各种统计和机器学习包，易于学习和用于数据分析。

# r 数据类型

当在 R workspace 中创建一个变量时，R 会自动将数据类型赋给该变量。

```
**#***# [1] 4.2***#***# [1] "Hello!"*
```

要检查变量的类型，使用`typeof()`

```
**#***# [1] "double"***#***# [1] "character"*
```

基本数据类型有

*   字符串/字符
*   数字
    整数
    双精度
    复数
*   布尔/逻辑

无论是整数还是浮点数，都总是用 double 表示。

```
**#***# [1] "double"*
```

对于整数的明确要求，添加后缀 L

```
**#***# [1] "integer"*
```

# 处理未定义的值

处理未定义/缺失的值与 python 略有不同。Python 只有`NaN` 值作为未定义/缺失值。在 R 中，未定义的值基本上用

*   空
*   钠
*   圆盘烤饼

三者的工作方式不同。

NULL 是一个空对象，在没有值时使用。如果向量或矩阵中存在某个值，并且该值不可用(fill_value)，我们使用 NA 或 NaN。

NA 或 NaN 缺少值指示符。

```
**#***# [1] "NULL"***#***# [1] "logical"***#***# [1] "numeric"*
```

当没有真或假，即逻辑不确定性时，NA 出现。它也可能是丢失的值。

NaN 表示 0/0

# 经营者

*   乘法( ***** )
*   分部( **/** )
*   加法( **+** )
*   减法( **-** )
*   指数( **^** )
*   模数( **%%** )
*   整数除法( **%/%** )

# 逻辑运算符

*   不(**！**)
*   元素明智与( **&** )
*   还有( **& &** )
*   元素方面的 OR ( **|** )
*   或者( **||** )
*   在集合中(**%在%** )

# 数据结构

在 R 中有 6 种类型的数据结构

*   列表
*   向量(或原子向量)
*   矩阵
*   数组
*   因素
*   数据帧

## 列表

R 中的 List 可以保存不同类型的元素。没有强迫。列表可以包含数字、字符、布尔、矩阵、向量、数组、列表等。

要创建列表，请使用`list()`参数。

```
**#***# [[1]]*
**#***# [1] "green"*
**#***#* 
**#***# [[2]]*
**#***# [1] "yellow"*
**#***#* 
**#***# [[3]]*
**#***# [1] 1*
**#***#* 
**#***# [[4]]*
**#***# [1] 2*
**#***#* 
**#***# [[5]]*
**#***# [1] 4 5 6*
```

要给列表中的每个条目命名，使用`names()`参数。

使用`$`访问列表中的特定条目

```
**#***# [1] "green"***#***# [1] "yellow"*
```

```
**#***# $A*
**#***# [1] "green"*
```

```
**#***# [1] "green"*
```

要合并两个或多个列表，使用`c()`

```
**#***# [[1]]*
**#***# [1] 1*
**#***#* 
**#***# [[2]]*
**#***# [1] 2*
**#***#* 
**#***# [[3]]*
**#***# [1] 3*
**#***#* 
**#***# [[4]]*
**#***# [1] 4*
**#***#* 
**#***# [[5]]*
**#***# [1] 5*
**#***#* 
**#***# [[6]]*
**#***# [1] 6*
**#***#* 
**#***# [[7]]*
**#***# [1] 7*
**#***#* 
**#***# [[8]]*
**#***# [1] 8*
```

r 中的一些预定义列表。

```
**##  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q"**
**## [18] "r" "s" "t" "u" "v" "w" "x" "y" "z"****##  [1] "A" "B" "C" "D" "E" "F" "G" "H" "I" "J" "K" "L" "M" "N" "O" "P" "Q"**
**## [18] "R" "S" "T" "U" "V" "W" "X" "Y" "Z"****##  [1] "Jan" "Feb" "Mar" "Apr" "May" "Jun" "Jul" "Aug" "Sep" "Oct" "Nov"**
**## [12] "Dec"****##  [1] "January"   "February"  "March"     "April"     "May"** 
**##  [6] "June"      "July"      "August"    "September" "October"** 
**## [11] "November"  "December"**
```

## 向量

为了创建一个矢量，我们使用`c()`函数。它基本上像 python 中的列表一样连接东西。

```
**## [1] "1"     "2"     "3"     "4"     "5.4"   "hello" "TRUE"  "FALSE"**
```

正如我们所见，向量可以有任何数据类型，可以是数字、字符或布尔值。但是我们注意到了一些事情。vector 中的所有元素都被强制为字符类型，因为 vector 包含一个字符串`"hello"`。这就是隐性强制的效果。

对于严格意义上的数字向量，使用`vector()`功能。

```
**#***#  [1] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0*
```

我们可以使用这样一个向量来预分配一个向量，该向量可用于从一个`for`循环中追加值，这比将值追加到一个空向量中要快，因为每次一个值被追加到一个空向量中时，R 都会复制它，从而减慢整个过程。

**强制**——矢量、数据帧等对象。可以使用`as.class`功能强制到不同的类别。

```
**#***# [1] "numeric"***#***# [1] "character"***#***# [1] "logical"*
```

## 矩阵

矩阵与向量相同，只是它有一个额外的维度属性。它是一个二维数据结构。

```
**#***#      [,1] [,2] [,3]*
**#***# [1,]    6    8    6*
**#***# [2,]    2    3    8*
**#***# [3,]    6    2    0***#***# $dim*
**#***# [1] 3 3*
```

矩阵开始按行填充。而在 python 中，矩阵开始逐列填充。

在 R 中，我们可以传递行和列的名称。

```
**#***#   x y z*
**#***# a 6 8 6*
**#***# b 2 3 8*
**#***# c 6 2 0*
```

```
**## [1] "x" "y" "z"****## [1] "a" "b" "c"**
```

要访问矩阵的元素，请使用方括号。

```
**#***# [1] 3***#***#   x y*
**#***# b 2 3*
**#***# c 6 2*
```

但是`a[2,]`(第二行)或`a[,2]`(第二列)给出了一个向量，即它试图返回最简单的数据结构。为了避免这种情况，即获得一个矩阵，使用`drop = FALSE`

```
**#***# x y z* 
**#***# 2 3 8***#***# NULL*
```

```
**#***#   x y z*
**#***# b 2 3 8***#***# [1] 1 3*
```

也可以进行特定的索引。

```
**#***# [1] 6 2 8 2*
```

你也可以使用逻辑向量做索引。

```
**#***#   x y*
**#***# a 6 8*
**#***# c 6 2*
```

使用`t(a)`转置矩阵

要组合矢量或矩阵，使用`rbind`或`cbind`

矩阵维度也可以改变(整形)。

```
**#***# [1] 1 9*
```

## 数组

数组是一个可以保存多维数据的对象。矩阵是数组的子集，因为它们是二维数组。因此，除了维度属性`dim`之外，数组还具有属性`dimnames`。数组只是一个多维数据结构。

它的语法是`a <- array(data, dim = c(x,y,z,t...))`

```
**#***# , , 1*
**#***#* 
**#***#      [,1] [,2] [,3] [,4]*
**#***# [1,]    1    4    7   10*
**#***# [2,]    2    5    8   11*
**#***# [3,]    3    6    9   12*
**#***#* 
**#***# , , 2*
**#***#* 
**#***#      [,1] [,2] [,3] [,4]*
**#***# [1,]   13   16   19   22*
**#***# [2,]   14   17   20   23*
**#***# [3,]   15   18   21   24*
```

```
**#***# , , 1*
**#***#* 
**#***#      [,1] [,2]*
**#***# [1,]   10   30*
**#***# [2,]   20   40*
**#***#* 
**#***# , , 2*
**#***#* 
**#***#      [,1] [,2]*
**#***# [1,]   12   14*
**#***# [2,]   13   15*
```

要定义不同尺寸的标签，使用`dimnames`

```
**#***# , , g*
**#***#* 
**#***#    d  e*
**#***# a 10 30*
**#***# b 20 40*
**#***#* 
**#***# , , h*
**#***#* 
**#***#    d  e*
**#***# a 12 14*
**#***# b 13 15*
```

```
**#***# , , 1*
**#***#* 
**#***#      [,1] [,2] [,3]*
**#***# [1,]    1    4    7*
**#***# [2,]    2    5    8*
**#***# [3,]    3    6    9*
**#***#* 
**#***# , , 2*
**#***#* 
**#***#      [,1] [,2] [,3]*
**#***# [1,]   10   13   16*
**#***# [2,]   11   14   17*
**#***# [3,]   12   15   18*
**#***#* 
**#***# , , 3*
**#***#* 
**#***#      [,1] [,2] [,3]*
**#***# [1,]   19   22   25*
**#***# [2,]   20   23   26*
**#***# [3,]   21   24   27*
```

```
**#***# $dim*
**#***# [1] 2 2 3***#***# , , 1*
**#***#* 
**#***#      [,1] [,2]*
**#***# [1,]    1    4*
**#***# [2,]    2    5*
**#***#* 
**#***# , , 2*
**#***#* 
**#***#      [,1] [,2]*
**#***# [1,]   10   13*
**#***# [2,]   11   14*
**#***#* 
**#***# , , 3*
**#***#* 
**#***#      [,1] [,2]*
**#***# [1,]   19   22*
**#***# [2,]   20   23*
```

## 因素

对于分类数据的表示，R 有称为因子的特定对象。因子基本上是整数，并且有与之相关联的标签。因此，特定数量的因素与特定的标签相关联。这些标签被称为级别。因子看起来像字符，但实际上是整数。因子的其他用途是根据一个分类数据集对所有分类数据集进行排序。

`factor()`命令用来创建一个因子对象。

```
**#***# $levels*
**#***# [1] "apple"  "banana" "orange"*
**#***#* 
**#***# $class*
**#***# [1] "factor"*
```

默认情况下，这些级别是无序的。要订购它们，您可以定义级别。

```
**#***# $levels*
**#***# [1] "apple"  "orange" "banana"*
**#***#* 
**#***# $class*
**#***# [1] "factor*
```

## 数据帧

数据帧用于存储表格数据。长度相等的列表存储在数据帧中。

```
**#***#     city rank*
**#***# 1 Jaipur    2*
**#***# 2  Jammu    3*
```

存储的数据可以是不同的类型。一列可能是字符，另一列可能是因子等等。但是每一列必须有相同类型的数据。