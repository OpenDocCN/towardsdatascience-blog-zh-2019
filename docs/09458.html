<html>
<head>
<title>JVM vs DVM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JVM 与 DVM</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/jvm-vs-dvm-b257229d18a2?source=collection_archive---------16-----------------------#2019-12-13">https://towardsdatascience.com/jvm-vs-dvm-b257229d18a2?source=collection_archive---------16-----------------------#2019-12-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="da35" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在本文中，我们将看到 Java 虚拟机和 Dalvik 虚拟机之间的区别</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d07267433b7c3c12e2c7bcdb8d024b97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bhoft7EWCcFP9MYNq4Bdig.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@sernarial?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">patricia serna</a> on <a class="ae kv" href="https://unsplash.com/s/photos/inch-tape?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0937" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">七年前，当我学习 Java 编程时，我曾经向我自己和朋友询问过许多关于这种奇妙语言的问题，但是有一个问题在我没有找到满意答案之前，大部分时间都是突然出现的。问题是为什么 java 字节码可以在任何机器或平台上运行，它与其他代码有什么不同？。这个问题的答案在当时对我来说并不容易，因为我刚刚起步。</p><p id="3064" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在本指南中，我将回答以下问题</p><ul class=""><li id="6af2" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">JVM 与 DVM</li><li id="fef3" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">Android OS 为什么用 DVM 而不是 JVM？</li></ul><h1 id="f09e" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">Java 虚拟机</h1><p id="8579" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">一个<strong class="ky ir"> Java 虚拟机</strong> ( <strong class="ky ir"> JVM </strong>)是 Java 程序和运行 Java 代码的平台之间的抽象层。JVM 是平台相关的，不同的实现可用于特定的平台。</p><p id="d0bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如，如果您有一个<code class="fe nd ne nf ng b">Hello.java</code>类，当您运行这个类文件时，javac 编译器会将您的源代码转换为<code class="fe nd ne nf ng b">bytecode</code>并创建<code class="fe nd ne nf ng b">Hello.class</code>文件，这意味着<code class="fe nd ne nf ng b">javac</code>编译器不会像其他编译器那样将 Java 代码直接转换为机器码。字节码是中间代码，这意味着人类不能理解这种代码，并且这种代码不依赖于机器/平台。因为字节码是一种中间代码，所以你可以把它交给任何人在任何平台上运行，这就是为什么我们称 Java 应用程序为 WORA(编写一次，在任何地方运行)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/b7089b4769d7c490f009d3a33235776a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*Z52mbAxnhXWVu18yjzXNAA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image credit to <a class="ae kv" href="https://netjs.blogspot.com/2015/05/what-are-jvm-jre-and-jdk-in-java.html" rel="noopener ugc nofollow" target="_blank">netjs</a></figcaption></figure><p id="7712" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从上图可以看出，一旦你有了。类文件准备好了，你就可以把这个文件给任何平台，它会把它转换成本机代码。</p><h1 id="a6d2" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">达尔维克虚拟机</h1><p id="a024" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated"><strong class="ky ir"> Dalvik 虚拟机(DVM) </strong>是执行 android 应用程序的虚拟机。因为手机的一切都非常有限，无论是电池寿命、处理能力还是内存等等。它已经过优化，可以适应低功率设备。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/01077fb73d11e1986ae8da44b5808531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6A10IOQsv6qP6HsbXwvRwQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image Credit to <a class="nj nk ep" href="https://medium.com/u/671f3a7f82?source=post_page-----b257229d18a2--------------------------------" rel="noopener" target="_blank">Tam H. Doan</a></figcaption></figure><p id="cb63" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从上图中可以看出，除了最后两步，一切都和 JVM 一样。Dex 编译器将类文件转换成。在 Dalvik 虚拟机上运行的 dex 文件。多个类文件被转换成一个 dex 文件。</p><h1 id="395b" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">JVM 与 DVM</h1><p id="37f3" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">在 android 中使用 DVM 的主要原因之一是因为它遵循基于寄存器的模型，并且比基于堆栈的模型快得多，而 JVM 遵循基于堆栈的模型，后者占用大量内存并且比 DVM 慢。</p><p id="8a18" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有一些主要的区别，让我们来看看</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/d86bfdc9cd1b538aa0e41ac0636946ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*7AiR9XA-FXy9LCFsPFktqg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Credit to <a class="ae kv" href="https://aatul.me/2013/04/17/dvm-vs-jvm/" rel="noopener ugc nofollow" target="_blank">aatul.me</a></figcaption></figure><h1 id="73d2" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">Android OS 为什么用 DVM 而不是 JVM？</h1><p id="c8b7" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">Google 不选择 JVM 而选择 DVM 有几个原因，所以让我们一个一个地理解它们。</p><ul class=""><li id="5da3" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">尽管 JVM 是免费的，但它是在 GPL 许可下的，这对 Android 是不利的，因为大多数 Android 是在 Apache 许可下的。</li><li id="52ae" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">JVM 是为桌面设计的，对于嵌入式设备来说太重了。</li><li id="c630" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">与 JVM 相比，DVM 占用的内存更少，运行和加载速度更快。</li></ul><p id="7d86" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">——<strong class="ky ir">俄亥俄州立大学</strong></p><h1 id="7e92" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">结论</h1><p id="cbfd" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">JVM 将基于字节码工作，DVM 将基于优化的字节码工作，它针对移动平台进行了优化，因为移动设备具有更少的内存、低进程和低功耗，这就是它使用 linux 内核的原因。</p><p id="2644" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我希望你喜欢读这篇文章，你也可以访问我的<a class="ae kv" href="http://thehimanshuverma.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">网站</strong> </a> <strong class="ky ir"> </strong>，在那里我会定期发布文章。</p><p id="34b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://mailchi.mp/b08da935e5d9/himanshuverma" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">订阅</strong> </a>我的邮件列表，以便在您的收件箱中直接获得我的文章，并且不要忘记关注我自己在 Medium 上发表的文章<a class="ae kv" href="https://medium.com/the-code-monster" rel="noopener"><strong class="ky ir">The Code Monster</strong></a>来完善您的技术知识。</p><h1 id="3ca5" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">了解你的作者</h1><p id="847c" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">希曼舒·维尔马毕业于印度勒克瑙的 APJ 阿卜杜勒·卡拉姆大学博士。他是 Android &amp; IOS 开发人员、机器学习和数据科学学习者、金融顾问和博客作者。</p></div></div>    
</body>
</html>