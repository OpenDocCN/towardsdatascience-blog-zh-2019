<html>
<head>
<title>How Python Helped Select My New Home — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 如何帮助我选择新家——第 1 部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-python-helped-me-with-choosing-my-new-home-92a238c94265?source=collection_archive---------11-----------------------#2019-07-21">https://towardsdatascience.com/how-python-helped-me-with-choosing-my-new-home-92a238c94265?source=collection_archive---------11-----------------------#2019-07-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="6811" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个简单的端到端应用程序，使用 Python 来自动化枯燥的工作。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/6352a4dc3d096abd49f571497bf67475.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*72xOubQ9MAaF35xs0SgHww.jpeg"/></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk">Public Housing in Singapore. Photo by <a class="ae kx" href="https://dollarsandsense.sg" rel="noopener ugc nofollow" target="_blank">DollarsAndSense</a>.</figcaption></figure><h1 id="dcf9" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">一点背景</h1><p id="b4e7" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">最近，我向住房发展委员会(HDB)申请建造一套新公寓(BTO)。对于那些不熟悉新加坡公共住房的人来说，新加坡人可以申请 HDB 建造的全新公寓，等待期为 3-5 年。那些成功的申请人将获得一个排队号码，决定他们在项目中选择一个单位的顺序。谢天谢地，我很幸运地拿到了一个排队号。剩下要做的就是选择一个我喜欢的单元，然后<strong class="jp ir">努力祈祷</strong>直到我的约会日期它仍然是可用的。</p><p id="56cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最初，根据我自己的标准，比如潜在的转售价值、屏蔽/未屏蔽的视图等，很容易列出几个单元。然而，他们总是说现实是残酷的，我最喜欢的单位被别人拿走了。</p><h1 id="481c" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">问题来了…</h1><p id="c7a7" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">最终，我开始发现自己陷入了一个<strong class="jp ir">痛苦的循环</strong>每天:<br/> 1)查看是否有单位在 HDB 网站上被选中。如果是，它们在我的入围单位中吗？如果是的话，c̶r̶i̶e̶s̶̶i̶n̶t̶e̶r̶n̶a̶l̶l̶y̶会重新评估我的选择。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/a2602215f81c660f9f89265356053b61.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*7ZMKhwcwrZ7dv0hPTw__1g.png"/></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk">The very page I can’t help but stare at every single day before our appointment.</figcaption></figure><p id="6238" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">显然，我不是唯一有这种问题的人。在和我未来的邻居在一个电报小组呆了一天后，我很快就意识到了这一点。是的，你没听错，聪明的国家。所以我想，现在是 Python 的时代了。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="54bb" class="ky kz iq bd la lb mk ld le lf ml lh li lj mm ll lm ln mn lp lq lr mo lt lu lv bi translated">计划是什么？</h1><p id="7e61" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">为了<strong class="jp ir">自动化</strong>检查单元的整个过程和<strong class="jp ir">个性化</strong>体验，同时对我来说成本最低或为零。</p><h1 id="9afe" class="ky kz iq bd la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">该过程</h1><p id="14df" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">首先，<strong class="jp ir">内容</strong>。我需要从 HDB 网站提取单位和其他杂项信息的可用性。这可以用 Python 中的 BeautifulSoup 包或 Selenium 来完成。在这种情况下，我选择了 BeautifulSoup，因为这个任务非常简单。我不会详细讨论实现，因为这将是一个单独的话题。然而，对于那些感兴趣的人来说，网上有很多教程，这里有一个很好的。</p><p id="2f04" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">二、<strong class="jp ir">存储</strong>。为了迎合个人，我将不得不在单元数据上存储用户数据以供将来参考，这是我与<a class="ae kx" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> MongoDB 自由层云数据库</a>(M0 阿特拉斯)一起进行的。对于手头的任务，阿特拉斯·M0 绝对绰绰有余。此外，Python 有<a class="ae kx" href="https://api.mongodb.com/python/current/" rel="noopener ugc nofollow" target="_blank"> pymongo 包</a>，这使得设置非常简单。</p><p id="efbd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最重要的是，<strong class="jp ir">消费</strong>。我将如何查看此信息，从哪里获取更新？还有，还有谁会想用这个？自然地，因为我从 Telegram 中找到了我未来的邻居，所以以 Telegram bot 的形式提供服务就有了直接的意义。毫无疑问，我选择了<a class="ae kx" href="https://github.com/python-telegram-bot/python-telegram-bot" rel="noopener ugc nofollow" target="_blank"> python-telegram-bot </a>包，因为它的社区给了我第一手的经验，并且我可以用它进行大量的定制。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mp"><img src="../Images/c8beacfd99c660a0a9056bb315934766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HMXxN5MYWzma_AreLpyQwg.png"/></div></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk">Process of setting up an Azure VM</figcaption></figure><p id="9ec4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在花了几个小时来创建基本功能，如用户注册，当他们选择的单位被占用时的通知和发送每日摘要后，这个机器人已经准备好部署在<strong class="jp ir"/>。在虚拟机上托管脚本将允许机器人全天候运行。我把它放在微软自己的云计算平台 Azure 上。顺便说一下，学生在 Azure 上注册时可以获得 100 美元的积分。在 Azure 上设置一个 VM 简直是小菜一碟，只需点击并决定我的 VM 的层和位置。几分钟后，BTO·巴迪上线了。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="2df8" class="ky kz iq bd la lb mk ld le lf ml lh li lj mm ll lm ln mn lp lq lr mo lt lu lv bi translated">用户反馈的重要性</h1><p id="2d1c" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">这次我确定要做的一件事是在第一个版本中加入一个反馈按钮，允许用户匿名留下关于我如何改进 BTO 巴迪的建议。你会对收到的反馈感到惊讶。一位用户建议，他们可以输入堆栈，而不是一次手动键入一个设备(例如# 07–111、# 08–111、# 09–111)，所有带有#xx-111 的设备都将包含在观察列表中。我继续为他们开发这个特性。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="1853" class="ky kz iq bd la lb mk ld le lf ml lh li lj mm ll lm ln mn lp lq lr mo lt lu lv bi translated">结果呢</h1><p id="f189" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">最后，经过几次修改和听取用户的反馈后，BTO 巴迪能做的是:</p><ol class=""><li id="2882" class="mu mv iq jp b jq jr ju jv jy mw kc mx kg my kk mz na nb nc bi translated">监视列表和通知的个性化</li></ol><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nd"><img src="../Images/897443a208d8c7d11506dd62aebedca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HZnVZI59yFJqSBbT5ewD3A.jpeg"/></div></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk">Example of heartbreaking notification sent to users when their favourite units are taken</figcaption></figure><p id="0209" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.基于用户排队数的用户机会估计</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/db181168d8fe077df3120956ad41977b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/1*pBiZ0tLTJsBZt9C9mmGYgw.jpeg"/></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk">Example of a user’s profile and chances</figcaption></figure><p id="213b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.显示单位的当前状态及其受欢迎程度</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/fdbdb2710999ad414fa565efce607b21.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*FVRj59g05QDnC2vHwdGc1w.png"/></div><figcaption class="kt ku gj gh gi kv kw bd b be z dk">Example of how a user can check the status of their units</figcaption></figure><p id="8234" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">至此，BTO 巴迪已经或多或少地完成了，目前服务于 200 多个用户。至于它的<strong class="jp ir">可持续性</strong>，也许我可能得想办法抵消托管的成本(5~10 美元)。如果你有机会申请 BTO，一定要试试<a class="ae kx" href="http://t.me/btobuddy_bot" rel="noopener ugc nofollow" target="_blank"> BTO 哥们</a> (@btobuddy_bot)！</p><p id="44b4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">更新</strong> : <a class="ae kx" href="https://link.medium.com/0x26bDDeT0" rel="noopener"> Part 2 </a>已经发布！</p></div></div>    
</body>
</html>