<html>
<head>
<title>Fun with the Binomial Distribution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有趣的二项式分布</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/fun-with-the-binomial-distribution-96a5ecabf65b?source=collection_archive---------4-----------------------#2019-07-28">https://towardsdatascience.com/fun-with-the-binomial-distribution-96a5ecabf65b?source=collection_archive---------4-----------------------#2019-07-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/b003b2dd7e317c0143729174c0eaac83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iBWWAfLHcA0r0sPzyjwjsA.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="aec1" class="pw-subtitle-paragraph kb jd je bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dk translated">理解不太为人所知的正态分布，以及如何应用它</h2></div><p id="572a" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi lp translated">每个人都知道并喜欢正态分布。它被用于各种各样的应用，如投资建模、A/B 测试和制造过程改进(六西格玛)。</p><p id="9572" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">但是人们对二项分布不太熟悉。这很遗憾，因为二项分布真的很有用。有人问过你类似这样的问题吗:</p><blockquote class="ly lz ma"><p id="a324" class="kt ku mb kv b kw kx kf ky kz la ki lb mc ld le lf md lh li lj me ll lm ln lo im bi translated">"给定一枚硬币，掷 10 次，得到 6 个头的概率是多少？"</p></blockquote><p id="e4a7" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">概率(尤其是餐巾纸后面的概率计算)不是我最喜欢的东西。所以当我第一次学习二项分布的时候，我想，“是的，我再也不用担心抛硬币的概率问题了！”</p><p id="c6fb" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">那是因为抛硬币的结果遵循二项分布。我应该强调一下,<a class="ae mf" href="https://en.wikipedia.org/wiki/Law_of_large_numbers" rel="noopener ugc nofollow" target="_blank">大数定律</a>在这里适用。为了技术上的正确，<strong class="kv jf">我应该说，如果我们一遍又一遍地重复进行同一套实验(投掷硬币 10 次)，我们在所有这些实验中观察到的人头数将遵循二项式分布。</strong></p><p id="6e51" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">不要担心，我很快会详细说明这一点。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="bf31" class="mn mo je bd mp mq mr ms mt mu mv mw mx kk my kl mz kn na ko nb kq nc kr nd ne bi translated">什么是二项分布</h1><p id="9a86" class="pw-post-body-paragraph kt ku je kv b kw nf kf ky kz ng ki lb lc nh le lf lg ni li lj lk nj lm ln lo im bi translated">首先让我们从稍微更技术性的定义开始— <strong class="kv jf">二项式分布是一系列实验的概率分布，其中每个实验产生一个二元结果，并且每个结果都独立于所有其他结果。</strong></p><p id="3bbd" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">一次抛硬币是二进制结果实验的一个例子。抛硬币也符合另一个二项式分布要求——每一次抛硬币的结果都是独立的。需要明确的是，实验的结果不需要像掷硬币一样具有相同的可能性，以下内容也符合二项分布的前提条件:</p><ul class=""><li id="d735" class="nk nl je kv b kw kx kz la lc nm lg nn lk no lo np nq nr ns bi translated">不公平的硬币(例如有 80%的概率正面朝上)。</li><li id="6ba6" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">在街上随机挑选一些人来回答是或否的问题。</li><li id="a47f" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">试图说服网站访问者购买产品——是或否的结果取决于他们是否购买。</li></ul><p id="9b46" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">概率和统计的新手可能会遇到的一个问题是概率分布的概念。我们倾向于确定性地思考，比如“我将一枚硬币抛 10 次，产生了 6 个头”。所以结果是 6，那么分布在哪里呢？</p><p id="ee62" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">概率分布来源于方差。如果你和我都掷 10 枚硬币，很可能我们会得到不同的结果(你可能得到 5 个正面，而我得到 7 个)。<strong class="kv jf">这种方差，也就是围绕结果的不确定性，产生了一种概率分布，它基本上告诉我们哪些结果相对更有可能(比如 5 个头)，哪些结果相对不太可能(比如 10 个头)。</strong></p><p id="239e" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">我们可以通过模拟产生这样的概率分布，如下图所示:</p><figure class="ny nz oa ob gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi gj"><img src="../Images/69dec2daaa523212f6b5ffce6397033b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WVD2_j2CJkb14LR7nVsvjw.jpeg"/></div></div><figcaption class="oc od gj gh gi oe of bd b be z dk">Illustration of a Sequence of Trials that Would Produce a Binomial Distribution</figcaption></figure><p id="9ac2" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">在我们进入运行这个模拟并产生二项式分布的 Python 代码之前，让我们先了解一些定义。当你看到教科书中描述的二项式分布及其背后的实验时，这些描述总是包括以下关键参数:</p><ol class=""><li id="6d4b" class="nk nl je kv b kw kx kz la lc nm lg nn lk no lo og nq nr ns bi translated"><strong class="kv jf"> n: </strong>我们做实验的次数。在我们的硬币例子中，n 等于 10(每个实验是硬币的 1 次翻转)。</li><li id="015c" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo og nq nr ns bi translated"><strong class="kv jf"> p: </strong>成功概率。公平地说，应该是 50%。</li><li id="3d28" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo og nq nr ns bi translated">k: 成功的目标次数。之前我们提到过我们希望获得 6 项成功。</li></ol></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="2f31" class="mn mo je bd mp mq mr ms mt mu mv mw mx kk my kl mz kn na ko nb kq nc kr nd ne bi translated">用 Python 实现二项式分布</h1><p id="378e" class="pw-post-body-paragraph kt ku je kv b kw nf kf ky kz ng ki lb lc nh le lf lg ni li lj lk nj lm ln lo im bi translated">让我们来看一些运行上述模拟的 python 代码。下面的代码<strong class="kv jf"> ( </strong> <a class="ae mf" href="https://github.com/yiuhyuk/binomial" rel="noopener ugc nofollow" target="_blank"> <strong class="kv jf">也可以在我的 Github 这里得到</strong> </a> <strong class="kv jf"> ) </strong>做了如下的事情:</p><ol class=""><li id="2ce2" class="nk nl je kv b kw kx kz la lc nm lg nn lk no lo og nq nr ns bi translated">生成一个介于 0 和 1 之间的随机数。如果这个数字是 0.5 或者更多，那么把它算作正面，否则就是反面。使用 Python list comprehension 做 n 次。这在函数<strong class="kv jf"> run_binom </strong>中通过变量<strong class="kv jf"> tosses </strong>实现。</li><li id="6598" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo og nq nr ns bi translated">重复指定次数(试验次数由输入变量<strong class="kv jf">试验</strong>指定)。我们将进行 1000 次试验。</li></ol><pre class="ny nz oa ob gt oh oi oj ok aw ol bi"><span id="2ee7" class="om mo je oi b gy on oo l op oq"># Import libraries<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="952d" class="om mo je oi b gy or oo l op oq"># Input variables</span><span id="d4f1" class="om mo je oi b gy or oo l op oq"># Number of trials<br/>trials = 1000</span><span id="ffee" class="om mo je oi b gy or oo l op oq"># Number of independent experiments in each trial<br/>n = 10</span><span id="21a8" class="om mo je oi b gy or oo l op oq"># Probability of success for each experiment<br/>p = 0.5</span><span id="5d94" class="om mo je oi b gy or oo l op oq"># Function that runs our coin toss trials<br/># heads is a list of the number of successes from each trial of n experiments<br/>def run_binom(trials, n, p):<br/>    heads = []<br/>    for i in range(trials):<br/>        tosses = [np.random.random() for i in range(n)]<br/>        heads.append(len([i for i in tosses if i&gt;=0.50]))<br/>    return heads</span><span id="37a0" class="om mo je oi b gy or oo l op oq"># Run the function<br/>heads = run_binom(trials, n, p)</span><span id="00fe" class="om mo je oi b gy or oo l op oq"># Plot the results as a histogram<br/>fig, ax = plt.subplots(figsize=(14,7))<br/>ax = sns.distplot(heads, bins=11, label='simulation results')</span><span id="f5ff" class="om mo je oi b gy or oo l op oq">ax.set_xlabel("Number of Heads",fontsize=16)<br/>ax.set_ylabel("Frequency",fontsize=16)</span></pre><p id="c5b5" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">这就是代码。那么，当我们重复 10 次掷硬币试验 1000 次时，会发生什么呢？我们得到下面绘制的直方图:</p><figure class="ny nz oa ob gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/31cf9635d17491f86d771584092636cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1eoPDxDmBmherg1dQOIaag.png"/></div></div><figcaption class="oc od gj gh gi oe of bd b be z dk">Our Simulation Results</figcaption></figure><p id="3812" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">让我们修改前面代码的绘图部分，以便我们的绘图也显示实际的二项式分布(使用 scipy 库中的<a class="ae mf" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.binom.html#scipy.stats.binom" rel="noopener ugc nofollow" target="_blank"> stats.binom 函数):</a></p><pre class="ny nz oa ob gt oh oi oj ok aw ol bi"><span id="6a0f" class="om mo je oi b gy on oo l op oq"># Plot the actual binomial distribution as a sanity check<br/>from scipy.stats import binom<br/>x = range(0,11)<br/>ax.plot(x, binom.pmf(x, n, p), 'ro', label='actual binomial distribution')<br/>ax.vlines(x, 0, binom.pmf(x, n, p), colors='r', lw=5, alpha=0.5)<br/>plt.legend()<br/>plt.show()</span></pre><p id="687d" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">下图用蓝色显示了我们最初的模拟分布，用红色显示了实际的二项式分布。要点是，如果我们实际上重复 10 次抛硬币 1000 次，二项式分布是我们观察到的非常好的近似值——因此，我们可以直接使用二项式分布，而不是浪费大量时间来抛硬币和记录结果！</p><figure class="ny nz oa ob gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/8d5c2dad2a0973777ffee7e195cd7d68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qkUUA6_kXdk7z0XYCwcjNQ.png"/></div></div><figcaption class="oc od gj gh gi oe of bd b be z dk">Actual Binomial Distribution (Red) vs. Our Simulation Results (Blue)</figcaption></figure><p id="6b45" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">如果我们想模拟一系列<strong class="kv jf"> n </strong>次实验的结果(回想一下，在我们的例子中 n=10，但实际上它可以是任何正整数)，我们可以使用二项分布的随机变量来生成结果，如下所示:</p><pre class="ny nz oa ob gt oh oi oj ok aw ol bi"><span id="fa17" class="om mo je oi b gy on oo l op oq">np.random.binomial(n, p)</span></pre><p id="61b8" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">最后，让我们通过对 10 次抛硬币进行 10，000 次模拟来回答我们最初的问题(10 次抛硬币得到 6 个正面的概率):</p><pre class="ny nz oa ob gt oh oi oj ok aw ol bi"><span id="e747" class="om mo je oi b gy on oo l op oq"># Probability of getting 6 heads</span><span id="8bc0" class="om mo je oi b gy or oo l op oq">runs = 10000<br/>prob_6 = sum([1 for i in np.random.binomial(n, p, size=runs) if i==6])/runs<br/>print('The probability of 6 heads is: ' + str(prob_6))</span></pre><p id="65e4" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">我们发现概率约为 20%(我们也可以通过 x 轴上红色垂直线高于 6 的高度在之前的直方图中看到这一点)。</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="0c4f" class="mn mo je bd mp mq mr ms mt mu mv mw mx kk my kl mz kn na ko nb kq nc kr nd ne bi translated">二项分布在现实世界中的应用</h1><p id="6c4d" class="pw-post-body-paragraph kt ku je kv b kw nf kf ky kz ng ki lb lc nh le lf lg ni li lj lk nj lm ln lo im bi translated">酷，但是如果我们想分析抛硬币以外的事情呢？让我们来看一下二项分布的一个程式化的真实世界用例。假设我们是数据科学家，负责提高我们公司呼叫中心的 ROI(投资回报),在这里，员工试图给潜在客户打电话，让他们购买我们的产品。</p><p id="c78e" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">您查看了一些历史数据，发现了以下情况:</p><ul class=""><li id="f78d" class="nk nl je kv b kw kx kz la lc nm lg nn lk no lo np nq nr ns bi translated">典型的呼叫中心员工平均每天打 50 个电话。</li><li id="8f8f" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">每次通话的转换(购买)概率为 4%。</li><li id="11d0" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">你公司每次转换的平均收入是 20 美元。</li><li id="9d90" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">您正在分析的呼叫中心有 100 名员工。</li><li id="895e" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">每个雇员每天的工资是 200 美元。</li></ul><blockquote class="ly lz ma"><p id="0bc5" class="kt ku mb kv b kw kx kf ky kz la ki lb mc ld le lf md lh li lj me ll lm ln lo im bi translated">我们可以将每个员工视为具有以下参数的二项分布随机变量:</p><p id="1fd4" class="kt ku mb kv b kw kx kf ky kz la ki lb mc ld le lf md lh li lj me ll lm ln lo im bi translated"><strong class="kv jf"> n = 50 </strong></p><p id="fabf" class="kt ku mb kv b kw kx kf ky kz la ki lb mc ld le lf md lh li lj me ll lm ln lo im bi translated"><strong class="kv jf"> p = 4% </strong></p></blockquote><p id="b357" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">以下代码模拟了我们的呼叫中心:</p><pre class="ny nz oa ob gt oh oi oj ok aw ol bi"><span id="2792" class="om mo je oi b gy on oo l op oq"># Call Center Simulation</span><span id="060e" class="om mo je oi b gy or oo l op oq"># Number of employees to simulate<br/>employees = 100</span><span id="f55d" class="om mo je oi b gy or oo l op oq"># Cost per employee<br/>wage = 200</span><span id="6b27" class="om mo je oi b gy or oo l op oq"># Number of independent calls per employee<br/>n = 50</span><span id="541e" class="om mo je oi b gy or oo l op oq"># Probability of success for each call<br/>p = 0.04</span><span id="9e7e" class="om mo je oi b gy or oo l op oq"># Revenue per call<br/>revenue = 100</span><span id="714e" class="om mo je oi b gy or oo l op oq"># Binomial random variables of call center employees<br/>conversions = np.random.binomial(n, p, size=employees)</span><span id="3095" class="om mo je oi b gy or oo l op oq"># Print some key metrics of our call center<br/>print('Average Conversions per Employee: ' + str(round(np.mean(conversions), 2)))<br/>print('Standard Deviation of Conversions per Employee: ' + str(round(np.std(conversions), 2)))<br/>print('Total Conversions: ' + str(np.sum(conversions)))<br/>print('Total Revenues: ' + str(np.sum(conversions)*revenue))<br/>print('Total Expense: ' + str(employees*wage))<br/>print('Total Profits: ' + str(np.sum(conversions)*revenue - employees*wage))</span></pre><p id="bb16" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">如果您运行该代码，您会得到如下输出(每次运行都会发生变化，因为<strong class="kv jf">转换</strong>是一个二项分布的随机变量数组)呼叫中心的关键指标:</p><ul class=""><li id="1f65" class="nk nl je kv b kw kx kz la lc nm lg nn lk no lo np nq nr ns bi translated"><strong class="kv jf">每位员工的平均转换率:</strong> 2.13</li><li id="ee93" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated"><strong class="kv jf">每个员工转换率的标准偏差:</strong> 1.48</li><li id="4a03" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">总转换数: 213</li><li id="3bbf" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">总收入:21300 美元</li><li id="80e6" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated"><strong class="kv jf">总费用:</strong>20，000 美元</li><li id="b028" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated"><strong class="kv jf">总利润:【1,300 美元</strong></li></ul><p id="671a" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">与费用相比，利润相当微薄。但这些只是随机产生的一天的结果。让我们看看我们的呼叫中心在 1，000 次模拟中的利润，看看每天的利润是如何变化的:</p><figure class="ny nz oa ob gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/9711baf5eff151fcfd278a18aef29713.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4E4C_UHny-iuuCV8Gylb2w.png"/></div></div><figcaption class="oc od gj gh gi oe of bd b be z dk">Profit Distribution of Our Call Center</figcaption></figure><p id="0553" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">哇，鉴于我们呼叫中心目前的运营指标，亏损的可能性非常高(近一半的模拟利润为负)。那我们该怎么办？</p><p id="2581" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf">回想每位员工的业绩都遵循二项分布</strong>，我们意识到我们可以采取以下一项或多项措施来改善情况:</p><ul class=""><li id="8c6d" class="nk nl je kv b kw kx kz la lc nm lg nn lk no lo np nq nr ns bi translated">多打冷门电话(增加<strong class="kv jf"> n </strong>)。</li><li id="c2ce" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">以更高的百分比转换(增加<strong class="kv jf"> p </strong>)。</li><li id="69d2" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">少给员工发工资(我们不会这么做，因为我们人好)。</li></ul><p id="3475" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">最终，我们开发了一个潜在客户生成工具，使我们的呼叫中心员工能够识别更有可能购买我们产品的人。这导致电话通话时间更短(需要的甜言蜜语更少)，我们的转换概率上升，最终对我们的参数进行了如下修改:</p><ul class=""><li id="01f6" class="nk nl je kv b kw kx kz la lc nm lg nn lk no lo np nq nr ns bi translated"><strong class="kv jf"> n = 55 </strong></li><li id="084f" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated"><strong class="kv jf"> p = 5% </strong></li></ul><p id="0bb1" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">让我们运行下面几行代码，模拟我们新改进的呼叫中心的 1000 个潜在工作日，看看这些变化如何影响我们未来每日利润的统计分布。</p><pre class="ny nz oa ob gt oh oi oj ok aw ol bi"><span id="2af6" class="om mo je oi b gy on oo l op oq"># Call Center Simulation (Higher Conversion Rate)</span><span id="941b" class="om mo je oi b gy or oo l op oq"># Number of employees to simulate<br/>employees = 100</span><span id="10c3" class="om mo je oi b gy or oo l op oq"># Cost per employee<br/>wage = 200</span><span id="8e4c" class="om mo je oi b gy or oo l op oq"># Number of independent calls per employee<br/>n = 55</span><span id="4ffe" class="om mo je oi b gy or oo l op oq"># Probability of success for each call<br/>p = 0.05</span><span id="522f" class="om mo je oi b gy or oo l op oq"># Revenue per call<br/>revenue = 100</span><span id="9b82" class="om mo je oi b gy or oo l op oq"># Binomial random variables of call center employees<br/>conversions_up = np.random.binomial(n, p, size=employees)</span><span id="4258" class="om mo je oi b gy or oo l op oq"># Simulate 1,000 days for our call center</span><span id="5bb1" class="om mo je oi b gy or oo l op oq"># Number of days to simulate<br/>sims = 1000</span><span id="73e7" class="om mo je oi b gy or oo l op oq">sim_conversions_up = [np.sum(np.random.binomial(n, p, size=employees)) for i in range(sims)]<br/>sim_profits_up = np.array(sim_conversions_up)*revenue - employees*wage</span><span id="816b" class="om mo je oi b gy or oo l op oq"># Plot and save the results as a histogram<br/>fig, ax = plt.subplots(figsize=(14,7))<br/>ax = sns.distplot(sim_profits, bins=20, label='original call center simulation results')<br/>ax = sns.distplot(sim_profits_up, bins=20, label='improved call center simulation results', color='red')</span><span id="d47f" class="om mo je oi b gy or oo l op oq">ax.set_xlabel("Profits",fontsize=16)<br/>ax.set_ylabel("Frequency",fontsize=16)<br/>plt.legend()</span></pre><p id="0057" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">上面的代码还绘制了我们的改进结果(红色)相对于旧结果(蓝色)的分布。我们不需要<a class="ae mf" rel="noopener" target="_blank" href="/data-science-fundamentals-a-b-testing-cb371ceecc27">进行 A/B 测试(尽管我们真的应该)</a>就能看到我们的销售线索挖掘工具已经显著改善了我们呼叫中心的运营和盈利能力。</p><blockquote class="ly lz ma"><p id="9258" class="kt ku mb kv b kw kx kf ky kz la ki lb mc ld le lf md lh li lj me ll lm ln lo im bi translated">我们成功认识到每个员工产生的利润遵循二项式分布，因此如果我们能够增加<strong class="kv jf"> n </strong>(每天拨打的陌生电话数量)和<strong class="kv jf"> p </strong>(每次电话的转换概率)参数，我们可以产生更高的利润。</p></blockquote><figure class="ny nz oa ob gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/e2fe207f569eeae5224efbb6ba35948c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8tluf5f7r0kGvGYtfPIRpg.png"/></div></div><figcaption class="oc od gj gh gi oe of bd b be z dk">Improved Call Center Simulation</figcaption></figure></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><h1 id="0871" class="mn mo je bd mp mq mr ms mt mu mv mw mx kk my kl mz kn na ko nb kq nc kr nd ne bi translated">结论</h1><p id="6532" class="pw-post-body-paragraph kt ku je kv b kw nf kf ky kz ng ki lb lc nh le lf lg ni li lj lk nj lm ln lo im bi translated">最后，我想提出以下几点:</p><ul class=""><li id="ff28" class="nk nl je kv b kw kx kz la lc nm lg nn lk no lo np nq nr ns bi translated"><strong class="kv jf">概率分布是接近现实的模型。</strong>如果我们能够找到一个与我们所关心的结果非常接近的分布，那么这个分布就非常强大——就像我们上面看到的那样，只需要几个参数(n 和 p ),我们就可以对数百人产生的利润进行建模。</li><li id="5e83" class="nk nl je kv b kw nt kz nu lc nv lg nw lk nx lo np nq nr ns bi translated">然而，同样重要的是<strong class="kv jf">认识到模型在哪里以及如何与我们的现实情况不匹配</strong> —这样我们就知道在什么情况下我们的模型可能表现不佳。</li></ul><p id="7a8b" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">干杯！</p></div><div class="ab cl mg mh hx mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="im in io ip iq"><p id="d361" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf"> <em class="mb">更多数据科学与分析相关帖子由我:</em> </strong></p><p id="a959" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><a class="ae mf" rel="noopener" target="_blank" href="/understanding-pca-fae3e243731d?source=post_page---------------------------"> <em class="mb">了解 PCA </em> </a></p><p id="bdf1" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><a class="ae mf" rel="noopener" target="_blank" href="/understanding-random-forest-58381e0602d2?source=post_page---------------------------"> <em class="mb">了解随机森林</em> </a></p><p id="215d" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><a class="ae mf" rel="noopener" target="_blank" href="/understanding-neural-networks-19020b758230?source=post_page---------------------------"> <em class="mb">理解神经网络</em> </a></p><p id="5e1b" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><a class="ae mf" rel="noopener" target="_blank" href="/data-science-fundamentals-a-b-testing-cb371ceecc27?source=post_page---------------------------"> <em class="mb">了解 A/B 测试</em> </a></p><p id="0f23" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><a class="ae mf" rel="noopener" target="_blank" href="/visualizing-the-stock-market-with-tableau-c0a7288e7b4d?source=post_page---------------------------"> <em class="mb">用 Tableau 可视化股票</em> </a></p><p id="68cc" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><a class="ae mf" rel="noopener" target="_blank" href="/the-curse-of-dimensionality-50dc6e49aa1e?source=post_page---------------------------"><em class="mb"/>维度的诅咒</a></p></div></div>    
</body>
</html>