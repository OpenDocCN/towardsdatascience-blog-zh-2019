<html>
<head>
<title>The Video Search Engine â€” My Journey Into Computer Vision</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">è§†é¢‘æœç´¢å¼•æ“â€”â€”æˆ‘çš„è®¡ç®—æœºè§†è§‰ä¹‹æ—…</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/the-video-search-engine-my-journey-into-computer-vision-9789824e76bb?source=collection_archive---------21-----------------------#2019-12-23">https://towardsdatascience.com/the-video-search-engine-my-journey-into-computer-vision-9789824e76bb?source=collection_archive---------21-----------------------#2019-12-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="89c6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">åˆ¶ä½œè§†é¢‘å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯è°æœ‰æ—¶é—´çœ‹å®Œå‘¢ï¼Ÿæˆ‘æå‡ºä¸€ä¸ªè§†é¢‘æœç´¢å¼•æ“æ¥æ‰¾åˆ°ç›¸å…³çš„æ—¶åˆ»(åŸå‹åŒ…æ‹¬åœ¨å†…)ã€‚</h2></div><p id="a9d0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åˆ›ä½œè§†é¢‘å†…å®¹æ˜¯æˆ‘ä¸€ç”Ÿçš„çˆ±å¥½ã€‚æˆ‘è®°å¾—åœ¨ä¸­å­¦åˆ¶ä½œåœæ­¢åŠ¨ç”»ç”µå½±ï¼Œæ¯•ä¸šåˆ° 30 åˆ†é’Ÿã€‚é«˜ä¸­å’Œå¤§å­¦çš„çŸ­ç‰‡ã€‚ç”±äºæˆ‘çš„å­©å­ä»¬ï¼Œæˆ‘çš„â€œç”µå½±â€ç°åœ¨æ›´åŠ é¢å‘å®¶åº­ï¼Œä½†æˆ‘æ€»æ˜¯åœ¨æ€è€ƒæ–°çš„é¡¹ç›®ã€‚</p><figure class="le lf lg lh gt li"><div class="bz fp l di"><div class="lj lk l"/></div></figure><p id="92dd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å½“æˆ‘åæ€æˆ‘å–œæ¬¢åšçš„é¡¹ç›®æ—¶ï¼Œæˆ‘ä¸æ–­å›åˆ°åŒä¸€ä¸ªé—®é¢˜:è®°å½•é•œå¤´è¿œæ¯”ç†è§£å®ƒå®¹æ˜“ã€‚æƒ³æƒ³ä½ æ‰‹æœºçš„ç›¸æœºèƒ¶å·ã€‚å®ƒå¯èƒ½å……æ»¡äº†æ•°ç™¾ä¸ªï¼Œå¦‚æœä¸æ˜¯æ•°åƒä¸ªï¼Œæœªç»ç¼–è¾‘çš„è§†é¢‘ï¼Œå¤ªé•¿ï¼Œä¸å€¼å¾—ä¸€çœ‹ã€‚</p><p id="3287" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åˆ›ä½œå’Œæ¶ˆè´¹è§†é¢‘ä¹‹é—´çš„ä¸å¹³è¡¡æ˜¯â€œ<a class="ae ll" href="https://www.npr.org/2019/08/09/749938354/episode-932-deep-learning-with-the-elephants" rel="noopener ugc nofollow" target="_blank">å…¸å‹çš„ç°ä»£é—®é¢˜</a>â€çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ˜¯ç”±å»‰ä»·çš„å½•åˆ¶è®¾å¤‡ç”šè‡³æ›´ä¾¿å®œçš„æ•°å­—å­˜å‚¨è®¾å¤‡é€ æˆçš„ã€‚å¿«é€Ÿæ€»ç»“ä¸€ä¸‹ï¼Œé—®é¢˜æ˜¯æˆ‘ä»¬å¯ä»¥æŠŠ 15 ä¸ªæ‘„åƒå¤´ä» 15 ä¸ªä¸åŒçš„è§’åº¦å¯¹å‡†åŒä¸€ä¸ªä½“è‚²èµ›äº‹ä¸¤ä¸ªå°æ—¶ï¼Œäº§ç”Ÿ 30 ä¸ªå°æ—¶çš„æœªå‰ªè¾‘è§†é¢‘ã€‚ä½†æ˜¯æ²¡æœ‰äººæœ‰ 30 ä¸ªå°æ—¶æ¥è§‚çœ‹è¿™äº›å†…å®¹ã€‚</p><blockquote class="lm"><p id="9c29" class="ln lo it bd lp lq lr ls lt lu lv ld dk translated">æˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ç§ä»è§†é¢‘å†…å®¹ä¸­æå–æœ‰è¶£ç¬é—´çš„æ–¹æ³•ã€‚</p></blockquote><p id="0f52" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªæ›´å®é™…çš„ä¾‹å­ã€‚ä½ å½“åœ°çš„é›¶å”®å•†å¯èƒ½æ¯ä¸ªæœˆä¼šå½•åˆ¶æ•°åƒå°æ—¶çš„è§†é¢‘æ¥è¯†åˆ«å•†åº—æ‰’æ‰‹ã€‚ç„¶è€Œï¼Œå°½ç®¡æœ‰æ˜æ˜¾çš„å•†ä¸šä»·å€¼ï¼Œè¿™ä¸ªè§†é¢‘æ˜¯æœªç»ç¼–è¾‘çš„ï¼Œå†—é•¿çš„ï¼Œéå¸¸ä¸å€¼å¾—ä¸€çœ‹ã€‚éœ€è¦çš„æ˜¯<strong class="kk iu">ä¸€ä¸ªè§†é¢‘</strong>çš„â€œæœç´¢å¼•æ“â€ã€‚ä»¥å›¾åƒæˆ–è§†é¢‘â€œå…³é”®æ—¶åˆ»â€ä½œä¸ºæœç´¢è¯è¾“å…¥ï¼Œè¾“å‡ºç›¸å…³è§†é¢‘ç‰‡æ®µä½œä¸ºæœç´¢ç»“æœçš„ç³»ç»Ÿã€‚</p><p id="66d5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¿™ä¸ªé—®é¢˜è®©æˆ‘æƒ³èµ·äº† 2004 å¹´å¤å¤©åœ¨æˆ‘ä»¬å›½å®¶çš„ä¸€ä¸ªé¡¶çº§ R&amp;D å®éªŒå®¤â€”â€”IBM t . j .æ²ƒæ£®ç ”ç©¶ä¸­å¿ƒçš„å®ä¹ ã€‚åœ¨é‚£é‡Œï¼Œæˆ‘çœ‹åˆ°äº†è®¡ç®—æœºè§†è§‰é¡¹ç›®çš„æ—©æœŸåº”ç”¨ï¼Œä¾‹å¦‚åœ¨è¿›å‡ºåœè½¦åœºçš„æ±½è½¦ä¸Šç»˜åˆ¶è¾¹ç•Œæ¡†ã€‚</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/279efb0fc27d006e6c4016c69050745b.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*yL994F3BlDpPrDw5.gif"/></div><figcaption class="me mf gj gh gi mg mh bd b be z dk">Bounding boxes identifying cars and persons</figcaption></figure><p id="cb51" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘åœ¨ IBM å·¥ä½œå·²ç» 15 å¹´äº†ï¼Œä½†æˆ‘ä»æœªå¿˜è®°é‚£ç§ç¥å¥‡çš„æ„Ÿè§‰â€”â€”çœ‹ç€å±å¹•ä¸Šé—ªçƒç€æ±½è½¦å’Œäººå‘¨å›´çš„ç›’å­ã€‚å½“æ—¶ï¼Œè¿™æ ·çš„è¾“å‡ºæ˜¯æœºå™¨å­¦ä¹ å’Œè®¡ç®—èƒ½åŠ›çš„çªç ´ã€‚æˆ‘ç°åœ¨å¯ä»¥æ¢ç´¢æ˜¯å¦å¯ä»¥å»ºç«‹é€šç”¨çš„è§†é¢‘æœç´¢å¼•æ“ã€‚</p><h2 id="4554" class="mi mj it bd mk ml mm dn mn mo mp dp mq kr mr ms mt kv mu mv mw kz mx my mz na bi translated">æ¢ç´¢:è§†é¢‘æœç´¢å¼•æ“</h2><p id="f22d" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">æˆ‘çš„ç›®æ ‡æ˜¯å»ºç«‹ä¸€ä¸ªä¸Šè¿°è§†é¢‘æœç´¢å¼•æ“çš„åŸå‹ã€‚è¯¥ç³»ç»Ÿå°†è§†é¢‘è®°å½•ä¹’ä¹“çƒæ¯”èµ›ï¼Œå½“çƒåœ¨æ¯”èµ›æ—¶æå–è§†é¢‘å‰ªè¾‘ï¼Œå¹¶åªå‘ç”¨æˆ·æ˜¾ç¤ºç›¸å…³çš„å‰ªè¾‘ã€‚ç¬¬ä¸€ä¸ªå…³é”®ç»“æœæ˜¯ä½¿ç”¨ä¾¿æºå¼è®¾å¤‡è§†é¢‘è®°å½•ä¹’ä¹“çƒæ¯”èµ›ï¼Œå¹¶å°†è§†é¢‘å‘é€åˆ°äº‘å­˜å‚¨è¿›è¡Œåˆ†æã€‚ç¬¬äºŒä¸ªå…³é”®ç»“æœæ˜¯è®­ç»ƒä¸€ä¸ªç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œè¯¥æ¨¡å‹å‘ç°ä¸€ä¸ªä¹’ä¹“çƒåœ¨è¿åŠ¨ã€‚ç¬¬ä¸‰ä¸ªå…³é”®ç»“æœæ˜¯å°†æå–çš„è§†é¢‘å‰ªè¾‘è¾“å‡ºåˆ° web UIã€‚</p><p id="0df8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘å¯¹è¿™ä¸ªé¡¹ç›®æ–½åŠ äº†å„ç§é™åˆ¶ï¼Œè®©å®ƒä¿æŒåœ¨æ™šä¸Šå’Œå‘¨æœ«çš„èŒƒå›´å†…ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä¸æ‰“ç®—åœ¨ Raspberry Pi ä¸Šæ„å»ºä¸€ä¸ªå®Œå…¨åŒ…å«çš„å¯¹è±¡æ£€æµ‹ç³»ç»Ÿã€‚ç›¸åï¼Œæˆ‘å°†ä½¿ç”¨ AWS æ¥æ£€ç´¢å­˜å‚¨çš„è§†é¢‘å‰ªè¾‘ï¼Œé€šè¿‡å¯¹è±¡æ£€æµ‹å™¨å¤„ç†å®ƒä»¬ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™ web UIã€‚è§†é¢‘çš„å®æ—¶å¤„ç†ä¹Ÿè¶…å‡ºäº†è¿™ä¸ªé¡¹ç›®çš„èŒƒå›´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›é™åˆ¶ä¸ºè¿™ä¸ªé¡¹ç›®å¸¦æ¥äº†ä»¤äººå…´å¥‹çš„æœªæ¥æœºé‡ã€‚</p><h2 id="d7e5" class="mi mj it bd mk ml mm dn mn mo mp dp mq kr mr ms mt kv mu mv mw kz mx my mz na bi translated">åœ¨ä¾¿æºå¼è®¾å¤‡ä¸Šå½•åˆ¶è§†é¢‘</h2><p id="ad9d" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘å·²ç»å®Œæˆäº†ç¬¬ä¸€ä¸ªå…³é”®ç»“æœçš„ 70%,é€šè¿‡ä½¿ç”¨ Raspberry Pi å½•åˆ¶è§†é¢‘å†…å®¹ï¼Œå¹¶å°†è§†é¢‘å‘é€åˆ° AWS S3 ä»¥ä¾›æœªæ¥åˆ†æã€‚</p><p id="c607" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä»ä¸€å¼€å§‹ï¼Œæˆ‘å°±æƒ³è±¡æ ‘è“ Pi(å¸¦æœ‰ Pi ç›¸æœºæ¨¡å—)å°†æ˜¯æ¢ç´¢ä¾¿æºå¼è§†é¢‘æ•æ‰çš„ç†æƒ³é€‰æ‹©ã€‚æˆ‘äº†è§£åˆ°<a class="ae ll" href="https://www.pyimagesearch.com/2019/04/15/live-video-streaming-over-network-with-opencv-and-imagezmq/" rel="noopener ugc nofollow" target="_blank">æœ‰å¾ˆå¤šé€‰æ‹©</a>ï¼ŒåŒ…æ‹¬ IP æ‘„åƒå¤´ã€ç½‘ç»œæ‘„åƒå¤´ç­‰ç­‰ã€‚ä½†æ˜¯äº‹åæ¥çœ‹ï¼Œæˆ‘å¾ˆé«˜å…´æˆ‘é€‰æ‹©äº† Raspberry Piï¼Œå› ä¸ºå®ƒçš„å¤–å½¢ã€è®°å½•è‰¯å¥½çš„ä»£ç å’Œçƒ­æƒ…çš„ç¤¾åŒºã€‚</p><p id="bc36" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸€æ—¦æˆ‘å¯åŠ¨äº† Raspberry Piï¼Œæˆ‘å°±é…ç½®äº†ä¸€ä¸ª SSH ç¯å¢ƒï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥ä»æˆ‘çš„ç¬”è®°æœ¬ç”µè„‘ä¸Šæ‰§è¡Œä»£ç æ¥æ•æ‰å›¾åƒå’Œè§†é¢‘ã€‚</p><p id="4527" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶åæˆ‘ä¸å¾—ä¸æŠŠè§†é¢‘å‘ç»™ S3 AWSã€‚æˆ‘ç”¨ Python åšäº†ä¸€ä¸ªç®€å•çš„è®¾è®¡:(1)ä» Pi æ‘„åƒæœºæ‰“å¼€ä¸€ä¸ªè§†é¢‘æµï¼Œ(2)æ¯ä¸¤ç§’é’Ÿå‘ S3 å‘é€ä¸€å¸§ã€‚</p><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="a5ae" class="mi mj it nh b gy nl nm l nn no">import imutils<br/>from imutils.video import VideoStream<br/>from imutils.video import FPS<br/>import boto3<br/>import cv2<br/>import datetime<br/>import time<br/>from decimal import Decimal<br/>import uuid<br/>import json<br/>import pytz<br/>from pytz import timezone<br/>import os</span><span id="cf60" class="mi mj it nh b gy np nm l nn no"># init interface to AWS S3 via Python<br/>s3_client = boto3.client('s3',<br/>      aws_access_key_id=os.environ["AWS_ACCESS_KEY_ID"],<br/>      aws_secret_access_key=os.environ["AWS_SECRET_ACCESS_KEY"])<br/><br/># init where to send the captured frames<br/>s3_bucket = "img-from-raspi-for-web"<br/>s3_key_frames_root = "frames/"</span><span id="ebc5" class="mi mj it nh b gy np nm l nn no"># init video stream from Raspberry Pi Camera<br/>print("[INFO] starting video stream...")<br/>vs = VideoStream(src=0).start()<br/># vs = VideoStream(usePiCamera=True).start()<br/>time.sleep(2.0) # warm up the sensor</span><span id="bdf7" class="mi mj it nh b gy np nm l nn no">def convert_ts(ts, selected_timezone):<br/>   <em class="nq"># Converts a timestamp to the configured timezone. Returns a localized datetime object<br/></em>   tz = timezone(selected_timezone)<br/>   utc = pytz.utc<br/>   utc_dt = utc.localize(datetime.datetime.utcfromtimestamp(ts))<br/>   localized_dt = utc_dt.astimezone(tz)<br/>   return localized_dt<br/><br/># loop over frames from the video file stream<br/>while True:<br/>   # grab the frame from the video stream and resize it<br/>   frame = vs.read()<br/>   approx_capture_ts = time.time()<br/>   if frame is None:<br/>      continue # useful to skip blank frames from sensor<br/><br/>   frame = imutils.resize(frame, width=500)<br/>   ret, jpeg = cv2.imencode('.jpg', frame)<br/>   photo = jpeg.tobytes() <br/>   # bytes are used in future section to call Amazon Rekognition API<br/>    <br/>   now_ts = time.time()<br/>   now = convert_ts(now_ts, "US/Eastern")<br/>   year = now.strftime("%Y")<br/>   mon = now.strftime("%m")<br/>   day = now.strftime("%d")<br/>   hour = now.strftime("%H")<br/><br/>   # build s3_key using UUID and other unique identifiers<br/>   s3_key = (s3_key_frames_root + '{}/{}/{}/{}/{}.jpg').format(year, mon, day, hour, frame_id)<br/><br/>   # Store frame image in S3<br/>   s3_client.put_object(<br/>      Bucket=s3_bucket,<br/>      Key=s3_key,<br/>      Body=photo<br/>   )<br/>   time.sleep(2.0) # essentially, a frame rate of 0.5</span></pre><p id="9c41" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å›¾åƒå¼€å§‹å‡ºç°åœ¨æˆ‘çš„ S3 æ¡¶ä¸­ï¼Œæ‰€ä»¥æˆ‘å¼€å§‹ä¸ºè¿™ä¸ªé¡¹ç›®è®¾è®¡æ•°æ®åº“ã€‚</p><p id="49d9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘çš„è®¾è®¡å°†æ¯å¹…å›¾åƒã€å…¶æ—¶é—´æˆ³å’Œæ¯å¹…å›¾åƒçš„é¢„æµ‹ç»“æœå­˜å‚¨åœ¨ NoSQL è¡¨ä¸­ã€‚ç¨åï¼Œæˆ‘å°†æŸ¥è¯¢è¯¥æ•°æ®åº“ä¸­çš„é¢„æµ‹ï¼Œå¹¶è·å–ç›¸åº”çš„æ—¶é—´æˆ³ï¼Œä»¥å°†è§†é¢‘å‰ªè¾‘æˆç›¸å…³çš„å‰ªè¾‘ã€‚</p><p id="f99c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç°åœ¨ï¼Œæˆ‘ä¸ºé¢„æµ‹è®¾ç½®äº†ä¸€ä¸ªå­˜æ ¹ï¼Œä¾é <a class="ae ll" href="https://aws.amazon.com/blogs/aws/launch-welcoming-amazon-rekognition-video-service/" rel="noopener ugc nofollow" target="_blank"> AWS Rekognition </a> API æ¥æ£€æµ‹å¯¹è±¡ã€‚ä¸‹é¢æ˜¯æˆ‘å¦‚ä½•å°†æ•°æ®ä¿å­˜åˆ° DynamoDB è¡¨ä¸­çš„:</p><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="8321" class="mi mj it nh b gy nl nm l nn no">def detect_labels_local_file(photo):<br/>    response = rekog_client.detect_labels(Image={'Bytes': photo},<br/>            MaxLabels=5,<br/>            MinConfidence=60.0)<br/><br/>    for label in response['Labels']:<br/>        print (label['Name'] + ' : ' + str(label['Confidence']))<br/><br/>    return response</span><span id="dcfd" class="mi mj it nh b gy np nm l nn no">### In the while loop ###<br/>    rekog_response = detect_labels_local_file(photo)</span><span id="9e4d" class="mi mj it nh b gy np nm l nn no">    # Persist frame data in dynamodb<br/>    ddb_item = {<br/>       'frame_id': frame_id,<br/>       'processed_timestamp': now_ts, # beware of putting floats into DDB. Had to use json.loads as a workaround<br/>       'approx_capture_timestamp': approx_capture_ts,<br/>       'rekog_labels': rekog_response['Labels'],<br/>       'rekog_orientation_correction':<br/>          rekog_response['OrientationCorrection']<br/>          if 'OrientationCorrection' in rekog_response else 'ROTATE_0',<br/>       'processed_year_month': year + mon,  # To be used as a Hash Key for DynamoDB GSI<br/>       's3_bucket': s3_bucket,<br/>       's3_key': s3_key<br/>    }<br/><br/>    ddb_data = json.loads(json.dumps(ddb_item), parse_float=Decimal)<br/><br/>    ddb_table.put_item(Item=ddb_data)</span></pre><p id="38bb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆåŠŸï¼æˆ‘æœ‰ä¸€ä¸ª NoSQL è¡¨ï¼Œå®ƒå¼•ç”¨äº† S3 å›¾åƒã€æ—¶é—´æˆ³åŠå…¶ç›¸åº”çš„é¢„æµ‹:</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi nr"><img src="../Images/2756f610420901dc5cf065dc9240a2e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BJFEu4mUPIUtH2UmEQRaVw.png"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk">Items in DynamoDB table, showing Rekognition API results for captured frames from Pi Camera</figcaption></figure><h2 id="de8a" class="mi mj it bd mk ml mm dn mn mo mp dp mq kr mr ms mt kv mu mv mw kz mx my mz na bi translated">æ„å»ºä¹’ä¹“çƒæ£€æµ‹çš„æœºå™¨å­¦ä¹ æ¨¡å‹</h2><p id="9a23" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">åœ¨æ‘„åƒå¤´å¯¹å‡†æˆ‘çš„æƒ…å†µä¸‹ï¼ŒAWS Rekognition ä»¥ 99.13%çš„ç½®ä¿¡åº¦æ£€æµ‹åˆ°äº†ä¸€ä¸ªâ€˜äººâ€™ã€‚ä½†æ˜¯ï¼ŒRekognition èƒ½å¦æ£€æµ‹åˆ°æ­£åœ¨è¿åŠ¨çš„ä¹’ä¹“çƒæ¥å¸®åŠ©æˆ‘å®ç°ç¬¬äºŒä¸ªå…³é”®ç»“æœå‘¢ï¼Ÿ</p><p id="6244" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é—æ†¾çš„æ˜¯ï¼Œæ²¡æœ‰ã€‚åœ¨æµ‹è¯•äº†è®¸å¤šä¹’ä¹“çƒå›¾åƒåï¼Œæˆ‘å‘ç° Rekognition åœ¨æ£€æµ‹åœºæ™¯æ–¹é¢çš„è¡¨ç°ä»¤äººé’¦ä½©â€”â€”ä¾‹å¦‚æ ‡è®°å±äºâ€œä¹’ä¹“çƒâ€çš„å›¾åƒã€‚ä½†æ˜¯åœ¨å¯»æ‰¾ä¹’ä¹“çƒæ–¹é¢ï¼ŒRekognition è¡¨ç°ä¸ä½³ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒæ ¹æœ¬æ²¡æœ‰å°†çƒåŒºåˆ†ä¸ºå¯è¯†åˆ«çš„ç‰©ä½“ã€‚å½“å®ƒæ‰¾åˆ°çƒæ—¶ï¼Œå®ƒæŠŠå®ƒæ ‡ä¸ºâ€œæœˆäº®â€ğŸ˜</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi nw"><img src="../Images/32a9c323f3f4d2e82f6e46f25156f382.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZXmn80y37N_obCS-CRC0Zw.png"/></div></div><figcaption class="me mf gj gh gi mg mh bd b be z dk">Rekognition results for an image of a ping pong match</figcaption></figure><p id="4105" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä½¿ç”¨ Rekognition API å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å¯¹äºæˆ‘çš„é¡¹ç›®æ¥è¯´æœ‰æ‰€é™åˆ¶ã€‚å¹¸è¿çš„æ˜¯ï¼Œå¦‚æœä½ æƒ³å®šåˆ¶è‡ªå·±çš„æ¨¡å‹ï¼Œäºšé©¬é€Šæä¾›äº†<a class="ae ll" href="https://docs.aws.amazon.com/sagemaker/latest/dg/object-detection.html" rel="noopener ugc nofollow" target="_blank"> SageMaker å¯¹è±¡æ£€æµ‹ API </a>ã€‚</p><p id="998e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä»ä¸€åœºä¹’ä¹“çƒæ¯”èµ›çš„è§†é¢‘å¼€å§‹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹æ¡†æ¶:</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi nx"><img src="../Images/bae161567f693383315a7ceebcccc169.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AvyC4JQioXNGMykZ.jpg"/></div></div></figure><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi ny"><img src="../Images/fd34d1fc04a768aea272cb3741ed347b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OlWUvIaECEuBINeI.png"/></div></div></figure><h2 id="e21e" class="mi mj it bd mk ml mm dn mn mo mp dp mq kr mr ms mt kv mu mv mw kz mx my mz na bi translated">å‡†å¤‡å’Œæ ‡è®°æ•°æ®</h2><p id="cdb9" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">æˆ‘çš„ç¬¬ä¸€ä¸ªä»»åŠ¡æ˜¯ç”¨ä¹’ä¹“çƒæ ‡è®°è§†é¢‘å¸§ï¼Œä»¥å»ºç«‹ä¸€ä¸ªè®­ç»ƒã€éªŒè¯å’Œæµ‹è¯•æ•°æ®é›†ã€‚<a class="ae ll" href="https://en.wikipedia.org/wiki/FFmpeg" rel="noopener ugc nofollow" target="_blank"> FFmpeg åº“</a>æœ‰åŠ©äºå°†è§†é¢‘è½¬æ¢æˆæˆ‘å¯ä»¥æ ‡è®°çš„å›¾åƒ:</p><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="8495" class="mi mj it nh b gy nl nm l nn no"># from Terminal after installing the ffmpeg library</span><span id="1ba6" class="mi mj it nh b gy np nm l nn no"># Get one frame to identify the area I care about<br/>ffmpeg -i tt-video-1080p.mp4 -ss 00:00:59.000 -vframes 1 thumb.jpg<br/><br/># I found an area I care about in a fixed-position video feed using a photo-editing program: a 512x512 image with a top-left corner at x:710, y:183y<br/>ffmpeg -i tt-video-1080p.mp4 -filter:v "crop=512:512:710:183â€ cropped.mp4</span><span id="b7dd" class="mi mj it nh b gy np nm l nn no"># output the video as a series of jpg images @ 10 frames per second<br/>ffmpeg -i cropped.mp4 -vf fps=10 thumb%04d.jpg -hide_banner</span></pre><p id="fa6b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸Šé¢çš„ç‰‡æ®µåœ¨æˆ‘çš„æœºå™¨ä¸Šç”Ÿæˆäº†æˆåƒä¸Šä¸‡çš„å›¾åƒã€‚ä¸‹ä¸€æ­¥æ˜¯ç»™ä¹’ä¹“çƒæ·»åŠ â€œè¾¹ç•Œæ¡†â€ã€‚</p><p id="5630" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æœ‰è®¸å¤š<a class="ae ll" href="https://thehive.ai/hive-data?gclid=EAIaIQobChMIwrbin5m45gIV4oNaBR39agSjEAAYAyAAEgLNqfD_BwE" rel="noopener ugc nofollow" target="_blank">æœåŠ¡</a>ä¸ºä½ æ‰§è¡Œè¿™é¡¹è‰°å·¨çš„ä»»åŠ¡ï¼Œä½†æˆ‘é€‰æ‹©äº²è‡ªæ ‡è®°è¿™äº›å›¾åƒï¼Œä»¥ä¾¿æ›´æ·±å…¥åœ°ç†è§£å’Œæ¬£èµè®¡ç®—æœºè§†è§‰ã€‚æˆ‘æ±‚åŠ©äº RectLabelï¼Œè¿™æ˜¯ä¸€ä¸ªå›¾åƒæ³¨é‡Šå·¥å…·ï¼Œç”¨äºæ ‡è®°å›¾åƒä»¥è¿›è¡Œè¾¹ç•Œæ¡†å¯¹è±¡æ£€æµ‹å’Œåˆ†å‰²:</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi nz"><img src="../Images/6c6aab09b2aaeecf160aee60e1d37282.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*KyFlTfv107m3pwepzEIVvA.gif"/></div></div></figure><p id="9b77" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘åœ¨è¿™é¡¹ä»»åŠ¡ä¸ŠèŠ±äº†å¤§çº¦å››ä¸ªå°æ—¶ï¼Œå¹³å‡æ¯åˆ†é’Ÿ 8.3 ä¸ªæ ‡ç­¾ï¼Œå¾—åˆ°äº† 2000 ä¸ªå¸¦æ ‡ç­¾çš„å›¾åƒã€‚è¿™æ˜¯ä»¤äººéº»æœ¨çš„å·¥ä½œã€‚</p><p id="a4e0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨æˆ‘çš„æ ‡è®°å·¥ä½œè¿›è¡Œåˆ°ä¸€åŠçš„æ—¶å€™ï¼Œæˆ‘æƒ³çŸ¥é“åœ¨ç»™å®š JPEG å‹ç¼©ä¼ªåƒå’Œä¹’ä¹“çƒä¸Šçš„è¿åŠ¨æ¨¡ç³Šçš„æƒ…å†µä¸‹ï¼Œç´§å¯†è¿˜æ˜¯æ¾æ•£çš„è¾¹ç•Œæ¡†ä¼šæ›´å¥½åœ°å¹³è¡¡æ¨¡å‹ç²¾åº¦å’Œæ¨¡å‹æ³›åŒ–ã€‚åœ¨æ‰“ç”µè¯ç»™ä¸€ä¸ªæœ‹å‹ã€<a class="ae ll" href="https://www.linkedin.com/in/paulblankley/" rel="noopener ugc nofollow" target="_blank">ä¿ç½—Â·å¸ƒå…°å…‹åˆ©</a>å’Œ<a class="ae ll" href="https://www.quora.com/How-should-I-label-image-data-for-machine-learning" rel="noopener ugc nofollow" target="_blank">å’¨è¯¢ç½‘ç»œ</a>ä¹‹åï¼Œæˆ‘äº†è§£åˆ°â€œè¾¹ç•Œæ¡†é€šå¸¸ç´§ç´§å›´ç»•ç€å›¾åƒä¸­çš„æ¯ä¸ª[å¯¹è±¡]â€ï¼Œå› ä¸º:</p><blockquote class="oa ob oc"><p id="1259" class="ki kj nq kk b kl km ju kn ko kp jx kq od ks kt ku oe kw kx ky of la lb lc ld im bi translated">å¦‚æœæ²¡æœ‰ç²¾ç¡®ç»˜åˆ¶çš„è¾¹ç•Œæ¡†ï¼Œæ•´ä¸ªç®—æ³•éƒ½ä¼šå—åˆ°å½±å“ï¼Œä»è€Œå¯¼è‡´æ— æ³•å‡†ç¡®è¯†åˆ«[å¯¹è±¡]ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè´¨é‡æ£€æŸ¥å’Œç¡®ä¿é«˜åº¦é‡è§†æ¯ä¸ªè¾¹ç•Œæ¡†çš„å‡†ç¡®æ€§ï¼Œä»è€Œäº§ç”Ÿä¸€ä¸ªå¼ºå¤§çš„äººå·¥æ™ºèƒ½å¼•æ“ã€‚</p></blockquote><p id="b0d5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¦‚æœæˆ‘ä¸å¾—ä¸å†æ¬¡åšè¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä¼šä½¿ç”¨æ— æŸå›¾åƒæ ¼å¼(*ã€‚png)å¹¶ç»˜åˆ¶æ›´ç´§å¯†çš„è¾¹ç•Œæ¡†æ¥æ”¹å–„æˆ‘çš„è®­ç»ƒæ•°æ®ã€‚ç„¶è€Œæˆ‘è®¤è¯†åˆ°<strong class="kk iu">è¿™ç§ä¼˜åŒ–ä¸æ˜¯å…è´¹çš„</strong>ã€‚å½“æˆ‘å¼€å§‹ç”¨æ›´ç´§çš„è¾¹ç•Œæ¡†æ ‡è®°å›¾åƒæ—¶ï¼Œæˆ‘çš„å¹³å‡æ ‡è®°é€Ÿåº¦ä¸‹é™äº†å¤§çº¦ 50%ã€‚</p><p id="ed48" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸€æ—¦æˆ‘å®Œæˆäº†å¯¹å›¾åƒçš„æ ‡è®°ï¼ŒRectLabel å°±å°†æ•°æ®è¾“å‡ºåˆ°ä¸€ä¸ª JSON æ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶é€‚åˆè®¡ç®—æœºè§†è§‰ä»»åŠ¡ã€‚ä»¥ä¸‹æ˜¯è¾“å‡ºç¤ºä¾‹:</p><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="c8e7" class="mi mj it nh b gy nl nm l nn no">{"images":[<br/>    {"id":1,"file_name":"thumb0462.png","width":0,"height":0},<br/>    {"id":2,"file_name":"thumb0463.png","width":0,"height":0},<br/>#    ...<br/>    {"id":4582,"file_name":"thumb6492.png","width":0,"height":0}],</span><span id="7ec7" class="mi mj it nh b gy np nm l nn no">"annotations":[<br/>    {"area":198,"iscrowd":0,"id":1,"image_id":1,"category_id":1,"segmentation":[[59,152,76,152,76,142,59,142]],"bbox":[59,142,18,11]},<br/>    {"area":221,"iscrowd":0,"id":2,"image_id":2,"category_id":1,"segmentation":[[83,155,99,155,99,143,83,143]],"bbox":[83,143,17,13]},<br/>#    ...       {"area":361,"iscrowd":0,"id":4,"image_id":4582,"category_id":1,"segmentation":[[132,123,150,123,150,105,132,105]],"bbox":[132,105,19,19]},</span><span id="aee3" class="mi mj it nh b gy np nm l nn no">"categories":[{"name":"pp_ball","id":1}]<br/>}</span></pre><p id="4305" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶åï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‰ç…§ Amazon SageMaker è¾“å…¥é€šé“çš„é¢„æœŸï¼Œå°†æ³¨é‡Šåˆ†æˆè®­ç»ƒå’ŒéªŒè¯æ–‡ä»¶å¤¹ã€‚å¦‚æœä½ æ­£åœ¨éµå¾ªæˆ‘çš„å‡†åˆ™ï¼Œè¯·æ³¨æ„æ¥è‡ª<a class="ae ll" href="https://stackoverflow.com/questions/58592206/understanding-the-output-of-sagemaker-object-detection-prediction" rel="noopener ugc nofollow" target="_blank"> Ryo Kawamura </a>çš„é‡è¦æç¤º:</p><blockquote class="oa ob oc"><p id="ed3c" class="ki kj nq kk b kl km ju kn ko kp jx kq od ks kt ku oe kw kx ky of la lb lc ld im bi translated">è™½ç„¶ COCO JSON æ–‡ä»¶ä¸­çš„â€œcategory_idâ€ä» 1 å¼€å§‹ï¼Œä½† Amazon SageMaker JSON æ–‡ä»¶ä¸­çš„â€œclass_idâ€ä» 0 å¼€å§‹ã€‚</p></blockquote><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="9f60" class="mi mj it nh b gy nl nm l nn no">import json<br/>import os</span><span id="7995" class="mi mj it nh b gy np nm l nn no">def fixCategoryId(category_id):<br/>    return category_id - 1;</span><span id="8896" class="mi mj it nh b gy np nm l nn no">with open(file_name) as f:<br/>    js = json.load(f)<br/>    images = js['images']<br/>    categories = js['categories']<br/>    annotations = js['annotations']<br/>    for i in images:<br/>        jsonFile = i['file_name']<br/>        jsonFile = jsonFile.split('.')[0] + '.json'</span><span id="e643" class="mi mj it nh b gy np nm l nn no">line = {}<br/>        line['file'] = i['file_name']<br/>        line['image_size'] = [{<br/>            'width': int(i['width']),<br/>            'height': int(i['height']),<br/>            'depth': 3<br/>        }]<br/>        line['annotations'] = []<br/>        line['categories'] = []<br/>        for j in annotations:<br/>            if j['image_id'] == i['id'] and len(j['bbox']) &gt; 0:<br/>                line['annotations'].append({<br/>                    'class_id': fixCategoryId(int(j['category_id'])),<br/>                    'top': int(j['bbox'][1]),<br/>                    'left': int(j['bbox'][0]),<br/>                    'width': int(j['bbox'][2]),<br/>                    'height': int(j['bbox'][3])<br/>                })<br/>                class_name = ''<br/>                for k in categories:<br/>                    if int(j['category_id']) == k['id']:<br/>                        class_name = str(k['name'])<br/>                assert class_name is not ''<br/>                line['categories'].append({<br/>                    'class_id': fixCategoryId(int(j['category_id'])),<br/>                    'name': class_name<br/>                })<br/>        if line['annotations']:<br/>            with open(os.path.join('generated', jsonFile), 'w') as p:<br/>                json.dump(line, p)</span><span id="6675" class="mi mj it nh b gy np nm l nn no">jsons = os.listdir('generated')<br/>print ('There are {} images that have annotation files'.format(len(jsons)))</span></pre><p id="5838" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘æŒ‰ç…§ SageMaker ç«¯ç‚¹:/trainã€/validationã€/train_annotation å’Œ/validation_annotation çš„è¦æ±‚ï¼Œå°†æ–‡ä»¶ç§»åŠ¨åˆ°ä¸€ä¸ªåŒ…å«å››ä¸ªæ–‡ä»¶å¤¹çš„äºšé©¬é€Š S3 æ¡¶ä¸­ã€‚æˆ‘åœ¨è®­ç»ƒå’ŒéªŒè¯æ–‡ä»¶ä¸Šä½¿ç”¨äº† 70%çš„åˆ†å‰²ï¼Œå¹¶æ··æ´—äº†æ•°æ®:</p><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="31d4" class="mi mj it nh b gy nl nm l nn no">import shutil<br/>import random</span><span id="210d" class="mi mj it nh b gy np nm l nn no">num_annotated_files = len(jsons)<br/>train_split_pct = 0.70<br/>num_train_jsons = int(num_annotated_files * train_split_pct)<br/>random.shuffle(jsons) # randomize/shuffle the JSONs to reduce reliance on *sequenced* frames<br/>train_jsons = jsons[:num_train_jsons]<br/>val_jsons = jsons[num_train_jsons:]<br/><br/>#Moving training files to the training folders<br/>for i in train_jsons:<br/>    image_file = './images/'+i.split('.')[0]+'.png'<br/>    shutil.move(image_file, './train/')<br/>    shutil.move('./generated/'+i, './train_annotation/')<br/><br/>#Moving validation files to the validation folders<br/>for i in val_jsons:<br/>    image_file = './images/'+i.split('.')[0]+'.png'<br/>    shutil.move(image_file, './validation/')<br/>    shutil.move('./generated/'+i, './validation_annotation/')<br/><br/><br/>### Upload to S3<br/>import sagemaker<br/>from sagemaker import get_execution_role<br/><br/>role = sagemaker.get_execution_role()<br/>sess = sagemaker.Session()<br/><br/>from sagemaker.amazon.amazon_estimator import get_image_uri<br/>training_image = get_image_uri(sess.boto_region_name, 'object-detection', repo_version="latest")<br/><br/>bucket = 'pp-object-detection' # custom bucket name.<br/># bucket = sess.default_bucket()<br/>prefix = 'rect-label-test'<br/><br/>train_channel = prefix + '/train'<br/>validation_channel = prefix + '/validation'<br/>train_annotation_channel = prefix + '/train_annotation'<br/>validation_annotation_channel = prefix + '/validation_annotation'<br/><br/>sess.upload_data(path='train', bucket=bucket, key_prefix=train_channel)<br/>sess.upload_data(path='validation', bucket=bucket, key_prefix=validation_channel)<br/>sess.upload_data(path='train_annotation', bucket=bucket, key_prefix=train_annotation_channel)<br/>sess.upload_data(path='validation_annotation', bucket=bucket, key_prefix=validation_annotation_channel)<br/><br/>s3_train_data = 's3://{}/{}'.format(bucket, train_channel)<br/>s3_validation_data = 's3://{}/{}'.format(bucket, validation_channel)<br/>s3_train_annotation = 's3://{}/{}'.format(bucket, train_annotation_channel)<br/>s3_validation_annotation = 's3://{}/{}'.format(bucket, validation_annotation_channel)</span></pre><h2 id="79bb" class="mi mj it bd mk ml mm dn mn mo mp dp mq kr mr ms mt kv mu mv mw kz mx my mz na bi translated">è®­ç»ƒæ¨¡å‹</h2><p id="da1b" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">åœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªå…·æœ‰æŸäº›è¶…å‚æ•°çš„ SageMaker å¯¹è±¡æ£€æµ‹å™¨ï¼Œä¾‹å¦‚ä½¿ç”¨â€œresnet-50â€ç®—æ³•çš„å’Œä¸€ä¸ªç±»(æˆ‘çš„ä¹’ä¹“çƒ)ä»¥åŠå¤§å°ä¸º 512x512 åƒç´ çš„å›¾åƒã€‚</p><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="5fc8" class="mi mj it nh b gy nl nm l nn no">s3_output_location = 's3://{}/{}/output'.format(bucket, prefix)</span><span id="7e96" class="mi mj it nh b gy np nm l nn no">od_model = sagemaker.estimator.Estimator(training_image, role, train_instance_count=1, train_instance_type='ml.p3.2xlarge', train_volume_size = 50, train_max_run = 360000, input_mode = 'File', output_path=s3_output_location, sagemaker_session=sess)</span><span id="194d" class="mi mj it nh b gy np nm l nn no">od_model.set_hyperparameters(base_network='resnet-50',<br/>                             use_pretrained_model=0,<br/>                             num_classes=1,<br/>                             mini_batch_size=15,<br/>                             epochs=30,<br/>                             learning_rate=0.001,<br/>                             lr_scheduler_step='10',<br/>                             lr_scheduler_factor=0.1,<br/>                             optimizer='sgd',<br/>                             momentum=0.9,<br/>                             weight_decay=0.0005,<br/>                             overlap_threshold=0.5,<br/>                             nms_threshold=0.45,<br/>                             image_shape=512,<br/>                             label_width=600,<br/>                             num_training_samples=num_train_jsons)</span></pre><p id="80ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç„¶åï¼Œæˆ‘ä¸ºå¯¹è±¡æ£€æµ‹å™¨è®¾ç½®è®­ç»ƒ/éªŒè¯ä½ç½®ï¼Œç§°ä¸ºã€‚æ‹Ÿåˆå‡½æ•°ï¼Œå¹¶å°†æ¨¡å‹éƒ¨ç½²åˆ°ä¸€ä¸ªç«¯ç‚¹:</p><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="de33" class="mi mj it nh b gy nl nm l nn no">train_data = sagemaker.session.s3_input(s3_train_data, distribution='FullyReplicated', content_type='image/png', s3_data_type='S3Prefix')</span><span id="3b9e" class="mi mj it nh b gy np nm l nn no">validation_data = sagemaker.session.s3_input(s3_validation_data, distribution='FullyReplicated', content_type='image/png', s3_data_type='S3Prefix')</span><span id="483d" class="mi mj it nh b gy np nm l nn no">train_annotation = sagemaker.session.s3_input(s3_train_annotation, distribution='FullyReplicated', content_type='image/png', s3_data_type='S3Prefix')</span><span id="0ab4" class="mi mj it nh b gy np nm l nn no">validation_annotation = sagemaker.session.s3_input(s3_validation_annotation, distribution='FullyReplicated', content_type='image/png', s3_data_type='S3Prefix')</span><span id="4a93" class="mi mj it nh b gy np nm l nn no">data_channels = {'train': train_data, 'validation': validation_data, 'train_annotation': train_annotation, 'validation_annotation':validation_annotation}</span><span id="c760" class="mi mj it nh b gy np nm l nn no">od_model.fit(inputs=data_channels, logs=True)</span><span id="1572" class="mi mj it nh b gy np nm l nn no">object_detector = od_model.deploy(initial_instance_count = 1,<br/>                             instance_type = 'ml.m4.xlarge')</span></pre><p id="0709" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é‰´äºæˆ‘åªæœ‰ 2000 å¼ å›¾ç‰‡ï¼Œæˆ‘çš„äºšé©¬é€Šç›’å­(ml.p3.2xlarge)èŠ±äº†å¤§çº¦ 10 åˆ†é’Ÿæ¥è®­ç»ƒæ¨¡å‹ã€‚éƒ¨ç½²ç«¯ç‚¹é€šå¸¸éœ€è¦æ›´é•¿çš„æ—¶é—´ï¼Œå¹¶ä¸”æµ‹è¯•æ¨¡å‹çš„é¢„æœŸæ˜¯ä»¤äººç—›è‹¦çš„ï¼</p><p id="c313" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ç»ˆäºï¼ŒçœŸç›¸å¤§ç™½çš„æ—¶åˆ»åˆ°äº†ã€‚æˆ‘é€šè¿‡ä¼ é€’ä¸€ä¸ªå®ƒä»æœªè§è¿‡çš„ PNG æ–‡ä»¶æ¥è°ƒç”¨æˆ‘çš„æ¨¡å‹:</p><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="513a" class="mi mj it nh b gy nl nm l nn no">file_with_path = 'test/thumb0695.png'<br/>with open(file_with_path, 'rb') as image:<br/>            f = image.read()<br/>            b = bytearray(f)<br/>            ne = open('n.txt', 'wb')<br/>            ne.write(b)</span><span id="1e9e" class="mi mj it nh b gy np nm l nn no">results = object_detector.predict(b)<br/>        detections = json.loads(results)<br/>        print(detections)</span></pre><p id="21c2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘å¾—åˆ°äº†è¿™æ ·çš„è¾“å‡º:</p><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="6565" class="mi mj it nh b gy nl nm l nn no">[1.0, 0.469, 0.566, 0.537, 0.605, 0.595]</span></pre><p id="f73f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">ä¸‹é¢æ˜¯å¦‚ä½•æ ¹æ® AWS SageMaker è§£é‡Šè¿™ä¸ªè¾“å‡º:</p><blockquote class="oa ob oc"><p id="4267" class="ki kj nq kk b kl km ju kn ko kp jx kq od ks kt ku oe kw kx ky of la lb lc ld im bi translated">è¿™äº›å¯¹è±¡æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªéƒ½ç”±å…­ä¸ªæ•°å­—ç»„æˆã€‚ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯é¢„æµ‹çš„ç±»æ ‡ç­¾ã€‚ç¬¬äºŒä¸ªæ•°å­—æ˜¯æ£€æµ‹çš„ç›¸å…³ç½®ä¿¡åº¦å¾—åˆ†ã€‚æœ€åå››ä¸ªæ•°å­—ä»£è¡¨è¾¹ç•Œæ¡†åæ ‡[xminï¼Œyminï¼Œxmaxï¼Œymax]ã€‚è¿™äº›è¾“å‡ºè¾¹ç•Œæ¡†è§’ç´¢å¼•ç”±æ•´ä½“å›¾åƒå°ºå¯¸å½’ä¸€åŒ–ã€‚è¯·æ³¨æ„ï¼Œè¿™ç§ç¼–ç ä¸åŒäºè¾“å…¥ä½¿ç”¨çš„ç¼–ç ã€‚json æ ¼å¼ã€‚ä¾‹å¦‚ï¼Œåœ¨æ£€æµ‹ç»“æœçš„ç¬¬ä¸€ä¸ªæ¡ç›®ä¸­ï¼Œ0.3088374733924866 æ˜¯è¾¹ç•Œæ¡†çš„å·¦åæ ‡(å·¦ä¸Šè§’çš„ x åæ ‡)ä½œä¸ºæ•´ä½“å›¾åƒå®½åº¦çš„æ¯”ç‡ï¼Œ0.07030484080314636 æ˜¯è¾¹ç•Œæ¡†çš„ä¸Šåæ ‡(å·¦ä¸Šè§’çš„ y åæ ‡)ä½œä¸ºæ•´ä½“å›¾åƒé«˜åº¦çš„æ¯”ç‡ï¼Œ0.7110607028007507 æ˜¯å³åæ ‡(å³åæ ‡</p></blockquote><p id="7a75" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å‡‰çˆ½çš„ğŸ˜</p><h2 id="ff2d" class="mi mj it bd mk ml mm dn mn mo mp dp mq kr mr ms mt kv mu mv mw kz mx my mz na bi translated">å¯è§†åŒ–ç»“æœ</h2><p id="2522" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">å¦ç™½åœ°è¯´ï¼Œæˆ‘éœ€è¦ä¸€äº›æ›´å®é™…çš„ä¸œè¥¿æ¥æ¬£èµç»“æœã€‚æ‰€ä»¥æˆ‘ç”¨è¿™ä¸ªå‡½æ•°æ¥å¯è§†åŒ–æ¯ä¸ªé¢„æµ‹:</p><pre class="le lf lg lh gt ng nh ni nj aw nk bi"><span id="ddb6" class="mi mj it nh b gy nl nm l nn no">def visualize_detection(img_file, dets, classes=[], thresh=0.6):<br/>    import random<br/>    import matplotlib.pyplot as plt<br/>    import matplotlib.image as mpimg<br/>    <br/>    img = mpimg.imread(img_file)<br/>    plt.imshow(img)<br/>    height = img.shape[0]<br/>    width = img.shape[1]<br/>    colors = dict()<br/>    for det in dets:<br/>        (klass, score, x0, y0, x1, y1) = det<br/>        if score &lt; thresh:<br/>            continue<br/>        cls_id = int(klass)<br/>        if cls_id not in colors:<br/>            colors[cls_id] = (random.random(), random.random(), random.random())<br/>        xmin = int(x0 * width)<br/>        ymin = int(y0 * height)<br/>        xmax = int(x1 * width)<br/>        ymax = int(y1 * height)<br/>        rect = plt.Rectangle((xmin, ymin), xmax - xmin,<br/>                             ymax - ymin, fill=False,<br/>                             edgecolor=colors[cls_id],<br/>                             linewidth=3.5)<br/>        plt.gca().add_patch(rect)<br/>        class_name = str(cls_id)<br/>        if classes and len(classes) &gt; cls_id:<br/>            class_name = classes[cls_id]<br/>        plt.gca().text(xmin, ymin - 2,<br/>                       '{:s} {:.3f}'.format(class_name, score),<br/>                       bbox=dict(facecolor=colors[cls_id], alpha=0.5),fontsize=12, color='white')<br/>    plt.show()</span><span id="e347" class="mi mj it nh b gy np nm l nn no"># then I used the function like this:<br/>object_categories = ['pp_ball']<br/>threshold = 0.40<br/>visualize_detection(file_name_of_image, detections['prediction'], object_categories, threshold)</span></pre><p id="3220" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å½“æˆ‘çœ‹åˆ°è¿™ä¸ªè¾“å‡ºæ—¶ï¼Œæˆ‘å…´å¥‹è€Œæ¬£æ…°åœ°å‘æŠ–:</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi og"><img src="../Images/7691e5ec220a45afaf9e3e29277c42b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/0*XhPzDaBan6w9I38r.png"/></div></figure><p id="8824" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘èŠ±äº†ä¸€ä¸ªå°æ—¶ç”¨å®ƒä»æœªè§è¿‡çš„å„ç§æµ‹è¯•å›¾åƒæ•²æ‰“æ¨¡å‹ã€‚æœ‰äº›æ˜¯ä¼Ÿå¤§çš„é¢„è¨€ã€‚å…¶ä»–çš„åˆ™å¾ˆå‚»ï¼Œæ¯”å¦‚è¿™ä¸ªæ¨¡å‹æŠŠçƒå‘˜åˆ¶æœä¸Šçš„ç™½ç‚¹å½“æˆäº†ä¹’ä¹“çƒğŸ™„</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi oh"><img src="../Images/38764790b249eaa19ffc9c40e2f803d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hd1qSa5i_ocFP6D42SoOAQ.png"/></div></div></figure><p id="a292" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å¹¸è¿çš„æ˜¯ï¼Œæˆ‘èƒ½å¤Ÿé€šè¿‡å°†ç½®ä¿¡åº¦é˜ˆå€¼æé«˜åˆ° 0.40 æ¥æ¶ˆé™¤å¤§å¤šæ•°è¯¯æŠ¥ã€‚</p><h2 id="3771" class="mi mj it bd mk ml mm dn mn mo mp dp mq kr mr ms mt kv mu mv mw kz mx my mz na bi translated">æœªæ¥æ–¹å‘</h2><p id="cb02" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">æˆ‘å¯¹ç›®å‰çš„ç»“æœå¾ˆæ»¡æ„ï¼Œä½†æ˜¯æœªæ¥çš„å·¥ä½œéœ€è¦è¯„ä¼°å’Œä¼˜åŒ–æˆ‘çš„æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œæˆ‘æ‰“ç®—è®¡ç®—<a class="ae ll" href="https://medium.com/@jonathan_hui/map-mean-average-precision-for-object-detection-45c121a31173" rel="noopener">å¹³å‡ç²¾åº¦(mAP) </a>ä½œä¸ºæ€§èƒ½æŒ‡æ ‡ã€‚é‚£ä¸ªåœ°å›¾åº¦é‡å°†å¸®åŠ©æˆ‘è¯„ä¼°ä¸åŒçš„ä¼˜åŒ–ï¼Œä¾‹å¦‚æ·»åŠ æ›´å¤šçš„è®­ç»ƒå›¾åƒï¼Œå°è¯•è¿ç§»å­¦ä¹ ï¼Œä»¥åŠå°è¯•å…¶ä»–æ·±åº¦å­¦ä¹ æ‹“æ‰‘ã€‚æˆ‘å°†æŠŠè¿™äº›ä»»åŠ¡ç•™ç»™æˆ‘çš„ 2020 å¹´è·¯çº¿å›¾(å’Œæœªæ¥çš„å¸–å­)ã€‚</p><p id="16a6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">æˆ‘ä¹Ÿå¾ˆé«˜å…´èƒ½å¤Ÿåœ¨ 2020 å¹´å®ç°æˆ‘çš„ç¬¬ä¸‰ä¸ªå…³é”®æˆæœâ€”â€”é€šè¿‡ç½‘ç»œç”¨æˆ·ç•Œé¢å‘ç”¨æˆ·å±•ç¤ºç›¸å…³çš„è§†é¢‘å‰ªè¾‘ã€‚å½“å…³é”®ç»“æœå®Œæˆåï¼Œæˆ‘å°†åœ¨çœŸå®ç¯å¢ƒä¸­æµ‹è¯•æ•´ä¸ªè®¾ç½®:</p><ul class=""><li id="731b" class="oi oj it kk b kl km ko kp kr ok kv ol kz om ld on oo op oq bi translated">ç”¨æˆ‘çš„æ ‘è“çš®è§†é¢‘è®°å½•ä¸€åœºç°åœºä¹’ä¹“çƒæ¯”èµ›</li><li id="00a1" class="oi oj it kk b kl or ko os kr ot kv ou kz ov ld on oo op oq bi translated">å°†è§†é¢‘å¯¼å‡ºåˆ° S3 çš„å›¾åƒå¸§ä¸­</li><li id="e727" class="oi oj it kk b kl or ko os kr ot kv ou kz ov ld on oo op oq bi translated">ä½¿ç”¨å¯¹è±¡æ£€æµ‹å™¨æ¨¡å‹æ¥è¯†åˆ«çƒä½•æ—¶åœ¨æ¯”èµ›ä¸­</li><li id="a366" class="oi oj it kk b kl or ko os kr ot kv ou kz ov ld on oo op oq bi translated">å½“çƒåœ¨æ¯”èµ›æ—¶å­˜å‚¨æ—¶é—´æˆ³</li><li id="af9f" class="oi oj it kk b kl or ko os kr ot kv ou kz ov ld on oo op oq bi translated">å‘ç”¨æˆ·æä¾›ç½‘ç»œç”¨æˆ·ç•Œé¢</li><li id="77d1" class="oi oj it kk b kl or ko os kr ot kv ou kz ov ld on oo op oq bi translated">å…è®¸ç”¨æˆ·å°†è§†é¢‘è¿‡æ»¤åˆ°çƒæ­£åœ¨è¿åŠ¨çš„ç¬é—´</li></ul><p id="ee71" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">è¯·ç»§ç»­å…³æ³¨è¿™ä¸ªæ–¹å‘çš„æ›´å¤šå­¦ä¹ å’Œå‘å±•ã€‚</p><h2 id="6816" class="mi mj it bd mk ml mm dn mn mo mp dp mq kr mr ms mt kv mu mv mw kz mx my mz na bi translated">ç»“æŸè¯­</h2><p id="3c20" class="pw-post-body-paragraph ki kj it kk b kl nb ju kn ko nc jx kq kr nd kt ku kv ne kx ky kz nf lb lc ld im bi translated">æ•°æ®ç§‘å­¦å®¶æ™®éè®¤ä¸º</p><blockquote class="lm"><p id="6488" class="ln lo it bd lp lq lr ls lt lu lv ld dk translated">ç®—æ³•ä¾¿å®œï¼›</p><p id="749a" class="ln lo it bd lp lq lr ls lt lu lv ld dk translated">æ•°æ®ä¸ºç‹ã€‚</p></blockquote><p id="ebc2" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">è¿™ä¸ªé¡¹ç›®è®©æˆ‘æ·±æ·±ä½“ä¼šåˆ°è¿™ä¸€çœŸç†ã€‚äº‹å®ä¸Šï¼Œåœ¨ AWS SageMaker ä¸Š,<a class="ae ll" href="https://docs.aws.amazon.com/sagemaker/latest/dg/object-detection-api-config.html" rel="noopener ugc nofollow" target="_blank">æ”¹å˜æ·±åº¦å­¦ä¹ æ‹“æ‰‘ç»“æ„çš„èƒ½åŠ›</a>æ˜¯å¾®ä¸è¶³é“çš„ã€‚ç„¶è€Œç»“æœå¹¶æ²¡æœ‰æ˜æ˜¾çš„å˜åŒ–ã€‚æˆ‘è¿˜ä»¥æœ€å°çš„åŠªåŠ›åœ¨å¦ä¸€ä¸ªæ¨¡å‹ä¸­åˆ©ç”¨äº†<a class="ae ll" href="https://docs.aws.amazon.com/sagemaker/latest/dg/algo-object-detection-tech-notes.html" rel="noopener ugc nofollow" target="_blank">è¿ç§»å­¦ä¹ </a>ã€‚åŒæ ·ï¼Œç»“æœä¹Ÿå¥½ä¸åˆ°å“ªé‡Œå»ã€‚ç„¶åï¼Œæˆ‘æƒ³èµ·äº†ä¸ºæˆ‘çš„é¡¹ç›®æ”¶é›†å’Œæ ‡è®°å›¾åƒçš„è‰°è‹¦å·¥ä½œâ€¦</p><p id="c8cc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">å½“æˆ‘å°†ä¸æ¨¡å‹ç›¸å…³çš„å·¥ä½œå’Œä¸æ•°æ®ç›¸å…³çš„å·¥ä½œåœ¨åŠªåŠ›ç¨‹åº¦å’Œè·¨é¡¹ç›®é€‚ç”¨æ€§æ–¹é¢è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œæˆ‘æ„Ÿåˆ°å›°æƒ‘ã€‚ä¾‹å¦‚ï¼Œåœ¨æ·±åº¦å­¦ä¹ æ‹“æ‰‘ç»“æ„ä¹‹é—´åˆ‡æ¢ç›¸å¯¹å®¹æ˜“ï¼Œè®¸å¤šé¡¹ç›®å¯ä»¥åœ¨å„ç§è®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸­åˆ©ç”¨è¿™äº›æ‹“æ‰‘ç»“æ„ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘çš„å›¾åƒæ ‡ç­¾å·¥ä½œéœ€è¦å¤§é‡çš„åŠªåŠ›ï¼Œå¯èƒ½åªä¼šå¯¹æˆ‘çš„é¡¹ç›®æœ‰ç›Šã€‚</p><p id="d97b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">é¢å¯¹è¿™ä¸€ç°å®ï¼Œæˆ‘å¯¹é€šç”¨è§†é¢‘æœç´¢å¼•æ“çš„å¯è¡Œæ€§æ„Ÿåˆ°æœ‰ç‚¹æ‚²è§‚ï¼Œè¿™ç§æœç´¢å¼•æ“å¯ä»¥ä»ç”¨æˆ·ä»»æ„è¾“å…¥çš„(1)è§†é¢‘å’Œ(2)å›¾åƒä½œä¸ºæœç´¢è¯ä¸­äº§ç”Ÿç»“æœã€‚è¯šç„¶ï¼Œä¸€ä¸ªç‰¹å®šç”¨é€”çš„è§†é¢‘æœç´¢å¼•æ“æŒ‡æ—¥å¯å¾…ã€‚ä½†é‡è¦çš„ã€ä¸å¹³å‡¡çš„å·¥ä½œè¿˜åœ¨åé¢ï¼Œä»¥æ¢ç´¢ä¸€ä¸ªæ¨¡å‹å¦‚ä½•èƒ½å¤Ÿæ ¹æ®å‡ ä¸ªå›¾åƒç¤ºä¾‹è¿›è¡Œå½’çº³ï¼Œä»¥æ£€æµ‹ç”¨æˆ·æƒ³è¦æ‰¾åˆ°çš„ä»»ä½•å†…å®¹ã€‚</p><p id="8844" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">åœ¨è¿™æ–¹é¢ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å­¦ä¹ å¹´ï¼</p></div><div class="ab cl ow ox hx oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="im in io ip iq"><p id="2bf1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">éå¸¸æ„Ÿè°¢<a class="ae ll" href="https://www.linkedin.com/in/sandeeparneja/" rel="noopener ugc nofollow" target="_blank"> Sandeep Arneja </a>ã€<a class="ae ll" href="https://www.linkedin.com/in/paulblankley/" rel="noopener ugc nofollow" target="_blank"> Paul Blankley </a>ã€<a class="ae ll" href="https://www.linkedin.com/in/ryo-kawamura-91a11a52/?locale=en_US" rel="noopener ugc nofollow" target="_blank"> Ryo Kawamura </a>å’Œ<a class="ae ll" href="https://angel.co/thea-zimnicki" rel="noopener ugc nofollow" target="_blank"> Thea Zimnicki </a>å¯¹è¿™ä¸ªé¡¹ç›®çš„åé¦ˆå’Œè´¡çŒ®ã€‚</p></div></div>    
</body>
</html>