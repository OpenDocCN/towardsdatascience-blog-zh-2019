<html>
<head>
<title>How I Migrated My Blog from GitHub Pages to Netlify</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何将我的博客从 GitHub 页面迁移到 Netlify</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/my-experience-migrating-my-blog-from-github-pages-to-netlify-92ff6c85fb04?source=collection_archive---------16-----------------------#2019-09-27">https://towardsdatascience.com/my-experience-migrating-my-blog-from-github-pages-to-netlify-92ff6c85fb04?source=collection_archive---------16-----------------------#2019-09-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6dee" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">作为数据科学家写博客时需要考虑的事情</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/669b753f0271401fd7c3e12e7ba76ae5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KirSA0PTL6iyG54DaSjDiw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Migrating Pelican site from GitHub Pages to Netlify</figcaption></figure><h1 id="2d27" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">动机</h1><p id="6be4" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi mm translated">今天我遇到了<a class="mv mw ep" href="https://medium.com/u/ee56d0bac1b7?source=post_page-----92ff6c85fb04--------------------------------" rel="noopener" target="_blank">瑞秋·托马斯</a>的关于“<a class="ae mx" href="https://medium.com/@racheltho/why-you-yes-you-should-blog-7d2544ac1045" rel="noopener">T5”为什么你(是的，你)应该写博客 </a>的故事。她提出了一个很好的观点，所有的数据科学家都应该有自己的博客。她进一步解释说，写博客有助于你理清思路，传播知识，获得关注。所有伟大的观点，我全心全意地同意。所以我想分享我最近写博客的经历，并希望它能给我一些启示，告诉我做这件事需要什么，为什么值得。</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="840b" class="ky kz it bd la lb nf ld le lf ng lh li jz nh ka lk kc ni kd lm kf nj kg lo lp bi translated">和解</h1><p id="d551" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi mm translated">我有自己的博客已经有一段时间了。从我在 WordPress.com 的第一篇博客开始，我在多个平台上跌跌撞撞，试图为我的思想和感情找到一个好的归宿。大约一年前，我决定使用<a class="ae mx" href="https://blog.getpelican.com/" rel="noopener ugc nofollow" target="_blank"> Pelican </a>(一个基于 Python 的静态站点生成器)来生成我的内容，然后将其托管在<a class="ae mx" href="https://pages.github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub 页面</a>上。这一切都很好。</p><p id="fb5e" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">Python 是一种易于编写但非常强大的编程语言。同样作为一名数据科学家，你很有可能每天都和 Python 生活在一起。所以在所有<a class="ae mx" href="https://www.staticgen.com/" rel="noopener ugc nofollow" target="_blank">静态站点生成器</a>中，我挑了鹈鹕，它相当成熟，定期维护。它还支持大量的主题和插件。(我甚至开发了一个<a class="ae mx" href="https://github.com/getpelican/pelican-plugins/tree/master/readtime" rel="noopener ugc nofollow" target="_blank"> Pelican 插件</a>，它可以像计算媒体一样计算文章阅读时间，并被拉入主分支。).它支持 Jupyter 笔记本电脑，这对于数据科学家来说也是一个优势。</p><p id="9881" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">GitHub Pages 是一个非常受欢迎的免费托管服务，由<a class="ae mx" href="http://github.com" rel="noopener ugc nofollow" target="_blank"> GitHub </a>慷慨提供。它基于 Ruby 的 Jekyll 框架，但你不必使用它。这个解决方案是完全免费的，而且维护起来有些简单。一旦你设置好了一切，你只需要专注于把内容和运行一个简单的脚本推送到 GitHub，它会自动让它活起来。我用它写了一段时间的博客。一切似乎都很好。</p><p id="c7ae" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">(注:任何人想了解更多关于如何做到这一点，可以查看这篇详细的<a class="ae mx" href="https://www.dataquest.io/blog/how-to-setup-a-data-science-blog/" rel="noopener ugc nofollow" target="_blank">博文</a>。)</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="6ba3" class="ky kz it bd la lb nf ld le lf ng lh li jz nh ka lk kc ni kd lm kf nj kg lo lp bi translated">斗争</h1><p id="d510" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi mm translated">斗争开始了。不知何故，我不知道如何使搜索引擎优化工作。我在 GitHub 和我的博客网站上曝光了“master”分支，谷歌认为这是重复的内容，并给出了相当糟糕的排名。似乎很难获得任何流量。此外，作为 GitHub 提供的一项免费“辅助”服务，GitHub 页面上并没有太多的托管功能。正如 Netlify 在<a class="ae mx" href="https://www.netlify.com/github-pages-vs-netlify/" rel="noopener ugc nofollow" target="_blank"> this page </a>中概述的那样，当你开始写博客时，这是可以的，但当你试图更严肃地对待你的工作时，GitHub Pages 就不会满足你。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/d45b532004f51ac750d731291bc9d889.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*5v5qkuscnPTIJfHP_f5_1g.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image Credit: Netlify.com</figcaption></figure></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="fd64" class="ky kz it bd la lb nf ld le lf ng lh li jz nh ka lk kc ni kd lm kf nj kg lo lp bi translated">冲突</h1><p id="8391" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi mm translated"><span class="l mn mo mp bm mq mr ms mt mu di">所以</span>我决定迁移到 Netlify，它也是免费的，但提供了更多的功能，如果我想在未来扩大规模，那里有很多付费计划。</p><h2 id="97b7" class="nq kz it bd la nr ns dn le nt nu dp li lz nv nw lk md nx ny lm mh nz oa lo ob bi translated">准备好鹈鹕</h2><p id="4b42" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">因为我已经在 GitHub 上准备好了我的 Pelican 站点，所以大部分工作已经完成。(如果你还没有设置鹈鹕站点，可以按照这个<a class="ae mx" href="https://docs.getpelican.com/en/stable/quickstart.html" rel="noopener ugc nofollow" target="_blank">教程</a>。)我仍然需要对站点进行一些更改，以便 Netlify 可以顺利地连接到我的 GitHub 帐户并拉动站点进行部署。</p><p id="ee12" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated"><strong class="ls iu">依赖关系:</strong></p><p id="85a8" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">首先，Netlify 需要设置必要的依赖项，这样它才能构建我的站点。这需要我在 site GitHub repo 下提供一个<code class="fe oc od oe of b">requirements.txt</code>文件。为此，我为它创建了一个 Python 虚拟环境:</p><pre class="kj kk kl km gt og of oh oi aw oj bi"><span id="f3fa" class="nq kz it of b gy ok ol l om on">$ sudo apt update<br/>$ sudo apt install virtualenv  # install virtualenv<br/>$ cd ~/git/wayofnumbers.github.io/<br/>$ virtualenv venv -p python3.6  # create a virtualenv for Python 3.6<br/>$ source venv/bin/activate  # activate the virtual env</span></pre><p id="de9d" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">我还在你的<code class="fe oc od oe of b">.gitignore</code>文件中添加了<code class="fe oc od oe of b">venv/</code>，这样 GitHub 就不会同步它了。一旦虚拟 env 准备就绪，我只安装了必要的包，如下所示:</p><pre class="kj kk kl km gt og of oh oi aw oj bi"><span id="0355" class="nq kz it of b gy ok ol l om on">$ pip install -U --force-reinstall pip<br/>$ pip install pelican Markdown typogrify ipython beautifulsoup4 nbconvert</span></pre><p id="5641" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">现在，依赖项已经全部安装在我的本地虚拟环境中，我使用下面的命令来生成<code class="fe oc od oe of b">requirements.txt</code>:</p><pre class="kj kk kl km gt og of oh oi aw oj bi"><span id="3735" class="nq kz it of b gy ok ol l om on">$ pip freeze &gt; requirements.txt</span></pre><p id="960d" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated"><strong class="ls iu"> CNAME: </strong></p><p id="fc48" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">我在回购的根文件夹下创建了一个 CNAME 文件，其中包含我的自定义域名(“wayofnumbers.com”)。我还在我的<code class="fe oc od oe of b">pelicanconf.py</code>文件中添加了以下几行，以确保 CNAME 文件被复制到了<code class="fe oc od oe of b">output</code>目录的根目录下:</p><pre class="kj kk kl km gt og of oh oi aw oj bi"><span id="bb76" class="nq kz it of b gy ok ol l om on">STATIC_PATHS = ['../CNAME']<br/>EXTRA_PATH_METADATA = {'../CNAME': {'path': 'CNAME'}}</span></pre><p id="0fd4" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated"><strong class="ls iu">插件和主题:</strong></p><p id="6e83" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">然后是处理插件和主题的时候了。我将我使用的插件和主题(文件夹)复制到 repo 中，并将<code class="fe oc od oe of b">pelicanconf.py</code>文件设置为指向它们，因为在 Netlify 构建时它需要在 repo 中访问它们。</p><p id="076d" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated"><strong class="ls iu"> Runtime.txt: </strong></p><p id="50ff" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">Netlify 需要一个<code class="fe oc od oe of b">runtime.txt</code>来决定使用哪个 Python 版本来构建站点。所以我在回购的根目录下创建了一个<code class="fe oc od oe of b">runtime.txt</code>文件，并将<code class="fe oc od oe of b">3.7</code> (Netlify 支持<code class="fe oc od oe of b">3.7</code>或<code class="fe oc od oe of b">3.5</code>)放入其中。</p><p id="b3e8" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">好了，现在鹈鹕已经准备好了，我可以继续设置网络生活了！</p><h2 id="acce" class="nq kz it bd la nr ns dn le nt nu dp li lz nv nw lk md nx ny lm mh nz oa lo ob bi translated">连接到网络生活</h2><p id="6cc7" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这部分其实挺容易的。我注册了 Netlify 的免费层，并按照<a class="ae mx" href="https://www.netlify.com/blog/2016/09/29/a-step-by-step-guide-deploying-on-netlify/" rel="noopener ugc nofollow" target="_blank">这个分步指南</a>连接我的 GitHub repo。唯一不同的是在'<strong class="ls iu">步骤 4:配置您的设置'</strong>。因为我使用的是 Pelican，所以我使用的“构建命令”是:</p><pre class="kj kk kl km gt og of oh oi aw oj bi"><span id="cf76" class="nq kz it of b gy ok ol l om on">pelican content -s publishconf.py</span></pre><p id="e57a" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">由于依赖问题，在一些失败的构建之后，我让一切都工作了。Netlify 自动拉了我的 GitHub repo，安装了依赖项，构建了站点。我用谷歌域名申请了一个自定义域名，并按照这个链接设置:<a class="ae mx" href="https://www.netlify.com/docs/custom-domains/#googledomains" rel="noopener ugc nofollow" target="_blank">https://www.netlify.com/docs/custom-domains/#googledomains</a>。一年 12 美元，完全值得。</p><p id="e494" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">我也打开了 SSL，遵循这个指南。</p><p id="93d7" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">所以现在我的网站在它的新家开始运行了:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/36de7770c4463ce79b235dc9a7d0613a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xDKjW2Rr-NBQrnefrL5dbg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">My blog with ‘Elegant’ theme</figcaption></figure></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><h1 id="e8ba" class="ky kz it bd la lb nf ld le lf ng lh li jz nh ka lk kc ni kd lm kf nj kg lo lp bi translated">思想</h1><p id="a3e2" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">整个迁移过程花了我一天时间。我从中学到了很多新东西。这很有挑战性，但完全可行。我鼓励任何对认真对待你的博客感兴趣的人尝试一下。挺整齐的。有人说数据科学家应该专注于他们的研究和学习，我倾向于不时地走神。在这里学习一些 web 编程技巧，在那里获得一些 DevOps 经验。我发现这种“离题”实际上有点放松，刺激了我大脑的另一部分。这是一种休息和放松的方式。我想玩一个黑客游戏，一路解决问题。了解部署将有助于您更容易、更快速地<a class="ae mx" rel="noopener" target="_blank" href="/two-sides-of-the-same-coin-fast-ai-vs-deeplearning-ai-b67e9ec32133">将您的模型投入生产</a>。拥有一个博客就像拥有了另一个与你的同事和志同道合的人交流的场所。不会错的，对吧？</p></div><div class="ab cl my mz hx na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="im in io ip iq"><p id="3295" class="pw-post-body-paragraph lq lr it ls b lt nk ju lv lw nl jx ly lz nm mb mc md nn mf mg mh no mj mk ml im bi translated">欢迎任何反馈或建设性的批评。你可以在推特<a class="ae mx" href="https://twitter.com/lymenlee" rel="noopener ugc nofollow" target="_blank"> @ lymenlee </a>或者我的博客网站【wayofnumbers.com<a class="ae mx" href="https://wayofnumbers.com" rel="noopener ugc nofollow" target="_blank">上找到我。</a></p></div></div>    
</body>
</html>