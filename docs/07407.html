<html>
<head>
<title>Build Face Recognition as a REST API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将人脸识别构建为 REST API</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/build-face-recognition-as-a-rest-api-4c893a16446e?source=collection_archive---------4-----------------------#2019-10-17">https://towardsdatascience.com/build-face-recognition-as-a-rest-api-4c893a16446e?source=collection_archive---------4-----------------------#2019-10-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="1e83" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有很多开源的人脸识别包，比如<a class="ae ko" href="https://github.com/ageitgey/face_recognition" rel="noopener ugc nofollow" target="_blank"> face_recognition </a>，你可以很容易地将它们安装在 Linux 服务器上。但是在移动和物联网设备上部署它们是非常困难或者不可能的。一种选择是使用机器学习移动框架，如<a class="ae ko" href="https://www.tensorflow.org/lite" rel="noopener ugc nofollow" target="_blank"> TensorFlow Lite </a>来调用预先训练好的模型。</p><p id="2c17" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是有更简单的选择吗？是啊！随着 5G 的到来，上传 100KB 的图像只需 0.01 秒，速度约为<a class="ae ko" href="https://5g.co.uk/guides/how-fast-is-5g/" rel="noopener ugc nofollow" target="_blank"> 100Mbps </a>，因此我们可以部署几乎所有东西，包括服务器端的人脸识别服务和客户端的轻量级应用。这篇文章将展示如何使用 Python <a class="ae ko" href="https://palletsprojects.com/p/flask/" rel="noopener ugc nofollow" target="_blank"> Flask </a>在 Linux 服务器上为<a class="ae ko" href="https://github.com/ageitgey/face_recognition" rel="noopener ugc nofollow" target="_blank"> face_recognition </a>构建一个 RESTful API。</p></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><h1 id="4c6a" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">人脸识别项目</h1><p id="b317" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated"><a class="ae ko" href="https://github.com/ageitgey/face_recognition" rel="noopener ugc nofollow" target="_blank"> face_recognition </a>是一个基于<a class="ae ko" href="https://github.com/davisking/dlib" rel="noopener ugc nofollow" target="_blank"> dlib </a>的非常棒的人脸识别开源项目，正如它自己所描述的:</p><blockquote class="lz ma mb"><p id="1f4c" class="jq jr mc js b jt ju jv jw jx jy jz ka md kc kd ke me kg kh ki mf kk kl km kn im bi translated"><em class="it">世界上最简单的 Python 面部识别 api 和命令行</em></p></blockquote><p id="6698" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">只需几行 Python 代码，就可以进行人脸比对、人脸检测、面部特征查找。</p><p id="988d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，运行示例<a class="ae ko" href="https://gist.github.com/peterjpxie/2b0befb3b6696cf82fb891b871436380" rel="noopener ugc nofollow" target="_blank">find _ face _ features _ in _ picture . py</a>(只有 40 行代码)获取一幅奥巴马的图像，您可以得到如下绘制的所有面部特征。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/de2333aab41b0144e0dc1c2b05288d0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/0*BxrLnjWXImMB1tBa.png"/></div></figure><p id="aa5d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要在 Linux 服务器上安装它，你可以遵循 Github 上 face_recognition 项目中的<a class="ae ko" href="https://github.com/ageitgey/face_recognition#installation" rel="noopener ugc nofollow" target="_blank">步骤</a>，或者只需下载<a class="ae ko" href="https://medium.com/@ageitgey/try-deep-learning-in-python-now-with-a-fully-pre-configured-vm-1d97d4c3e9b" rel="noopener">预配置的虚拟机</a>。对于 Windows 用户，Sasiwut Chaiyadecha 提供的<a class="ae ko" href="https://medium.com/analytics-vidhya/how-to-install-dlib-library-for-python-in-windows-10-57348ba1117f" rel="noopener">步骤</a>对我很管用。</p></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><h1 id="af72" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">构建 REST API</h1><p id="5db6" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">让我们使用 face_recognition 包定义两个 API。</p><ul class=""><li id="ebb8" class="mo mp it js b jt ju jx jy kb mq kf mr kj ms kn mt mu mv mw bi translated"><strong class="js iu">对比两张脸</strong>:上传两张图片，返回真/假进行匹配</li><li id="3054" class="mo mp it js b jt mx jx my kb mz kf na kj nb kn mt mu mv mw bi translated"><strong class="js iu">从已知的数据集中识别一张脸:</strong>上传一张图片并返回这个人的名字。</li></ul><h2 id="1c71" class="nc kx it bd ky nd ne dn lc nf ng dp lg kb nh ni lk kf nj nk lo kj nl nm ls nn bi translated">面部识别功能</h2><p id="8cd0" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">在文件 face_util.py 中为这两个 API 定义了两个人脸识别函数作为 util。</p><p id="ac78" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第一个函数<strong class="js iu"> compare_faces </strong>比较两个图像文件，如果两个图像中的人脸是同一个人，则返回 True。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk">face_util_part1.py</figcaption></figure><p id="e0a0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第二个函数<strong class="js iu"> face_rec </strong>检查图像文件中的人脸是否是数据集中的已知人脸，并返回人名。在这个例子中有两个已知的面。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk">face_util_part2.py</figcaption></figure><h2 id="2cbd" class="nc kx it bd ky nd ne dn lc nf ng dp lg kb nh ni lk kf nj nk lo kj nl nm ls nn bi translated">带烧瓶的 REST API</h2><p id="8678" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">有了上面的函数，我们可以很容易地用 Flask 定义 REST API，如下。</p><p id="e5e4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第一个 API 是<strong class="js iu"> face_match </strong>。它从 POST 请求的表单数据中获取两个图像文件，并调用<strong class="js iu"> compare_faces </strong>来检查它们是否匹配，然后返回一个 JSON 格式的结果。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk">flask_server_v1_part1.py</figcaption></figure><p id="a338" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第二个 API 是<strong class="js iu"> face_rec，</strong>它<strong class="js iu"> </strong>取一个图像文件作为输入，调用<strong class="js iu"> face_rec </strong>检查是否是已知人脸，然后以 JSON 格式返回人名。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk">flask_server_v1_part2.py</figcaption></figure><p id="dd74" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在这里下载完整的 flask_server_v1.py 文件<a class="ae ko" href="https://gist.github.com/peterjpxie/3717609b51c4b52d569305c8206ebc6a" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="8934" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过<code class="fe nu nv nw nx b">pip install -U flask</code>安装烧瓶模块，然后运行<code class="fe nu nv nw nx b">python flask_server_v1.py</code>启动服务器 API。启动输出如下所示。</p><pre class="mh mi mj mk gt ny nx nz oa aw ob bi"><span id="8383" class="nc kx it nx b gy oc od l oe of">* Serving Flask app "flask_server_v1" (lazy loading)<br/>...<br/> * Debug mode: on<br/> * Running on <a class="ae ko" href="http://0.0.0.0:5001/" rel="noopener ugc nofollow" target="_blank">http://0.0.0.0:5001/</a> (Press CTRL+C to quit)</span></pre><p id="0d3e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以使用以下 URL 以<a class="ae ko" href="https://www.w3schools.com/html/html_forms.asp" rel="noopener ugc nofollow" target="_blank"> POST 表单数据</a>格式访问这两个 API:</p><ul class=""><li id="c0aa" class="mo mp it js b jt ju jx jy kb mq kf mr kj ms kn mt mu mv mw bi translated"><strong class="js iu">比较两张脸</strong> : http:// &lt;服务器 IP 地址&gt; : 5001/face_match</li><li id="df1c" class="mo mp it js b jt mx jx my kb mz kf na kj nb kn mt mu mv mw bi translated"><strong class="js iu">认个脸:</strong> http:// &lt;服务器 IP 地址&gt; : 5001/face_rec</li></ul></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><h1 id="9285" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated"><strong class="ak"> REST API 客户端示例</strong></h1><p id="5e32" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">您可以使用任何编程语言调用 API。我只是以 Python 为例。它需要<a class="ae ko" href="https://requests.kennethreitz.org/en/master/" rel="noopener ugc nofollow" target="_blank">请求</a>模块，你可以通过<code class="fe nu nv nw nx b">pip install -U requests</code>安装。</p><p id="60fb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在第一个例子中，我们用同一个人的两幅图像调用<strong class="js iu"> face_match </strong> API。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk">demo_client_part1.py</figcaption></figure><p id="60fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过<code class="fe nu nv nw nx b">python demo_client_part1.py</code>运行示例，您将得到如下响应:</p><pre class="mh mi mj mk gt ny nx nz oa aw ob bi"><span id="88a6" class="nc kx it nx b gy oc od l oe of">{"match": true}</span></pre><p id="87f0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在第二个例子中，我们调用<strong class="js iu"> face_rec </strong> API 来查找一个人的名字。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk">demo_client_part2_v1.py</figcaption></figure><p id="4d3a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">运行脚本，您将得到如下响应:</p><pre class="mh mi mj mk gt ny nx nz oa aw ob bi"><span id="f764" class="nc kx it nx b gy oc od l oe of">{"name": "Obama"}</span></pre></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><h1 id="a0ac" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">了解发布表单数据</h1><p id="1f07" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">如果你已经知道 HTML 表单数据，跳过这一节。</p><p id="9f48" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">表单数据只不过是用户提交给服务器端的 HTML 表单。检查不同的 HTML 表单。例如，一个简单的输入表单如下所示。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi og"><img src="../Images/351ec5a9186500d171c2321462fdb682.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*SbXkKUfiagtYpeTi0wvUnQ.jpeg"/></div></figure><p id="25b1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当您单击 Submit 时，它实际上向 web 服务器发送一个 HTTP POST 请求，其中包含如下数据:</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="d3a3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我们的例子中，我们使用文件形式。为了更好地理解它，让我们修改 face_rec API，以便当用户通过 GET 访问 API 时返回一个 HTML 表单页面，即在 web 浏览器中键入 URL，当请求内容是 POST 时打印它。</p><p id="c2c9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，我们定义了一个新函数<strong class="js iu"> print_request() </strong>来打印 POST 请求的 URL、键头和正文内容。应用了一个技巧，用字符串'&lt; raw image data &gt;'替换 raw image data，这样我们就可以打印完整的 POST 请求。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk">flask_server_v2_part1.py</figcaption></figure><p id="196b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后我们修改 face_rec API 如下:</p><ul class=""><li id="46c3" class="mo mp it js b jt ju jx jy kb mq kf mr kj ms kn mt mu mv mw bi translated">在方法中添加 GET 支持。(第一行)</li><li id="bb5a" class="mo mp it js b jt mx jx my kb mz kf na kj nb kn mt mu mv mw bi translated">如果是 POST，打印请求。(第 3 行)</li><li id="1bf0" class="mo mp it js b jt mx jx my kb mz kf na kj nb kn mt mu mv mw bi translated">如果是 GET，返回一个 HTML 文件表单页面。(第 12–20 行)</li></ul><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk">flask_server_v2_part2.py</figcaption></figure><p id="b9a9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在这里下载完整的 flask_server_v2.py <a class="ae ko" href="https://gist.github.com/c3f8f5d7898903b7733c7ead20bc47c5" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="fd1c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">运行新的服务器 API <code class="fe nu nv nw nx b">python flask_server_v2.py</code>，然后打开 web 浏览器，输入 face_rec URL，例如 http://127.0.0.1: 5001/face_rec。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/16880fcc362315209721c8d940f50228.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*R_Mdc_OiBD97gyRd6NwrjQ.jpeg"/></div></figure><p id="1a84" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你会看到上面的网页，点击浏览选择一个图像文件，然后点击上传按钮。它将向服务器端发送一个包含所选文件的 POST 请求，即调用 face_rec API。因此您将在浏览器上获得 API 响应。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/4c621b862f8145339804af3002b075bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*hI9jZVjMoDKY0FkudrbV_Q.jpeg"/></div></figure><p id="d06a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同时，POST 请求内容将在服务器端打印出来，如下所示。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div></figure></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><h1 id="02d7" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">Base64 图像编码</h1><p id="4aaa" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">表单数据传输图像数据是有效的，因为数据是直接以原始二进制传输的。但是如果你想以 JSON body 格式传输图像，<a class="ae ko" href="https://en.wikipedia.org/wiki/Base64" rel="noopener ugc nofollow" target="_blank"> base64 </a>编码是一种流行的解决方案，它将二进制数据转换成可打印的<a class="ae ko" href="https://en.wikipedia.org/wiki/ASCII" rel="noopener ugc nofollow" target="_blank"> ASCII </a>文本字符串，但是有 33%的开销，即(8–6)/6。</p><p id="138b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了 Python <a class="ae ko" href="https://docs.python.org/3/library/base64.html" rel="noopener ugc nofollow" target="_blank"> base64 </a>库，简直易如反掌。只需调用 b64encode 和 b64decode 函数。但是有一个技巧，你需要将 b64encode 的字节字符串输出转换为普通字符串，例如 b'abc '转换为' abc '，然后再将其传递给 JSON 对象，因为 JSON 不支持 Python <a class="ae ko" href="https://docs.python.org/3/library/stdtypes.html#bytes" rel="noopener ugc nofollow" target="_blank">字节字符串</a>。</p><p id="6b25" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以如下使用 JSON 格式重新编写 face_rec API 客户端。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk">base64 encode client</figcaption></figure><p id="4ed1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在这里下载完整的客户端脚本 v3 <a class="ae ko" href="https://gist.github.com/5870cad577e3d0d46d11485efe1a2ef7" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="9c5b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">并相应地修改服务器端以支持 JSON 格式，如下所示。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="nq nr gj gh gi ns nt bd b be z dk">base64 encode REST API server</figcaption></figure><p id="4521" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将 base64 字符串解码回二进制数据，并将其保存为图像文件，然后调用我们在基于表单数据的 API 中使用的相同的 face_rec 函数。比较帖子内容长度，你会看到 33%的开销如下。</p><pre class="mh mi mj mk gt ny nx nz oa aw ob bi"><span id="a42b" class="nc kx it nx b gy oc od l oe of">Peter2.jpg file size: 89KB</span><span id="1cc2" class="nc kx it nx b gy oj od l oe of">Post form data content length: 91162</span><span id="502c" class="nc kx it nx b gy oj od l oe of">Post base64 data content length: 121396</span><span id="0208" class="nc kx it nx b gy oj od l oe of">(121396 - 91162) / 91162 = 33%</span></pre><p id="9da2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以在这里找到完整的服务器端脚本 v3<a class="ae ko" href="https://gist.github.com/f03fdffa8a8c4e9f7113bba00578b21f" rel="noopener ugc nofollow" target="_blank"/>。</p></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><h1 id="a443" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">进一步的工作</h1><p id="575d" class="pw-post-body-paragraph jq jr it js b jt lu jv jw jx lv jz ka kb lw kd ke kf lx kh ki kj ly kl km kn im bi translated">您可以向 API 添加更多功能，例如，返回面部位置和面部特征，这样您就可以在移动设备上实现与在 Linux 服务器上相同的功能。</p><p id="05e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我已经实现了一个使用 REST API 绘制面部位置和面部特征的版本，并带有额外的参数，如果感兴趣，你可以在这里下载完整的库<a class="ae ko" href="https://github.com/peterjpxie/face_rec_api" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/ad255ee247bab8ef6e51de0389765369.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*hcRF0kzDIIbwQYlGiZqxpw.png"/></div></figure><p id="b848" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读到此结束。</p><p id="3423" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae ko" href="https://www.linkedin.com/in/xiejiping" rel="noopener ugc nofollow" target="_blank">领英</a></p></div></div>    
</body>
</html>