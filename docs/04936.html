<html>
<head>
<title>Lightweight Visualization of Keras Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Keras 模型的轻量级可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualizing-keras-models-49d591931209?source=collection_archive---------19-----------------------#2019-07-25">https://towardsdatascience.com/visualizing-keras-models-49d591931209?source=collection_archive---------19-----------------------#2019-07-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="6b30" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我喜欢 Keras 让构建神经网络变得简单明了。将 Keras 连接到 Tensorboard 并不难，但我总觉得对于许多经常想快速浏览底层模型的 Keras 用户来说，重量级解决方案过于复杂。</p><p id="37da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有了 wandb，您只需一行额外的 python 代码就可以可视化您的网络性能和架构。</p><p id="c2c6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了展示这是如何工作的，我修改了<a class="ae ko" href="https://github.com/keras-team/keras" rel="noopener ugc nofollow" target="_blank"> Keras examples </a>目录中的几个脚本。</p><p id="2b45" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要安装 wandb，只需运行“pip install wandb ”,我的所有 Keras 示例都将为您工作。</p><p id="f104" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 1。简单的 CNN </strong> ‍</p><p id="b060" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我从必备的 mnist_cnn.py 开始。</p><p id="f4a1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我在下面添加了来自 wandb import magic 的<em class="kp">——你也可以看看我的<a class="ae ko" href="https://github.com/lukas/keras/blob/master/examples/mnist_cnn.py" rel="noopener ugc nofollow" target="_blank"> mnist_cnn.py </a>从 Keras 示例中派生出来的一行代码。</em></p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi kq"><img src="../Images/c87b0a63d04c5b01c9ac116da3e28c4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dMc_CnPQBdtAu6XR.png"/></div></div></figure><p id="eef6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，当模型运行时，wandb 在后台启动一个进程，保存相关指标并将它们传输到 wandb。可以去<a class="ae ko" href="https://app.wandb.ai/l2k2/keras-examples/runs/ovptynun/model" rel="noopener ugc nofollow" target="_blank">https://app . wandb . ai/l2k 2/keras-examples/runs/ovptynun/model</a>看看我运行的输出。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi lc"><img src="../Images/f9ba908cbc5d158d10a34124eaed1d62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ahn7Q2fBqnAaj8aW.png"/></div></div></figure><p id="5e49" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi">‍</p><p id="8485" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我可以准确地看到我的模型所标注的数据，并自动查看损耗和精度曲线。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi ld"><img src="../Images/6096dcb67cab4d4be2979b31f0c5e8d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UNWVQSc1P68GYzs7.png"/></div></div></figure><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi le"><img src="../Images/41ab14bc0f246fddb577bb580fee87c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4032gLoC5EcAbCMu.png"/></div></div></figure><p id="36c6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 2。‍国际会议的结果</strong></p><p id="86d1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我分叉<a class="ae ko" href="https://github.com/lukas/keras/blob/master/examples/cifar10_resnet.py" rel="noopener ugc nofollow" target="_blank"> cifar10_resnet.py </a>，做了同样的一行修改。你可以在<a class="ae ko" href="https://app.wandb.ai/l2k2/keras-examples/runs/ieqy2e9h/model" rel="noopener ugc nofollow" target="_blank">https://app . wandb . ai/l2k 2/keras-examples/runs/ieqy 2e 9h/model</a>看到一个很好的 resnet 可视化。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi le"><img src="../Images/aea5ff10b4af207f594279d32f1328c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZbrdQToVdRaKjdx8.png"/></div></div></figure><p id="c6fe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在<a class="ae ko" href="https://app.wandb.ai/l2k2/keras-examples/runs/ieqy2e9h/system" rel="noopener ugc nofollow" target="_blank">系统页面</a>上，我可以看到这个模型使用的我的单个 GPU 比 mnist 例子多一点。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi lf"><img src="../Images/fc1f2c361757abde6fea9d084a3976c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*prynuWqDgDVXTlOr.png"/></div></div></figure><p id="984a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> 3。暹罗网</strong> ‍</p><p id="84a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我尝试了暹罗网络的例子。在这里，我可能想看看 TensorFlow 图，幸运的是，通过我们的一行代码，我们可以自动检测和托管 TensorBoard。你可以在 https://app.wandb.ai/l2k2/keras-examples/runs/fsc63n6a?找到这款跑鞋 workspace=user-l2k2 。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="kw kx di ky bf kz"><div class="gh gi le"><img src="../Images/1579535c3973ce082bd9711c1f0550cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SE1BPCbfTizdYqsW.png"/></div></div></figure><p id="aaa8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于每个模型，这个工具花费了我不到一分钟的时间，增加了很少的计算开销，并且应该适用于您正在处理的任何 Keras 模型。当您想要跟踪更多内容时，您可能希望用以下内容替换该行:</p><blockquote class="lg lh li"><p id="75f5" class="jq jr kp js b jt ju jv jw jx jy jz ka lj kc kd ke lk kg kh ki ll kk kl km kn im bi translated"><em class="it">导入 wandb </em></p><p id="2c82" class="jq jr kp js b jt ju jv jw jx jy jz ka lj kc kd ke lk kg kh ki ll kk kl km kn im bi translated"><em class="it"> wandb.init(magic=True) </em></p></blockquote><p id="ab7f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，您可以使用我们的自定义 wandb.log()函数来保存您想要的任何内容。你可以在我们的<a class="ae ko" href="http://docs.wandb.com/" rel="noopener ugc nofollow" target="_blank">文档</a>中了解更多信息。</p><p id="6f0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我真的希望你觉得这有用！</p></div></div>    
</body>
</html>