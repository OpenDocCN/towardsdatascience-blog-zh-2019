<html>
<head>
<title>Prophet-able Forecasting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可预测的预测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/prophet-able-forecasting-5abf837ace3b?source=collection_archive---------17-----------------------#2019-05-16">https://towardsdatascience.com/prophet-able-forecasting-5abf837ace3b?source=collection_archive---------17-----------------------#2019-05-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="28fb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">脸书开源时间序列预测库<code class="fe kf kg kh ki b">Prophet</code>入门(Python 语言)</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/f4eadacbe4babd0e546430b8e97d1474.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kiLhwgfqplmsa9QgUfXjKQ.jpeg"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Photo by <a class="ae kz" href="https://unsplash.com/@isaacmsmith" rel="noopener ugc nofollow" target="_blank">Isaac Smith</a> on <a class="ae kz" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2ddb" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">如果你谷歌一下“<em class="lw">时间序列预测</em>，你会得到的第一个<a class="ae kz" href="https://www.google.com/search?q=time+series+forecasting&amp;rlz=1C5CHFA_enUS805US805&amp;oq=time+&amp;aqs=chrome.0.69i59l2j69i57j69i60l3.869j0j1&amp;sourceid=chrome&amp;ie=UTF-8" rel="noopener ugc nofollow" target="_blank">搜索结果</a>大部分会涉及<a class="ae kz" href="https://en.wikipedia.org/wiki/Autoregressive_integrated_moving_average" rel="noopener ugc nofollow" target="_blank">自回归综合移动平均</a>建模(ARIMA)或者<a class="ae kz" href="https://machinelearningmastery.com/exponential-smoothing-for-time-series-forecasting-in-python/" rel="noopener ugc nofollow" target="_blank">指数平滑</a> (ETS)。而且理由很充分！在 R 和 Python 中，都有一些流行的方法可以用来应用这些时间序列预测方法。我开始尝试的第一批预测工具之一是 R 的<code class="fe kf kg kh ki b">forecast</code>包中的 ARIMA 和 ETS 模型，由有影响力的<a class="ae kz" href="https://otexts.com/fpp2/" rel="noopener ugc nofollow" target="_blank"> Rob Hyndman </a>领导。</p><p id="a7f6" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在<code class="fe kf kg kh ki b"><a class="ae kz" href="http://pkg.robjhyndman.com/forecast/" rel="noopener ugc nofollow" target="_blank">forecast</a></code>最神奇的选择之一就是使用<code class="fe kf kg kh ki b"><a class="ae kz" href="https://www.rdocumentation.org/packages/forecast/versions/8.7/topics/auto.arima" rel="noopener ugc nofollow" target="_blank">auto.arima</a></code>。名字说明了一切；它将根据选定的信息标准(<a class="ae kz" href="http://www.koenbro.com/information-criteria-aic-aicc-bic/" rel="noopener ugc nofollow" target="_blank"> AIC、BIC 或 AICc </a>)来“自动”确定一个最适合的 ARIMA 模型。时间序列预测变得简单！</p><p id="8716" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">但是现在，我更喜欢使用 Python。通过另一个快速的谷歌搜索，我发现了一个<a class="ae kz" href="https://www.alkaline-ml.com/pmdarima/" rel="noopener ugc nofollow" target="_blank">潜在的 Python 类似物</a>。但是对于这篇文章，我想花点时间去了解另一个预测 Python 库:Prophet。</p><h2 id="91e8" class="lx ly iq bd lz ma mb dn mc md me dp mf lj mg mh mi ln mj mk ml lr mm mn mo mp bi translated">什么是先知？</h2><p id="77be" class="pw-post-body-paragraph la lb iq lc b ld mq jr lf lg mr ju li lj ms ll lm ln mt lp lq lr mu lt lu lv ij bi translated">Prophet 于 2017 年推出，是由脸书开发的预测库，用 R 和 Python 实现。它的开发有两个目标:第一，为业务创建可扩展的高质量预测，第二，在幕后有一个严格的方法，但其参数杠杆足够直观，便于传统业务分析师进行调整。</p><p id="2e39" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在这篇文章中，我们将做一个<em class="lw">轻快的</em>意识流式的<strong class="lc ir">快速入门教程:</strong></p><ul class=""><li id="9f93" class="mv mw iq lc b ld le lg lh lj mx ln my lr mz lv na nb nc nd bi translated">在 Python 中安装</li><li id="ab37" class="mv mw iq lc b ld ne lg nf lj ng ln nh lr ni lv na nb nc nd bi translated">设置数据</li><li id="18b4" class="mv mw iq lc b ld ne lg nf lj ng ln nh lr ni lv na nb nc nd bi translated">拟合模型和预测</li><li id="491a" class="mv mw iq lc b ld ne lg nf lj ng ln nh lr ni lv na nb nc nd bi translated">检查结果</li></ul><p id="2f72" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们开始吧！</p></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><h2 id="c252" class="lx ly iq bd lz ma mb dn mc md me dp mf lj mg mh mi ln mj mk ml lr mm mn mo mp bi translated">1.在 Python 中安装</h2><p id="00c8" class="pw-post-body-paragraph la lb iq lc b ld mq jr lf lg mr ju li lj ms ll lm ln mt lp lq lr mu lt lu lv ij bi translated">如果下面的一些对你来说有点简单，我只是简单地按照 Prophet 的<a class="ae kz" href="https://facebook.github.io/prophet/docs/installation.html" rel="noopener ugc nofollow" target="_blank">安装指南</a>上的指示做了。另外，我用的是 Mac，所以如果你用的是 Windows，就用下面的 YMMV。</p><p id="1aca" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我去了该项目的<a class="ae kz" href="https://facebook.github.io/prophet/docs/installation.html" rel="noopener ugc nofollow" target="_blank"> github.io 站点</a>上的安装页面，并按照 Python 的指示进行了操作。如前所述，这个库主要依赖于<code class="fe kf kg kh ki b">pystan</code>。在我的第一次尝试中，我实际上<em class="lw">错过了</em>在 pip 安装<code class="fe kf kg kh ki b">fbprophet</code>(Python 库的实际名称)之前先对<code class="fe kf kg kh ki b">pip install pystan</code> <strong class="lc ir">说</strong>的部分。当然，我反其道而行之，事情并不愉快。</p><p id="afed" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">但是:</p><p id="0774" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我也在 Python 的 Anaconda 发行版上，所以我最终能够通过简单地遵循<strong class="lc ir"> Anaconda 指令:</strong>来让一切正常工作</p><p id="a5c6" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在终端中:</p><p id="64f5" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><code class="fe kf kg kh ki b">conda install gcc</code></p><p id="51ff" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">…然后按照提示进行操作。</p><p id="a7a4" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">一旦完成，执行以下操作:<br/> <code class="fe kf kg kh ki b">install -c conda-forge fbprophet</code></p><p id="bc0a" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">唷！好险。我担心这篇文章会就此结束。</p></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><h2 id="03fe" class="lx ly iq bd lz ma mb dn mc md me dp mf lj mg mh mi ln mj mk ml lr mm mn mo mp bi translated">2.设置数据</h2><p id="c6aa" class="pw-post-body-paragraph la lb iq lc b ld mq jr lf lg mr ju li lj ms ll lm ln mt lp lq lr mu lt lu lv ij bi translated">项目网站还提供了一个非常清晰的<a class="ae kz" href="https://facebook.github.io/prophet/docs/quick_start.html#python-api" rel="noopener ugc nofollow" target="_blank">快速启动</a>,我通过它进行了嗅测，以确定一切工作正常。亲爱的读者，我将让你来做同样的事情，并高度鼓励它。一个人永远无法获得足够的重复次数。不过，我<strong class="lc ir">将</strong>浏览的是我选择的另一个数据集，以开始习惯这个 API。</p><h2 id="e1eb" class="lx ly iq bd lz ma mb dn mc md me dp mf lj mg mh mi ln mj mk ml lr mm mn mo mp bi translated">案例研究:查看自行车共享出行</h2><p id="b977" class="pw-post-body-paragraph la lb iq lc b ld mq jr lf lg mr ju li lj ms ll lm ln mt lp lq lr mu lt lu lv ij bi translated">对于第一个数据集，我们正在查看洛杉矶自行车共享出行的数据集。我从 Kaggle 上拉下了一个<code class="fe kf kg kh ki b">.csv</code>。不要告诉任何人，但我相信我是第一个想到这一点的人。开个玩笑！不过说真的，我很想刮点东西，但是时间不够了。就这样吧。</p><p id="eb77" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">你可以在这里找到数据<a class="ae kz" href="https://www.kaggle.com/cityofLA/los-angeles-metro-bike-share-trip-data/downloads/los-angeles-metro-bike-share-trip-data.zip/26" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="530d" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">如果您安装了<a class="ae kz" href="https://github.com/Kaggle/kaggle-api" rel="noopener ugc nofollow" target="_blank"> Kaggle API </a>，您可以通过复制 API 命令直接下载到您选择的文件夹:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/1f76bcbe39e926f68d9adafa34f32008.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*CQNfbp5vkTgwRJ2SKxSkYA.png"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Anyone know how to resize this?</figcaption></figure><p id="0fc6" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">然后粘贴到终端中运行，像这样:<br/> <code class="fe kf kg kh ki b">kaggle datasets download -d cityofLA/los-angeles-metro-bike-share-trip-data</code></p><p id="13c4" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">另一个 YMMV 类型的拦截器:当我试图解压下载的文件时，我遇到了权限问题。但是我通过<br/> <code class="fe kf kg kh ki b">chmod 600 los-angeles-metro-bike-share-trip-data.zip</code>解决了</p><p id="659d" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">..这给了我对文件的完全读/写权限。然后我就可以解压了:<br/> <code class="fe kf kg kh ki b">unzip los-angeles-metro-bike-share-trip-data.zip</code></p><p id="254c" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">好吧！让我们设置运行<code class="fe kf kg kh ki b">Prophet</code>对象的数据帧。请注意，模型需要非常具体的列名和类型；引用一下:</p><blockquote class="nr ns nt"><p id="7271" class="la lb lw lc b ld le jr lf lg lh ju li nu lk ll lm nv lo lp lq nw ls lt lu lv ij bi translated">Prophet 的输入总是一个包含两列的 data frame:<code class="fe kf kg kh ki b"><em class="iq">ds</em></code>和<code class="fe kf kg kh ki b"><em class="iq">y</em></code>。<code class="fe kf kg kh ki b"><em class="iq">ds</em></code> (datestamp)列应该是 Pandas 所期望的格式，理想情况下，日期应该是 YYYY-MM-DD，时间戳应该是 YYYY-MM-DD HH:MM:SS。<code class="fe kf kg kh ki b"><em class="iq">y</em></code>列必须是数字，代表我们希望预测的测量值。</p></blockquote><p id="4707" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">完整的<a class="ae kz" href="https://github.com/MangrobanGit/blog_tutorial_1/blob/master/blog_tutorial.ipynb" rel="noopener ugc nofollow" target="_blank"> Jupyter 笔记本</a>中的所有代码都可以在<a class="ae kz" href="https://github.com/MangrobanGit/blog_tutorial_1" rel="noopener ugc nofollow" target="_blank">这个 GitHub 资源库</a>中获得(包括我所有的错误开始！)但清理后的版本如下:</p><pre class="kk kl km kn gt nx ki ny nz aw oa bi"><span id="7e9b" class="lx ly iq ki b gy ob oc l od oe">import pandas as pd          # Dataframes. <br/>import plotly_express as px  # Plotting.</span><span id="afa0" class="lx ly iq ki b gy of oc l od oe"># Get dataset<br/>bikes = pd.read_csv('./data/metro-bike-share-trip-data.csv')</span><span id="b9e6" class="lx ly iq ki b gy of oc l od oe"># Start time is string, convert to data<br/>bikes['ds'] = pd.to_datetime(<br/>                 bikes['Start Time'].apply(lambda st : st[:10])<br/>                                           , format='%Y-%m-%d')</span><span id="b7d5" class="lx ly iq ki b gy of oc l od oe"># Aggregate by trip start date<br/>trips = bikes.groupby(['ds']).agg(<br/>                                 {'Trip ID': 'count'}).reset_index()</span><span id="40a0" class="lx ly iq ki b gy of oc l od oe"># Rename columns<br/>trips.columns = ['ds', 'y'] # Column names required by fbprophet API</span><span id="c90a" class="lx ly iq ki b gy of oc l od oe"># Plot: reasonability check <br/>px.scatter(trips<br/>          ,x='ds'<br/>          ,y='y'<br/>          ,title='LA Daily Bike Share Trips - Jul 16 to Apr 17'<br/>          ,labels={'y':'Trips','ds':'Day'})</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi og"><img src="../Images/f2b89c5ca876fa2ac27ad01292e65b04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*zyPfjnVa3YsSJ6x8ebGY1w.gif"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Is that Plotly Express’ music I hear? <a class="ae kz" rel="noopener" target="_blank" href="/plotly-express-yourself-98366e35ad0f">Shameless, shameless plug</a>.</figcaption></figure></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><h2 id="edf1" class="lx ly iq bd lz ma mb dn mc md me dp mf lj mg mh mi ln mj mk ml lr mm mn mo mp bi translated">3.拟合模型和预测</h2><p id="5f5a" class="pw-post-body-paragraph la lb iq lc b ld mq jr lf lg mr ju li lj ms ll lm ln mt lp lq lr mu lt lu lv ij bi translated">接下来，我们将运行一个运行预测的示例:</p><ul class=""><li id="7e4c" class="mv mw iq lc b ld le lg lh lj mx ln my lr mz lv na nb nc nd bi translated">拟合模型</li><li id="0a26" class="mv mw iq lc b ld ne lg nf lj ng ln nh lr ni lv na nb nc nd bi translated">根据我们的模型预测</li></ul><p id="fd7b" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">首先，让我们实例化我们的模型，并使其适合我们的数据集:</p><pre class="kk kl km kn gt nx ki ny nz aw oa bi"><span id="0439" class="lx ly iq ki b gy ob oc l od oe">from fbprophet import Prophet     #Importing here for visibility</span><span id="e317" class="lx ly iq ki b gy of oc l od oe"># Create Prophet object and fit<br/>m_bikes = Prophet(yearly_seasonality=True<br/>                 , weekly_seasonality=True)               #All defaults<br/>m_bikes.fit(trips)</span></pre><p id="07bd" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">对象<code class="fe kf kg kh ki b">Prophet</code>有许多参数，可以设置这些参数来调整模型。例如，<code class="fe kf kg kh ki b">daily_seasonality</code>、<code class="fe kf kg kh ki b">weekly_seasonality</code>和<code class="fe kf kg kh ki b">yearly_seasonality</code>等季节性设置只是可以调整的部分选项。例如，我认为自行车共享租赁可能会有一些每周和/或每年的模式。为了好玩，让我们看看如果我们将<code class="fe kf kg kh ki b">weekly_seasonality</code>和<code class="fe kf kg kh ki b">yearly_seasonality</code>设置为<code class="fe kf kg kh ki b">True</code>会发生什么。</p><p id="bc59" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">接下来，我们可以使用该模型进行预测。<code class="fe kf kg kh ki b">Prophet</code>对象有一个名为<code class="fe kf kg kh ki b">make_future_dataframe</code>的简便方法，可以创建一个具有指定数量的未来日期的 dataframe，这些日期与训练数据相关(天数是默认的<code class="fe kf kg kh ki b">periods</code>)。例如，下面我们加上训练数据最后一天后的 60 天。</p><pre class="kk kl km kn gt nx ki ny nz aw oa bi"><span id="b731" class="lx ly iq ki b gy ob oc l od oe"># Create dataframe with appended future dates<br/>future = m_bikes.make_future_dataframe(periods=60) #Days is default<br/>future.tail()</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/0d1f4d29d351445ef89d723232c481b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:208/format:webp/1*G7cfCqs0V7Q48s-xPo3FLw.png"/></div></figure><p id="97df" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">一旦建立了数据框架，我们就可以在“测试”集上运行预测:</p><pre class="kk kl km kn gt nx ki ny nz aw oa bi"><span id="36e8" class="lx ly iq ki b gy ob oc l od oe"># Forecast on future dates <br/>forecast = m_bikes.predict(future)</span><span id="41bb" class="lx ly iq ki b gy of oc l od oe"># Look at prediction and prediction interval<br/>forecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/fb17463d4a183f5c8377346f34221bbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*I8UgTASmg2RtnBhnUXOt1A.png"/></div></figure><h2 id="0390" class="lx ly iq bd lz ma mb dn mc md me dp mf lj mg mh mi ln mj mk ml lr mm mn mo mp bi translated">4.检查结果</h2><p id="aa69" class="pw-post-body-paragraph la lb iq lc b ld mq jr lf lg mr ju li lj ms ll lm ln mt lp lq lr mu lt lu lv ij bi translated">通过查看我们创建的<code class="fe kf kg kh ki b">forecast</code>数据框架的<code class="fe kf kg kh ki b">tail</code>，我们已经得到了预测的预览。让我们把它形象化，以获得更大的画面。</p><p id="bbce" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">恰好我们的<code class="fe kf kg kh ki b">Prophet</code>对象也包含了一个<code class="fe kf kg kh ki b">plot</code>方法来实现这一点！以下是拟合/预测(直线(<em class="lw"> y_hat </em>)和阴影区域(<em class="lw">预测区间</em>))与实际值(散点图)的关系图:</p><pre class="kk kl km kn gt nx ki ny nz aw oa bi"><span id="7d52" class="lx ly iq ki b gy ob oc l od oe"># Plot the forecast vs actuals<br/>m_bikes.plot(forecast)</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi oj"><img src="../Images/866c9689ece37236dc352cb50a35ba76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aqiQcO1PDDBCaL6Ruzmzqw.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Not bad. Could potentially use some more data cleaning (outliers?) and parameter tuning.</figcaption></figure><p id="9ed7" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">此外，还有预测组件的图表！例如，由于我们明确地将<code class="fe kf kg kh ki b">weekly_seasonality</code>和<code class="fe kf kg kh ki b">yearly_seasonality</code>设置为<code class="fe kf kg kh ki b">True</code>，将会有专门针对它们的组件图:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/929babf8d871bdd16d7897f6ac5d6b1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*MScCTh_Bx8eeWxFHDEFWAA.png"/></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Wooh! There’s nothin’ like summer in the city.</figcaption></figure><p id="df1e" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们肯定可以使用更多的历史数据，但如果我们从表面上看这些图，似乎在夏末旅行有一个高峰，然后在秋季逐渐下降。此外，在一周中，高峰骑行似乎发生在工作日的中后期。如果这些是西雅图自行车股，那可能不会完全通过我的轶事观察的嗅觉测试，但嘿，洛杉矶可能是一个完全不同的市场。关键是我们能够在短时间内做出一些不错的预测！</p><h2 id="5ef0" class="lx ly iq bd lz ma mb dn mc md me dp mf lj mg mh mi ln mj mk ml lr mm mn mo mp bi translated">如此之多…</h2><p id="c93f" class="pw-post-body-paragraph la lb iq lc b ld mq jr lf lg mr ju li lj ms ll lm ln mt lp lq lr mu lt lu lv ij bi translated">如果我们有更多的时间深入研究，我们可以开始查看上述参数，以进一步调整预测。这些不仅包括不同时期的季节性，还包括特定的假日效应，为趋势提供特定的变化点(例如，你没有一个完美的线性基线趋势，如上例所示)，说明饱和点，等等。同样，详细信息可以在<a class="ae kz" href="https://facebook.github.io/prophet/docs/installation.html" rel="noopener ugc nofollow" target="_blank">文档</a>中找到，我强烈建议阅读<a class="ae kz" href="https://peerj.com/preprints/3190/" rel="noopener ugc nofollow" target="_blank">白皮书</a>以更深入地了解底层方法。</p><p id="d129" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这就是我们所有的时间，我希望这是有用的。感谢阅读！</p></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><p id="aa93" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">工作文件<a class="ae kz" href="https://github.com/MangrobanGit/blog_tutorial_1" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><p id="9005" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">请随时伸出援手！|<a class="ae kz" href="https://www.linkedin.com/in/werlindo/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae kz" href="https://github.com/MangrobanGit" rel="noopener ugc nofollow" target="_blank">GitHub</a></p></div><div class="ab cl nj nk hu nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="ij ik il im in"><p id="0cd1" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ir">来源:</strong></p><p id="091e" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><a class="ae kz" href="https://facebook.github.io/prophet/" rel="noopener ugc nofollow" target="_blank">https://facebook.github.io/prophet/</a></p><p id="eb8a" class="pw-post-body-paragraph la lb iq lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">泰勒 SJ，勒撒姆 B. 2017。大规模预测。<em class="lw"> PeerJ 预印本</em>5:e 3190v 2<a class="ae kz" href="https://doi.org/10.7287/peerj.preprints.3190v2" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.7287/peerj.preprints.3190v2</a></p></div></div>    
</body>
</html>