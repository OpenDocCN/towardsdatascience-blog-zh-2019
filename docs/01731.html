<html>
<head>
<title>NLP Part 1| Scraping the Web using BeautifulSoup and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NLP ç¬¬ 1 éƒ¨åˆ†|ä½¿ç”¨ BeautifulSoup å’Œ Python æŠ“å– Web</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/scraping-the-web-using-beautifulsoup-and-python-5df8e63d9de3?source=collection_archive---------3-----------------------#2019-03-21">https://towardsdatascience.com/scraping-the-web-using-beautifulsoup-and-python-5df8e63d9de3?source=collection_archive---------3-----------------------#2019-03-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/828486085c10d727d20e8c91f2ead867.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tF9nERH4RPyidZHo"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Photo by <a class="ae kf" href="https://unsplash.com/@patuphotos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Patrick Selin</a> on <a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><p id="68ab" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">æ•°æ®æ˜¯ä»»ä½•æ•°æ®ç§‘å­¦é¡¹ç›®çš„æ ¸å¿ƒï¼Œç„¶è€Œæˆ‘ä»¬å¸¸å¸¸è®¤ä¸ºæ•°æ®çš„å¯ç”¨æ€§æ˜¯ç†æ‰€å½“ç„¶çš„ï¼Œå°¤å…¶æ˜¯å½“å®ƒæ•´é½åœ°å‡ºç°åœ¨ SQL æ•°æ®åº“ä¸­æˆ–è€…æ›´å¥½åœ°å‡ºç°åœ¨æˆ‘ä»¬çš„æ”¶ä»¶ç®±ä¸­æ—¶ã€‚</p><p id="dfc9" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±äºå…¶ç‰¹å®šçš„æ€§è´¨ï¼Œæœ‰æ—¶æ‚¨æ­£åœ¨å¯»æ‰¾çš„æ•°æ®å¹¶ä¸å®¹æ˜“è·å¾—ã€‚è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªå¯èƒ½çš„è§£å†³æ–¹æ¡ˆæ˜¯<strong class="kp iu">ç½‘ç»œæŠ“å–</strong>çš„æƒ³æ³•ï¼Œæˆ–è€…é€šè¿‡ä»”ç»†é˜…è¯»ç‰¹å®šç½‘ç«™çš„ HTML ä»è¯¥ç½‘ç«™æå–ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬è¯´ä½ æ­£åœ¨è®¡åˆ’ä¸€ä¸ªå‡æœŸï¼Œä½ åœ¨å¯»æ‰¾æœºç¥¨ä½•æ—¶å¼€å§‹é”€å”®ã€‚æ˜¯çš„ï¼Œä½ å¯ä»¥æ¯å°æ—¶æµè§ˆåŒä¸€ä¸ªæ—…æ¸¸ç½‘ç«™ï¼Œå¸Œæœ›ä»·æ ¼ä¼šä¸‹é™ï¼Œä½†æ›´æœ‰æ•ˆçš„æ–¹æ³•æ˜¯æ¯å°æ—¶æµè§ˆæ—…æ¸¸ç½‘ç«™ï¼Œå¹¶æœ‰ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ä¸ºä½ æä¾›æœ€æ–°çš„ç¥¨ä»·ã€‚</p><h2 id="797b" class="ll lm it bd ln lo lp dn lq lr ls dp lt ky lu lv lw lc lx ly lz lg ma mb mc md bi translated">æ”¾å¼ƒ</h2><p id="73f5" class="pw-post-body-paragraph kn ko it kp b kq me ks kt ku mf kw kx ky mg la lb lc mh le lf lg mi li lj lk im bi translated">è®¸å¤šç½‘ç«™ä¸å¸Œæœ›è‡ªå·±çš„æ•°æ®è¢«çªƒå–ï¼Œå°¤å…¶æ˜¯å½“è¿™äº›æ•°æ®åŒ…å«å¯è¯†åˆ«çš„ç”¨æˆ·ä¿¡æ¯æ—¶(å¦‚è„¸ä¹¦ã€Linkedin ç­‰)ã€‚).è¯·è€ƒè™‘æ‚¨é€‰æ‹©åˆ®å–å“ªäº›æ•°æ®ä»¥åŠåˆ®å–çš„é¢‘ç‡ã€‚</p></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><h2 id="dc0c" class="ll lm it bd ln lo lp dn lq lr ls dp lt ky lu lv lw lc lx ly lz lg ma mb mc md bi translated">NLP ç³»åˆ—</h2><p id="0323" class="pw-post-body-paragraph kn ko it kp b kq me ks kt ku mf kw kx ky mg la lb lc mh le lf lg mi li lj lk im bi translated">è¿™ä¸ªç®€çŸ­çš„æ•™ç¨‹æ˜¯å…³äºè‡ªç„¶è¯­è¨€å¤„ç†(NLP)çš„ 3 éƒ¨åˆ†ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚åœ¨è¿™ä¸ªç³»åˆ—ä¸­ï¼Œæˆ‘ä»¬å°†æ¢ç´¢æŠ“å–ç½‘ç«™æ•°æ®çš„æŠ€æœ¯ï¼Œé¢„å¤„ç†å¹¶å‡†å¤‡å¥½æ•°æ®ä»¥ä¾›åˆ†æï¼Œæœ€åä»æˆ‘ä»¬çš„ NLP æ•°æ®ä¸­æ”¶é›†è§è§£ã€‚</p><p id="f84f" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><a class="ae kf" href="https://medium.com/@kamilmysiak/preprocessing-text-data-using-python-576206753c28" rel="noopener"> NLP ç¬¬äºŒéƒ¨</a></p><p id="64c1" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><a class="ae kf" href="https://medium.com/@kamilmysiak/nlp-part-3-exploratory-data-analysis-of-text-data-1caa8ab3f79d" rel="noopener"> NLP ç¬¬ä¸‰éƒ¨</a></p><h1 id="9029" class="mj lm it bd ln mk ml mm lq mn mo mp lt mq mr ms lw mt mu mv lz mw mx my mc mz bi translated">ä» Indeed.com æœé›†å…¬å¸è¯„è®º</h1><p id="f2b9" class="pw-post-body-paragraph kn ko it kp b kq me ks kt ku mf kw kx ky mg la lb lc mh le lf lg mi li lj lk im bi translated">åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè®©æˆ‘ä»¬å°è¯•æŠ“å– indeed.comï¼Œä½†å…·ä½“æ¥è¯´æ˜¯å…¬å¸è¯„è®ºã€‚è®©æˆ‘ä»¬é’ˆå¯¹å‘˜å·¥çš„è¯„åˆ†ã€è¯„ä¼°èŒç§°ã€è¯„ä¼°æè¿°ä»¥åŠä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚</p><figure class="nb nc nd ne gt ju gh gi paragraph-image"><div class="gh gi na"><img src="../Images/0fe9687a9a55f5260c3fb06613ca5328.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*U7GDw98sO0d3g5EnpD5Uzg.png"/></div></figure><h2 id="9440" class="ll lm it bd ln lo lp dn lq lr ls dp lt ky lu lv lw lc lx ly lz lg ma mb mc md bi translated">HTML åŸºç¡€</h2><p id="8241" class="pw-post-body-paragraph kn ko it kp b kq me ks kt ku mf kw kx ky mg la lb lc mh le lf lg mi li lj lk im bi translated">åœ¨æˆ‘ä»¬çœŸæ­£å¼€å§‹æ”¶é›†ä¿¡æ¯ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç†Ÿæ‚‰ HTML çš„åŸºæœ¬ç»“æ„ï¼Œå› ä¸ºæˆ‘ä»¬å®é™…ä¸Šå°†ä½¿ç”¨ HTML æ ‡ç­¾æ¥æ ‡è¯†æˆ‘ä»¬å¸Œæœ›æ”¶é›†çš„ä¿¡æ¯ã€‚</p><p id="fb57" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨æ‚¨å½“å‰çš„æµè§ˆå™¨ä¸­æ‰“å¼€å¼€å‘è€…å·¥å…·æ¥è®¿é—®ç½‘ç«™çš„ HTMLã€‚æ¯”å¦‚ Firefox(é€‰é¡¹â†’ Web Developer â†’ Inspector)ã€‚æ‰€æœ‰è¿™äº›è“è‰²çš„â€œdivâ€æ ‡ç­¾ã€ç®­å¤´ã€ç±»å’Œ id å°±æ˜¯ä½ å½“å‰æ‰€åœ¨ç½‘ç«™çš„ HTMLã€‚</p><figure class="nb nc nd ne gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nf"><img src="../Images/6d9f205e94f9f93b826ab1e41b96c04d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9i7SqWQACDJXX0cXH6yOqg.png"/></div></div></figure><p id="606e" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">åœ¨æˆ‘ä»¬ç ”ç©¶ indeed.com çš„ HTML ä¹‹å‰ï¼Œè®©æˆ‘ä»¬ç”¨ä¸‹é¢çš„ä¾‹å­å›é¡¾ä¸€ä¸‹å®ƒçš„åŸºæœ¬ç»“æ„ã€‚</p><figure class="nb nc nd ne gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/7ffb698d4f13a8383660180acd7e0f0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-jCJ7ROpPqEbjIV-Emq17g.png"/></div></div></figure><p id="a43d" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">HTML æè¿°äº†ç½‘ç«™çš„åº•å±‚ç»“æ„ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒæ ‡è¯†äº†ç½‘ç«™å°†æœ‰ä¸€ä¸ªæ ‡é¢˜ï¼Œå¤šä¸ªæ®µè½ï¼Œä¸€ä¸ªåµŒå…¥çš„è§†é¢‘ï¼Œä¸€ä¸ªç»“æŸé¡µè„šï¼Œç­‰ç­‰ã€‚HTML ä¸ä¼šæè¿°è¿™äº›ç»„ä»¶å°†å¦‚ä½•æ’åˆ—ï¼Œå®ƒä»¬çš„æ ·å¼ã€å¤§å°ã€é¢œè‰²ç­‰ã€‚</p><p id="cf31" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">HTML ä»£ç æœ¬è´¨ä¸Šæ˜¯åˆ†å±‚çš„ï¼Œç¼©è¿›çš„æ ‡ç­¾(å³ã€‚<div>ã€<ul>ç­‰ã€‚)ç¡®å®šå±‚æ¬¡ç»“æ„ä¸­çš„æ¯ä¸ªæ–°çº§åˆ«ã€‚ä¾‹å¦‚ï¼Œâ€œâ€æ ‡ç­¾ä½äºå±‚æ¬¡ç»“æ„çš„é¡¶éƒ¨(ä¹Ÿç§°ä¸ºå®¹å™¨)ï¼Œå®ƒåŒ…å«æ‰€æœ‰å…¶ä»–å…ƒç´ ã€‚body æ ‡ç­¾å°¤å…¶é‡è¦ï¼Œå› ä¸ºå®ƒåŒ…å«äº†ç½‘ç«™ä¸Šç»å¤§å¤šæ•°å¯è§çš„ä¿¡æ¯ã€‚æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œbody æ ‡ç­¾åŒ…å«äº†å„ç§å…¶ä»–çš„åµŒå¥—æ ‡ç­¾ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒå­˜å‚¨äº†ä¸€ä¸ªæ®µè½ï¼Œç„¶ååŒ…å«ä¸€ä¸ªé“¾æ¥ã€ä¸€ä¸ªè¯„è®ºæ ‡é¢˜å’Œå®é™…çš„è¯„è®ºæ–‡æœ¬â€œç›¸å½“å¥½â€ã€‚èƒ½å¤Ÿé˜…è¯»å’Œç†è§£åµŒå¥—çš„æ ‡ç­¾çº¿ç´¢æ˜¯å¾ˆé‡è¦çš„ï¼Œå®ƒå°†æˆ‘ä»¬å¼•å‘å®é™…çš„è¯„è®ºæ–‡æœ¬â€œç›¸å½“å¥½â€,å› ä¸ºè¿™æ˜¯æˆ‘ä»¬æƒ³è¦æ”¶é›†çš„ä¿¡æ¯ã€‚è®©æˆ‘ä»¬æŠŠæ³¨æ„åŠ›è½¬å‘ python ä»£ç ï¼Œå®ƒé’»é€äº†æ ‡ç­¾çš„å±‚æ¬¡ç»“æ„æ¥æå–æ–‡æœ¬ã€‚</ul></div></p></div><div class="ab cl kg kh hx ki" role="separator"><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl km"/><span class="kj bw bk kk kl"/></div><div class="im in io ip iq"><h2 id="f1e3" class="ll lm it bd ln lo lp dn lq lr ls dp lt ky lu lv lw lc lx ly lz lg ma mb mc md bi translated">Python ä»£ç </h2><p id="9a9e" class="pw-post-body-paragraph kn ko it kp b kq me ks kt ku mf kw kx ky mg la lb lc mh le lf lg mi li lj lk im bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥æ‰€éœ€çš„åº“ã€‚</p><pre class="nb nc nd ne gt nh ni nj nk aw nl bi"><span id="5c2b" class="ll lm it ni b gy nm nn l no np">from bs4 import BeautifulSoup<br/>import lxml<br/>import requests<br/>import pandas as pd<br/>import numpy as np</span></pre><p id="0df3" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">å¯¼å…¥çš„â€œrequestâ€åº“æœ‰ä¸€ä¸ª get()å‡½æ•°ï¼Œå®ƒå°†å‘ indeed.com æœåŠ¡å™¨è¯·æ±‚ URL çš„å†…å®¹ï¼Œå¹¶å°†æœåŠ¡å™¨çš„å“åº”å­˜å‚¨åœ¨â€œbase_urlâ€å˜é‡ä¸­ã€‚å¦‚æœæˆ‘ä»¬æ‰“å°â€œbase_urlâ€å˜é‡ï¼Œæˆ‘ä»¬å°†å®é™…çœ‹åˆ°é¡µé¢çš„æ•´ä¸ª HTMLã€‚</p><pre class="nb nc nd ne gt nh ni nj nk aw nl bi"><span id="fb3e" class="ll lm it ni b gy nm nn l no np">base_url = requests.get('<a class="ae kf" href="https://www.indeed.com/cmp/Google/reviews?fcountry=ALL&amp;start='" rel="noopener ugc nofollow" target="_blank">https://www.indeed.com/cmp/Google/reviews?fcountry=ALL&amp;start='</a>, timeout=5)</span><span id="4598" class="ll lm it ni b gy nq nn l no np">print(base_url.text)</span></pre><figure class="nb nc nd ne gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nr"><img src="../Images/10462758cd1d9c95dd23c19dc4fe2e6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CpwOSuG1jdhj0m_4-GG8-Q.png"/></div></div></figure><p id="a782" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">è®©æˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªåä¸ºâ€œparseâ€çš„å‡½æ•°ï¼Œå®ƒéœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°†æ˜¯æˆ‘ä»¬è¯•å›¾è§£æ/æŠ“å–çš„é¡µé¢çš„å®é™… URLã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ BeautifulSoup ç±»åˆ›å»ºå™¨æ¥è§£ææ‰€æä¾›ç½‘ç«™çš„å†…å®¹(HTML ä»£ç )ã€‚æˆ‘ä»¬å°†ä½¿ç”¨â€œlxmlâ€è§£æå™¨ï¼Œä»¥é˜² HTML æ ¼å¼ä¸å®Œç¾ã€‚æ›´å¤šå…³äº BeautifulSoup å¯ç”¨çš„ä¸åŒè§£æå™¨çš„ä¿¡æ¯ï¼Œè¯·è®¿é—®è¿™ä¸ª<a class="ae kf" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/#specifying-the-parser-to-use" rel="noopener ugc nofollow" target="_blank">é“¾æ¥</a>ã€‚</p><blockquote class="ns nt nu"><p id="80eb" class="kn ko nv kp b kq kr ks kt ku kv kw kx nw kz la lb nx ld le lf ny lh li lj lk im bi translated">è¯·è®°ä½ï¼Œç½‘ç«™é€šå¸¸ä¼šé€šè¿‡æ›´æ”¹å®¹å™¨ä¸­é¡¹ç›®çš„åç§°æˆ–çˆ¶/å­å…³ç³»æ¥è°ƒæ•´å…¶ HTML è„šæœ¬ã€‚è¿™äº›å˜åŒ–éœ€è¦ä½ è°ƒæ•´ä½ çš„èŒèƒ½ã€‚è¯¥å‡½æ•°äº 6 æœˆ 20 æ—¥è¿›è¡Œäº†è°ƒæ•´ï¼Œä»¥ä¿®å¤æ–°å®ç°çš„ indeed.com HTML è„šæœ¬</p></blockquote><pre class="nb nc nd ne gt nh ni nj nk aw nl bi"><span id="956d" class="ll lm it ni b gy nm nn l no np">def parse(full_url):<br/>    <strong class="ni iu">page_content = BeautifulSoup(full_url.content, 'lxml')</strong><br/>    containers = page_content.findAll('div', <br/>                 {'class':'cmp-Review-container'})<br/>    df = pd.DataFrame(columns = <br/>         ['rating', 'rating_title',  'rating_description',<br/>                         'rating_pros', 'rating_cons'])<br/>    <br/>    for item in containers:<br/>        try:<br/>            rating = item.find('div', <br/>                     {'class': 'cmp-ReviewRating-text'})<br/>                     .text.replace('\n', '')<br/>        except:<br/>            rating = None<br/>        try:<br/>            rating_title = item.find('div', <br/>                           {'class': 'cmp-Review-title'})<br/>                           .text.replace('\n', '')<br/>        except:<br/>            rating_title = None<br/>        try:<br/>            rating_description = item.find('span', <br/>                                 {'itemprop': 'reviewBody'})<br/>                                 .text.replace('\r', '. ')<br/>        except:<br/>            rating_description = None<br/>        try:<br/>            rating_pros = item.find('div', <br/>                          {'class': 'cmp-ReviewProsCons-prosText'})<br/>                          .text.replace('\n', '')<br/>        except:<br/>            rating_pros = None<br/>        try:<br/>            rating_cons = item.find('div', <br/>                          {'class': 'cmp-ReviewProsCons-consText'})<br/>                          .text.replace('\n', '')<br/>        except:<br/>            rating_cons = None<br/>        df = df.append({'rating': rating, <br/>             'rating_title': rating_title, <br/>             'rating_description': rating_description,<br/>             'rating_pros': rating_pros, <br/>             'rating_cons': rating_cons}, ignore_index=True)<br/>    return df</span></pre><p id="a125" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ›´ä»”ç»†åœ°æ£€æŸ¥ HTML ä»¥è¯†åˆ«å“ªä¸ªæ ¹å®¹å™¨(å³å“ªä¸ªçˆ¶æ ‡ç­¾)å®¹çº³åŒ…å«æˆ‘ä»¬è¦æŠ“å–çš„ä¿¡æ¯çš„å­/åµŒå¥—æ ‡ç­¾ã€‚è®©æˆ‘ä»¬å¯¼èˆªåˆ°â€œ<a class="ae kf" href="https://www.indeed.com/cmp/Google/reviews?fcountry=ALL&amp;start=" rel="noopener ugc nofollow" target="_blank">https://www.indeed.com/cmp/Google/reviews?fcountry=ALL&amp;start =</a>â€ï¼Œå› ä¸ºæˆ‘ä»¬å°†æ”¶é›†å‘˜å·¥å¯¹è°·æ­Œçš„è¯„è®ºã€‚æ‰“å¼€æ‚¨çš„å¼€å‘å·¥å…·ï¼Œè§‚å¯Ÿç½‘ç«™çš„ HTMLã€‚è¯·æ³¨æ„ï¼Œä¸€æ—¦æ‚¨è®¿é—®äº†ç½‘ç«™çš„ HTMLï¼Œåœ¨ç½‘ç«™ä¸Šç§»åŠ¨é¼ æ ‡å…‰æ ‡ä¼šå¯¼è‡´ç‰¹å®šåŒºåŸŸé«˜äº®æ˜¾ç¤ºï¼Œå¹¶ä¸” HTML ä¼¼ä¹ä¼šéšç€æ‚¨ç§»åŠ¨å…‰æ ‡è€Œæ”¹å˜ã€‚å½“æ‚¨ç§»åŠ¨å…‰æ ‡æ—¶ï¼Œæ‚¨çš„å¼€å‘è€…å·¥å…·ä¼šè‡ªåŠ¨å°†æ‚¨å¸¦åˆ°ç½‘é¡µä¸Šçªå‡ºæ˜¾ç¤ºéƒ¨åˆ†çš„ HTML éƒ¨åˆ†ã€‚è¿™éå¸¸æœ‰å¸®åŠ©ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè¯†åˆ« HTML ä»£ç ä¸­éœ€è¦æ›´è¯¦ç»†æ£€æŸ¥çš„éƒ¨åˆ†ã€‚</p><p id="c7a4" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">å¦‚æœæ‚¨è¿˜è®°å¾—ï¼Œåœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ„Ÿå…´è¶£çš„æ˜¯æ”¶é›†å‘˜å·¥çš„æ€»ä½“è¯„åˆ†ã€è€ƒæ ¸æ ‡é¢˜ã€è€ƒæ ¸æè¿°ã€ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚æˆ‘ä»¬éœ€è¦è¯†åˆ«å“ªä¸ª HTML æ ‡ç­¾æ˜¯æ‰€æœ‰è¿™äº›ä¿¡æ¯çš„å®¹å™¨æˆ–å®¶ã€‚é€šè¿‡å°†é¼ æ ‡å…‰æ ‡ç§»åŠ¨åˆ°é€‚å½“çš„ä½ç½®ï¼Œæˆ‘ä»¬çœ‹åˆ°æ‰€æœ‰æˆ‘ä»¬æƒ³è¦æŠ“å–çš„ä¿¡æ¯éƒ½æ•´é½åœ°åŒ…å«åœ¨ä¸€ä¸ªæ ¹å…ƒç´ ä¸­ã€‚é€šè¿‡æ£€æŸ¥ä¸‹é¢çš„ HTMLï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°â€œ<div tag="" contains="" all="" the="" information="" we="" need="" in="" a="" class="" attribute="" named="">â€ç°åœ¨ç§»åŠ¨åˆ°ä¸€ä¸ªä¸åŒçš„è¯„è®ºï¼Œæ‚¨å°†çœ‹åˆ°åä¸ºâ€œcmp-Review-containerâ€çš„åŒä¸€ä¸ªç±»å±æ€§ï¼Œå®ƒå­˜å‚¨è¯¥è¯„è®ºçš„æ•°æ®ã€‚</div></p><figure class="nb nc nd ne gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nz"><img src="../Images/d87b3c7e8019256a542e48016809b696.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GSogik7Fj6y8dI2PB2ip4g.png"/></div></div></figure><p id="56bf" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">å› æ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨â€œfindall()â€æ–¹æ³•æå–æ‰€æœ‰å…·æœ‰â€œcmp-Review-containerâ€ç±»å±æ€§çš„â€œdivâ€å®¹å™¨ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸ºâ€œdfâ€çš„ç©º pandas æ•°æ®å¸§ï¼Œæˆ‘ä»¬å°†æŠŠæŠ“å–çš„æ•°æ®è¿½åŠ åˆ°è¯¥æ•°æ®å¸§ä¸­ã€‚</p><pre class="nb nc nd ne gt nh ni nj nk aw nl bi"><span id="f6aa" class="ll lm it ni b gy nm nn l no np">def parse(full_url):<br/>    page_content = BeautifulSoup(full_url.content, 'lxml')<br/>    <strong class="ni iu">containers = page_content.findAll('div', <br/>                 {'class':'cmp-Review-container'})<br/>    df = pd.DataFrame(columns = <br/>         ['rating', 'rating_title',  'rating_description',<br/>                         'rating_pros', 'rating_cons'])</strong><br/>    <br/>    for item in containers:        <br/>        try:<br/>            rating = item.find('div', <br/>                     {'class': 'cmp-ReviewRating-text'})<br/>                     .text.replace('\n', '')<br/>        except:<br/>            rating = None<br/>        try:<br/>            rating_title = item.find('div', <br/>                           {'class': 'cmp-Review-title'})<br/>                           .text.replace('\n', '')<br/>        except:<br/>            rating_title = None<br/>        try:<br/>            rating_description = item.find('span', <br/>                                 {'itemprop': 'reviewBody'})<br/>                                 .text.replace('\r', '. ')<br/>        except:<br/>            rating_description = None<br/>        try:<br/>            rating_pros = item.find('div', <br/>                          {'class': 'cmp-ReviewProsCons-prosText'})<br/>                          .text.replace('\n', '')<br/>        except:<br/>            rating_pros = None<br/>        try:<br/>            rating_cons = item.find('div', <br/>                          {'class': 'cmp-ReviewProsCons-consText'})<br/>                          .text.replace('\n', '')<br/>        except:<br/>            rating_cons = None<br/>        df = df.append({'rating': rating, <br/>             'rating_title': rating_title, <br/>             'rating_description': rating_description,<br/>             'rating_pros': rating_pros, <br/>             'rating_cons': rating_cons}, ignore_index=True)<br/>    return df</span></pre><p id="5a96" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">æ—¢ç„¶æˆ‘ä»¬å·²ç»ä¸ºæ‰€æœ‰æƒ³è¦æŠ“å–çš„æ•°æ®ç¡®å®šäº†å®¹å™¨ï¼Œé‚£ä¹ˆè®©æˆ‘ä»¬æ›´æ·±å…¥åœ°ç ”ç©¶ HTMLï¼Œä»¥ç¡®å®šåŒ…å«å®é™…æ•°æ®çš„å…ƒç´ ã€‚é¦–å…ˆï¼Œè¯„è®ºè¯„çº§å†æ¬¡ä½äºâ€œcmp-Review-containerâ€å®¹å™¨ä¸­ï¼Œä½†æ˜¯å‘ä¸‹é’»å‡ å±‚ï¼Œæˆ‘ä»¬ä¼šå‘ç°â€œ&lt; divâ€æ ‡è®°å…·æœ‰â€œcmp-ReviewRating-textâ€ç±»å±æ€§ï¼Œå®ƒå®é™…ä¸Šå­˜å‚¨äº†â€œ5.0â€è¯„çº§ã€‚è®©æˆ‘ä»¬è®°ä¸‹å­˜å‚¨è¿™äº›æ•°æ®çš„æ ‡ç­¾å’Œç±»å±æ€§ï¼Œå› ä¸ºä¸‹é¢çš„ python è„šæœ¬éœ€è¦è¿™äº›ä¿¡æ¯ã€‚æˆ‘ä»¬å¯¹å¸Œæœ›æå–çš„æ‰€æœ‰å‰©ä½™æ•°æ®é‡å¤è¯¥è¿‡ç¨‹ã€‚</p><figure class="nb nc nd ne gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oa"><img src="../Images/9f84238d96efc42f446690f3ba84665e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wQaqru6LhFlj4JQYonAkhw.png"/></div></div></figure><figure class="nb nc nd ne gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ob"><img src="../Images/eacc80d16df49d120a76debd32c44cec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wz_WDePupqjwDfiM78knOg.png"/></div></div></figure><blockquote class="oc"><p id="e5b8" class="od oe it bd of og oh oi oj ok ol lk dk translated">è¿™æ˜¯å¯¹ä½ çš„æŒ‘æˆ˜ã€‚ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ç”¨(")æ›¿æ¢å›è½¦(" \r "))ä¸ºæˆ‘ä»¬è¯„åˆ† _ æè¿°ï¼Ÿæç¤º:æ ‡é¢˜ä¸ºâ€œå·¥ä½œç¯å¢ƒæ£’â€å’Œâ€œå·¥ä½œç¯å¢ƒå¥½â€çš„è¯„è®ºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåœ¨ä¸‹é¢çš„è¯„è®ºä¸­å‘è¡¨ä½ çš„ç­”æ¡ˆå§ï¼ğŸ˜‰</p></blockquote><p id="ba05" class="pw-post-body-paragraph kn ko it kp b kq om ks kt ku on kw kx ky oo la lb lc op le lf lg oq li lj lk im bi translated">ä¸€æ—¦æˆ‘ä»¬ä¸ºæ•°æ®ç¡®å®šäº†åˆé€‚çš„æ ‡ç­¾ï¼Œè®©æˆ‘ä»¬æŠŠæ³¨æ„åŠ›è½¬å›åˆ° python ä»£ç ä¸Šã€‚æˆ‘ä»¬å¯ä»¥åœ¨ for å¾ªç¯ä¸­ä½¿ç”¨ try/except å—ï¼Œé€šè¿‡ find()æ–¹æ³•åœ¨å®¹å™¨ä¸­æœç´¢å·²è¯†åˆ«çš„æ ‡ç­¾ã€‚æˆ‘ä»¬ä½¿ç”¨ find()è€Œä¸æ˜¯ findall()ï¼Œå› ä¸ºæˆ‘ä»¬åªå¸Œæœ›è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº† for å¾ªç¯ã€‚æœ€åï¼Œæˆ‘ä»¬å°†æŠ“å–çš„æ•°æ®è¿½åŠ å›ä¹‹å‰åˆ›å»ºçš„ç©ºæ•°æ®å¸§ä¸­ã€‚</p><pre class="nb nc nd ne gt nh ni nj nk aw nl bi"><span id="d622" class="ll lm it ni b gy nm nn l no np">def parse(full_url):<br/>    page_content = BeautifulSoup(full_url.content, 'lxml')<br/>    containers = page_content.findAll('div', <br/>                 {'class':'cmp-Review-container'})<br/>    df = pd.DataFrame(columns = <br/>         ['rating', 'rating_title',  'rating_description',<br/>                         'rating_pros', 'rating_cons']<strong class="ni iu">)</strong><br/>    <br/>    for item in containers:        <br/>        try:<br/>            <strong class="ni iu">rating = item.find('div', <br/>                     {'class': 'cmp-ReviewRating-text'})<br/>                     .text.replace('\n', '')</strong><br/>        except:<br/>            rating = None<br/>        try:<br/>            <strong class="ni iu">rating_title = item.find('div', <br/>                           {'class': 'cmp-Review-title'})<br/>                           .text.replace('\n', '')</strong><br/>        except:<br/>            rating_title = None<br/>        try:<br/>            <strong class="ni iu">rating_description = item.find('span', <br/>                                 {'itemprop': 'reviewBody'})<br/>                                 .text.replace('\r', '. ')</strong><br/>        except:<br/>            rating_description = None<br/>        try:<br/>            <strong class="ni iu">rating_pros = item.find('div', <br/>                          {'class': 'cmp-ReviewProsCons-prosText'})<br/>                          .text.replace('\n', '')</strong><br/>        except:<br/>            rating_pros = None<br/>        try:<br/>            <strong class="ni iu">rating_cons = item.find('div', <br/>                          {'class': 'cmp-ReviewProsCons-consText'})<br/>                          .text.replace('\n', '')</strong><br/>        <strong class="ni iu">except:<br/>            rating_cons = None<br/>        df = df.append({'rating': rating, <br/>             'rating_title': rating_title, <br/>             'rating_description': rating_description,<br/>             'rating_pros': rating_pros, <br/>             'rating_cons': rating_cons}, ignore_index=True)</strong><br/>    return df</span></pre><p id="1586" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">æˆ‘ä»¬è¿˜æ²¡æœ‰å®Œæˆï¼Œå› ä¸ºå¦‚æœæ‚¨è¦æ‰§è¡Œâ€œparse()â€å‡½æ•°ï¼Œæ‚¨å°†è·å¾—ä¸€ä¸ªåªæœ‰ 20 æ¡è®°å½•çš„æ•°æ®å¸§ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åªæŠ“å–äº†ä¸€é¡µã€‚</p><p id="0965" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">ä¸ºäº†æŠ“å–æ‰€æœ‰å‰©ä½™çš„è¯„è®ºé¡µé¢ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºæ•°æ®æ¡†æ¶ï¼Œåœ¨éå†æ‰€æœ‰é¡µé¢æ—¶æ”¶é›†æ‰€æœ‰çš„è¯„è®ºã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªè®¡æ•°å™¨å˜é‡ 20ï¼Œå› ä¸ºæ¯é¡µæœ‰ 20 æ¡è¯„è®ºã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª while-loopï¼Œå®ƒå°†è¿­ä»£ç›´åˆ°è¯„è®ºçš„æ•°é‡ç­‰äºæˆ–å¤§äº 4000ã€‚ä¸ºä»€ä¹ˆæ˜¯ 4000ï¼Ÿæ‰€æœ‰é¡µé¢ä¸Šæœ‰å°†è¿‘ 4000 æ¡ä¸ªäººè¯„è®º(åœ¨æ’°å†™æœ¬æ–‡æ—¶)ã€‚æ¥ä¸‹æ¥ï¼Œå½“ while å¾ªç¯éå†æ¯ä¸ªé¡µé¢æ—¶ï¼Œæˆ‘ä»¬åœ¨ base_url çš„æœ«å°¾æ·»åŠ å¢é‡ 20ã€‚åœ¨ base_url çš„æœ«å°¾å¢åŠ  20 å°†ä¸ºæ‚¨å¸Œæœ›è®¿é—®çš„é¡µé¢åˆ›å»ºä¸€ä¸ªæ–°çš„ urlã€‚ä¾‹å¦‚ï¼Œâ€œ<a class="ae kf" href="https://www.indeed.com/cmp/Google/reviews?fcountry=ALL&amp;start=" rel="noopener ugc nofollow" target="_blank">https://www.indeed.com/cmp/Google/reviews?fcountry=ALL&amp;start =</a>40â€å°†æŠŠæˆ‘ä»¬å¸¦åˆ°è¯„è®ºçš„ç¬¬äºŒé¡µã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¬¡è¯·æ±‚å¹¶è·å– while å¾ªç¯æ­£åœ¨è¿­ä»£çš„é¡µé¢çš„æ•´ä¸ª HTMLã€‚æˆ‘ä»¬åœ¨é¡µé¢ä¸Šåº”ç”¨ parse()å‡½æ•°ï¼Œå°†æ–°æŠ“å–çš„è¯„è®ºæ·»åŠ åˆ°æˆ‘ä»¬çš„æ•°æ®å¸§ä¸­ã€‚æœ€åï¼Œæˆ‘ä»¬å°†è®¡æ•°å™¨å¢åŠ  20ï¼Œä»¥ä¾¿ while å¾ªç¯åœ¨ä¸‹ä¸€é¡µä¸Šè¿­ä»£ã€‚</p><pre class="nb nc nd ne gt nh ni nj nk aw nl bi"><span id="107d" class="ll lm it ni b gy nm nn l no np">base_url = '<a class="ae kf" href="https://www.indeed.com/cmp/Google/reviews?fcountry=ALL&amp;start='" rel="noopener ugc nofollow" target="_blank">https://www.indeed.com/cmp/Google/reviews?fcountry=ALL&amp;start='</a></span><span id="290f" class="ll lm it ni b gy nq nn l no np">all_reviews_df = pd.DataFrame(columns = ['rating', 'rating_title', <br/>'rating_description','rating_pros', 'rating_cons'])</span><span id="cd28" class="ll lm it ni b gy nq nn l no np">num_reviews = 20</span><span id="a33c" class="ll lm it ni b gy nq nn l no np"># you can adjust this number on how many reviews you which to scrape<br/>while num_reviews &lt; 3000:  <br/>    <br/>    full_url = base_url + str(num_reviews)<br/>    <br/>    get_url = requests.get(full_url, timeout=5)  <br/>        <br/>    partial_reviews_df = parse(get_url)   </span><span id="3297" class="ll lm it ni b gy nq nn l no np">    all_reviews_df = all_reviews_df.append(<br/>                     partial_reviews_df, ignore_index=True) <br/>    <br/>    num_reviews += 20</span></pre><figure class="nb nc nd ne gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi or"><img src="../Images/8b69c19fd72a886ffda14f293825f013.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VR68Ow2m0JiMazUoo_cWrA.png"/></div></div></figure><p id="3119" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">å‰©ä¸‹è¦åšçš„å°±æ˜¯å°†æˆ‘ä»¬çš„æ•°æ®å¸§ç§»åŠ¨åˆ°ä¸€ä¸ª csv æ–‡ä»¶ä¸­ã€‚</p><pre class="nb nc nd ne gt nh ni nj nk aw nl bi"><span id="46a5" class="ll lm it ni b gy nm nn l no np">all_reviews_df.to_csv('indeed_scrape.csv')</span></pre><p id="0f57" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">æˆ‘å¸Œæœ›ä½ å–œæ¬¢è¿™ä¸ªæ•™ç¨‹ã€‚æˆ‘å–œæ¬¢ä½ çš„åé¦ˆï¼Œæ¬¢è¿åœ¨ä¸‹é¢è¯„è®ºã€‚</p><p id="9f0c" class="pw-post-body-paragraph kn ko it kp b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">åˆ«å¿˜äº†æŒ‘æˆ˜ï¼</p><h1 id="a883" class="mj lm it bd ln mk ml mm lq mn mo mp lt mq mr ms lw mt mu mv lz mw mx my mc mz bi translated">è°¢è°¢ï¼</h1></div></div>    
</body>
</html>