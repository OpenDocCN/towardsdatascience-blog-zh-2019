<html>
<head>
<title>Asynchronous Workflows in Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学中的异步工作流</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/asynchronous-workflows-in-data-science-25764c52f81a?source=collection_archive---------26-----------------------#2019-05-31">https://towardsdatascience.com/asynchronous-workflows-in-data-science-25764c52f81a?source=collection_archive---------26-----------------------#2019-05-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/5351184f2d8619c0f2ecd75c24fb6d34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*itpAdE6O7ldkLqBqvW2ZTA.jpeg"/></div></div></figure><p id="69f6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对各地的数据科学家来说，毫无意义地盯着实时日志并等待奇迹发生是一种巨大的时间浪费。相反，应该努力实现异步工作流。在本文中，我们定义了异步工作流，指出了一些障碍，并最终引导您阅读下一篇文章，了解 Jupyter 笔记本中的一个实际例子。</p><h1 id="7916" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">什么是同步工作流？</h1><p id="5506" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">在我们谈论异步工作流之前，我们必须定义同步工作流。同步工作流是创建和测试的迭代循环，在任何时候都只有一个或另一个在进行。例如在软件开发中，你写代码，测试它，然后写更多的代码，然后测试这些代码，写更多的代码，再次测试，编码，测试，编码，测试，编码…重复直到 IPO。简单！</p><p id="c5e7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">同步工作流经常如此根深蒂固地存在于我们的做事方式中，以至于我们甚至没有意识到它是一件事情。这也是为什么它经常不被质疑的原因。很难质疑你甚至没有意识到存在的东西。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/d7d037f139cdb01cc74d6c817f179937.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pv36xz0I50pE6UNk.jpg"/></div></div></figure><p id="d139" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">虽然软件开发和机器学习的周期是一样的，但我们可以看到它们之间有巨大的差异。</p><p id="7691" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在软件开发中，你通常会很快得到结果。想象一下改变一个网页表单的布局或者你的手机游戏的物理公式。与编写代码所花的时间相比，测试结果所花的时间可能微不足道。另一方面，在机器学习中，情况正好相反。改变几个超参数的时间，比起看到训练结果的时间，往往只是一眨眼的功夫。</p><blockquote class="mh mi mj"><p id="51c4" class="kb kc mk kd b ke kf kg kh ki kj kk kl ml kn ko kp mm kr ks kt mn kv kw kx ky im bi translated">衡量成功的真正标准是能在 24 小时内完成的实验数量。</p><p id="73f3" class="kb kc mk kd b ke kf kg kh ki kj kk kl ml kn ko kp mm kr ks kt mn kv kw kx ky im bi translated">~托马斯·A·爱迪生</p></blockquote><p id="d66b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果我们从上面看我们的机器学习时间线，并想象它是 24 小时，很明显我们没有将许多实验挤进去。等待训练结果是在吃我们的大部分时间。幸运的是，编码和等待之间有一个重要的区别:</p><p id="461d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一个人一次只能编写一个东西，却要等待无限的测试。</p><p id="aec6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这就是我们所说的异步工作流。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/eabced25234484c8336e47499db6acae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*N--7bSUrEVnBKScD.jpg"/></div></div></figure><p id="c3b7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当您创建一个模型并开始训练它时，重点不是喝杯咖啡，然后盯着输出日志的深渊几个小时。相反，在前一个实验还在运行的时候，同时开始另一个实验。这就是机器学习的异步工作流。</p><h1 id="fd05" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">为什么我们不这样做？</h1><p id="f9c7" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">为什么人们仍然坚持同步周期，而它显然不是最优的？有几个常见的原因:</p><h1 id="7a65" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">缺少工具</h1><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/17dfd92de9b4703ffc1a1df25f01c6b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hVnG8aLrYN8fso_Q.jpg"/></div></div></figure><p id="b5c5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">大部分工具还是软件工程师为软件工程师做的。在软件工程中，同步工作流是标准。写一些代码，按下“播放”，等待结果。如果该工具的核心设计理念是同步的，那么工作流最终也会同步也就不足为奇了。</p><h1 id="0ee3" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">害怕失去工作</h1><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/7046a10cc25350ba983e621ff8506abd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gSXwDOAgSC4DntJL.jpg"/></div></div></figure><p id="9153" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当一个人开始分支很多，并行运行几十件事情时，就会增加精神混乱，害怕失去工作或点击错误的东西。毕竟，一次只做一件事感觉更直接、更安全。</p><h1 id="d368" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">太专业了</h1><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/9e58dba6b6525d3a83d305635b87b965.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Mz4o130ZBRk2INsP.jpg"/></div></div></figure><p id="006e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在某些情况下，实际上更喜欢异步工作的人做不到。这需要额外的技能，如设置服务器或编写大量的粘合代码，因此他们被迫退回到默认的同步工作流。</p><h1 id="c278" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">是什么让我们这么做？</h1><p id="20a7" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">假设我们知道异步工作流是一种可行的方式，并且已经列出了一些常见的障碍，那么对一种工具的要求是什么呢？</p><h1 id="f687" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">简单的工具</h1><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/4bec5a703a8037a20e4fea44c3da42be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KvWHvalEGAs3mzKp.jpg"/></div></div></figure><p id="33f8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">该工具需要像同步“竞争者”一样简单。想象一下，你有两个选择来选择一个你每天都要使用的工具。你很可能选择更容易的，即使你知道更难使用的会更好。例如，如果启动一个新的测试对于同步工具来说只是一次点击，那么对于异步工具来说就不能是三次点击和一个 CLI 命令。一天重复 30 次的痛苦会让你回到以前的生活方式。</p><h1 id="4e51" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">不具侵入性</h1><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/0b91af24b714b4541e8997fef7befe37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XRDA-qo9wOcn1_W3.jpg"/></div></div></figure><p id="a7a3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从一个分支到几十个平行分支的转变伴随着认知负荷的增加。仅仅因为一直盯着您的现场测试的输出日志不是最佳的，这并不意味着您不应该不时地偷看一下。另一方面，当你试图编码时，你也不能有一个持续不断的通知消息流或者在你的屏幕上有一打闪烁的灯。一个好的异步工具应该退居二线，并且非常小心地平衡你的注意力。</p><h1 id="a1d6" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">安全的</h1><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mc"><img src="../Images/253507223f2117f1d9fadb8ae436c7f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NKFSmcqkwWyzngD5.jpg"/></div></div></figure><p id="e93c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">多个同时分支的混乱局面给记账带来了更大的压力。如果工具不能以一种安全、直接和透明的方式组织和控制雪崩式的测试和实验，你最终会丢失工作或者在这个过程中犯认知错误。</p><h1 id="e993" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">完美的工具存在吗？</h1><p id="71b1" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">Valohai 是一个机器学习平台，它可以帮助您在云中执行按需实验，并具有完全的版本控制。我们已经开发了一个<a class="ae mo" href="https://get.valohai.com/jupyter-notebook-version-control" rel="noopener ugc nofollow" target="_blank"> Jupyter 笔记本扩展</a>,它被专门优化来提供本文中描述的平滑异步工作流。<a class="ae mo" href="https://blog.valohai.com/valohai-jupyter-notebook-extension" rel="noopener ugc nofollow" target="_blank">在下一篇博文中，我们将向你展示 Valohai 的 Jupyter 笔记本扩展在实践中是如何工作的</a>。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><p id="c8d6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">【https://blog.valohai.com】最初发表于<a class="ae mo" href="https://blog.valohai.com/asynchronous-workflows-in-data-science" rel="noopener ugc nofollow" target="_blank"><em class="mk"/></a><em class="mk">。</em></p></div></div>    
</body>
</html>