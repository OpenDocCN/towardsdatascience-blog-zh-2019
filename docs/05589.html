<html>
<head>
<title>P-Value In Action: Is It Safe to Say That Parallax Correction Really Improve The Accuracy of Satellite Rain Estimation Algorithm?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">p 值在起作用:可以肯定地说视差校正真的提高了卫星雨估计算法的精度吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/p-value-in-action-is-it-safe-to-say-that-parallax-correction-really-improve-the-accuracy-of-1f388626d037?source=collection_archive---------20-----------------------#2019-08-16">https://towardsdatascience.com/p-value-in-action-is-it-safe-to-say-that-parallax-correction-really-improve-the-accuracy-of-1f388626d037?source=collection_archive---------20-----------------------#2019-08-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1f54ebaba7773d7b683cf3e150ee82c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rvd-bgDKaTF51cFLQji6RA.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">source: <a class="ae kc" href="https://planetary.s3.amazonaws.com/assets/images/spacecraft/2014/20140227_nasa_gpm.jpg" rel="noopener ugc nofollow" target="_blank">https://planetary.s3.amazonaws.com/assets/images/spacecraft/2014/20140227_nasa_gpm.jpg</a></figcaption></figure><p id="7b76" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">p 值到底是什么？我真的花了很长时间才搞清楚这个值的概念。根据我的经验，我认为了解 p 值的最佳方法是通过一个真实的例子。这就是为什么在这篇文章中，我将使用一个真实的例子来解释 p 值，我真的想证明这一点。但在此之前，我将解释一下关于<strong class="kf ir">另一个使 p 值相关的概念或理论，即零假设和正态分布</strong>。还将解释卫星降雨估计算法和视差校正的概念。</p><h2 id="dad5" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">虚假设</h2><p id="cc26" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">零假设是一个假设，暗示我们非常怀疑我们的假设<strong class="kf ir">又名魔鬼代言人</strong>。零假设的反义词是另一个假设，或者说我们的假设是正确的。因此，在这种情况下，我们的零假设是<strong class="kf ir">视差校正没有提高卫星雨估计算法</strong>的精度，而另一个假设是<strong class="kf ir">视差校正提高了卫星雨估计算法</strong>的精度。</p><h2 id="1bcb" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">正态分布</h2><p id="fee6" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在我个人的理解中，正态分布就是在任何常态下都会正常发生的<strong class="kf ir">分布。如果我们正在收集足够的数据，数据<strong class="kf ir">的直方图将会以数据</strong>的平均值为中心形成一个钟形。</strong></p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/36cda9df8f6d34b4fea97b5236e7d10e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/1*c6AhsQV0bCKpqj1fKm94Ug.gif"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">source: <a class="ae kc" href="https://www.statsdirect.com/help/resources/images/normalhistogram.gif" rel="noopener ugc nofollow" target="_blank">https://www.statsdirect.com/help/resources/images/normalhistogram.gif</a></figcaption></figure><p id="8bfb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正态分布<strong class="kf ir">有两个属性，均值(μ)和标准差(σ) </strong>。从一个经验实验来看，<strong class="kf ir">如果我们获取一个非常大的数据，并根据它制作一个直方图</strong>，它将向我们显示:</p><ul class=""><li id="028b" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">大约 68%的值落在平均值的一个标准偏差内。</li><li id="b9ad" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">大约 95%的值落在平均值的两个标准偏差范围内。</li><li id="2afd" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">大约 99.7% —在平均值的三个标准偏差范围内。</li></ul><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/0e8be733b024ad2b395374bc8a1836b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*L-qBtT9FYKZzBZfDtVn-9Q.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">source: <a class="ae kc" href="https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Empirical_rule_histogram.svg/450px-Empirical_rule_histogram.svg.png" rel="noopener ugc nofollow" target="_blank">https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Empirical_rule_histogram.svg/450px-Empirical_rule_histogram.svg.png</a></figcaption></figure><h2 id="8c9b" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">p 值</h2><p id="f072" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在正态分布中，超过 3σ如果您想知道数据的百分比，您可以使用此公式，其原理是考虑正态分布钟形曲线的形状:</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/ae17ab6f44c086a17daf921cfee27801.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*khKBTREu1HLTA5FA6KsNTw.png"/></div></figure><p id="58a7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就是 p 值的定义。在正态分布环境中，<strong class="kf ir"> p 值只是基于 z 值</strong>的钟形曲线中的一部分数据。z 值是在标准偏差单位中重新调整的真实数据的<strong class="kf ir">值。</strong></p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/dd5c026ccfd87b2fc5df3697ebf6c1a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:264/format:webp/1*ZCDnW--dQLQHl2lZBL_wPQ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">x is a real data</figcaption></figure><p id="5254" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，当您将数据转换为 z 值时，<strong class="kf ir">钟形曲线的中心不再是数据的平均值，而是零</strong>。现在，我们知道了 p 值的概念，但在没有实际例子的情况下仍然有些模糊。在我们开始真正的例子之前，我将稍微解释一下卫星的视差校正和卫星降雨估计算法。</p><h2 id="7387" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">卫星雨量估计算法</h2><p id="6557" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">这是一套算法，用来估计在气象卫星范围内某处的降雨量。气象卫星是一种捕捉地球上各种频率电磁波的卫星(所有温度高于 0 开尔文的物质实际上都在辐射各种频率的电磁波，这取决于该物质的温度)。从地球辐射出来的电磁波代表了地球的外部温度。<strong class="kf ir">当地球顶部是一朵云时，卫星实际上捕捉到了云的温度</strong>。但是当没有云的时候，它会捕捉陆地或海洋的温度(云的温度会比陆地或海洋冷)。</p><p id="44aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">气象卫星捕捉云层的能力被用来估计云层下面的降雨量</strong>。一种最简单的降雨量估算算法叫做自动估算器。基于这篇论文，我们可以根据这个公式来估算某个地区的降雨量。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/c27888c74e6ca1f37f9af35b5384be2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*DU902yinetghJxhJH4Xagg.png"/></div></figure><p id="299d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中 T 是卫星捕获的温度，基于红外通道<strong class="kf ir">。</strong></p><h2 id="9328" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">视差修正</h2><p id="3369" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">粗略地说，为了计算校正，我们需要<strong class="kf ir">大气递减率来估计云的高度、云相对卫星的位置以及观测云的卫星的倾斜角</strong>。为什么我们需要视差纠正？简而言之，地球的曲率使一切变得复杂，云不只是一些简单的扁平物体，它有高度，这些<strong class="kf ir">导致一切都变得有点错位</strong>。反正如果你想了解更多关于视差纠正的知识，可以<a class="ae kc" href="https://www.academia.edu/35505495/Teknis_Koreksi_Parallaks_Satelit_Himawari" rel="noopener ugc nofollow" target="_blank">查看这个参考文献</a>(印尼语)。作者是我工作单位的资深同事，他对气象卫星的估计算法和视差纠正非常有经验。事实上，我后来在实验中做视差纠正计算的那部分脚本就是来自于他。</p><h2 id="7a95" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">实验</h2><p id="8b42" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在这个实验中，我将把卫星的范围从一个区域限制到仅仅一个点。因为这个实验的验证是用雨量计。实验开始前，我们必须:</p><ol class=""><li id="6aad" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la mw mk ml mm bi translated">定义零假设，那就是"<strong class="kf ir">视差改正不提高卫星雨估计算法的精度"</strong>所以<strong class="kf ir">T3】另一个假设是<strong class="kf ir">"视差改正提高卫星雨估计算法的精度"。</strong></strong></li><li id="3c96" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mw mk ml mm bi translated">定义<strong class="kf ir">阿尔法值</strong>。常见的 alpha 值是 0.05 和 0.01，但实际上，这取决于您的实验。我不知道这个选择是否正确，但在这个实验中，我选择<strong class="kf ir"> 0.05 </strong>。</li></ol><p id="0527" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，也是最重要的，但在执行 p 值测试的义务之外，是我们如何进行计算，以确定修正后估计变得更好还是更差。很简单，首先我们<strong class="kf ir">计算自动估计器的估计值和自动估计器在雨量计</strong>校正后的估计值之间的差值的绝对值(真实数据)。如果<strong class="kf ir">值为正(&gt; 0)，估计的降雨量变得更好</strong>，否则，如果<strong class="kf ir">值为负(&lt; 0)，估计变得更差</strong>。</p><p id="2fea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在数据科学中，<strong class="kf ir">原始数据总是非常“脏”</strong>因此，我在这个实验中的全套脚本(用于清理和合并数据)充满了“幻数”，也就是一个非常有条件的常数，它只是为了这个实验而存在。所以在这里，我只是分享一个已经清理的数据和脚本来做自动估计计算和视差纠正。</p><p id="21c4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在这里下载<a class="ae kc" href="https://github.com/genomexyz/p-value_experiment/blob/master/alldatastat.xlsx" rel="noopener ugc nofollow" target="_blank">‘干净’的数据</a>。自动估算器和视差纠正脚本可以在这里下载<a class="ae kc" href="https://github.com/genomexyz/p-value_experiment/blob/master/AEcor.py" rel="noopener ugc nofollow" target="_blank">。自动估算器和视差脚本的输入是来自高知大学的 PGM 数据。下载一批数据的指令也可以在他们的网站上。</a></p><p id="e89e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我之前已经提到的干净数据中，我已经进行了获得 z 值 0 所需的所有计算，即<strong class="kf ir"> 0.5779751399 </strong>。这个值远远大于我们的 alpha 值。所以结果是<strong class="kf ir">我们不能拒绝零假设</strong>。我们不能消除我们的疑虑，说视差校正真的提高了自动估算器算法的准确性是不安全的。</p><p id="0dd9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们基于正态分布画出 0 及以下的 z 值，会得到如下图。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/81c3904da1f0c2967d21c964efcb32b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ephjJ4gfYnKe-0i7a3hurw.png"/></div></div></figure><p id="8d53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是制作上图的脚本。</p><pre class="ma mb mc md gt my mz na nb aw nc bi"><span id="03c4" class="lb lc iq mz b gy nd ne l nf ng">#!/usr/bin/python3</span><span id="d87b" class="lb lc iq mz b gy nh ne l nf ng">from scipy.stats import norm<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/></span><span id="d38d" class="lb lc iq mz b gy nh ne l nf ng">def draw_z_score(x, cond, mu, sigma, title):<br/> y = norm.pdf(x, mu, sigma)<br/> z = x[cond]<br/> plt.plot(x, y)<br/> plt.fill_between(z, 0, norm.pdf(z, mu, sigma))<br/> plt.title(title)<br/> plt.show()</span><span id="e5ab" class="lb lc iq mz b gy nh ne l nf ng">x = np.arange(-3,3,0.001)<br/>z0 = 0.577975139913483<br/>draw_z_score(x, x&lt;z0, 0, 1, 'z&lt;%s'%(str(z0)))</span></pre><p id="3884" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这就是实验的结论。你觉得怎么样？是我的脚本有错误还是计算视差修正的假设有错误。我已经提到脚本计算自动估计器和视差纠正之前，你可以阅读它，并告诉我，如果在计算中有错误。</p><h2 id="0673" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">参考:</h2><p id="8fee" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated"><a class="ae kc" href="https://www.statisticshowto.datasciencecentral.com/empirical-rule-2/" rel="noopener ugc nofollow" target="_blank">https://www . statistics show to . data science central . com/experimental-rule-2/</a>，2019 年 7 月 16 日访问</p><p id="09fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">https://www.statsdirect.com/help/distributions/normal.htm<a class="ae kc" href="https://www.statsdirect.com/help/distributions/normal.htm" rel="noopener ugc nofollow" target="_blank"/>，2019 年 7 月 16 日进入</p><p id="200f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">https://goodcalculators.com/p-value-calculator/<a class="ae kc" href="https://goodcalculators.com/p-value-calculator/" rel="noopener ugc nofollow" target="_blank">，2019 年 7 月 16 日接入</a></p><p id="d3d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://www.academia.edu/35505495/Teknis_Koreksi_Parallaks_Satelit_Himawari" rel="noopener ugc nofollow" target="_blank">https://www . academia . edu/35505495/tek NIS _ Kore ksi _ Parallaks _ Satelit _ hima wari</a>，2019 年 7 月 18 日访问</p><p id="cc47" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="http://weather.is.kochi-u.ac.jp/archive-e.html" rel="noopener ugc nofollow" target="_blank">http://weather.is.kochi-u.ac.jp/archive-e.html</a>，2019 年 8 月 16 日接入</p><p id="1145" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Rani、Nurhastuti Anjar、Aulia Khoir 和 Sausan Yulinda Afra。"使用基于 Himawari 8 卫星云顶温度的自动估算器进行的降水估算与旁卡平站的降水观测的比较."<em class="ni">可持续人类圈国际研讨会论文集</em>。2017.</p></div></div>    
</body>
</html>