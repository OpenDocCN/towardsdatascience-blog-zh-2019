<html>
<head>
<title>Recreating Gapminder Animation in 2 lines of Python with Plotly Express</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Plotly Express 用 2 行 Python 重新创建 Gapminder 动画</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/recreating-gapminder-animation-in-2-lines-of-python-with-plotly-express-2060c73bedec?source=collection_archive---------8-----------------------#2019-03-21">https://towardsdatascience.com/recreating-gapminder-animation-in-2-lines-of-python-with-plotly-express-2060c73bedec?source=collection_archive---------8-----------------------#2019-03-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jp jq jr js gh gi paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gh gi jo"><img src="../Images/ce029fe0b6d3bfe927acb84159cd2e27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KxX2N5w3CpPvXtQGIhfi_w.png"/></div></div></figure><blockquote class="jz ka kb"><p id="a7fd" class="kc kd ke kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">免责声明:使用了一个新模块<code class="fe lb lc ld le b">plotly_express</code>，Gapminder 动画没有使用 2 行代码从头开始编码</p></blockquote><p id="e24f" class="pw-post-body-paragraph kc kd iq kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">这是数据可视化的标志性时刻之一，当时汉斯·罗斯林在他的<a class="ae li" href="https://www.ted.com/talks/hans_rosling_shows_the_best_stats_you_ve_ever_seen" rel="noopener ugc nofollow" target="_blank"> ted 演讲</a>中展示了著名的 Gapminder 动画，这是有史以来观看次数最多的 TED 演讲之一。从那时起，它就像是任何进行可视化的人复制它以显示他们的数据可视化能力的基准——就像复制爱德华·塔夫特或内特·西尔弗的可视化作品一样。</p><p id="de00" class="pw-post-body-paragraph kc kd iq kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated"><a class="ae li" href="https://twitter.com/plotlygraphs/status/1108395986626494467" rel="noopener ugc nofollow" target="_blank">最近</a> <strong class="kf ir"> Plotly </strong>(以 R 和 Python 的交互式可视化 DSL 而闻名)推出了一个新的工具/模块/库，名为<strong class="kf ir"> Plotly Express </strong>。顾名思义，<code class="fe lb lc ld le b">plotly express</code>的主要目标是成为一个非常简单、快速和易于使用的高级 API 来构建交互式可视化。</p><p id="5752" class="pw-post-body-paragraph kc kd iq kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">更像这样，</p><blockquote class="lj"><p id="ac6b" class="lk ll iq bd lm ln lo lp lq lr ls la dk translated">plotly Express:plotly . py::Seaborn:Matplotlib</p></blockquote><p id="e529" class="pw-post-body-paragraph kc kd iq kf b kg lt ki kj kk lu km kn lf lv kq kr lg lw ku kv lh lx ky kz la ij bi translated">受 R 的<code class="fe lb lc ld le b">ggplot2</code>和 Python 的<code class="fe lb lc ld le b">seaborn</code>的启发，以简单为核心的<code class="fe lb lc ld le b">plotly express</code>试图在<code class="fe lb lc ld le b">one-liners</code>中做事。在这篇文章中，我们将看到如何仅仅使用<code class="fe lb lc ld le b">plotly express</code>来重现(如果不完全重现，至少类似于)标志性的 Gapminder 动画。</p><h2 id="11b4" class="ly lz iq bd ma mb mc dn md me mf dp mg lf mh mi mj lg mk ml mm lh mn mo mp mq bi translated">装置</h2><p id="be80" class="pw-post-body-paragraph kc kd iq kf b kg mr ki kj kk ms km kn lf mt kq kr lg mu ku kv lh mv ky kz la ij bi translated"><code class="fe lb lc ld le b">pip3 install plotly_express</code></p><h2 id="1a5c" class="ly lz iq bd ma mb mc dn md me mf dp mg lf mh mi mj lg mk ml mm lh mn mo mp mq bi translated">使用别名导入库:</h2><p id="1ea2" class="pw-post-body-paragraph kc kd iq kf b kg mr ki kj kk ms km kn lf mt kq kr lg mu ku kv lh mv ky kz la ij bi translated"><code class="fe lb lc ld le b">import plotly_express as px</code></p><h1 id="f34c" class="mw lz iq bd ma mx my mz md na nb nc mg nd ne nf mj ng nh ni mm nj nk nl mp nm bi translated">气泡图动画又名 Gapminder 动画</h1><pre class="nn no np nq gt nr le ns nt aw nu bi"><span id="9d51" class="ly lz iq le b gy nv nw l nx ny">px.scatter(px.data.gapminder(), x="gdpPercap", y="lifeExp", animation_frame="year", animation_group="country",<br/>           size="pop", color="country", hover_name="country", <br/>           log_x = True, <br/>           size_max=45, range_x=[100,100000], range_y=[25,90])</span></pre><p id="aa2a" class="pw-post-body-paragraph kc kd iq kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">这是一个非常简单的函数(我曾经见过这样的 Gapminder 动画)。函数<code class="fe lb lc ld le b">px.scatter() </code>从<code class="fe lb lc ld le b">px.data.gapminder()</code>获取数据，然后通常定义<code class="fe lb lc ld le b">x</code>和<code class="fe lb lc ld le b">y</code>轴以及每年递增的<code class="fe lb lc ld le b">animation_frame</code>。随着更多关于外观改进的讨论，动画泡泡图已经准备好了！</p><p id="bf7e" class="pw-post-body-paragraph kc kd iq kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated"><strong class="kf ir"> Plotly Express 教程视频构建 Gapminder 动画:</strong></p><figure class="nn no np nq gt js"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="3b5a" class="pw-post-body-paragraph kc kd iq kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated"><strong class="kf ir">鳍</strong></p><p id="025e" class="pw-post-body-paragraph kc kd iq kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">这篇文章的目的是传播关于<code class="fe lb lc ld le b">plotly_express</code>的信息，这是一个创造美丽的交互式可视化的惊人之举(也类似于 R 中的<code class="fe lb lc ld le b">highcharter</code>)。如果你想从总体上了解《T2》的剧情，可以去看看《数据营》。</p><h2 id="c776" class="ly lz iq bd ma mb mc dn md me mf dp mg lf mh mi mj lg mk ml mm lh mn mo mp mq bi translated">资源</h2><ul class=""><li id="6422" class="ob oc iq kf b kg mr kk ms lf od lg oe lh of la og oh oi oj bi translated"><a class="ae li" href="https://github.com/amrrs/blogpost_codes/blob/master/gapminder_animation_plotly_express.ipynb" rel="noopener ugc nofollow" target="_blank">本帖使用的完整代码</a></li><li id="0510" class="ob oc iq kf b kg ok kk ol lf om lg on lh oo la og oh oi oj bi translated"><a class="ae li" href="https://medium.com/@plotlygraphs/introducing-plotly-express-808df010143d" rel="noopener">非常全面地介绍了 Plotly Express </a></li><li id="89a2" class="ob oc iq kf b kg ok kk ol lf om lg on lh oo la og oh oi oj bi translated"><a class="ae li" href="https://plotly.github.io/plotly_express/" rel="noopener ugc nofollow" target="_blank"> Plotly 文档</a></li></ul></div></div>    
</body>
</html>