<html>
<head>
<title>Creating voice assistant for games (tutorial for FIFA)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为游戏创建语音助手(国际足联教程)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-voice-assistant-for-games-tutorial-for-fifa-71cfbe428bd1?source=collection_archive---------21-----------------------#2019-01-02">https://towardsdatascience.com/creating-voice-assistant-for-games-tutorial-for-fifa-71cfbe428bd1?source=collection_archive---------21-----------------------#2019-01-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="065a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用深度学习驱动的唤醒词检测引擎，通过语音命令玩游戏。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a01eac5c655cc903c85c85709f0c5d7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Q5CcVCyv6XB7ig6FOQQtEw.gif"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Enabling the “rainbow flick” skill in the game by giving voice command “flick right”.</figcaption></figure><p id="5b3a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">像亚马逊 Alexa 和谷歌 Home 这样的语音助手已经广泛流行，用于自动化和简化日常任务的执行。它们允许用户通过使用他们的声音快速完成事情，而不必通过他们的手机或电脑进行多次交互。</p><p id="30cc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它们越来越受欢迎，最近被广泛采用，这在很大程度上要归功于语音识别技术的进步，这是由深度学习的进步推动的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lu"><img src="../Images/a0f4cd4908c8e2d4067b5bf7248b6e3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YnGKBmT_1OyyVppAgAbZRA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Popular voice assistants: Amazon Echo, Anki Vector and Google Home Mini.</figcaption></figure><p id="21f6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我想探索我们如何利用这项技术，通过添加一种新的输入方法来配合传统的游戏手柄控制系统，从而改善我们的游戏体验。因此，我为足球/橄榄球模拟游戏 FIFA 创建了一个语音助手，它可以改变你的球队的战术，或者在比赛中表演技巧动作和庆祝进球，所有这些都只需要语音命令。</p><p id="4e2b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本教程中，我将介绍如何为 FIFA 重新创建相同的命令，但你也可以按照相同的步骤创建自己的自定义语音命令，并将其添加到任何你喜欢的游戏中！</p><h1 id="1d33" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">动机:我为什么选择国际足联？</h1><p id="d117" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">如果你像我一样多年来一直在玩国际足联，你会知道为了改变游戏中的战术你需要记住不同的组合键。要在游戏中改变阵型或替换球员，你需要暂停游戏并进入菜单，这打破了游戏的流程，变得非常烦人，尤其是在在线模式下。此外，对于不同的目标庆祝，需要记住更多的组合键，而你通常只能记住其中的几个。游戏技巧也是如此，给出了近百种不同的组合键来记忆。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/efd662f9c60f8c04f121a23f03e91071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*LeUSE5DDqaYH3J6aMACTvA.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">What if you could simply activate these skill moves by speaking out their names to a voice assistant without having to remember the 100 different key combinations?</figcaption></figure><p id="f4a1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们先来看看语音识别引擎在语音助手中是如何工作的。</p><h1 id="4da6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">语音识别算法是如何工作的？</h1><p id="868b" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">假设我们想要检测唤醒词“Okay EA”。</p><div class="kj kk kl km gt ab cb"><figure class="mt kn mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/d407d9b7be005a71264ff76bedaf52ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*kG14mWE2SpIcgOGHFUJz2g.png"/></div></figure><figure class="mt kn mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/77b88b4fad919d27056973203474df73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*zV1iOnLTdxsHTy5yLwGuyA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk mz di na nb">Converting raw audio to text using an RNN.</figcaption></figure></div><p id="d03b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们从麦克风捕捉原始音频，并将其转换为声音中不同频率频谱的可视化表示，称为声谱图。这是受人类的耳朵如何捕捉音频的启发。接下来，我们将该谱图的薄片作为连续时间步长馈送给递归神经网络模型。该模型被训练来预测在该时间范围内说出字符的可能性。将这样的可能性放在一个序列中给我们音频输入中所说的单词的文本形式，从而将语音转换为文本。</p><p id="8296" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将使用名为<a class="ae nc" href="https://github.com/Picovoice/Porcupine" rel="noopener ugc nofollow" target="_blank"> Porcupine </a>的库，该库声称利用这样的深度学习模型来执行对关键词的实时检测，我们可以使用这些关键词来识别语音命令。克隆下面的库，我们将使用它来创建自定义语音命令。</p><div class="nd ne gp gr nf ng"><a href="https://github.com/Picovoice/Porcupine" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd iu gy z fp nl fr fs nm fu fw is bi translated">皮科语音/豪猪</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">由深度学习支持的设备上唤醒词检测。-皮科语音/豪猪</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">github.com</p></div></div><div class="np l"><div class="nq l nr ns nt np nu ks ng"/></div></div></a></div><h1 id="4a63" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">辅导的</h1><p id="e00e" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">在本教程中，我将展示我们如何创建一个自定义的唤醒词(如“Alexa”或“Okay Google”)，然后发出命令在游戏中执行技能移动。</p><h2 id="53ed" class="nv lw it bd lx nw nx dn mb ny nz dp mf lh oa ob mh ll oc od mj lp oe of ml og bi translated">步骤 1:创建自定义语音命令</h2><p id="7e67" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">从克隆的 porcupine 存储库的主目录，在终端中运行以下命令，创建一个唤醒词检测文件来激活助手。我用的是“Okay EA”(因为 EA 是 FIFA 系列的发行商)。该命令生成的文件将存储在名为 output 的目录中。</p><pre class="kj kk kl km gt oh oi oj ok aw ol bi"><span id="282b" class="nv lw it oi b gy om on l oo op">tools/optimizer/windows/amd64/pv_porcupine_optimizer -r resources/ -w "Okay E A" -p windows -o output/</span></pre><p id="c089" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来，创建执行“彩虹轻弹”技能移动的命令。</p><pre class="kj kk kl km gt oh oi oj ok aw ol bi"><span id="2126" class="nv lw it oi b gy om on l oo op">tools/optimizer/windows/amd64/pv_porcupine_optimizer -r resources/ -w "flick right" -p windows -o output/</span></pre><p id="3370" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这会给我们两个<em class="oq">。输出目录中的 ppn </em>文件。</p><h2 id="beea" class="nv lw it bd lx nw nx dn mb ny nz dp mf lh oa ob mh ll oc od mj lp oe of ml og bi translated">步骤 2:设置豪猪检测引擎</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="or os l"/></div></figure><h2 id="1c4a" class="nv lw it bd lx nw nx dn mb ny nz dp mf lh oa ob mh ll oc od mj lp oe of ml og bi translated">步骤 3:从麦克风设置实时命令检测</h2><p id="7b4e" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">从<a class="ae nc" href="https://github.com/ChintanTrivedi/DeepGamingAI_FIFAVA/blob/master/directkeys.py" rel="noopener ugc nofollow" target="_blank">这里</a>下载帮助文件 directkeys.py。这个文件帮助模拟键盘按键，以便 python 脚本可以与游戏交互。然后，执行以下命令，在连续循环中检测关键字，并在检测到适当的命令时激活相关的技能移动。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="7cd8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请注意，第 38 行到第 48 行需要匹配游戏中执行技能移动所需的按键。您可以通过使用它们各自的组合键来添加更多这样的移动。</p><p id="99fb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这就是全部，你现在可以使用这个脚本来检测语音命令并激活游戏中的技能！在我的 GitHub 库下面找到更多支持动作的完整代码。</p><div class="nd ne gp gr nf ng"><a href="https://github.com/ChintanTrivedi/DeepGamingAI_FIFAVA" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd iu gy z fp nl fr fs nm fu fw is bi translated">ChintanTrivedi/DeepGamingAI _ FIFA va</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">国际足联(windows 平台)游戏的语音助手，用你的声音控制游戏动作。…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">github.com</p></div></div><div class="np l"><div class="ot l nr ns nt np nu ks ng"/></div></div></a></div><h1 id="926f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结果</h1><h2 id="415c" class="nv lw it bd lx nw nx dn mb ny nz dp mf lh oa ob mh ll oc od mj lp oe of ml og bi translated">进球庆祝:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/788f1c9db8c6f014896a124d6ffbc092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*W1tpCsOQcVKJlZv_bjvHug.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Using the command “work out” to perform a goal-scoring celebration.</figcaption></figure><h2 id="2ac0" class="nv lw it bd lx nw nx dn mb ny nz dp mf lh oa ob mh ll oc od mj lp oe of ml og bi translated">在比赛中改变战术:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/1116f5754bb82823e0452b8e54218639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*xWlnLatqGFbNxypVI06Nxw.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Using the command “high pressure” to change tactics of how the team plays the match.</figcaption></figure><p id="db96" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">更多这样的结果可以在我的<a class="ae nc" href="http://youtube.com/c/DeepGamingAI" rel="noopener ugc nofollow" target="_blank"> YouTube 频道</a>上找到，视频嵌在下面。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ou os l"/></div></figure><h2 id="8005" class="nv lw it bd lx nw nx dn mb ny nz dp mf lh oa ob mh ll oc od mj lp oe of ml og bi translated">结论</h2><p id="877d" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">如果 EA 能在未来的 FIFA 版本中加入这样的语音助手就太好了。发出类似于<em class="oq">“用佩德罗替换威利安”</em>或<em class="oq">“将阵型改为 4–4–2”</em>的命令，就可以立即看到比赛中的变化，而不必进入暂停菜单。此外，制作这样的语音助手可以简化游戏中的控制，并可以作为休闲游戏玩家的完美补充输入方法。</p><p id="cd16" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你们是怎么想的，是想用语音作为一种额外的输入方式来控制游戏，还是对现有的游戏手柄控制感到满意？下面让我知道！</p></div><div class="ab cl ov ow hx ox" role="separator"><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa pb"/><span class="oy bw bk oz pa"/></div><div class="im in io ip iq"><p id="ebc2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">感谢您的阅读。如果你喜欢这篇文章，请在<a class="ae nc" href="https://medium.com/@chintan.t93" rel="noopener">媒体</a>、<a class="ae nc" href="https://github.com/ChintanTrivedi" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上关注我，或者订阅我的<a class="ae nc" href="http://youtube.com/c/DeepGamingAI" rel="noopener ugc nofollow" target="_blank"> YouTube 频道</a>。哦，还有 2019 新年快乐！</p></div></div>    
</body>
</html>