<html>
<head>
<title>A Light Introduction to Text Analysis in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R 语言中的文本分析简介</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-light-introduction-to-text-analysis-in-r-ea291a9865a8?source=collection_archive---------6-----------------------#2019-05-03">https://towardsdatascience.com/a-light-introduction-to-text-analysis-in-r-ea291a9865a8?source=collection_archive---------6-----------------------#2019-05-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ced7" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用语料库、文档术语矩阵、情感分析等…</h2></div><h2 id="b6e4" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">介绍</h2><p id="5427" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">这是我在 r 中使用一些文本分析工具的第一个项目的快速浏览。这个项目的目标是探索文本分析的基础，如使用语料库、文档术语矩阵、情感分析等…</p><h2 id="6178" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">使用的包</strong></h2><ul class=""><li id="fc1f" class="lu lv iq ld b le lf lh li ko lw ks lx kw ly lt lz ma mb mc bi translated"><a class="ae md" href="https://cran.r-project.org/web/packages/tm/tm.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="ld ir"> <em class="me"> tm </em> </strong> </a></li><li id="fe0c" class="lu lv iq ld b le mf lh mg ko mh ks mi kw mj lt lz ma mb mc bi translated"><a class="ae md" href="https://cran.r-project.org/web/packages/SentimentAnalysis/SentimentAnalysis.pdf" rel="noopener ugc nofollow" target="_blank"><strong class="ld ir"><em class="me"/></strong></a></li><li id="cd7e" class="lu lv iq ld b le mf lh mg ko mh ks mi kw mj lt lz ma mb mc bi translated"><a class="ae md" href="https://cran.r-project.org/web/packages/syuzhet/syuzhet.pdf" rel="noopener ugc nofollow" target="_blank"><strong class="ld ir"><em class="me"/></strong></a></li><li id="3d3a" class="lu lv iq ld b le mf lh mg ko mh ks mi kw mj lt lz ma mb mc bi translated">其他:tidyverse，SnowballC，wordcloud，RColorBrewer，ggplot2，RCurl</li></ul><h2 id="2c53" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">快速查看数据源</h2><p id="9c6c" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">我使用了我最新的<a class="ae md" href="https://medium.com/@brianward1428/exploring-the-job-market-for-data-scientists-and-data-analysts-in-boston-new-york-and-9b3c32210334" rel="noopener"> <strong class="ld ir"> <em class="me">网络搜集项目</em> </strong> </a>中的职位描述。实际上，大约有 5300 个职位空缺。</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mk"><img src="../Images/31177d2df7b0a1638753f0a39b86e539.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3u73Mg9Dc1DWKGvllcbr8g.png"/></div></div></figure><p id="ae1f" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">我们将在这里集中讨论职位描述，因为它们包含了最多的文本和信息。让我们看看我们的第一份工作描述，看看我们在做什么。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="6ad6" class="kf kg iq nc b gy ng nh l ni nj">postings1$job_description[1]</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nk"><img src="../Images/15770009cd68ba5169f1b17963137059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iFzrwfeT-CqXm4p11kA3SA.png"/></div></div></figure><p id="c083" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">正如您所看到的，这是一个很大的字符串，包含了工作列表中的所有文本。</p><h2 id="8eb0" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">创建语料库</h2><p id="023c" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">语料库(corpora pl。)只是一种存储文本数据的格式，在整个语言学和文本分析中使用。它通常包含每个文档或文本集，以及一些帮助描述该文档的元属性。让我们使用 tm 包从我们的工作描述中创建一个语料库。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="370a" class="kf kg iq nc b gy ng nh l ni nj">corpus &lt;- SimpleCorpus(VectorSource(postings1$job_description))<br/># And lets see what we have<br/>view(corpus)</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nl"><img src="../Images/8bf7ced6cc04bb11428d53b99f0d50e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K_Qm5r1rvUfJrx8NaFREwA.png"/></div></div></figure><p id="7034" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">你可以看到我们最外面的列表是一个<strong class="ld ir">类型=列表</strong>，长度= 5299，这是我们拥有的工作描述(或文档)的总数。当我们查看列表中的第一项时，<strong class="ld ir"> [1]，</strong>，我们看到这也是一个<strong class="ld ir">类型=列表</strong>，长度= 2。如果我们看这两个项目，我们会看到有<strong class="ld ir">内容</strong>和<strong class="ld ir">元。内容</strong>属于<strong class="ld ir">类型=字符</strong>，包含字符串形式的工作描述文本。M <strong class="ld ir"> eta </strong>为<strong class="ld ir">类型=列表</strong>，长度为 7。这是自动添加到简单语料库中的 7 个元属性，即使我没有它们的任何值。</p><ol class=""><li id="bb81" class="lu lv iq ld b le mw lh mx ko nm ks nn kw no lt np ma mb mc bi translated">作者=空</li><li id="f15e" class="lu lv iq ld b le mf lh mg ko mh ks mi kw mj lt np ma mb mc bi translated">日期-时间戳=另一个列表…但是对于我的数据是空的</li><li id="1573" class="lu lv iq ld b le mf lh mg ko mh ks mi kw mj lt np ma mb mc bi translated">描述=空</li><li id="f60b" class="lu lv iq ld b le mf lh mg ko mh ks mi kw mj lt np ma mb mc bi translated">标题=空</li><li id="8e00" class="lu lv iq ld b le mf lh mg ko mh ks mi kw mj lt np ma mb mc bi translated">id = '1 '(由职位自动创建)</li><li id="2c23" class="lu lv iq ld b le mf lh mg ko mh ks mi kw mj lt np ma mb mc bi translated">language = 'en '(我假设是 tm 包的默认值)</li><li id="b255" class="lu lv iq ld b le mf lh mg ko mh ks mi kw mj lt np ma mb mc bi translated">原点=空。</li></ol><p id="3d51" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">现在你知道了。这是一个简单语料库的一般格式。请记住，您可以编辑元属性来包含您想要的任何内容。</p><h2 id="74b5" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">转换:清理我们的语料库</h2><p id="ccd4" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">tm 包中的转换指的是在进行任何分析之前，我们可能要对文本进行预处理或格式化。我们将执行 5 个快速转换，这将为我们的分析准备数据。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="e6cd" class="kf kg iq nc b gy ng nh l ni nj"># 1. Stripping any extra white space:<br/>dfCorpus &lt;- tm_map(dfCorpus, stripWhitespace)</span><span id="eb33" class="kf kg iq nc b gy nq nh l ni nj"># 2. Transforming everything to lowercase<br/>dfCorpus &lt;- tm_map(dfCorpus, content_transformer(tolower))</span><span id="97b7" class="kf kg iq nc b gy nq nh l ni nj"># 3. Removing numbers <br/>dfCorpus &lt;- tm_map(dfCorpus, removeNumbers)</span><span id="1108" class="kf kg iq nc b gy nq nh l ni nj"># 4. Removing punctuation<br/>dfCorpus &lt;- tm_map(dfCorpus, removePunctuation)</span><span id="b11f" class="kf kg iq nc b gy nq nh l ni nj"># 5. Removing stop words<br/>dfCorpus &lt;- tm_map(dfCorpus, removeWords, stopwords("english"))</span></pre><p id="6ecf" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">除了<strong class="ld ir">移除停用词</strong>功能，大多数转换都是自解释的。那到底是什么意思？停用词基本上只是被确定为对某些文本分析(如情感分析)没有什么价值的常用词。这是 tm 包将删除的停用词列表。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="9860" class="kf kg iq nc b gy ng nh l ni nj">stopwords(“english”)</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nr"><img src="../Images/cb20c5d3ba3e214bf28554a72b3d3f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jlKKwxrtxSXGQkent-3W2g.png"/></div></div></figure><p id="fd58" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">现在我们已经转换了我们的工作描述，让我们再看一下我们的第一个清单，看看有什么变化。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="15c9" class="kf kg iq nc b gy ng nh l ni nj">corpus[[1]]$content</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi ns"><img src="../Images/05bbec89ff36c94cea6f8f99b5f2320c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aupbn7gS53i835S4-_wJ0Q.png"/></div></div></figure><h2 id="05be" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">堵塞物</h2><p id="2f4b" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">词干提取是将单词压缩成共同词根的过程，这有助于词汇的比较和分析。tm 包使用<a class="ae md" href="https://tartarus.org/martin/PorterStemmer/" rel="noopener ugc nofollow" target="_blank"> <strong class="ld ir"> <em class="me">波特词干算法</em> </strong> </a>来完成这个任务。让我们继续干我们的数据。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="e95b" class="kf kg iq nc b gy ng nh l ni nj">dfCorpus &lt;- tm_map(dfCorpus, stemDocument)</span></pre><p id="c005" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">现在让我们最后一次看一下我们的工作描述，看看有什么不同。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="58cb" class="kf kg iq nc b gy ng nh l ni nj">corpus[[1]]$content</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nt"><img src="../Images/16a4446e672e989be4c970bb1d2ade28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sOAhFRbOTNO3ed1NsJsmTQ.png"/></div></div></figure><p id="6840" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">很好，现在所有的工作描述都被清理和简化了。</p><h2 id="04a3" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">创建文档术语矩阵(DTM)</h2><p id="9e0b" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">文档术语矩阵是比较每个文档中所有术语或单词的简单方法。如果你把数据简单地看成一个矩阵；每行代表一个唯一文档，每列代表一个唯一的术语。矩阵中的每个单元格都是该术语在文档中出现次数的整数。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="c16a" class="kf kg iq nc b gy ng nh l ni nj">DTM &lt;- DocumentTermMatrix(corpus)<br/>view(DTM)</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nu"><img src="../Images/281f1f45df9d9ff0aa5fe0a4c16783cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5laP4IiBLHwuKSbsJVolQ.png"/></div></div></figure><p id="517c" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">如你所见，DTM 实际上并不是作为矩阵存储在 R 中，而是属于<strong class="ld ir">类型= simple_triplet_matrix </strong>。这是一种更有效的存储数据的方式。你可以在这里  更好地了解它们是如何被格式化的<a class="ae md" href="https://www.rdocumentation.org/packages/slam/versions/0.1-45/topics/simple_triplet_matrix" rel="noopener ugc nofollow" target="_blank"> <strong class="ld ir"> <em class="me">。出于我们的目的，最好把它想成一个矩阵，我们可以用<code class="fe nv nw nx nc b">inspect()</code>函数看到它。</em></strong></a></p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="9279" class="kf kg iq nc b gy ng nh l ni nj">inspect(DTM)</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/b9729e3dbe18124a8abbd55bc0f90702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*eL7cYXejKR6pSEPBXOHfrw.png"/></div></figure><p id="397f" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">因此，我们可以看到我们有 5296 个文档<em class="me">(删除了三个 NA)</em>和 41735 个术语。我们还可以看到一个 DTM 样图。现在让我们来看看在所有的招聘启事中最常用的词是什么。</p><h2 id="ed31" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">创建最常用术语的词云</h2><p id="48a1" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">为此，我们首先要将 DTM 转换成一个矩阵，这样我们就可以对各列求和，从而得到所有文档的总术语数。然后，我可以在整个语料库中挑出前 75 个最常用的单词。</p><p id="47cb" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated"><strong class="ld ir"> <em class="me">注意:</em> </strong> <em class="me">我选择使用无词干版本的语料库，这样我们就有了单词 cloud 的完整单词。</em></p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="8655" class="kf kg iq nc b gy ng nh l ni nj">sums &lt;- as.data.frame(colSums(as.matrix(DTM)))<br/>sums &lt;- rownames_to_column(sums) <br/>colnames(sums) &lt;- c("term", "count")<br/>sums &lt;- arrange(sums, desc(count))<br/>head &lt;- sums[1:75,]</span><span id="1187" class="kf kg iq nc b gy nq nh l ni nj">wordcloud(words = head$term, freq = head$count, min.freq = 1000,<br/>  max.words=100, random.order=FALSE, rot.per=0.35, <br/>  colors=brewer.pal(8, "Dark2"))</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nz"><img src="../Images/4f1fe86981aa02fb73bded2b1311c4a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RNesEVOVxeiFbwH_d3fpkw.png"/></div></div></figure><p id="fd22" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">所以，这里没有什么太疯狂的，但我们可以很好地感受到这个工具有多强大。支持、学习、理解、沟通等术语可以帮助描绘出这些公司在候选人身上寻找什么。</p><h1 id="fe6e" class="oa kg iq bd kh ob oc od kk oe of og kn jw oh jx kr jz oi ka kv kc oj kd kz ok bi translated">情感分析</h1><blockquote class="ol"><p id="dd59" class="om on iq bd oo op oq or os ot ou lt dk translated">“情绪(名词) :对某事的总体感觉、态度或看法。”——剑桥英语词典</p></blockquote><p id="ca74" class="pw-post-body-paragraph lb lc iq ld b le ov jr lg lh ow ju lj ko ox ll lm ks oy lo lp kw oz lr ls lt ij bi translated">情感分析的目标很简单，但实现这一目标的过程却很复杂。桑杰·米娜有一篇很棒的介绍，值得一读:</p><div class="pa pb gp gr pc pd"><a href="https://medium.com/seek-blog/your-guide-to-sentiment-analysis-344d43d225a7" rel="noopener follow" target="_blank"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd ir gy z fp pi fr fs pj fu fw ip bi translated">你的情感分析指南</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">情感分析帮助你发现人们对你的产品或服务的看法、情感和感受</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">medium.com</p></div></div><div class="pm l"><div class="pn l po pp pq pm pr mu pd"/></div></div></a></div><p id="0b8e" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">我们将开始使用'<strong class="ld ir">sensitement analysis</strong>'包，使用<a class="ae md" href="http://www.wjh.harvard.edu/~inquirer/homecat.htm" rel="noopener ugc nofollow" target="_blank"><em class="me">Harvard-IV dictionary(General Inquirer)</em></a>做一个简单的极性分析，这是一个与积极(1915 个单词)或消极(2291 个单词)情绪相关的单词字典。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="913a" class="kf kg iq nc b gy ng nh l ni nj">sent &lt;- analyzeSentiment(DTM, language = "english")</span><span id="c122" class="kf kg iq nc b gy nq nh l ni nj"># were going to just select the Harvard-IV dictionary results ..  <br/>sent &lt;- sent[,1:4]</span><span id="5b57" class="kf kg iq nc b gy nq nh l ni nj">#Organizing it as a dataframe<br/>sent &lt;- as.data.frame(sent)</span><span id="4203" class="kf kg iq nc b gy nq nh l ni nj"># Now lets take a look at what these sentiment values look like. <br/>head(sent)</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi ps"><img src="../Images/dee9a2693a20493c349d3011d9ee1564.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JqDbQsIVJBISjMRbf46jbg.png"/></div></div></figure><p id="866c" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">如你所见，每份文件都有字数统计、消极得分、积极得分和总体情绪得分。让我们来看看我们整体情绪的分布。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="b89b" class="kf kg iq nc b gy ng nh l ni nj">summary(sent$SentimentGI)</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/80ced41dc2c5caa6d32c6247027a3c1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*F4Yrgb-MJwIv-sNGPKrzMw.png"/></div></figure><p id="3a4f" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">好的，总的来说，我们的工作描述是积极的。所有文件中的最低分是 0.0，所以看起来这些公司在写他们的职位描述方面做得很好。现在，为了好玩，让我们看看排名前五和后五的公司的情绪得分。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="5292" class="kf kg iq nc b gy ng nh l ni nj"># Start by attaching to other data which has the company names <br/>final &lt;- bind_cols(postings1, sent)</span><span id="ad47" class="kf kg iq nc b gy nq nh l ni nj"># now lets get the top 5 <br/>final %&gt;% group_by(company_name) %&gt;%<br/>  summarize(sent = mean(SentimentGI)) %&gt;%<br/>  arrange(desc(sent)) %&gt;%<br/>  head(n= 5)</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/59d8c836fcd48bc3e507e52dde24c321.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*QlvXC5hyD37oqikJTTPReA.png"/></div></figure><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="576e" class="kf kg iq nc b gy ng nh l ni nj"># And now lets get the bottom 5 <br/>final %&gt;% group_by(company_name) %&gt;%<br/>  summarize(sent = mean(SentimentGI)) %&gt;%<br/>  arrange(sent) %&gt;%<br/>  head(n= 5</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/87f58b04a3629b5ada32c0e8ec192f74.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*M3jAOzjZTJ0oGWPl1jOAGQ.png"/></div></figure><p id="ac78" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">就这样。现在，这显然不是一个很好的情感分析用例，但它是理解过程的一个很好的介绍。</p><h2 id="70eb" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">情感</h2><p id="2325" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">我们可以做的另一件有趣的事情是从工作描述中提取情感。我们将使用<a class="ae md" href="http://saifmohammad.com/WebPages/NRC-Emotion-Lexicon.htm" rel="noopener ugc nofollow" target="_blank"> <em class="me"> NRC 情感词典</em> </a>使用<a class="ae md" href="https://cran.r-project.org/web/packages/syuzhet/syuzhet.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="me"> syuzhet 包</em> </a>来完成这项工作，该词典将单词与相关情感以及积极或消极情感联系起来。</p><pre class="ml mm mn mo gt nb nc nd ne aw nf bi"><span id="85ad" class="kf kg iq nc b gy ng nh l ni nj">sent2 &lt;- get_nrc_sentiment(postings1$job_description)</span><span id="2285" class="kf kg iq nc b gy nq nh l ni nj"># Let's look at the corpus as a whole again:<br/>sent3 &lt;- as.data.frame(colSums(sent2))<br/>sent3 &lt;- rownames_to_column(sent3) <br/>colnames(sent3) &lt;- c("emotion", "count")</span><span id="7d20" class="kf kg iq nc b gy nq nh l ni nj">ggplot(sent3, aes(x = emotion, y = count, fill = emotion)) + geom_bar(stat = "identity") + theme_minimal() + theme(legend.position="none", panel.grid.major = element_blank()) + labs( x = "Emotion", y = "Total Count") + ggtitle("Sentiment of Job Descriptions") + theme(plot.title = element_text(hjust=0.5))</span></pre><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi pw"><img src="../Images/01214588829d86b483164261d67db224.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5-olG7mDV9-M6WDZQ4K4Ag.jpeg"/></div></div></figure><p id="3aae" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">太棒了。我们已经知道工作描述大多是积极的，但令人感兴趣的是看到更高价值的信任和期望。显而易见，这可以应用于其他类型的数据，如评论或评论，以将大量文本数据简化为快速洞察。</p></div><div class="ab cl px py hu pz" role="separator"><span class="qa bw bk qb qc qd"/><span class="qa bw bk qb qc qd"/><span class="qa bw bk qb qc"/></div><div class="ij ik il im in"><p id="cba3" class="pw-post-body-paragraph lb lc iq ld b le mw jr lg lh mx ju lj ko my ll lm ks mz lo lp kw na lr ls lt ij bi translated">感谢您的阅读，我希望这篇文章能够帮助其他初学者开始使用 R 的文本分析包。我很乐意听到任何问题或反馈，因为我自己也刚刚开始。</p></div></div>    
</body>
</html>