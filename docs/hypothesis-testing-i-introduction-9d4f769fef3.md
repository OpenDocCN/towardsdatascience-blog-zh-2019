# 假设检验——简介

> 原文：<https://towardsdatascience.com/hypothesis-testing-i-introduction-9d4f769fef3?source=collection_archive---------12----------------------->

假设是我们对数据的假设，这些数据可能是真的，也可能是假的。在本帖中，我们将讨论评估假设真实性的统计过程——这个过程被称为假设检验。

大多数统计分析起源于比较两种类型的分布:总体分布和样本分布。让我们通过一个例子来理解这些术语——假设我们想从统计上检验我们的假设，即平均而言，学生在标准能力倾向测试中的表现在过去十年中有所提高。我们得到了一个数据集，其中包含随机选择的 100 名学生在 2009 年和 2019 年考试中的分数(最高分数= 250)。根据这些信息，我们应该确定以下细节-

Q1。这个问题的总体和样本分布是什么？

Q2。我们应该如何从统计学上评估前述假设的正确性(或不正确性)？

第一个问题的答案在于我们可以收集多少数据来进行分析。理想情况下，我们应该有十年前和今年参加考试的所有学生(全国各地)的分数，以便进行公平的比较。但由于物理条件的限制，我们无法获得全国所有在 2009 年和 2019 年的能力倾向考试中出现的学生的数据(分数)。因此，我们使用每年的一些数据点(标记)来进行统计分析。因此，总体分布是指所有学生(2009 年和 20019 年合计)的分数分布，样本分布是总体分布的子集，包含较少(比如说 100 个)随机选择的学生的分数。通常情况下，我们无法获得总体分布，只能使用样本分布。

我们可以从总体分布中抽取多个样本，我们为我们的示例抽取了两个样本分布-第一个包含来自 2009 年数据的 100 名学生的分数，第二个包含来自 2019 年数据的 100 名学生的分数。让我们将未知总体分布正式表示为 P: μ，σ，n，已知样本分布如下:

![](img/737b9665df4bbd9745753e4532853451.png)

**Equation 1:** Two sample distributions for our example

下标中的数字是样本分布中相应年份的最后两位数字。对于每个分布，μ、σ和 n 分别代表它们的均值、标准差和样本大小(样本数)，这些参数的值可以从给定的数据中计算出来(总体分布除外)。第二个问题可以用如下三步假设检验程序来回答:

**第一步:建立假设**

从形式上来说，我们的假设*——平均而言，学生在标准能力倾向测试中的表现在过去十年中有所改善，*可以写成*——是这样的说法吗，*>μ₀₉*(比较平均值)*，*在统计上显著正确*？我们关于数据的假设被称为 ***研究假设*** *。*我们知道在数字上μ₁₉ > μ₀₉，但我们也知道 2019 年有学生的分数低于μ₀₉，因为σ₁₉ > σ₀₉，因此有必要问一问——研究假设的统计意义是什么？为了解决这样的问题，我们总是从一个 ***无效假设*** *，*开始，并且我们假设无效假设为真，直到被证明不是这样。对于我们的例子，零假设是学生在 2009 年和 2019 年的平均分数没有显著增加，也就是说，μ₁₉ = μ₀₉.根据给定的数据，我们可以计算出零假设正确的概率，如果这个概率非常低，那么我们应该拒绝零假设而支持研究假设，否则我们应该拒绝研究假设。我们将很快学习如何计算期望的概率，但现在我们应该对给定的数据建立如下假设:

![](img/b5295457ea8687effc06c3bed66de33e.png)

**Equation 2:** Setting up the hypothesis

**第二步:选择合适的检验统计量**

为此，我们可以撤销中心极限定理(CLT ),该定理规定样本分布的平均值的分布是正态分布，具有平均值μ和标准偏差σ/⎷n，即 Z(μ,σ/⎷n).你可以从我之前的[帖子](/understanding-the-central-limit-theorem-standard-error-and-confidence-intervals-7e20c674a51a)中读到更多关于中心极限定理的内容。虽然，我们没有获得 P: μ，σ，n，但是我们从 CLT 中知道μ₀₉和μ₁₉属于一个参数未知的正态分布。假设检验最棘手的部分来了，就是把μ₀₉和μ₁₉的值从一个不确定的正态 distribution,Z(μ,σ/⎷n，转换(或映射)到标准的正态分布，也就是 Z(0，1)。实际上，我们希望将 Z(μ,σ/⎷n).的μ₀₉和μ₁₉这两个点的平均值设置为零，并将标准偏差调整为 1 对于我们的假设，可以这样做:

![](img/9a07ba232f4a6eca2c91766d5fd40640.png)

**Equation 3:** Mapping our hypothesis to a standard normal distribution, Z(0,1)

即使在将值(μ₀₉和μ₁₉)映射到 Z(0，1)之后，未知量μ、σ和 n 仍然出现在我们的假设中。通过重新排列假设中的各项，我们可以很容易地去掉μ，如下所示:

![](img/64a7177edeabbec8d8796b0e8207a765.png)

**Equation 4:** Rearranging the terms in our hypothesis to get rid of the unknown μ

在**等式 4** 中求解我们假设的左侧，我们得到:

![](img/7ff9a6918f75b8978fc2a26355eb119c.png)

**Equation 5:** Hypothesis without the unknown μ

要去掉σ，就要用样本标准差最高的来代替。在我们的例子中，σ₁₉ > σ₀₉，所以我们将σ替换为σ₁₉，并在假设的分母中使用相应的 n₁₉。因此，根据已知的样本分布参数，我们的最终假设可以写成:

![](img/e7b6afe2b7d053777a0c62e954fbe358.png)

**Equation 6:** Our hypothesis in terms of the known sample distribution parameters

现在，我们可以将等式 1 至等式 6 中各个参数的值代入，以获得假设的数值。

![](img/aeb10d7558d299ee5928e7e1b34dc43d.png)

**Equation 7:** Numerical values of our hypothesis testing set up

***注意:*** *大家都知道方程 7 中数值上 2.4 大于 0，但请注意，假设检验不是数值比较问题，而是统计问题。这意味着我们在问 2.4 是否在统计意义上***大于 0(不仅仅是，2.4 是否大于 0？)?这里，z=2.4 是我们的测试统计量。**

*所谓统计显著，我们的意思是，如果我们选择多个独立的随机样本，每个样本 100 名学生，出现在我们 2019 年的能力倾向测试中，那么这些随机样本中的大多数随机样本具有 z > 2.4(隐含的意思是，μ₁₉ > μ₀₉).)的概率是多少我们的随机样本 S₁₉只包含一组 100 名学生，其平均值(μ₁₉)与μ₀₉的比较只给出一个检验统计量(z = 2.4)。但我们有兴趣测试一个普遍假设，即如果我们从 2019 年的数据中获得另一组 100 名学生(随机选择)的分数，那么新组的平均水平也高于μ₀₉.的可能性有多大这就是为什么我们测试 z > 2.4，而不是 z = 2.4。请注意，我强调了“大多数”，因为我们应该量化“大多数”在我们的统计假设检验问题中的含义，我们将在下一步中这样做。但是先来计算 z > 2.4 的概率，也就是 p(z > 2.4)，从标准正态分布的[表](https://www.math.arizona.edu/~rsims/ma464/standardnormaltable.pdf)中，Z(0，1)。在 z = -2.4 处(钟形曲线是对称的，所以-2.4 和 2.4 处的值相等)，我们得到 **p(z > 2.4) = 0.0082** 。*

*你也可以用[这个](http://onlinestatbook.com/2/calculators/normal_dist.html)计算器计算 p(z > 2.4)。*

***第三步:选择一个显著性水平(α)***

*这是我们用来决定假设检验的统计显著性的参数。要做到这一点，让我们首先来看看 Z(0，1)的概率分布，如图 1 所示。*

*![](img/d2bda09501378aca9c56797ae5ea9ee8.png)*

***Figure 1:** A plot of standard normal distribution, Z(0,1)*

*从图 1 可以明显看出，在标准正态分布中，68%的数据位于 1 个标准偏差内，95%的数据位于 2 个标准偏差内，99%的数据位于平均值(=0)附近的 3 个标准偏差内。在假设检验中，我们选择至少有(1-α)%的随机样本支持我们的研究假设的那个点作为我们的显著性水平。让我们来理解这一点——还记得我在第 2 步的最后一段强调了“大多数”吗？“大多数”是根据显著性水平(α)量化的，如果我们随机选择多个组，每个组 100 名学生，他们出现在 2019 年的考试中，那么我们接受我们的研究假设(μ₁₉ > μ₀₉，等价于 z>2.4)，只有当(1-α)%的这些组的均值大于μ₀₉.*

*通常，选择α = 0.05 来检验假设检验的统计显著性。这意味着我们想要(1-α)= 1–0.05 = 95%的随机样本来支持我们的研究假设。由于我们的假设检验问题通常有一个 z 统计量，所以我们只需要 p(z > z 统计量)< α to accept the research hypothesis, otherwise we reject it in the favor of the null hypothesis. For our example, if we select α = 0.05 then we should accept the research hypothesis only if p(z> 2.4) = 0.0082 < 0.05, which is indeed correct. By accepting the research hypothesis we mean — *，显著性水平为 0.05(α= 0.05)，我们得出结论:μ₁₉*在统计上显著大于μ₀₉.*

*总之，统计假设检验采用三步程序:*

1.  ***设置假设:**用户制定一个研究假设(例如μ₁₉ > μ₀₉)并选择一个零假设(μ₁₉ = μ₀₉)进行比较。*
2.  ***选择适当的检验统计量:**检验统计量是总结样本信息的单个数字。例如，我们在讨论中使用了 Z 统计量，因此，我们的示例假设检验通常被称为 Z 检验。然而，根据问题的性质，应该适当地选择不同的测试统计。例如，t 统计(根据学生的 t 分布计算)应用于小样本问题(n < 30 ),相应的假设检验称为 t 检验。*
3.  ***选择显著性水平(α):** 为了建立假设检验的统计显著性，用户选择合适的显著性水平。由于显著性水平是一种概率度量，其值介于 0 和 1 之间。科学文献中使用的α典型值为 0.01、0.05 和 0.10，其中α=0.05 是最常用的值。*

*最后，根据研究假设的性质，假设检验有三种类型:*

1.  ***上尾检验:**一种假设检验，其中研究假设表明参数值与原假设相比有所增加(例如，μ₁₉ > μ₀₉).*
2.  ***低尾检验:**一种假设检验，其中研究假设表明参数值与原假设相比有所下降(例如，μ₁₉ < μ₀₉).*
3.  ***双尾检验:**一种假设检验，其中研究假设表明参数值与原假设相比发生了变化(例如，μ₁₉ ≠ μ₀₉).值得注意的是，双尾检验是对不相等的检验，而不是对感兴趣的参数值的增加或减少的检验。*