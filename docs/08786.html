<html>
<head>
<title>Data Visualization using Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Matplotlib 实现数据可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualization-library-in-python-matplotlib-470a2e631d73?source=collection_archive---------35-----------------------#2019-11-24">https://towardsdatascience.com/visualization-library-in-python-matplotlib-470a2e631d73?source=collection_archive---------35-----------------------#2019-11-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="0a9d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我之前的故事中，我已经描述了 python 中两个最重要的 Python 库:<a class="ae ko" rel="noopener" target="_blank" href="/top-python-libraries-numpy-pandas-8299b567d955?source=friends_link&amp;sk=f79b2d2f0c26ad6cce3c6c868b3ddcdf"> Numpy 和 Pandas </a>。今天我将讲述<em class="kp"> Matplotlib，它是 python 中</em>最流行和最广泛使用的可视化库。不再耽搁，我们开始吧。</p><p id="da11" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe kq kr ks kt b"><a class="ae ko" href="https://www.numpy.org" rel="noopener ugc nofollow" target="_blank">Matplotlib</a></code>是一个 Python 2D 绘图库，它以多种硬拷贝格式和跨平台的交互环境生成出版物质量数字。这是一个流行的 python 绘图库，可以让您控制图形的各个方面。它被设计成有一种类似于<em class="kp">MATLAB</em>图形绘制的感觉。它可以提供大量的优势，如简单的绘图容易开始，支持自定义标签和文本，对图形中每个元素的良好控制，多种格式的高质量输出，非常可定制等。</p><p id="12e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要在您的系统中安装<code class="fe kq kr ks kt b">Matplotlib</code>库并进一步了解 python 基础知识，您可以点击以下链接:</p><div class="ku kv gp gr kw kx"><a rel="noopener follow" target="_blank" href="/machine-learning-and-data-analysis-inha-university-part-1-be288b619fb5"><div class="ky ab fo"><div class="kz ab la cl cj lb"><h2 class="bd iu gy z fp lc fr fs ld fu fw is bi translated">机器学习和数据分析—仁荷大学(第一部分)</h2><div class="le l"><h3 class="bd b gy z fp lc fr fs ld fu fw dk translated">第 1 章:基本 python 和安装</h3></div><div class="lf l"><p class="bd b dl z fp lc fr fs ld fu fw dk translated">towardsdatascience.com</p></div></div><div class="lg l"><div class="lh l li lj lk lg ll lm kx"/></div></div></a></div><p id="f4c0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在要在程序中使用<code class="fe kq kr ks kt b">Matplotlib</code>，我们需要导入模块。为了方便起见，一般将<code class="fe kq kr ks kt b">Matplotlib</code>包定义为<code class="fe kq kr ks kt b">plt</code>的缩写。但是您可以使用任何想要的东西来导入它。</p><pre class="ln lo lp lq gt lr kt ls lt aw lu bi"><span id="1f54" class="lv lw it kt b gy lx ly l lz ma"><strong class="kt iu">import matplotlib.pyplot as plt   </strong># importing matplotlib<strong class="kt iu"><br/></strong><strong class="kt iu">x=pd.Series([1,2,3,4])            </strong># create pandas series<strong class="kt iu"> <br/>y=2*x+3                           </strong># define y<strong class="kt iu"><br/>plt.plot(y)                       </strong># Functional plot<strong class="kt iu"><br/>plt.show()                        </strong># show plot</span></pre><p id="fd2b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">输出:</p><figure class="ln lo lp lq gt mc gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/8c9a9b426f40df6ea27878261caf6f90.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*l-Fvc-owNo4OHDTbTch4lA.png"/></div></figure><p id="1ac5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当使用 Jupyter 笔记本作为模拟环境时，我们需要在命令行中提到<code class="fe kq kr ks kt b">%matplotlib inline</code>，它允许查看 Jupyter 笔记本内部的情节。</p><pre class="ln lo lp lq gt lr kt ls lt aw lu bi"><span id="22c4" class="lv lw it kt b gy lx ly l lz ma"><strong class="kt iu">import matplotlib.pyplot as plt   </strong># importing matplotlib<br/><strong class="kt iu">import numpy as np  </strong>              # importing numpy<br/><strong class="kt iu">%matplotlib inline                </strong># see plot in Jupyter notebook<br/><strong class="kt iu">x=np.arange(0,10,0.5)             </strong># define x<strong class="kt iu"><br/>y1=2*x+3                          </strong># define y1<strong class="kt iu"><br/>y2=3*x                            </strong># define y2<strong class="kt iu"><br/>plt.figure(1,figsize=(12,12))     </strong># create a figure object<br/><strong class="kt iu">plt.subplot(331)                  </strong># divide the figure 3*3, 1st item<br/><strong class="kt iu">plt.plot(x,y1,'r-')               </strong># Functional plot<br/><strong class="kt iu">plt.title('Line graph')           </strong># define title of the plot<br/><strong class="kt iu">plt.subplot(332)</strong>                  # divide the figure 3*3, 2nd item<br/><strong class="kt iu">plt.plot([1,3,2,7],[10,20,30,40]) </strong># Functional plot<br/><strong class="kt iu">plt.title('Two-dimensional data') </strong># define title of the plot<br/><strong class="kt iu">plt.subplot(333)                  </strong># divide the figure 3*3, 3rd item<br/><strong class="kt iu">plt.plot([10,20,30,40],[2,6,8,12], label='price')</strong> # set label name<br/><strong class="kt iu">plt.axis([15,35,3,10])            </strong># axis scale - x:15-35, y:3-10<br/><strong class="kt iu">plt.legend()                      </strong># show legends on plot<br/><strong class="kt iu">plt.title('Axis scaled graph')    </strong># define title of the plot<br/><strong class="kt iu">plt.subplot(334)                  </strong># divide the figure 3*3, 4th item<br/><strong class="kt iu">plt.plot(x,y1,'r-',x,y2,'b--')</strong>    # y1 - red line, y2 - blue line<br/><strong class="kt iu">plt.title('Multi line plot')      </strong># define title of the plot<br/><strong class="kt iu">plt.subplot(335)</strong>                  # divide the figure 3*3, 5th item<br/><strong class="kt iu">x=np.random.normal(5,3,1000)</strong>      # normal distribution - mean: 5, variance: 3, number of data: 1000<br/><strong class="kt iu">y=np.random.normal(5,3,1000)</strong>      # normal distribution - mean: 5, variance: 3, number of data: 1000<br/><strong class="kt iu">plt.scatter(x,y,c='k')            </strong># Functional plot<br/><strong class="kt iu">plt.title('Scatter plot')</strong><br/><strong class="kt iu">plt.subplot(336)</strong>                  # divide the figure 3*3, 6th item<br/><strong class="kt iu">player=('Ronaldo','Messi','Son')</strong><br/><strong class="kt iu">goal=[51,48,25]</strong><br/><strong class="kt iu">plt.bar(player,goal,align='center',color='red',width=0.5) </strong><br/><strong class="kt iu">plt.title('Bar plot')             </strong># define title of the plot<strong class="kt iu"><br/>plt.show()                        </strong># show plot</span></pre><figure class="ln lo lp lq gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi me"><img src="../Images/d3ea226a3b244f474f34f61467fcc393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7_PfTPN3goA98VolUvqrzQ.png"/></div></div></figure><p id="e227" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">Matplotlib 中的 3D 绘图</strong></p><p id="246c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了启动 matplotlib 中的 3D 绘图，我们需要从<code class="fe kq kr ks kt b">mpl_toolkits.mplot3d</code>导入<code class="fe kq kr ks kt b">Axes3D</code>。</p><pre class="ln lo lp lq gt lr kt ls lt aw lu bi"><span id="1bf0" class="lv lw it kt b gy lx ly l lz ma"><strong class="kt iu">import numpy as np                      </strong># importing numpy<strong class="kt iu"><br/>import matplotlib.pyplot as plt         </strong># importing matplotlib<strong class="kt iu"><br/>from mpl_toolkits.mplot3d import Axes3D </strong># importing Axes3D, 3d plot<strong class="kt iu"><br/>fig = plt.figure()                      </strong># create a figure object<strong class="kt iu"><br/>ax = Axes3D(fig)                        </strong># defining 3d figure ax<strong class="kt iu"><br/>X = np.arange(-4, 4, 0.25)              </strong># defining X<strong class="kt iu"><br/>Y = np.arange(-4, 4, 0.25)              </strong># defining Y<strong class="kt iu"><br/>X, Y = np.meshgrid(X, Y)    <br/>R = np.sqrt(X ** 2 + Y ** 2)<br/>Z = np.sin(R)<br/>ax.plot_surface(X, Y, Z, rstride=1, cstride=1, cmap=plt.cm.hot)</strong>#plot<strong class="kt iu"><br/>ax.contourf(X, Y, Z, zdir='z', offset=-2, cmap=plt.cm.hot)<br/>ax.set_zlim(-2, 2)                     </strong># set z-axes limit<strong class="kt iu"><br/>plt.show()</strong></span></pre><p id="7ae4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输出:</strong></p><figure class="ln lo lp lq gt mc gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/8122072198f2fd618c572db4529d8db8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*7vyj-6_3jJkZhualbRBCfQ.png"/></div></figure><p id="fe67" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当使用 matplotlib 执行子情节时，我们需要为每个情节保持紧凑的布局，以避免图形之间的混乱。我们可以保持<em class="kp">正方形图形尺寸</em>来避免这个问题，或者我们可以使用<code class="fe kq kr ks kt b">tight_layout()</code>。</p><pre class="ln lo lp lq gt lr kt ls lt aw lu bi"><span id="cad1" class="lv lw it kt b gy lx ly l lz ma"><strong class="kt iu">fig,ax = plt.subplots(nrows=3,ncols=3)<br/>plt.tight_layout()<br/>plt.show()</strong></span></pre><p id="c018" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">输出:</p><figure class="ln lo lp lq gt mc gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/815d7f733e955c8eda16d7dd6b21fbef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*wDprFCZBN-3eioEZnshj2Q.png"/></div></figure><p id="2a36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">在 Matplotlib 中保存图形</strong></p><p id="2927" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Matplotlib 可以生成<em class="kp"> PNG、JPG、EPS、SVG、PGF、</em>和<em class="kp"> PDF </em>格式的高质量图形，我们可以用 matplotlib 保存图形。我们还可以将图形保存在我们想要的文件位置。我们可以按照下面的例子，图保存在一个目标文件位置。</p><pre class="ln lo lp lq gt lr kt ls lt aw lu bi"><span id="900d" class="lv lw it kt b gy lx ly l lz ma"><strong class="kt iu">import matplotlib.pyplot as plt       </strong># importing matplotlib<strong class="kt iu"><br/>%matplotlib inline                    </strong># see plot in Jupyter notebook<strong class="kt iu"><br/>x = [0, 2, 4, 6]                      </strong># define x<strong class="kt iu"><br/>y = [1, 3, 4, 8]                      </strong># define y<strong class="kt iu"><br/>plt.plot(x,y)                         </strong># functional plot<strong class="kt iu"><br/>plt.xlabel('x values')                </strong># define x label<strong class="kt iu"><br/>plt.ylabel('y values')                </strong># define y label<strong class="kt iu"><br/>plt.title('plotted x and y values')   </strong># define title<strong class="kt iu"><br/>plt.legend(['line 1'])                </strong># define legend</span><span id="72ba" class="lv lw it kt b gy ml ly l lz ma"># save the figure<strong class="kt iu"><br/>plt.savefig('plot.png', dpi=300, bbox_inches='tight')<br/>fig.savefig('E:\Bioinformatics/foo.png')</strong></span><span id="88fb" class="lv lw it kt b gy ml ly l lz ma"><strong class="kt iu">plt.show()</strong></span></pre><p id="de6c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输出:</strong></p><figure class="ln lo lp lq gt mc gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/cdbf3cf3fd8bd6b02fabf4e075502d41.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*WYFJyOpf7hOHUdDxbwoorQ.png"/></div></figure><p id="b1dd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了保存其他格式的数字，我们需要用它来代替<code class="fe kq kr ks kt b">png</code>。如果你正在使用 jupyter 笔记本，并且想要将任何图形保存到另一个想要的文件夹中，那么你可以遵循命令<code class="fe kq kr ks kt b">fig.savefig("E:\Bioinformatics/foo.png"</code>，其中 foo 是图形的名称。</p><p id="c761" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">图例</strong></p><p id="8a29" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了在 Matplotlib 中提到图例，我们可以使用<code class="fe kq kr ks kt b">ax.legend()</code>,其中 ax 是图形的名称。我们还可以在<code class="fe kq kr ks kt b">ax.plot()</code>中定义标签的名称。为了更好的理解，我们可以看下面的例子。</p><pre class="ln lo lp lq gt lr kt ls lt aw lu bi"><span id="b380" class="lv lw it kt b gy lx ly l lz ma"><strong class="kt iu">import matplotlib.pyplot as plt       </strong># importing matplotlib<strong class="kt iu"><br/>%matplotlib inline                    </strong># see plot in Jupyter notebook<strong class="kt iu"><br/>x = np.array([0, 2, 4, 6])            </strong># define x<strong class="kt iu"><br/>fig = plt.figure()                    </strong># create a figure object<strong class="kt iu"><br/>ax = fig.add_axes([0,0,1,1])          </strong># axes with (L,B,W,H) value<strong class="kt iu"><br/>ax.plot(x, x**2, label = 'X2', color='red')      </strong># functional plot<strong class="kt iu"><br/>ax.plot(x, x**3, label = 'X3', color='black')    </strong># functional plot<strong class="kt iu"><br/>ax.set_xlim([0, 5])                              </strong># set x-axes limit<strong class="kt iu"><br/>ax.set_ylim([0,100])                             </strong># set y-axes limit<strong class="kt iu"><br/>ax.legend()                                      </strong>#<strong class="kt iu"> </strong>show legend <strong class="kt iu"><br/>plt.show()                                       </strong># show plot</span></pre><p id="100a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输出:</strong></p><figure class="ln lo lp lq gt mc gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/139ed9599957923415a8da9c8375a8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*OQ2JnzXw-Hn2Ld2hYYOtnQ.png"/></div></figure><p id="6dd9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以估计传说的位置。<code class="fe kq kr ks kt b">ax.legend(loc=0)</code>为传说中的最佳位置，<code class="fe kq kr ks kt b">loc=10</code>为中心位置。我们也可以定义位置。十六进制代码也可用于定义图中的<code class="fe kq kr ks kt b">color</code>。我们还可以使用<code class="fe kq kr ks kt b">set_xlim([0,5])</code>和<code class="fe kq kr ks kt b">set_ylim([0,100])</code>设置 x 轴和 y 轴的极限，其中提到了极限的下限和上限。</p><p id="c6dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">非常感谢你的时间。你可以关注我的其他教程简介。我已经发表了<strong class="js iu">机器学习和数据分析</strong>系列的 4 个部分，这是基于 Inha 大学提供的研究生课程。你可以按照<strong class="js iu"/><a class="ae ko" rel="noopener" target="_blank" href="/machine-learning-and-data-analysis-inha-university-part-1-be288b619fb5?source=friends_link&amp;sk=583ba29a0766ad36bc993cddc642b11f"><strong class="js iu">Part-1</strong></a><strong class="js iu">，</strong><a class="ae ko" rel="noopener" target="_blank" href="/machine-learning-and-data-analysis-inha-university-part-2-3fb599732021?source=friends_link&amp;sk=80523165c66560e46f907da4c8af0d95"><strong class="js iu">Part-2</strong></a><strong class="js iu">，</strong><a class="ae ko" rel="noopener" target="_blank" href="/machine-learning-and-data-analysis-inha-university-part-3-51cb64c10901?source=friends_link&amp;sk=a735571ab8f7bc418703fc3147eb6ecb"><strong class="js iu">Part-3</strong></a><strong class="js iu">，</strong> <a class="ae ko" rel="noopener" target="_blank" href="/machine-learning-and-data-analysis-inha-university-part-4-67aa1aa9c95d?source=friends_link&amp;sk=9f1a2d1a77df1e9019cfea70b9de7edb"> <strong class="js iu"> Part-4 </strong> </a>来获得用 Python 进行机器学习移动的起始思路。非常感谢任何建议或批评。</p><p id="1317" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae ko" rel="noopener" target="_blank" href="/machine-learning-and-data-analysis-inha-university-part-1-be288b619fb5?source=friends_link&amp;sk=583ba29a0766ad36bc993cddc642b11f"><strong class="js iu">Part-1</strong></a><strong class="js iu">:</strong>python 基础及安装<br/><a class="ae ko" rel="noopener" target="_blank" href="/machine-learning-and-data-analysis-inha-university-part-2-3fb599732021?source=friends_link&amp;sk=80523165c66560e46f907da4c8af0d95"><strong class="js iu">Part-2</strong></a><strong class="js iu">:</strong>第二章:Python 数据结构—数据类型<br/><a class="ae ko" rel="noopener" target="_blank" href="/machine-learning-and-data-analysis-inha-university-part-3-51cb64c10901?source=friends_link&amp;sk=a735571ab8f7bc418703fc3147eb6ecb"><strong class="js iu">Part-3</strong></a><strong class="js iu">:</strong>Python 中的控制语句(循环)<br/><a class="ae ko" rel="noopener" target="_blank" href="/machine-learning-and-data-analysis-inha-university-part-4-67aa1aa9c95d?source=friends_link&amp;sk=9f1a2d1a77df1e9019cfea70b9de7edb"><strong class="js iu">Part:4</strong></a><strong class="js iu">:</strong>Python 函数【T39</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="8c9e" class="mv lw it bd mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np nq nr bi translated">参考链接:</h1><ol class=""><li id="b564" class="ns nt it js b jt nu jx nv kb nw kf nx kj ny kn nz oa ob oc bi translated"><strong class="js iu">Matplotlib cheet sheet:</strong><a class="ae ko" href="https://s3.amazonaws.com/assets.datacamp.com/blog_assets/Python_Matplotlib_Cheat_Sheet.pdf" rel="noopener ugc nofollow" target="_blank">https://S3 . amazonaws . com/assets . data camp . com/blog _ assets/Python _ Matplotlib _ Cheat _ sheet . pdf</a></li><li id="07e1" class="ns nt it js b jt od jx oe kb of kf og kj oh kn nz oa ob oc bi translated"><strong class="js iu">教程:</strong><a class="ae ko" href="https://www.tutorialspoint.com/matplotlib/matplotlib_tutorial.pdf" rel="noopener ugc nofollow" target="_blank">https://www . tutorialspoint . com/matplotlib/matplotlib _ Tutorial . pdf</a></li></ol><p id="2046" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">3.<a class="ae ko" href="http://courses.csail.mit.edu/6.867/wiki/images/3/3f/Plot-python.pdf" rel="noopener ugc nofollow" target="_blank">http://courses . csail . MIT . edu/6.867/wiki/images/3/3f/Plot-python . pdf</a></p><p id="e4a0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">4.<a class="ae ko" href="https://riptutorial.com/Download/matplotlib.pdf" rel="noopener ugc nofollow" target="_blank">https://riptutorial.com/Download/matplotlib.pdf</a></p></div></div>    
</body>
</html>