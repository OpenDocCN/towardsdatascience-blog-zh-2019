<html>
<head>
<title>Oktoberfest : Quick analysis using Pandas, Matplotlib, and Plotly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">啤酒节:使用 Pandas、Matplotlib 和 Plotly 进行快速分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/oktoberfest-quick-analysis-using-pandas-matplotlib-and-plotly-79778367a4c?source=collection_archive---------4-----------------------#2019-09-22">https://towardsdatascience.com/oktoberfest-quick-analysis-using-pandas-matplotlib-and-plotly-79778367a4c?source=collection_archive---------4-----------------------#2019-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/8e6093b4f2c38ae00b7e6324403d8c57.png" data-original-src="https://miro.medium.com/v2/resize:fit:506/format:webp/1*-S8rec90mhP5gGXOjFAsPQ.png"/></div></figure><p id="4351" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu">啤酒节</strong> 2019 已经开始了！<strong class="jz iu">慕尼黑啤酒节</strong>是世界上最大的啤酒节，自 1810 年以来每年在<strong class="jz iu">慕尼黑</strong>举行。它从 9 月中旬或下旬持续到 10 月的第一个周日，持续时间为 16 至 18 天，每年有超过 600 万游客。🍺 🍺</p><p id="4065" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">Munchen.de  是慕尼黑市的官方门户网站<strong class="jz iu"> Munich </strong>包含 140 多个数据集，涵盖经济、交通、旅游或文化等广泛主题。目前，越来越多的欧洲城市提供了开放的数据门户，允许公司、市民、研究人员和其他公共机构利用生成的数据。对于本文，我们使用了从 1985 年至今的慕尼黑啤酒节的数据。虽然大部分年份都没有(记得 1810 年开始的啤酒节！)，该数据集提供了关于该节日在过去 30 年中如何演变的宝贵见解。</p><div class="kw kx gp gr ky kz"><a href="https://www.opengov-muenchen.de/tr/dataset/oktoberfest/resource/e0f664cf-6dd9-4743-bd2b-81a8b18bd1d2" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd iu gy z fp le fr fs lf fu fw is bi translated">慕尼黑啤酒节-慕尼黑啤酒节 1985 - 2018 -开放数据门户</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">十月节的日期是十月节的最后一天，也是十月节的最后一天…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">www.opengov-muenchen.de</p></div></div></div></a></div><p id="fde2" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">让我们开始吧！🍻</p><h1 id="a906" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">关于图书馆的信息</h1><p id="6b6d" class="pw-post-body-paragraph jx jy it jz b ka mg kc kd ke mh kg kh ki mi kk kl km mj ko kp kq mk ks kt ku im bi translated">为了评估数据集，我们使用三个不同的 Python 库:Pandas、Matplotlib 和 Plotly。</p><ul class=""><li id="a2d7" class="ml mm it jz b ka kb ke kf ki mn km mo kq mp ku mq mr ms mt bi translated"><a class="ae kv" href="https://pandas.pydata.org/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> <strong class="jz iu"> Pandas </strong> </a>是一个用于<strong class="jz iu">数据科学</strong>的<strong class="jz iu"> Python </strong>开源库，允许我们轻松处理结构化数据，例如<strong class="jz iu"> csv 文件</strong>、<strong class="jz iu"> SQL 表</strong>或<strong class="jz iu"> Excel 电子表格</strong>。它提供了以不同格式读写数据、执行探索性分析和清理数据(重塑数据集、处理缺失数据或合并数据集)的工具。</li><li id="a0c2" class="ml mm it jz b ka mu ke mv ki mw km mx kq my ku mq mr ms mt bi translated"><a class="ae kv" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jz iu">Matplotlib</strong></a><strong class="jz iu"/>是一个 Python 2D 绘图库，可用于<strong class="jz iu"> Python </strong>脚本、<strong class="jz iu"> Jupyter 笔记本</strong>和<strong class="jz iu">IPython</strong>shell 等环境中，生成高质量的图形。Matplotlib 提供了广泛的可视化，如直方图，条形图，散点图，箱线图，或饼图。</li><li id="df67" class="ml mm it jz b ka mu ke mv ki mw km mx kq my ku mq mr ms mt bi translated"><a class="ae kv" href="https://plot.ly/python/" rel="noopener ugc nofollow" target="_blank"> <strong class="jz iu"> Plotly Python </strong> </a>图形库作为 Matplotlib 提供了广泛的可视化。但是，与<strong class="jz iu"> Matplotlib </strong>不同的是，<strong class="jz iu"> Plotly </strong>提供的可视化是交互式的，更加直观。😉</li></ul><p id="5424" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在概述了本分析中使用的库之后，我们准备开始下一步:探索性数据分析和数据清理。</p><h1 id="62e8" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">探索性数据分析和数据清理</h1><p id="b6be" class="pw-post-body-paragraph jx jy it jz b ka mg kc kd ke mh kg kh ki mi kk kl km mj ko kp kq mk ks kt ku im bi translated"><strong class="jz iu">探索性数据分析</strong>包括分析数据集的主要特征，通常采用<strong class="jz iu">可视化方法</strong>和<strong class="jz iu">汇总统计</strong>。目标是理解数据，发现模式和异常，并在我们执行进一步评估之前检查假设。</p><p id="f7ae" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">从<strong class="jz iu"> Munchen.de </strong>下载 csv 文件后，我们可以使用<a class="ae kv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html" rel="noopener ugc nofollow" target="_blank"><strong class="jz iu">Pandas . read _ CSV</strong></a>函数将其加载到 Pandas 数据框中，并使用<a class="ae kv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.head.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jz iu"> pandas 可视化前 5 行。data frame . head</strong></a><strong class="jz iu"/>方法。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/93ab8f09ffb4b7d77f0e99b79ef9c191.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*p_HfNFyJzF_-yz-BRZJw7A.png"/></div></figure><p id="32f2" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">数据集包含 8 列:(1)年份，(2)持续时间，(3)游客总数，(4)每日游客数，(5)啤酒价格，(6)啤酒消费量，(7)鸡肉价格，(8)鸡肉消费量。</p><p id="bebc" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">数据类型不合适和缺少值是数据集最常见的问题。我们可以用<a class="ae kv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.info.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jz iu">熊猫轻松分析这两者。data frame . info</strong>T29】方法。该方法打印关于数据帧的信息，包括列类型、非空值的数量和内存使用情况。</a></p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/03c139da6580bcfb841b0d3e4c368a7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:634/format:webp/1*s9nVO1uZ42wmqb82XcAaCQ.png"/></div></figure><p id="576e" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">检查数据集中是否有空条目的其他方法如下:</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="d199" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我们还可以使用<strong class="jz iu">熊猫来评估数据类型。DataFrame.dtypes </strong>属性。这将返回包含每列数据类型的序列。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/2aac8224b7f3155d96630911d08fa28f.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*PY-1d_DkKC4WAocoZDvp7w.png"/></div></figure><p id="3a7f" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">数据集不包含空值，并且数据类型是预期的类型，因此不需要重要的清理任务；但是，我们可以执行一些小的更改，以便于进一步分析数据集。</p><ol class=""><li id="1ddf" class="ml mm it jz b ka kb ke kf ki mn km mo kq mp ku ni mr ms mt bi translated">删除 besucher_tag(每日访客数)列，因为我们不会在评估中使用它。</li><li id="071e" class="ml mm it jz b ka mu ke mv ki mw km mx kq my ku ni mr ms mt bi translated">将列名翻译成英语。</li><li id="d9f1" class="ml mm it jz b ka mu ke mv ki mw km mx kq my ku ni mr ms mt bi translated">将年份设置为数据框的索引。以便于访问不同年份的信息。</li></ol><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/3a8374ddf0439322255fb639ebc8a002.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*6SVZ6VrP1Om-A9gwaBXiNg.png"/></div></figure><p id="21f9" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">执行更改后，我们可以使用数据轻松地得出结论。💪 🍻我们开始吧！▶️</p><h1 id="ad48" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">回答问题并得出结论</h1><p id="91c2" class="pw-post-body-paragraph jx jy it jz b ka mg kc kd ke mh kg kh ki mi kk kl km mj ko kp kq mk ks kt ku im bi translated"><strong class="jz iu">探索性数据分析</strong>和<strong class="jz iu">数据清理</strong>是让我们对数据集有所了解的步骤，并让数据集准备好使用它轻松得出结论。现在！我们准备使用数据集回答以下问题。</p><h2 id="bd28" class="nk lj it bd lk nl nm dn lo nn no dp ls ki np nq lw km nr ns ma kq nt nu me nv bi translated"><strong class="ak">在过去的 33 年里，啤酒价格是如何变化的？还有鸡肉价格？有倾向吗？</strong></h2><p id="9490" class="pw-post-body-paragraph jx jy it jz b ka mg kc kd ke mh kg kh ki mi kk kl km mj ko kp kq mk ks kt ku im bi translated">正如我们在下面的图中看到的，<strong class="jz iu">从 1985 年到 2018 年，价格稳步上升</strong>，2018 年的价格比 1985 年高出约三倍。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi nw"><img src="../Images/a36f8fde41813101abdfe930ccabbde8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8L2YaBzVj7qnEx05GmM4Q.png"/></div></div></figure><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="b0be" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">1985 年，我们只需 7.97 欧元就可以在啤酒节享用一餐。三十年后，我们需要几乎三倍多的钱才能在节日里享用一餐。💰</p><p id="e4ae" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我们还可以使用<strong class="jz iu"> Plotly </strong>创建一个交互式价格图！💚</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi ob"><img src="../Images/a8210f124336ef3cba7c64067415bf30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uNTleyoYTQ79OcB8GADZYQ.gif"/></div></div></figure><p id="d1e6" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我们可以观察到价格可以用一个线性关系来近似(在啤酒的情况下更准确)。稍后，我们将使用简单的线性回归来预测 2030 年的价格！</p><h2 id="8fbf" class="nk lj it bd lk nl nm dn lo nn no dp ls ki np nq lw km nr ns ma kq nt nu me nv bi translated">从 1985 年到 2018 年，啤酒消费量如何变化？还有鸡肉消费？有倾向吗？</h2><p id="8977" class="pw-post-body-paragraph jx jy it jz b ka mg kc kd ke mh kg kh ki mi kk kl km mj ko kp kq mk ks kt ku im bi translated">下面的图表显示了从 1985 年到现在的啤酒消费量。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi oc"><img src="../Images/a536c2990408b1656c9712efec11c5db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vYUbH0YQiKWp7Om208nUpA.png"/></div></div></figure><p id="0f96" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">正如我们所观察到的，啤酒的<strong class="jz iu">消费量呈现出<strong class="jz iu">增长趋势</strong>。竖线表示啤酒节与德国经济节的庆祝时间一致。自 1996 年以来，这个节日每四年在 Theresienwiesen 啤酒节的同一时间举行一次。我们可以看到，2004 年、2008 年和 2012 年的小幅下降可能与庆祝这一节日有关。相反，2001 年和 2016 年啤酒消费量的显著下降可能与 2001 年的 9·11 恐怖袭击、2015 年 11 月的巴黎恐怖袭击和 2016 年的尼斯卡车袭击有关。游客数量在那些年(2001 年和 2016 年)有所下降，呈现 1985 年以来的最低值。</strong></p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi od"><img src="../Images/646e077cf6f81a76e584d232d7182f9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*rbYg5qYeII1_ZF0tVoHW1g.png"/></div></figure><p id="65dd" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">下面的图代表了从 1985 年到 2018 年的鸡肉消费量。我们不难观察到，鸡肉的<strong class="jz iu">消费量呈现<strong class="jz iu">下降趋势</strong>，同时也受到了 2001 年和 2016 年恐怖袭击的影响。</strong></p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi oe"><img src="../Images/d2260691d61aafa564596a5f65d211fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zgnEA0fc3QP9uZioH7dY-A.png"/></div></div></figure><h2 id="1afd" class="nk lj it bd lk nl nm dn lo nn no dp ls ki np nq lw km nr ns ma kq nt nu me nv bi translated">从 1985 年到 2018 年，游客数量是如何变化的？有倾向吗？</h2><p id="0a5e" class="pw-post-body-paragraph jx jy it jz b ka mg kc kd ke mh kg kh ki mi kk kl km mj ko kp kq mk ks kt ku im bi translated">我们可以很容易地使用折线图来分析访问者的数量。正如我们所观察到的，访问者的数量没有遵循任何趋势，从 5.5 到 7.1 不等。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi of"><img src="../Images/1f56476a77b753a8be20c2322c313691.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nliZD9LzjRGlAngs7JLwyw.png"/></div></div></figure><p id="4fca" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">所以，啤酒的消费并不是因为节日有更多的游客而增加，而是因为人们喝得更多。😆 🍻</p><h2 id="4c2c" class="nk lj it bd lk nl nm dn lo nn no dp ls ki np nq lw km nr ns ma kq nt nu me nv bi translated">巴伐利亚其他民间节日啤酒价格是否也在上涨？</h2><p id="cb69" class="pw-post-body-paragraph jx jy it jz b ka mg kc kd ke mh kg kh ki mi kk kl km mj ko kp kq mk ks kt ku im bi translated">啤酒节可能是巴伐利亚最著名的民间节日，但当然不是唯一的！🍻巴伐利亚人知道如何恰当地庆祝，他们在巴伐利亚的许多城市组织节日，不仅仅是在慕尼黑❤️！现在我们就来分析一下巴伐利亚其他著名民间节日的物价演变。在过去的几年里，价格也稳步上升了吗？▶️让我们看看！</p><p id="e980" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">为了进行这种分析，我们使用下面文章中的啤酒价格。</p><div class="kw kx gp gr ky kz"><a href="https://www.merkur.de/bayern/so-viel-kostet-mass-auf-bayerischen-volksfesten-7428217.html" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd iu gy z fp le fr fs lf fu fw is bi translated">因此，他参加了巴伐利亚州的群众大会</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">bier preis-brems 在维也纳？慕尼黑-讨论了一个两人的问题</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">www.merkur.de</p></div></div><div class="og l"><div class="oh l oi oj ok og ol jv kz"/></div></div></a></div><p id="0808" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">这篇文章包含了巴伐利亚 8 个不同的民间节日的信息。我们可以通过使用如下的<a class="ae kv" href="https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.read_html.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jz iu"> pandas.read_html </strong> </a>函数轻松下载文章中的表格:</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi om"><img src="../Images/ebbb941057a6be99e376e448bae7cec1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LnRvtUdLEcwqfyZemFC50g.png"/></div></div></figure><p id="2608" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">该表包括:(1)节日名称，(2)节日日期，(3)游客数量，(4)组织者，(5)啤酒价格信息，以及(6)从 2008 年到 2016 年的啤酒价格演变。不好意思，文章是德语的！😊</p><p id="edd2" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我们只对分析啤酒价格感兴趣，因此我们可以创建一个只包含最后一列中的价格的数据框。这些价格必须在不同的列中，因为整齐的数据集包含放在自己单元格中的每个值。为了提取年份和价格，我们使用正则表达式和<a class="ae kv" href="https://docs.python.org/2/library/re.html#" rel="noopener ugc nofollow" target="_blank"> <strong class="jz iu"> re.findall( <em class="on">模式</em>，<em class="on">字符串</em>，<em class="on"> flags=0 </em> ) </strong> </a>函数。该函数将一个<em class="on">字符串</em>中<em class="on">模式</em>的所有匹配作为一个字符串列表返回。然后，我们为每个节日创建一个字典，其中的键包含年份，值包含啤酒的价格。创建词典后，我们可以将它们放在一个列表中。最后，我们用这个字典列表作为<a class="ae kv" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jz iu">熊猫的论据。DataFrame </strong> </a>函数，获得如下数据帧。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/264bae4c0bf516ccb763ebd1c9445c85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*AxscyTlwFYP4yQ10Q0kaYg.png"/></div></figure><p id="a013" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">在将数据框可视化之前，我们必须对其进行一些修改。首先，我们必须修改所有列的数据类型，因为它们必须包含浮点数而不是字符串。然后，我们必须转置数据框，因为默认情况下，数据框索引是绘图的 x 轴，数据框的每一列代表可视化中的不同线。最后，我们包括 2008 年至 2016 年啤酒节的啤酒价格。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi op"><img src="../Images/c6464183553da272a39f8c50ee593f56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aXBglyYkTbcwqk28wa0RgA.png"/></div></div></figure><p id="8b69" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">现在，我们已经准备好可视化巴伐利亚州不同节日的<strong class="jz iu">价格</strong>演变。正如我们所观察到的，巴伐利亚其他节日的啤酒价格也在上涨。然而，<strong class="jz iu">啤酒节</strong>的价格比其他民间节日要高，是<strong class="jz iu">达绍尔大众节</strong>最经济的一个。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi oq"><img src="../Images/a75231d92fcea5bede38b7a15c340e36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iD5zcUw4R9NIyMzNPXBT4w.png"/></div></div></figure><p id="f830" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">大多数节日里啤酒的价格都很相似；因此，使用 matplotlib 进行清晰的可视化是不可能的。或者，我们可以像以前一样使用 plotly 库。这个库可以进行交互式绘图，允许悬停在点上，选择和取消选择线，以及放大/缩小。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi or"><img src="../Images/9c4b238d32557f7b14ccf865d6cf41b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*czgsfhdtm7EuzxL2dAx3AQ.gif"/></div></div></figure><p id="77e7" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">我们还可以计算出不同年份和前几年啤酒价格的变化百分比。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi os"><img src="../Images/cf1061d6a867ace5757c1887ba117d00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*10CPLP4vniWeIPKvG1fC5w.png"/></div></div></figure><p id="5dee" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">该表显示，与其他民俗节日相比，啤酒节的价格上涨更加均匀，每年大约上涨 3%。其他民俗节日呈现不太统一的价格增量；然而，有些年份的增量比啤酒节的增量大得多。</p><p id="64cc" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated"><strong class="jz iu">plottly</strong>允许在地图上制作<strong class="jz iu">动画散点图</strong>，这样我们不仅可以看到不同年份的啤酒价格，还可以看到不同民间节日所在的地方。首先，我们必须在数据框架中包含庆祝节日的城市的纬度和经度。包含节日场地的准确纬度和经度会更准确，但是对于这个可视化来说，城市的纬度和经度是一个很好的近似值。</p><p id="ae1a" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">为了获得城市的纬度和经度，我们使用了 geopy。获得城市的位置后，我们将该信息包含在之前创建的数据框中。我们必须再次转置数据帧，因为我们希望节日成为帧的索引。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/6867f354dffb2d2e588b5616ed408543.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*nSCEeg1lCRqCTK_YEcuIlA.png"/></div></figure><p id="e63d" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">根据我们想要显示的可视化效果，数据框应该有这样或那样的形状。要使用<a class="ae kv" href="https://plot.ly/python/plotly-express/" rel="noopener ugc nofollow" target="_blank"><strong class="jz iu">Plotly Express</strong></a>函数<strong class="jz iu"> px.scatter_mapbox </strong>，我们必须首先融化我们的数据框，将年份显示为一个变量。我们可以看一下<a class="ae kv" href="https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.melt.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jz iu"> pandas.melt </strong> </a>文档来了解它是如何工作的。👌</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/30547cb7b01b505ab2c9ba1ae0d5a18a.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*OZUI55kfg7muhvShiOErAg.png"/></div></figure><p id="5b14" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">现在，我们有了一个整洁的数据框来使用<strong class="jz iu"> px.scatter_mapbox 创建散点图。</strong>我再次鼓励你阅读<a class="ae kv" href="https://www.plotly.express/plotly_express/#plotly_express.scatter_mapbox" rel="noopener ugc nofollow" target="_blank"> <strong class="jz iu">文档</strong> </a>来理解提供给函数的参数。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="5f1f" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">瞧！我们有散点图，在这里我们不仅可以看到价格，还可以看到从 2008 年到 2016 年的节日地点。💪</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi ov"><img src="../Images/25da550739a8826bfc8b156105a888e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JWAlu8JEk5mi3Q1ASLrXUw.gif"/></div></div></figure><h2 id="c9ea" class="nk lj it bd lk nl nm dn lo nn no dp ls ki np nq lw km nr ns ma kq nt nu me nv bi translated"><strong class="ak">今年最受欢迎的帐篷里的啤酒价格是多少？</strong></h2><p id="05bc" class="pw-post-body-paragraph jx jy it jz b ka mg kc kd ke mh kg kh ki mi kk kl km mj ko kp kq mk ks kt ku im bi translated">该信息再次从网页上获得。清理数据后，我们获得一个数据集，其中包含 2018 年和 2019 年的价格以及价格的百分比变化。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/d91aed0549e1f01fe3ac766a4a71f1c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*759FEpbyscija-ADnlsMeA.png"/></div></figure><p id="ee66" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">下图显示了价格的递增顺序。正如我们所观察到的，啤酒价格在<strong class="jz iu"> 11.4 </strong>和<strong class="jz iu"> 11.8 </strong>欧元之间，其中<strong class="jz iu"> Augustiner </strong>更经济。</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nx ny di nz bf oa"><div class="gh gi ox"><img src="../Images/d4a91a3cee3444cb4841650b8c8f2221.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xcxk7OfytMw-U5vP1rmAFw.png"/></div></div></figure><h2 id="6f18" class="nk lj it bd lk nl nm dn lo nn no dp ls ki np nq lw km nr ns ma kq nt nu me nv bi translated">2030 年价格预测</h2><p id="3055" class="pw-post-body-paragraph jx jy it jz b ka mg kc kd ke mh kg kh ki mi kk kl km mj ko kp kq mk ks kt ku im bi translated">价格上涨遵循线性趋势(啤酒价格更准确)。因此，我们可以创建一个线性回归模型来预测 2030 年的两种价格(鸡肉和啤酒)。为此，我们可以使用 scikit-learn 库中的<a class="ae kv" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jz iu">线性回归模型</strong> </a>，如下所示:</p><figure class="mz na nb nc gt ju"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="53ab" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">根据线性预测模型，10 年后在啤酒节吃一顿饭将花费 28.33 €😮</p><h1 id="94c8" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">关键要点</h1><ul class=""><li id="ab18" class="ml mm it jz b ka mg ke mh ki oy km oz kq pa ku mq mr ms mt bi translated">在过去的 30 年里，啤酒节上啤酒和鸡肉的价格稳步上升。</li><li id="a7af" class="ml mm it jz b ka mu ke mv ki mw km mx kq my ku mq mr ms mt bi translated">游客多喝少吃。啤酒的<strong class="jz iu">消费量</strong>呈现出<strong class="jz iu">逐年增长的趋势</strong>。相反，<strong class="jz iu">鸡肉</strong>的消耗是<strong class="jz iu">减少</strong>。消费受到 2001 年和 2016 年恐怖袭击的影响。那些年，很少有人参观这个节日。</li><li id="b0e9" class="ml mm it jz b ka mu ke mv ki mw km mx kq my ku mq mr ms mt bi translated"><strong class="jz iu">访客数量</strong>没有任何趋势，范围从<strong class="jz iu"> 5.5 </strong>到<strong class="jz iu"> 7.1 </strong>。</li><li id="9dde" class="ml mm it jz b ka mu ke mv ki mw km mx kq my ku mq mr ms mt bi translated">巴伐利亚其他民间节日的啤酒价格也在上涨。Dachauer Volksfest 的价格是啤酒节的一半。如果你想喝醉，不想破产，就去达豪吧。😆它在慕尼黑附近！</li><li id="3088" class="ml mm it jz b ka mu ke mv ki mw km mx kq my ku mq mr ms mt bi translated">自 2008 年以来，啤酒节上的啤酒价格每年上涨约 3%。巴伐利亚其他民间节日的价格增长不太一致；然而，有些年份的增量比啤酒节要大得多。</li><li id="a0ff" class="ml mm it jz b ka mu ke mv ki mw km mx kq my ku mq mr ms mt bi translated"><strong class="jz iu"><strong class="jz iu">啤酒节</strong>上的大帐篷</strong>今年提供的啤酒价格在<strong class="jz iu"> 11.4€ </strong>和<strong class="jz iu"> 11.8€ </strong>之间。</li><li id="4858" class="ml mm it jz b ka mu ke mv ki mw km mx kq my ku mq mr ms mt bi translated">如果价格继续上涨，到 2030 年，啤酒节(啤酒+鸡肉)一餐的价格将在 28€左右。</li></ul><p id="1cab" class="pw-post-body-paragraph jx jy it jz b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku im bi translated">感谢阅读🍀</p></div></div>    
</body>
</html>