# 求解验证码——机器学习与在线服务

> 原文：<https://towardsdatascience.com/solving-captchas-machine-learning-vs-online-services-3596ad6f0137?source=collection_archive---------13----------------------->

![](img/334c7e5d83565b003c4134570d7dc7a6.png)

> 机器学习在验证码求解领域已经走了多远？

机器学习现在已经不仅仅是一个时髦词了。随着大量的问题被 ML 解决，验证码破解只是问题的另一个分支。通过研究一些与卷积神经网络相关的问题，我们发现在这个领域还有很大的改进空间。用户还不接受这种精确度。让我们详细了解一下，为了解决这个问题，我们必须提供哪些服务，哪些服务是最好的。

## 什么是验证码？

验证码对网络用户来说不再是一个陌生的术语。它是许多网站上添加的烦人的人工验证检查。区分计算机和人类的全自动公共图灵测试的首字母缩写。验证码可以定义为一种计算机程序，用于区分人类和机器，以防止网站上的任何类型的非法活动。验证码概念的基础假设是，只有人类才能通过这个测试，而机器人或自动化脚本将会失败。

## 为什么我们需要破解验证码？

现在，人们使用自动验证码解决不同的用例，其中一些是非法的，而另一些是合法的目的。垃圾邮件制造者使用验证码解析来提取用户的电子邮件地址，以便能够生成尽可能多的垃圾邮件。合法的例子是，一个新的客户或商业伙伴加入了你，并需要访问你的应用程序编程接口(API ),由于一些安全问题或滥用它可能引起的问题，API 还没有准备好或不能共享。因此，我们只剩下使用自动化脚本绕过验证码。

有不同类型的验证码，基于文本的验证码，基于图像的验证码，验证码和数学验证码。解决一个问题有时会变得很有挑战性，因为随着定期更新，CAPTCHA 和 reCAPTCHA 中使用的技术变得越来越智能。

## 破解验证码的流行方法

以下是可供用户解决验证码和 reCAPTCHA 的常用验证码解决方法:

1.  **OCR(光学字符识别)**启用的机器人——这种特殊的方法使用光学字符识别(OCR)技术自动解决验证码。像 Ocrad、tesseract 这样的工具可以解决验证码问题，但是准确率非常低。
2.  **机器学习**——使用计算机视觉、卷积神经网络，以及像 Keras、tensorflow 这样的 python 框架和库。我们可以训练深度卷积神经网络模型来找到验证码图像中的字母和数字。
3.  在线验证码解答服务 —这项服务有人工工作人员随时在线解答验证码。当您发送验证码求解请求时，该服务会将其转发给解答者，解答者破解该请求并返回答案。

## 基于 OCR 的解决方案性能分析

以下是关于每种产品性能的一些统计数据和指标:

虽然 OCR 是解决大量琐碎验证码的经济有效的解决方案，但它无法提供所需的准确性。在 Google 发布 ReCaptcha V3 之后，基于 OCR 的解决方案变得越来越少。因此，启用 OCR 的机器人不是为了破解谷歌、脸书或 Twitter 等巨头使用的验证码而构建的。这将需要装备更好的验证码解决方案。

基于 OCR 的解决方案可以正确破解 1/3 的琐碎验证码。

## 基于最大似然法的性能分析

让我们看看基于机器学习的解决方案是如何工作的:

一个**基于 ML 的解决方案**采用 OpenCV 在图像中寻找轮廓，检测连续区域。使用阈值技术对图像进行预处理。所有的图像都转换成黑白的。我们使用 OpenCV findContour()函数将验证码图像分解成不同的字母。经过处理的图像现在只是单个的字母和数字。这然后被馈送到 CNN 模型来训练它。你训练过的 CNN 模型已经准备好解决真正的验证码了。

![](img/bdade0ef1724e91444430a6c3a25a742.png)

CNN architecture to predict CAPTCHAs from [https://www.researchgate.net/publication/301620459_CAPTCHA_Recognition_with_Active_Deep_Learning](https://www.researchgate.net/publication/301620459_CAPTCHA_Recognition_with_Active_Deep_Learning)

对于所有基于文本的验证码，这种解决方案的准确性比 OCR 解决方案好得多。这种解决方案也有很多缺点，只解决了一种特定的问题，谷歌一直在更新他们的 reCAPTCHA 生成算法。最后一次更新似乎是有史以来影响我们服务的最好的 ReCaptcha 更新:当自动化解决方案要么完全停止工作，要么开始非常缓慢地工作时，普通用户从未感觉到任何事情。

该模型使用正确和随机样本以及 1⁰⁵测试图像进行 1⁰⁴迭代训练，以下是其平均准确率约为 60%的表现

![](img/b4c7a1364971b008c210cce716e30eaf.png)

[https://www.researchgate.net/publication/301620459_CAPTCHA_Recognition_with_Active_Deep_Learning](https://www.researchgate.net/publication/301620459_CAPTCHA_Recognition_with_Active_Deep_Learning)

因此，如果您的用例是解决一种具有相当基本复杂性的验证码，您可以很好地利用这样一个经过训练的 ML 模型。一个比 OCR 更好的验证码解决方案，但仍然需要覆盖很多领域才能达到保证其准确性的阶段。

## 在线验证码解答服务

在线验证码解决服务是目前为止解决这个问题的最好方法。跟上谷歌 reCAPTCHA 的所有更新，他们提供了 99%的无可挑剔的准确性。

## 为什么在线反验证码服务比其他方法表现得更好？

根据到目前为止进行的研究和开发，基于 OCR 和 ML 的解决方案有许多缺点。他们只能解决琐碎的验证码，准确性不高。在这方面，有几点需要考虑:

*   更高百分比的正确答案(对于非常复杂的验证码，OCR 给出了极高水平的错误答案；更不用说某些种类的验证码根本无法用 OCR 解决，至少目前是这样)
*   连续完美的工作，没有任何中断，快速适应新增加的复杂性。
*   成本效益高，资源有限，维护成本低，因为没有软件或硬件问题；所有你需要的是互联网连接，通过反验证码服务的 API 发送简单的请求。

## 在线解决服务的大玩家

现在我们知道了解决验证码的更好的技术，我们想在所有反验证码服务中选择最好的一个。一些服务提供高精度的解决方案、自动化的 API 支持，以及对我们请求的快速响应。我们有像 2captcha、Imagetyperz、CaptchaSniper 等组织。

2CAPTCHA 是我遇到的最好的服务之一。凭借超快的响应时间和准确性，他们提供无缝服务。这是我们用来绕过验证码的。

这就是为什么 2captcha 在同时代人中占优势的原因:

*   高速解决方案，图形和文本验证码 17 秒，ReCaptcha 约 23 秒
*   为所有流行的编程语言提供支持，包括它们现成库的全面文档。
*   高准确度(根据验证码类型高达 99%)
*   任何不正确的答案都将退款
*   能够解决大量的验证码(每分钟超过 10，000)。

## 结论

卷积神经网络(CNN)已经学会了如何绕过最简单类型的验证码，这导致验证码的积极发展。当然，ANN 会努力适应这些变化，验证码会变得更加复杂——这场竞赛永远不会结束。这就是为什么涉及真实工作者的在线反验证码服务将暂时领先于这些解决方案。