<html>
<head>
<title>Statistical Overview of Linear Regression (Examples in Python)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">线性回归的统计概述(Python 中的示例)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/statistical-overview-of-linear-regression-examples-in-python-80a38680e053?source=collection_archive---------4-----------------------#2019-03-23">https://towardsdatascience.com/statistical-overview-of-linear-regression-examples-in-python-80a38680e053?source=collection_archive---------4-----------------------#2019-03-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e529d42dad2b8b96a02276ed46011488.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3jeW8jGo2LVxkSiw3q3JPA.jpeg"/></div></div></figure><p id="4a1f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在统计学中，我们经常寻找方法来量化现实生活中的因素和反应之间的关系。</p><p id="2705" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">也就是说，我们可以把我们想要理解的反应大致分为两种类型:分类反应和连续反应。</p><p id="1a5c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于分类案例，我们正在研究某些因素是如何影响我们在一组选项中做出哪种反应的决定的。</p><p id="4f4e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，考虑一个关于脑瘤的数据集。在这种情况下，这些因素包括肿瘤的大小和患者的年龄。另一方面，反应变量必须是肿瘤是良性的还是恶性的。</p><p id="aec5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这些类型的问题通常被称为分类问题，实际上可以通过一种称为逻辑回归的特殊类型的回归来处理。</p><p id="f7f8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然而，对于连续的情况，我们正在观察我们的因素在多大程度上影响我们的反应变量的可测量的变化。</p><p id="b4f0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在我们的特定示例中，我们将查看广泛使用的波士顿住房数据集，该数据集可以在 scikit-learn 库中找到</p><p id="ed6d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">虽然该数据集通常用于预测性多元回归模型，但我们将专注于统计处理，以了解房间大小增加等特征如何影响住房价值。</p><h1 id="5ae3" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">模型符号和假设</h1><p id="063d" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">线性回归模型表示如下:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/e84e38b5c532b0f548c8e5280bfa9b58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*9i8CucipNQCVMM1d2nSYwQ.jpeg"/></div></figure><p id="2f7c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">其中:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mh"><img src="../Images/7e5739c8217a3318796a2e1770c3bf37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q3OpNCxNkOEWEJWH0y52yQ.jpeg"/></div></div></figure><p id="673b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了“拟合”线性回归模型，我们建立关于随机误差的某些假设，一旦这些假设适用，这些假设将确保我们对实际现象有一个很好的近似。</p><p id="2802" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这些假设如下:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mi"><img src="../Images/66d0bea11ebc8bda8c5b425503e6dbab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*33ygFMRN6ZdD-H71_E_4_Q.jpeg"/></div></div></figure><h1 id="0df5" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">探索性研究</h1><p id="2642" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">为了这个模型的目的，我们将把 MEDV 作为响应变量。MEDV 是以 1000 美元为单位的自有住房的中值</p><p id="0233" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这里，我们将会看到在 y 轴上有 MEDV 的那一行。也就是说，我们将查看房屋价值与数据集中所有其他要素之间关系的散点图。</p><p id="92f9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可以在这里找到所有数据集名称的完整描述:<br/><a class="ae mj" href="https://www.cs.toronto.edu/~delve/data/boston/bostonDetail.html" rel="noopener ugc nofollow" target="_blank">https://www . cs . Toronto . edu/~ delve/data/Boston/Boston detail . html</a></p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mk"><img src="../Images/fdeb501641e8855b631596487b324769.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WQYv87r8TgYQb8zWDXmaiA.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">All Features vs the Median Value of Owner Occupied Homes</figcaption></figure><p id="ad99" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一个特别突出的线性关系是每个住宅的平均房间数(RM)。</p><p id="e3c1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们仔细看看:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/f05e766492a7007b3b04d9e19dab821e.png" data-original-src="https://miro.medium.com/v2/resize:fit:548/format:webp/1*0yVDK_22omwQ32u8Xtrlcw.png"/></div></figure><h1 id="cf90" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">简单线性回归</h1><p id="f5ad" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">最简单的线性回归形式只包含截距和单因子项。</p><p id="e993" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这种情况下，我们将使用最小二乘法拟合模型。</p><h2 id="b609" class="mq la it bd lb mr ms dn lf mt mu dp lj km mv mw ln kq mx my lr ku mz na lv nb bi translated">最小二乘法</h2><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/7d7b3ee006e12b61976ee538c2c54755.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/1*HF3R6tq3sqfOKX7H0epwUQ.gif"/></div></figure><p id="fef4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当我们说“适合”模型时，我们的意思是找到最适合给定数据的因子项的估计值。在回归的情况下，这意味着我们找到最小化回归线和每个观察数据点之间距离的距离。</p><p id="5ac9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">也就是说，我们将平方误差降至最低，数学上表示为:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/3ce843499f0e11a742c9437882dbbab4.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*WPVv1q9LAlnp_yo81JILrQ.jpeg"/></div></figure><p id="3ef9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">其中 sigma 是数据集中所有行的总和。</p><p id="91e4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面是我们如何使用 python 库 statsmodel 拟合模型。</p><p id="ece4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们首先导入库:</p><pre class="md me mf mg gt ne nf ng nh aw ni bi"><span id="7b36" class="mq la it nf b gy nj nk l nl nm">import statsmodels.api as sm</span></pre><p id="f287" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们现在准备安装:</p><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="c293" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">请注意，我们必须添加一列称为“截距”的数字。</p><p id="4011" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是因为我们可以使用线性代数重写我们的模型，以便:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi np"><img src="../Images/bf3a906252e92138f0ac5f3e3c362a5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*Y4seADsfRrK6U81MQ8q6Wg.jpeg"/></div></figure><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nq"><img src="../Images/7b094fa131a343e7ced371c20282f2aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m4J1_lZWFUeb0U8JvZrsiA.jpeg"/></div></div></figure><p id="8647" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所以 1 列是 X 矩阵的第一列，所以当我们乘以因子系数向量时，我们得到了每个方程的截距值。</p><p id="707b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这种形式用于扩展多元回归的情况，但我们不会在本文中广泛涉及这种数学。</p><h1 id="ad08" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">适合摘要</h1><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/e51b97569fc19cd64d7f12e03f7884d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*NHpzyR3aviUHoax_4RUGpw.jpeg"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">slr_results.summary()</figcaption></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="10a6" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这些是因子系数的估计值。考虑截距术语的解释通常是没有意义的。例如，在我们的例子中，截距项与房子有 0 个房间的情况有关…房子没有房间是没有意义的。</p><p id="20a5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">另一方面，RM 系数有很多含义。它表明，每增加一个房间，业主自住房屋的中值就会增加 9102 美元。</p><p id="1039" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> P &gt; |t|: </strong>这是一个双尾假设检验，其中零假设是 RM 对 MEDV 没有影响。由于 p 值很低，接近于零，因此有强有力的统计证据来否定 RM 对 MEDV 没有影响的说法</p><p id="7336" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> R 平方:</strong>这是模型解释的方差，通常被认为是对模型拟合程度的衡量。然而，这个因素可以被抛弃，因为它可以通过增加因素的数量而被人为地夸大，即使这些因素并不重要。因此，我们还必须考虑调整的 R 平方，它调整计算以适应因子的数量。然而，在简单的线性回归中，这两者是相同的。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/e1f13ebdd31f221d50c47aec15a67050.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*9d79nR4HSF1qyxbTkpCygg.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">How our line fit’s the data</figcaption></figure><h1 id="d943" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">多元线性回归:</h1><h2 id="af45" class="mq la it bd lb mr ms dn lf mt mu dp lj km mv mw ln kq mx my lr ku mz na lv nb bi translated">当我们加入其他因素时会发生什么？</h2><p id="64d9" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">既然我们没什么别的事可做，为什么不干脆把它们都扔了呢<br/>(免责声明:也许你不应该在家里尝试…..尤其是如果你有成千上万的功能…)</p><ul class=""><li id="8d5a" class="oa ob it kd b ke kf ki kj km oc kq od ku oe ky of og oh oi bi translated">除了 CHAS:因为它是二进制的*</li></ul><figure class="md me mf mg gt ju"><div class="bz fp l di"><div class="nn no l"/></div></figure><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/11e4cc369900e1d861edb3de1d798cea.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*zlx7yuPLWiZx-PGJjFEZOg.jpeg"/></div></figure><p id="53c4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">好吧…我为那张汇总表有多长而道歉:/</p><p id="6cbb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">请注意，R 平方和调整后的 R 平方显著增加。然而，也请注意，现在有一个强有力的统计证据支持它不影响 MEDV 的说法。</p><p id="724c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这一特点是年龄，我们将删除它从我们的模型和改装。</p><p id="a2c3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将继续修剪和比较，直到我们有所有的统计显著特征。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ok"><img src="../Images/31f22ad436f38a9f3b86c055541c1e99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YIecR5OUrSWtu1R-Xypyow.jpeg"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Red: Dropped, Black: R-squared, Green: Adjusted R-squared</figcaption></figure><p id="7aff" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正如我们所看到的，列 Age 和 Indus 对模型的拟合没有贡献，最好不要考虑它们。</p><p id="b929" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> Prob(F-statistic): </strong>是与整体模型的显著性检验相关联的 p 值。在这种情况下，零假设是模型总体上不显著。由于我们的值远低于 0.01，我们可以拒绝零假设，而支持另一种选择，即该模型具有统计学意义。</p><p id="6d1a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">***注意* * *</p><p id="6f7a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于多元线性回归，β系数的解释略有不同。</p><p id="54a0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如，RM coef 建议，对于每一个额外的房间，我们可以预期自有住房的中值增加 3485 美元，<strong class="kd iu">所有其他因素保持不变</strong>。还要注意，系数的实际值也发生了变化。</p><h1 id="d3c5" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">模型诊断</strong></h1><p id="1d8b" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">此时，您可能想知道我们可以做些什么来提高模型的拟合度。由于 adj. R-squared 为 0.730，当然还有改进的空间。</p><p id="5dba" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们可以考虑的一件事是，我们可以向数据集添加哪些对我们的模型可能很重要的新功能。</p><p id="f7f7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">除此之外，我们还需要进行测试，看看首先应用线性回归实际上是否合理。</p><p id="b718" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为此，我们寻找剩余图。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/dbef2fd842a945e715c441316a30876e.png" data-original-src="https://miro.medium.com/v2/resize:fit:548/format:webp/1*nMmI-lg1UmuYOtha8JlaWw.jpeg"/></div></figure><p id="ee1a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里的好处是残差是对模型中随机误差的一个很好的估计。也就是说，我们将能够绘制残差与特征(或预测值)的关系图，以了解残差的分布情况。</p><p id="fb67" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们预计，如果模型假设成立，我们将看到一个完全分散的图，点的范围在某个恒定值之间。这意味着残差是独立的，正态分布的，具有零均值和恒定方差。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/818ea7b179fe1b2f993b10107ad5ce1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/format:webp/1*blUhptNYwIoAJphveEL0AA.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">standard residual plot</figcaption></figure><p id="034d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然而，在我们的单反案例中，我们有 RM</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi om"><img src="../Images/4c4949221762764783d1127ad8a2ce4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*ppoNAMPU2ZHBCK3iRPEczA.png"/></div></figure><p id="0fea" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这里我们可以看到，有一些非线性模式的迹象，因为残差图似乎在底部是弯曲的。</p><p id="bae0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这违反了我们的模型假设，我们假设模型具有恒定的方差。</p><p id="d5e7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">事实上，在这种情况下，方差似乎是根据其他函数而变化的。我们将使用<strong class="kd iu"> box-cox </strong>方法来处理这个问题。</p><p id="70d1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们可以通过创建一个 QQ 图来进一步检验我们的正态性假设。对于正态分布，QQ 图将趋向于直线。</p><p id="e80c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是请注意，这条线明显是倾斜的。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi on"><img src="../Images/2d3e4a2e15261a85028d0b884f04e6c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*QSMetL6fEa8ay3RpqplRPQ.png"/></div></figure><h2 id="a6c2" class="mq la it bd lb mr ms dn lf mt mu dp lj km mv mw ln kq mx my lr ku mz na lv nb bi translated">博克斯-考克斯方法</h2><p id="c520" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">这是一个过程，通过这个过程，我们可以找到最合适的变换的最大似然估计，我们应该应用于响应值，以便我们的数据能够具有恒定的方差。</p><p id="46be" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用 scipy.stats 实现后，我们得到的 lambda 值为 0.45，我们可以将它用作 0.5，因为它不会在拟合方面产生巨大的差异，但它会使我们的答案更具可解释性。</p><pre class="md me mf mg gt ne nf ng nh aw ni bi"><span id="30fa" class="mq la it nf b gy nj nk l nl nm">import scipy.stats as stats<br/>df.RM2,fitted_lambda = stats.boxcox(df.RM)</span></pre><p id="fc15" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">下面你会发现一个常见的 lambda 值及其建议的响应转换表。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oo"><img src="../Images/eb733d48e99d6da2d8607c17ecdb835e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7of6VKG7RDA106GppbhPDA.jpeg"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Common Lambda Values — taken from statistics how-to</figcaption></figure><p id="e388" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此后，我们相应地改变我们的回应:</p><pre class="md me mf mg gt ne nf ng nh aw ni bi"><span id="06b7" class="mq la it nf b gy nj nk l nl nm">df.MEDV2 = np.sqrt(df.MEDV)</span></pre><p id="d683" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后我们将模型拟合到 MEDV2，它是 MEDV 的平方根。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi op"><img src="../Images/75780cc53f3a79f97dd5b271957c893c.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*uI_-96dSN1vXTsiiKJg4sQ.jpeg"/></div></figure><p id="0a78" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在特征数量相同的情况下，我们的 R 平方值和调整后的 R 平方值都上升了不少。有点酷吧？</p><p id="82a5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，我们的剩余地块也有一些改进:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/0bfa2959f53fc2227587f285c9e0119a.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*yoOHO56EDCf_yFkDHMja-Q.png"/></div></figure><p id="da20" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，我们还可以尝试将我们的转换应用于特征变量的每个</p><pre class="md me mf mg gt ne nf ng nh aw ni bi"><span id="6d11" class="mq la it nf b gy nj nk l nl nm">X = df[['intercept','CRIM', 'ZN','NOX', 'RM','DIS', 'RAD',<br/>       'TAX', 'PTRATIO', 'B', 'LSTAT']]<br/>X2 = X.apply(np.sqrt)</span></pre><p id="3a15" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，我们拟合由 X2 作为我们的特征矩阵和 MEDV2 作为我们的响应变量组成的模型。</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi or"><img src="../Images/32eec0313a59e308d4c0daf50166699e.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/format:webp/1*-ojUsWDOVpz2eofEBlWCtg.jpeg"/></div></figure><p id="2edf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这里，我们看到在<strong class="kd iu">相同</strong>数量的特性下，这些值有了更大的提高。</p><p id="a192" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们最后的剩余图看起来像这样:</p><figure class="md me mf mg gt ju gh gi paragraph-image"><div class="gh gi os"><img src="../Images/b1d2e6a9dddf39e8a2f4c002e7f2cafa.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*iBj0LrHcU2cmFjLrVU_WbQ.png"/></div></figure><p id="05ac" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所以很明显还有改进的空间，但是我们确实取得了一些进步。</p><h1 id="e0e0" class="kz la it bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">一些附加说明</h1><p id="92b2" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">回归模型的统计理解还有更多的部分。例如，我们有可能得出围绕每个节拍系数甚至围绕我们的预测值的置信区间。</p><p id="b6a3" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，关于<em class="ot"> CHAS，</em>由于它的{1，0}编码，包含 chase 也没问题。对于更多的选项，除非选项有自然的顺序，否则很难或不可能解释贝塔系数。当我们用 chas 拟合最终模型时，调整后的 R 平方为 0.794。在这种情况下，对β系数 0.077 的解释是:</p><blockquote class="ou"><p id="a590" class="ov ow it bd ox oy oz pa pb pc pd ky dk translated">如果房屋区域毗邻查尔斯河，那么在所有其他因素保持不变的情况下，业主自住房屋的中值将比未毗邻查尔斯河的房屋高出 77 美元。</p></blockquote><h1 id="40e2" class="kz la it bd lb lc ld le lf lg lh li lj lk pf lm ln lo pg lq lr ls ph lu lv lw bi translated">结论</h1><p id="5966" class="pw-post-body-paragraph kb kc it kd b ke lx kg kh ki ly kk kl km lz ko kp kq ma ks kt ku mb kw kx ky im bi translated">我希望我能够让大家明白回归不仅仅是基于某些特征进行预测。事实上，有一个回归分析的世界致力于使用这些技术来更深入地了解我们周围现实世界中的变量。</p></div></div>    
</body>
</html>