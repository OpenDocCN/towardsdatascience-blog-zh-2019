<html>
<head>
<title>Digitizing handwritten vaccination records in Nigeria with AI and ML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 AI 和 ML 数字化尼日利亚手写疫苗接种记录</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/digitizing-handwritten-vaccination-records-in-nigeria-with-artificial-intelligence-and-machine-cff7721b177a?source=collection_archive---------26-----------------------#2019-05-17">https://towardsdatascience.com/digitizing-handwritten-vaccination-records-in-nigeria-with-artificial-intelligence-and-machine-cff7721b177a?source=collection_archive---------26-----------------------#2019-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="c090" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">简介</strong></p><p id="11f9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">作为小儿麻痹症数据科学家，我在联合国儿童基金会尼日利亚办事处工作时，遇到了由 20，000 名小儿麻痹症志愿者分发的疫苗接种卡存在错误的问题，甚至需要检查更大数量的疫苗接种卡。简单的数字化和给每个人一个平板电脑不是一个选项。经过研究，我决定使用 AI/ML 和计算机视觉从卡片上“读取”信息，然后提供关于最常见错误的反馈机制，并预测正确的信息。</p><p id="4c39" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本教程中，您将看到如何实现这一点，以及未来优化的结果和建议。我将主要使用 python 库 TensorFlow 和 OpenCV 以及一些支持库。</p><p id="5e5c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">安装</strong></p><p id="ea2b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用 TensorFlow 的安装因您要使用的操作系统和硬件而异。参考本文的一般说明<a class="ae ko" href="https://www.tensorflow.org/install/pip" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">此处</strong> </a></p><p id="559b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于本教程，我将使用以下软件包:</p><blockquote class="kp kq kr"><p id="94ff" class="jq jr ks js b jt ju jv jw jx jy jz ka kt kc kd ke ku kg kh ki kv kk kl km kn im bi translated">OS:Linux _ X64(Arch Linux)<br/>Python 包管理器:Anaconda 或 Miniconda(安装说明<a class="ae ko" href="https://docs.anaconda.com/anaconda/install/" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">此处</strong></a>)<br/>CUDA 10 . 1 . 105<br/>cud nn 7 . 5 . 0<br/>Python tensor flow Api V1<br/>Opencv-Python</p></blockquote><p id="ca5a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用 miniconda(或 anaconda)，按照以下步骤安装所需的 python 库</p><p id="3baf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创造康达环境</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="365b" class="lf lg it lb b gy lh li l lj lk">conda create -n pyocr<br/>conda activate pyocr</span></pre><p id="e42b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">安装所需的软件包</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="4e9e" class="lf lg it lb b gy lh li l lj lk">conda install tensorflow<br/>conda install opencv<br/>conda install -c lightsource2-tag pyzbar<br/>pip install editdistance</span></pre><p id="8d0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为将来的复制保留库版本</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="2333" class="lf lg it lb b gy lh li l lj lk">conda env export &gt; &lt;environment-name&gt;.yml</span></pre><p id="124f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在另一台机器上重新创建环境</p><p id="e604" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要在另一台计算机上重新创建环境，请在另一台计算机上创建并激活环境后使用此方法</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="701f" class="lf lg it lb b gy lh li l lj lk">conda env create -f &lt;environment-name&gt;.yml</span></pre><p id="347a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">使用张量流识别文本</strong></p><p id="6ce3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先要理解的是，该模型的准确性取决于您将用于训练的样本。需要更多的样本来获得更高的精度。这也意味着如果你需要识别多人写的文本，你必须包含足够多的他们写的文本样本</p><p id="d8aa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">整个教程代码都上传到 GitHub 存储库中。如果您需要最终代码，可以使用 git clone 来克隆这个存储库</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="cf51" class="lf lg it lb b gy lh li l lj lk">git clone git@github.com:PiotrKrosniak/ocrbot.git pyocr</span></pre><p id="92af" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">输入</strong></p><p id="ce54" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">查看上面文件夹中的输入文件夹。将您想要运行脚本的图像保存在这里(以便更好地组织)</p><figure class="kw kx ky kz gt lm gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/cac0bf00e5cb19bfcedd3dc52cc640dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*HEXR1D0qSRvwDfI1MgWHIw.png"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk"><em class="lt">Fig 1: Github folder structure for input folder</em></figcaption></figure><p id="a3f6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">获取训练数据</strong></p><ol class=""><li id="f029" class="lu lv it js b jt ju jx jy kb lw kf lx kj ly kn lz ma mb mc bi translated">获取 IAM 数据集</li><li id="845a" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn lz ma mb mc bi translated">报名地点:<a class="ae ko" href="http://www.fki.inf.unibe.ch/databases/iam-handwriting-database" rel="noopener ugc nofollow" target="_blank"><strong class="js iu">http://www . fki . INF . unibe . ch/databases/iam-手写-数据库</strong> </a></li><li id="a701" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn lz ma mb mc bi translated">下载 ascii/words.txt。</li><li id="9f40" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn lz ma mb mc bi translated">将 words.txt 放入数据/目录中。</li><li id="6caa" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn lz ma mb mc bi translated">下载 words/words.tgz. <br/>。创建目录 data/words/。</li></ol><p id="5b97" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">a.将 words.tgz 的内容(目录 a01、a02、…)放入 data/words/ <br/> i. <br/>对于 linux 终端—在文件夹 data 中，运行 linux 命令 tar xvf words.tgz -C words)</p><ol class=""><li id="e036" class="lu lv it js b jt ju jx jy kb lw kf lx kj ly kn lz ma mb mc bi translated">运行 checkDirs.py 对文件进行粗略检查</li></ol><p id="ebbd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">检查目录结构是否如下所示:</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="f5a4" class="lf lg it lb b gy lh li l lj lk">data<br/>— test.png<br/>— words.txt<br/>— words<br/>— — a01<br/>— — — a01–000u<br/>— — — — a01–000u-00–00.png<br/>— — — — …<br/>— — — …<br/>— — a02<br/>— — …</span></pre><p id="35b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">训练模型</p><p id="eb82" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先提取模型。将 model.zip fil 解压到同一个文件夹(<root> /model)中，然后在 src 目录下运行训练。此处的脚本将基于之前训练的模型，并根据您的数据提高其准确性</root></p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="e38d" class="lf lg it lb b gy lh li l lj lk">python main.py — train</span></pre><p id="4d73" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这可能需要很长时间来运行培训，如果没有 GPU，可能需要 16 到 18 个小时。该脚本运行称为 epochs 的训练批次，直到连续批次之间的文本识别准确性没有明显提高。完成后，您将看到在模型文件夹下生成的文件。</p><figure class="kw kx ky kz gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mi"><img src="../Images/2fe3028fa15ddfd9f7f72b27de2cad4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XCDHWwqVO20m9UnGm6qw_w.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk"><em class="lt">Fig 2: The Model folder with the TensorFlow trained models</em></figcaption></figure><p id="621a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">快照和检查点将如上生成</p><p id="cb8f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">运行 OCR 脚本</strong></p><p id="d49a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">既然模型是在 code 文件夹中生成的，让我们运行代码从我们的图像中获取文本。确保您的输入文件在输入文件夹中</p><figure class="kw kx ky kz gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mn"><img src="../Images/77b2bd8c2e61d84a944ab7b05300c2a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_EHnQulE-a2Oi2zCcUeI9g.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk"><em class="lt">Fig 3: Input folder with your images</em></figcaption></figure><p id="afa2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">运行 src 文件夹中的代码(在终端内部)</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="05c6" class="lf lg it lb b gy lh li l lj lk">Python Demo.py</span></pre><p id="7838" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">代码将在输入图像上运行。您将在终端中看到如下输出</p><figure class="kw kx ky kz gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mi"><img src="../Images/23d625a85efeeed7404fe84477d1d695.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mIjp39hOl6BosoZhANDOcg.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk"><em class="lt">Fig 4: Sample Terminal output on running inference</em></figcaption></figure><p id="9f46" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">代码运行完成后，输出将出现在输出文件夹中:</p><figure class="kw kx ky kz gt lm gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mn"><img src="../Images/77b2bd8c2e61d84a944ab7b05300c2a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_EHnQulE-a2Oi2zCcUeI9g.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk"><em class="lt">Fig 5: Output folder after running OCR script</em></figcaption></figure><p id="d9da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">文件夹将包含表格单元格，每个单元格作为一个单独的图像。在下一节中，我们将使用这些生成的图像来进一步提高我们的准确性</p><p id="3929" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，基于您当前的模型，识别的文本将以与输入图像相同的名称保存在 CSV 文件中。这些 CSV 文件可以在 Microsoft Excel 或 google sheets 等电子表格软件中打开</p><p id="caa0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">提高精度</strong></p><p id="45e8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">图像中的单个表格单元格作为单独的图像存储在输出文件夹中。这些图像可以帮助模型识别您自己数据集的手写-&gt;文本映射。通常，如果您有许多不常用的英文单词，如姓名，或者图像中的手写风格与训练模型的 IAM 默认数据集有很大不同，则这是必要的</p><p id="9b47" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要使用这些表格单元格图像来训练数据集，请按照以下步骤操作:</p><ol class=""><li id="9a79" class="lu lv it js b jt ju jx jy kb lw kf lx kj ly kn lz ma mb mc bi translated">预处理图像，使其符合 IAM 数据集。这对于脚本正确训练你的图像是绝对必要的。在更高的级别上，执行以下步骤:</li></ol><p id="a186" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">a.加粗文本中模糊的线条</p><p id="e2cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">b.用分词去掉单词周围多余的空格(参考<a class="ae ko" href="https://github.com/githubharald/WordSegmentation" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">这段</strong> </a>代码)</p><p id="f6cd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">c.通过阈值技术提高对比度</p><ol class=""><li id="ca68" class="lu lv it js b jt ju jx jy kb lw kf lx kj ly kn lz ma mb mc bi translated">以 Dataloader.py 模块使用的格式重命名并复制数据文件夹中的图像:</li></ol><p id="bbd5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">例如，文件 c01–009–00–00.png 应该保存在以下文件夹层次结构中</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="b5f8" class="lf lg it lb b gy lh li l lj lk">| Words<br/>| — a01<br/>| — — c01–009<br/>| — — — c01–009–00–00.png</span></pre><p id="1b2b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是，您可以通过编辑 DataLoader.py 模块来更改这些文件夹层次结构/文件命名约定</p><p id="01b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">3.编辑数据模块中的 words.txt 文件以包含这些图像</p><p id="ee9f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以下代码执行操作 1a 和 b</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="4242" class="lf lg it lb b gy lh li l lj lk">import numpy as np<br/>import cv2</span><span id="65ed" class="lf lg it lb b gy mo li l lj lk"># read<br/>img = cv2.imread(‘in.png’, cv2.IMREAD_GRAYSCALE)</span><span id="aafb" class="lf lg it lb b gy mo li l lj lk"># increase contrast<br/>pxmin = np.min(img)<br/>pxmax = np.max(img)<br/>imgContrast = (img — pxmin) / (pxmax — pxmin) * 255</span><span id="fc4f" class="lf lg it lb b gy mo li l lj lk"># increase line width<br/>kernel = np.ones((3, 3), np.uint8)<br/>imgMorph = cv2.erode(imgContrast, kernel, iterations = 1)</span><span id="c269" class="lf lg it lb b gy mo li l lj lk"># write<br/>cv2.imwrite(‘out.png’, imgMorph)</span></pre><p id="1fb2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要编写 words.txt 文件，请遵循以下适用于您的图像的格式:</p><p id="9e1b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">样本线:a01–000 u-00–00 ok 154 1 408 768 27 51 AT A</p><ul class=""><li id="cbd3" class="lu lv it js b jt ju jx jy kb lw kf lx kj ly kn mp ma mb mc bi translated">a01–000 u-00–00-&gt;表格 a01–000 u 中第 00 行的 word id。这也是您正在映射的图像的文件名</li><li id="1798" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">确定-&gt;分词结果</li><li id="3f2c" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">好:单词是正确的</li><li id="e679" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">呃:词的切分可能不好</li><li id="b9a2" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">154 -&gt; graylevel 对包含这个单词的行进行二值化。这是对比度拉伸/阈值处理步骤。</li><li id="8417" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">1 -&gt;该词的成分数</li><li id="ec85" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">4087682751--&gt;以 x，y，w，h 格式围绕该单词的边框</li><li id="6d91" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">在-&gt;这个词的语法标签，见</li></ul><p id="01ea" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">文件 tagset.txt 获得解释</p><ul class=""><li id="db42" class="lu lv it js b jt ju jx jy kb lw kf lx kj ly kn mp ma mb mc bi translated">描述图像文本内容的这个词的转录</li></ul><p id="dfa3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以上将为您的图像定制模型。为了提高模型本身的精度，请参考本页 中<a class="ae ko" href="https://github.com/githubharald/SimpleHTR" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">的提高精度部分</strong></a></p><p id="e8c3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">方法的解释</p><p id="b49c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该代码执行三个主要步骤:</p><ol class=""><li id="c73a" class="lu lv it js b jt ju jx jy kb lw kf lx kj ly kn lz ma mb mc bi translated">匹配模板并旋转图像</li><li id="1000" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn lz ma mb mc bi translated">识别表格中的行并进行裁剪</li><li id="e7e6" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn lz ma mb mc bi translated">使用 python-tensorflow 识别文本</li></ol><p id="5c63" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该识别算法基于简化版本的 HTR 文本识别系统。如果对机理感兴趣，可以参考这篇<a class="ae ko" href="https://repositum.tuwien.ac.at/obvutwhs/download/pdf/2874742" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">论文</strong> </a></p><p id="cc69" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它由 5 个 CNN 层、2 个 RNN (LSTM)层和 CTC 丢失和解码层组成</p><ul class=""><li id="73cc" class="lu lv it js b jt ju jx jy kb lw kf lx kj ly kn mp ma mb mc bi translated">输入图像是灰度值图像，大小为 128×32</li><li id="f397" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">5 个 CNN 层将输入图像映射到大小为 32×256 的特征序列</li><li id="3829" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">具有 256 个单元的 2 个 LSTM 层通过该序列传播信息，并将该序列映射到大小为 32×80 的矩阵。每个矩阵元素代表 80 个字符中的一个在 32 个时间步长中的一个的分数</li><li id="d1a9" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">CTC 层或者在给定矩阵和基本事实文本的情况下计算损失值(训练时)，或者利用最佳路径解码或波束搜索解码将矩阵解码为最终文本(推断时)</li><li id="02ad" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn mp ma mb mc bi translated">批量大小设置为 50</li></ul><p id="6b0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">图 5:使用张量流的 OCR 步骤中涉及的机制</p><p id="391a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">结论</strong></p><p id="d6a7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">遵循本教程，您现在有了一种自动数字化表格格式的手写文本的方法。一旦你训练模型识别你的笔迹并根据你的需求进行定制，就可以节省无数的时间。但是，要小心，因为识别不是 100%准确的。因此，在您准备好共享最终的电子表格之前，可能需要在电子表格生成之后进行一轮高级别的校对</p><p id="afbe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">参考:</p><ol class=""><li id="703e" class="lu lv it js b jt ju jx jy kb lw kf lx kj ly kn lz ma mb mc bi translated">代码参考:<a class="ae ko" href="https://github.com/PiotrKrosniak/ocrbot" rel="noopener ugc nofollow" target="_blank">https://github.com/PiotrKrosniak/ocrbot</a></li><li id="19d0" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn lz ma mb mc bi translated">使用 google TensorFlow 进行手写识别:<a class="ae ko" rel="noopener" target="_blank" href="/build-a-handwritten-text-recognition-system-using-tensorflow-2326a3487cd5">https://towards data science . com/build-a-handled-text-recognition-system-using-tensor flow-2326 a 3487 cd5</a></li><li id="4d46" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn lz ma mb mc bi translated">处理边缘案件:<a class="ae ko" rel="noopener" target="_blank" href="/faq-build-a-handwritten-text-recognition-system-using-tensorflow-27648fb18519">https://towards data science . com/FAQ-build-a-handled-text-recognition-system-using-tensor flow-27648 FB 18519</a></li><li id="2d06" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn lz ma mb mc bi translated">数据集开始:<a class="ae ko" href="http://www.fki.inf.unibe.ch/databases/iam-handwriting-database" rel="noopener ugc nofollow" target="_blank">http://www . fki . INF . unibe . ch/databases/iam-手写-数据库</a></li><li id="c5d1" class="lu lv it js b jt md jx me kb mf kf mg kj mh kn lz ma mb mc bi translated"><a class="ae ko" href="https://github.com/githubharald/SimpleHTR" rel="noopener ugc nofollow" target="_blank">https://github.com/githubharald/SimpleHTR</a></li></ol></div></div>    
</body>
</html>