<html>
<head>
<title>PySyft for Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">安卓版 PySyft</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pysyft-android-b28da47a767e?source=collection_archive---------23-----------------------#2019-05-07">https://towardsdatascience.com/pysyft-android-b28da47a767e?source=collection_archive---------23-----------------------#2019-05-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1ca4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">扩展 OpenMined 为移动设备带来隐私</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/be6970e013bbf440bfdc0217d252fcac.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*UR6qdiviuhMi3MftvON_ZQ.png"/></div></figure><h1 id="a843" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">什么是 PySyft</h1><p id="4eab" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">“PySyft 是一个用于安全、私人深度学习的 Python 库。PySyft 使用 PyTorch 中的<a class="ae mb" href="https://en.wikipedia.org/wiki/Secure_multi-party_computation" rel="noopener ugc nofollow" target="_blank">多方计算(MPC) </a>将私有数据从模型训练中分离出来</p><p id="4945" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">PySyft 是<a class="ae mb" href="http://www.openmined.org" rel="noopener ugc nofollow" target="_blank">露天</a>家族中的主要部分。</p><h1 id="fd6f" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">什么是 Android 版的 PySyft</h1><p id="b93b" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">PySyft for Android 是让不同平台在 PySyft 环境下协同工作的第一步</p><p id="0f70" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">PySyft 依靠工人来完成这项工作。目前，这些工作器是用 Python 实现的，并与 PyTorch 上的 PySyft 包装器挂钩</p><p id="08bd" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">PySyft for Android 扩展了这个系统，允许边缘的移动设备使用不同的框架进行操作。在这个概念验证的例子中，Android 应用程序使用<strong class="lh ir"> Nd4J </strong>和<strong class="lh ir"> DL4J </strong>来计算来自 PySyft (PyTorch)工作器的操作</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mh mi l"/></div></figure><h1 id="e0d3" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">应用程序</h1><p id="115a" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在联合学习设置中，Android 应用程序位于边缘，保存其数据以进行本地训练</p><p id="d8bf" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">对于 MPC，我们可以让参与者使用不同的操作系统和平台来进行操作</p><h1 id="94c6" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">高层架构</h1><p id="151c" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">该设置有三个主要组件:</p><ul class=""><li id="26e9" class="mj mk iq lh b li mc ll md lo ml ls mm lw mn ma mo mp mq mr bi translated">一个 PySyft worker 实现<em class="ms"> WebsocketIOClientWorker </em>作为门面</li><li id="91c4" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated">一个在两个参与者之间转发请求和响应的<em class="ms">WebsocketIOServerWorker</em></li><li id="2f51" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated">执行从外观发送的操作的 Android 应用程序</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi my"><img src="../Images/d91afc99b7a9f05eaed30eb5e5692ba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/0*MA96S9P8GseBsRDa"/></div></figure><p id="31ab" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">下图显示了在此设置中如何处理驱动程序或执行元发送的命令</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi mz"><img src="../Images/3896342cf7f4fb72e2935f19205c5a70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uKx8pV8J4kfN2iXy"/></div></div></figure><p id="3fa9" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">这些对象构成了一个组件，通过<em class="ms"> SocketIOClientWorker </em>提供与 PySyft 中任何其他工作器相同的 API。从参与者的角度来看，整个组件只是另一个工人</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi ne"><img src="../Images/8586caa3ab67a7bdff3b14e3e3e892a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*G21YGzdIugvFq7GE"/></div></div></figure><h1 id="2cfe" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">应用程序的架构</h1><p id="2da3" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">应用程序的架构可以在下图中看到。这是一个基于关注点分离的架构，由遵循干净架构的层来定义。这将允许我们在其他 Java/Kotlin 平台中重用大量工作</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi nf"><img src="../Images/a4df16b96b2ce02dcc0b296103f66c16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hGlHyGImQA914m4D"/></div></div></figure><h1 id="8b81" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">通信详细信息</h1><p id="8b3c" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">通信是使用 SocketIO 完成的，但是服务器端的工作人员和 Android 应用程序都可以使用其他套接字库</p><p id="3b7f" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">主要的限制是由 PySyft 工作线程的同步特性造成的</p><ul class=""><li id="3071" class="mj mk iq lh b li mc ll md lo ml ls mm lw mn ma mo mp mq mr bi translated"><em class="ms"> _recv_msg </em>是同步的，一旦操作被发送到 Android，它不能等待后者的回复，因为它正在通过服务器。这就是信号量在 SocketIO 类中所做的事情</li></ul><h1 id="b9cb" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">使用中性张量表示</h1><p id="3408" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">考虑到 Android 不能使用 PyTorch 对象，必须选择一个中性的表示来使数据在双方都可用。幸运的是 PyTorch 和 DL4J 都提供了使用<em class="ms"> npy </em>格式的可能性。虽然这种转换会影响性能，但它向我们保证了双向传输的数据不会被破坏</p><p id="6de2" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">与 TFLite 团队关于实现<em class="ms"> npy </em>的对话也令人鼓舞，应该不会太难。这项工作也可以用于其他平台(例如，基于 KMath 的平台)</p><h1 id="fdc0" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">验证性测试（Proof of Concept 的缩写）</h1><p id="e815" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这个 PoC 实现了以下 PySyft 操作:发送、删除、获取和添加</p><p id="41d5" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">使用了以下库:</p><ul class=""><li id="e303" class="mj mk iq lh b li mc ll md lo ml ls mm lw mn ma mo mp mq mr bi translated"><strong class="lh ir"> DL4J: </strong>这是将处理操作的机器学习框架，尽管对于这个 PoC 来说只有<strong class="lh ir"> Nd4J </strong>是必要的。该系统对其他框架是开放的</li><li id="d349" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated"><strong class="lh ir"> msgpack: </strong> PySyft 使用它在工人之间移动数据和操作。这也必须在 Android 上实现，尽管如果必要的话可以使用不同的格式</li><li id="d3f7" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated"><strong class="lh ir"> SocketIO </strong>:使用这个库有很强的依赖性，因为它也被代理/服务器使用。</li></ul><h1 id="e140" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">怎么跑？</h1><p id="808d" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">您必须安装 PySyft。遵循存储库中的说明</p><div class="ng nh gp gr ni nj"><a href="https://github.com/OpenMined/PySyft" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">露天开采/PySyft</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">一个加密的、保护隐私的深度学习库</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">github.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx kl nj"/></div></div></a></div><p id="829a" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">从以下存储库中获取应用程序的代码</p><div class="ng nh gp gr ni nj"><a href="https://github.com/OpenMined/AndroidWorker" rel="noopener  ugc nofollow" target="_blank"><div class="nk ab fo"><div class="nl ab nm cl cj nn"><h2 class="bd ir gy z fp no fr fs np fu fw ip bi translated">露天采矿/机器人工人</h2><div class="nq l"><h3 class="bd b gy z fp no fr fs np fu fw dk translated">通过在 GitHub 上创建一个帐户，为 OpenMined/AndroidWorker 开发做出贡献。</h3></div><div class="nr l"><p class="bd b dl z fp no fr fs np fu fw dk translated">github.com</p></div></div><div class="ns l"><div class="ny l nu nv nw ns nx kl nj"/></div></div></a></div><p id="a546" class="pw-post-body-paragraph lf lg iq lh b li mc jr lk ll md ju ln lo me lq lr ls mf lu lv lw mg ly lz ma ij bi translated">运行此安装程序需要以下步骤:</p><ol class=""><li id="8c36" class="mj mk iq lh b li mc ll md lo ml ls mm lw mn ma nz mp mq mr bi translated">启动 Android 应用程序</li><li id="fcc9" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma nz mp mq mr bi translated">启动服务器(<em class="ms">socket io _ server _ demo . py</em>展示了如何以一种简单的方式完成这项工作)</li><li id="97fd" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma nz mp mq mr bi translated">启动 socketio 客户端</li><li id="d072" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma nz mp mq mr bi translated">驱动程序可以在笔记本上运行。“插座鲍勃”可以作为一个例子</li><li id="5794" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma nz mp mq mr bi translated">连接 socketio 客户端(Bob)</li><li id="bed9" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma nz mp mq mr bi translated">连接 Android 应用程序</li><li id="aa10" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma nz mp mq mr bi translated">开始用吧！</li></ol><h1 id="ef75" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">即将推出</h1><ul class=""><li id="e47c" class="mj mk iq lh b li lj ll lm lo oa ls ob lw oc ma mo mp mq mr bi translated">Kotlin 多平台模块，允许为 JVM 实现的核心在其他环境中使用</li><li id="7157" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated">Tensorflow Lite 实施</li><li id="4857" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated">KMath 实现</li><li id="83cc" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated">非阻塞套接字通信</li><li id="97b3" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated">压缩</li><li id="5d38" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated">有模型的计划</li></ul><h1 id="8bd2" class="kn ko iq bd kp kq kr ks kt ku kv kw kx jw ky jx kz jz la ka lb kc lc kd ld le bi translated">参考</h1><ul class=""><li id="193d" class="mj mk iq lh b li lj ll lm lo oa ls ob lw oc ma mo mp mq mr bi translated"><a class="ae mb" href="https://www.openmined.org/" rel="noopener ugc nofollow" target="_blank">https://www.openmined.org/</a></li><li id="e3e6" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated"><a class="ae mb" href="https://github.com/OpenMined/PySyft" rel="noopener ugc nofollow" target="_blank">https://github.com/OpenMined/PySyft</a></li><li id="c0a9" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated"><a class="ae mb" href="https://github.com/OpenMined/AndroidWorker" rel="noopener ugc nofollow" target="_blank">https://github.com/OpenMined/AndroidWorker</a></li><li id="483f" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated"><a class="ae mb" href="https://docs.scipy.org/doc/numpy-1.14.0/neps/npy-format.html" rel="noopener ugc nofollow" target="_blank">https://docs . scipy . org/doc/numpy-1 . 14 . 0/neps/npy-format . html</a></li><li id="c4ad" class="mj mk iq lh b li mt ll mu lo mv ls mw lw mx ma mo mp mq mr bi translated"><a class="ae mb" href="https://github.com/msgpack" rel="noopener ugc nofollow" target="_blank">https://github.com/msgpack</a></li></ul></div></div>    
</body>
</html>