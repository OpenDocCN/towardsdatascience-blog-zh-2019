<html>
<head>
<title>The intuition behind A/B Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">A/B 测试背后的直觉</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-intuition-behind-a-b-testing-a-primer-for-new-product-managers-6f21dee98533?source=collection_archive---------8-----------------------#2019-08-16">https://towardsdatascience.com/the-intuition-behind-a-b-testing-a-primer-for-new-product-managers-6f21dee98533?source=collection_archive---------8-----------------------#2019-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="cffb" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">A/B 测试基础</h2><div class=""/><div class=""><h2 id="3a14" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">新产品经理入门</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/ce5aa18b2a571d0029629c8380aa359b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N5yLQ_9fyVJeQ_p8"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Photo by <a class="ae lh" href="https://unsplash.com/@freestocks?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">freestocks.org</a> on <a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="8dd8" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">目的</h2><p id="37d9" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">假设检验如 A/B 检验的意义是什么？就此而言，我们为什么要测试新事物？A/B 测试的结果告诉我们什么？你应该对 A/B 测试的结果有多少信心？你如何真正理解 A/B 测试中发生的事情？产品经理如何避免那些刚刚踏上征途的人常见的错误？</p><p id="135b" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">这篇文章的目的就是要回答这些问题。</p><h2 id="8036" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">背景</h2><p id="9a97" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">当所提供的内容发生变化时(无论这种变化是引入了一种新药，还是对一个网站进行了更改)，我们都想知道</p><ol class=""><li id="270f" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">变革是否达到了预期的效果。</li><li id="58ef" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">观察到的任何影响都是您引入的变化的结果。</li></ol><p id="37d1" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">例如:在一种新的糖尿病药物的情况下，你想知道这种药物是否有预先估计的影响，而不是给药。在一个试图销售某种商品的在线网站的情况下，你想知道你的新想法是否会使最终采取某种行动(或者你的衡量标准可能是什么)的人的百分比从当前状态增加 X%。</p><h2 id="802b" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">让我们用一个例子来说明这一点:</h2><p id="3c7f" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">想象一下，你现在有一个卖海报的 PostersRCheap.com 网站。用户将海报添加到他的购物车中，然后结账。在购物车页面上，用户当前会看到一个带有文本“Check Out”的按钮。让我们想象以下对话发生在你(产品经理)、Anna(你团队中的一名工程师)和 Victor(你团队中的一名测试人员)之间。</p><p id="3a7f" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">背景:你的一名团队成员安娜观察了一个竞争对手的网站，发现在他们的网站上，购物车页面上写着“给我发送我的海报”。【<strong class="mf jd">我们称之为“观察</strong>”】安娜心想，“真有趣。我认为，告诉人们发送海报的按钮文本更有吸引力，会吸引更多人结账。”— <strong class="mf jd">我们称之为另类假设。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi np"><img src="../Images/7afc58df1a74b701352497f4f0ec1b51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*u_MmVdul8IPzjz8yJhy28Q.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Control vs. Variant for the A/B Test</figcaption></figure><p id="32d2" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">安娜:我看到了 PostersRUs.com 正在做的一件有趣的事情。在他们的购物车页面上，按钮上写着“给我发送我的海报”,我认为我们应该在我们的网站上这样做，这将提高我们的退房率。</p><p id="b66b" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">维克多:维克多是一个怀疑论者。维克多认为做出这种改变不会有任何影响。我们称之为“零假设”。</p><p id="607b" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">你</strong>:作为产品经理，你要决定怎么进行。你的选择是 a)相信胜利者，什么也不做 b)相信安娜，做出改变 c)科学一点，测试这个假设。你刚刚学习了 A/B 测试，你认为这是一个尝试的好地方。</p><p id="f618" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">你</strong> : <em class="nq">“那么安娜，我们将测试你的假设。你觉得会对退房率有多大改变？”</em></p><p id="1d5b" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">安娜</strong> : <em class="nq">“我不知道。这不就是测试的目的吗？”</em></p><p id="eedf" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">你</strong> : <em class="nq">嗯..不完全是。测试的目的是确定你所声称的改进是否存在。另外，我需要这个数字来设计我的测试。例如，如果你说，这个测试将使我们的结帐率从 20% </em> <strong class="mf jd"> <em class="nq">(我们称之为基本比率)</em> </strong> <em class="nq">增加到所有去购物车的用户的 40%，那么既然这是一个如此大的变化，直觉上它应该更容易(更快)观察到。如果你说，这项测试将把检出率从 20%提高到 20.4% (2%的相对变化)，那么这种变化是如此之小，可能很难发现这种变化。”直觉上你知道这是有道理的。</em></p><p id="0b7e" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">安娜:好吧，它不能像 100%那样剧烈，否则其他公司也会这么做。所以我会想象这是微不足道的影响。让我们测试一下它是否至少是 10%。因此，我认为，鉴于我们上周的退房率为 20%，新的转换率将为 22%。我计算过，这一变化将使我们在今年增加 85，000 美元的收入。</p><p id="135f" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">你</strong> : <em class="nq">好吧。让我们试试这个。我们把这些数字代入</em> <a class="ae lh" href="https://www.evanmiller.org/ab-testing/sample-size.html" rel="noopener ugc nofollow" target="_blank"> <em class="nq">埃文·米勒的 A/B 样本量</em> </a> <em class="nq">估计量。我发现每个变量需要 6347 个样本(或者总共大约 12700 个)才能检测到至少 10%的影响。我们通常在您的购物车页面上有 800 个客户，因此您大约需要 16 天的时间来完成测试。</em></p><p id="c773" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">你</strong> : <em class="nq">安娜，我们能不能实施 A/B 测试，让最终进入购物车的一半人看到“结账”，另一半人看到“把我的海报发给我。”然后让我们等 16 天。【你也读过 Evan Miller 的文章</em> <a class="ae lh" href="https://www.evanmiller.org/how-not-to-run-an-ab-test.html" rel="noopener ugc nofollow" target="_blank"> <em class="nq">如何不进行 A/B 测试</em> </a> <em class="nq">(尽管你并没有真正完全理解。)所以你不用看接下来 16 天的结果。】</em></p><h2 id="0149" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">幕后是怎么回事？让我们看看一些基本的想法。</h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nr"><img src="../Images/1523a6bfed7abf0793b546cf6fdbe4c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l_fV8bfmlm1FgU47WGIfkg.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Screenshot from the excellent A/B sample size calculator tool by Evan Miller</figcaption></figure><p id="3cc8" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">为了理解正在发生的事情、这些计算是如何工作的以及它们意味着什么，首先理解两个基本概念是非常重要的:总体和样本。</p><ol class=""><li id="9e84" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated"><strong class="mf jd">人群</strong>:这是未来可能访问你的网站的潜在海报购买者的全部人群。你想要确定的是，你的改变平均会使退房率提高 10%。<strong class="mf jd">现实是，你永远不会知道这个问题的真正答案。</strong>你得通过更小的样本来估计。</li><li id="5033" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">样本</strong>:该样本代表您测试中的参与者。这些人会在这 16 天里访问你的网站并结账。你的 A/B 测试试图做的是<strong class="mf jd">通过对人口样本</strong>进行测试来评估整个人口的行为。[实际上，您的测试有 2 个样本集。一个样本集包含所有看到“结帐”按钮的用户，另一个包含所有看到“给我发海报”按钮的用户。]通过让两组中的人除了按钮之外都有相同的体验，你可以确保两个样本中的差异是由变化引起的，而不是由变化引起的(假设测试设置正确)。)</li></ol><p id="bc57" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">最后，<strong class="mf jd">通过观察样本上的结果，使用统计学对整个总体进行推断。</strong></p><h2 id="ba74" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated"><strong class="ak">可能的测试结果</strong></h2><p id="1887" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">这里有 4 种可能的结果(两种是好的结果，两种是你不希望的结果)。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/69f512bb998c4f1976f93a08e8454aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*9jT42OwYqSZKAYLxO5pWLQ.png"/></div></figure><p id="392d" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">良好的结果:</p><ol class=""><li id="4559" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">事实上，10%的差异是存在的，你的测试能够检测到它。<strong class="mf jd"> <em class="nq">恭喜恭喜！</em>T15】</strong></li><li id="9d35" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">实际上，10%的差异并不存在，您的测试也没有检测到任何差异。<strong class="mf jd"> <em class="nq">哦好吧，至少你知道！</em>T19】</strong></li></ol><p id="41f2" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">不良结果:</p><ol class=""><li id="cad8" class="nb nc it mf b mg mw mj mx lr nd lv ne lz nf mv ng nh ni nj bi translated">事实上，10%的差异是存在的，但是你的测试没有检测到它。<strong class="mf jd"> <em class="nq">错失良机！</em> </strong></li><li id="4259" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">事实上 10%的差异是不存在的，但是你的测试认为发现了一个。<strong class="mf jd"> <em class="nq">哎呀小子！</em> </strong></li></ol><h2 id="7d0e" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">为什么会这样？</h2><p id="0d82" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">这种差异的存在是因为我们使用样本来估计人口。(这方面的技术术语是抽样误差)例如，如果你从 2019 年 1 月 3 日到 1 月 19 日运行这个测试，那么你就断言这个样本集代表了总体。</p><p id="90dc" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">这永远不会完全正确，但是统计过程(以及仔细的测试设计和实现)可以确保样本在您想要的程度上具有代表性，因此您可以依赖测试结果。</p><h2 id="808d" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated">好的 A/B 测试设计如何防止不期望的结果并增加期望的结果？</h2><p id="5e0c" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">你永远无法消除不良影响或保证预期结果，但你能做的是管理它们。</p><p id="ab1b" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">如果你记得使用样本大小计算器，记得你必须指定一些叫做<strong class="mf jd">显著性</strong>和<strong class="mf jd">功效</strong>的东西。这些数字(以及基本速率和最小可检测效应)确保您在实验中使用的样本大小将不良效应限制在可管理的范围内。</p><p id="f414" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated"><strong class="mf jd">显著性</strong>(或 p 值):这是您指定的一个数字，用于限制误报的大小。也就是说，它确保如果对照品和变体之间不存在 10%的差异(您在测试计算中指定的),那么您将不会错误地检测到它。当您指定 p 值为 0.05 时，这意味着如果您运行此测试 100 次，并且不存在真正的差异，则 100 次中有 95 次您将不会检测到假阳性。这给了你一定程度的信心，相信测试没有误导你。</p><p id="43c1" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">Power(a alpha):这是您指定的一个数字，当差异确实存在时，您的测试能够在一定程度上检测到它。当您指定 alpha 值为 0.80 时，您是说如果您运行 100 次，并且 100 次中有 80 次存在真正的差异，您将检测到该变化。</p><p id="9048" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">当您指定测试的显著性和功效，以及基本比率和估计变化时，它决定了您需要的样本集的大小。(然后根据用户访问测试的比率来决定测试的持续时间)这确保了你不会过早地结束测试。它还确保您不会以大量假阴性结束(即，变体和对照之间存在差异，但您没有检测到它，因此将测试标记为阴性测试。)</p><p id="f6dc" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">或者，如果你有一个预先确定的测试持续时间(如“我们想在 2 周内知道一些事情。”)因此，您的样本大小、功效、显著性和基本速率将决定您的测试在指定功效和显著性的限制内能够确定的最小效果。</p><p id="65a9" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">如果你在想“让我们只是增加能量和重要性”，记住这是以你需要检测的最小可检测效应的样本集的大小为代价的。</p><p id="549e" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">将统计功效从 80%更改为 90%，将显著性水平从 5%更改为 1% →每个变异的测试样本大小翻倍，从 6，347 增加到 12，046。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nt"><img src="../Images/83553ada7f6bb47a59b37e13a8ac3546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TxTbhNpF7vxDYbf8Cyn-cA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Changing Statistical Power to 90% from 80%, Changing Significance Level from 5% to 1%</figcaption></figure><h2 id="a88f" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated"><strong class="ak">关键点</strong></h2><ol class=""><li id="c80f" class="nb nc it mf b mg mh mj mk lr nu lv nv lz nw mv ng nh ni nj bi translated">你的 A/B 测试的结果是一个关于真实真实性的陈述。这是对现实的估计。</li><li id="041a" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">作为一名测试设计者，你需要理解并内化显著性、功效、基础率、最小可检测效应和样本量的含义，并且这些值是相互关联的。</li><li id="16ed" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">作为一个测试设计者，你需要在头脑中有一个最小的可检测的效果(在另一篇文章中有更多关于这个主题的内容),或者在头脑中有一个测试持续时间。</li><li id="295b" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">计划您的测试的一种方法是从您想要的测试的重要性和功效值开始(根据您的业务环境和测试的实际情况)，然后结合您的基本速率和最小可检测效应，以达到样本大小和粗略的测试持续时间(给定速度的估计值)</li><li id="3628" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">规划测试的另一种方法是从测试的重要性和测试的功效开始(反映业务环境和测试的实际情况)，然后结合样本大小(和大致的测试持续时间)来确定测试可以检测到的最小影响大小。(任何较低的影响都无法用您的样本量可靠地检测出来)</li><li id="b6d9" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated"><strong class="mf jd">改变功效(alpha)和显著性(p 值)并不能改变现实。它改变了测试对现实的看法。</strong></li><li id="a5a2" class="nb nc it mf b mg nk mj nl lr nm lv nn lz no mv ng nh ni nj bi translated">最后，如果你的公司有一个数据科学家或者统计学家，在测试设计和测试结果解释上与他们紧密合作。不要仅仅假设你用于 A/B 测试的打包软件能给你 100%准确的结果解释。</li></ol><h2 id="903a" class="li lj it bd lk ll lm dn ln lo lp dp lq lr ls lt lu lv lw lx ly lz ma mb mc iz bi translated"><strong class="ak">总结</strong></h2><p id="9313" class="pw-post-body-paragraph md me it mf b mg mh kd mi mj mk kg ml lr mm mn mo lv mp mq mr lz ms mt mu mv im bi translated">我做产品经理第一份 A/B 的时候，对这些概念的理解都是很肤浅的层面。结果，我们最终设计并运行了事后看来有缺陷的测试(大多数时候，我们过早地停止了测试)。我们花费了大量的时间和精力来实现和重新实现这些测试，但从中学到的很少(更不用说有很多赢家了)，直到我们更好地理解了它们背后的概念。</p><p id="77cb" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">我发现大多数关于这个主题的教育材料都是由统计学家撰写的。除了他们使用技术术语和解释方式之外，这没有什么不对，在我看来，这也适合其他技术人员。这使得没有统计学背景的产品经理很难理解这些概念并付诸实践。</p><p id="9871" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">我写这篇文章的目的是让这个话题通俗易懂，不要做不准确或误导的简化。</p><p id="6ed8" class="pw-post-body-paragraph md me it mf b mg mw kd mi mj mx kg ml lr my mn mo lv mz mq mr lz na mt mu mv im bi translated">如果你发现这篇文章有用、错误、误导或不完整，请留下你的评论。</p></div></div>    
</body>
</html>