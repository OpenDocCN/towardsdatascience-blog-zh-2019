<html>
<head>
<title>Full Stack Visualizations For Complex Solutions — For Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向数据科学家的复杂解决方案全栈可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/full-stack-visualizations-for-complex-solutions-for-data-scientists-5afc488f60d?source=collection_archive---------8-----------------------#2019-03-15">https://towardsdatascience.com/full-stack-visualizations-for-complex-solutions-for-data-scientists-5afc488f60d?source=collection_archive---------8-----------------------#2019-03-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5c16" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">笔记本不够用怎么办？</h2></div><p id="6a5f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">这篇文章主要面向那些希望围绕他们的解决方案快速开发一个界面的数据科学家。虽然您确实可以在 Jupyter 笔记本或其他地方构建一些</em> <a class="ae lf" href="https://blog.dominodatalab.com/interactive-dashboards-in-jupyter/" rel="noopener ugc nofollow" target="_blank"> <em class="le">交互式</em> </a> <em class="le"> </em> <a class="ae lf" rel="noopener" target="_blank" href="/a-very-simple-demo-of-interactive-controls-on-jupyter-notebook-4429cf46aabd"> <em class="le">仪表盘</em> </a> <em class="le">，但我个人在我的几个项目中遇到了它们的局限性。此外，有时让人们去玩解决方案比你向他们解释要容易得多。</em></p><p id="03ef" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我的目的是向您展示一个路线图&amp;一些片段让您尽可能快地开始，这样您就可以制作类似于这个简单的<a class="ae lf" href="https://route-optimization-22f24.firebaseapp.com" rel="noopener ugc nofollow" target="_blank">演示</a>(下面的快照)的东西，它在后端运行 python(在更复杂的版本中用于集群的 DBSCAN ),并在客户端呈现结果，以便您将结果发送给公司的决策者，让他们大吃一惊。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/3f22e6272a1aed973a5f0d70f106ed0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LjzbYaLAWsFa09HG2YtH_g.jpeg"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Route optimization demo using Google Constraint Solver (DBSCAN is used in a more complex version all on the back-end)</figcaption></figure><p id="834b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">无论是创建演示，还是将其添加到您的投资组合中，或者是向公司的管理层和利益相关者传达一些故事，能够快速将简单的用户界面包装在您的解决方案周围都可以极大地帮助您实现目标。在大多数情况下，您可能能够在笔记本或档案中包含一些图表&amp;漂亮的图表，但是如果您需要某种程度的用户交互，而这在 Jupyter 笔记本或<a class="ae lf" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank">合作实验室</a>中是不可能的，该怎么办呢？如果老板问“你能不能把一些东西组装起来，这样我以后可以玩玩？”或者“你能做一个演示，让我在你不参加的会议上使用吗？”。基本上，他们要求一个 URL 来点击并看到它的神奇之处，此外，这确保它每次都能按预期工作，而不会有人不小心弄乱你的代码，等等。</p><p id="1643" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于一个对 HTML 知之甚少的人来说，在没有任何教程的情况下从头开始开发这样的演示可能要花费一周的时间。然而，我希望在完成下面的步骤后，你能在几个小时内完成这样的事情。</p><p id="b393" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可能已经发现，这样的接口需要两个方面。在后端，您可以运行您的 python 魔术，在客户端，您可以将结果呈现为一些迷人的、令人瞠目结舌的图形，以便在给用户一些自由度来进一步探索您的解决方案的同时传递信息。我通常把我的后端放在 Google App Engine 上，它可以存放你的 python 代码，当你在前端触发它时就运行它，但是你也可以很好地使用 AWS 或其他服务。这里没有特别的偏好。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="aa76" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">前端是我们用 HTML、CSS 和 JavaScript(JS)编写的地方。后端是你可以存储数据，利用云计算，甚至运行代码，而不需要使用你的用户(客户端)资源(想象一下他们的手机，电脑)。</p><p id="3dde" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">后端</strong></p><p id="2e06" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">出于这个例子的目的，我们需要设置我们的后端，以便它能够响应一些 URL 请求。换句话说，当您在浏览器中输入一个 URL 或者通过一些 JS 代码(比如 fetch()、XMLHttpRequest()等)发出请求时，每个函数都会运行。(稍后您将看到一个示例)。因为我们正在编写后端来执行一些 python 代码(所以我们可以在以后享受做一些数据科学的酷东西——嘿，这里没有偏见:p)我们利用 Flask——python 的一个简单的 web 开发框架。</p><blockquote class="md me mf"><p id="8ab0" class="ki kj le kk b kl km ju kn ko kp jx kq mg ks kt ku mh kw kx ky mi la lb lc ld im bi translated"><a class="ae lf" href="http://flask.pocoo.org/" rel="noopener ugc nofollow" target="_blank"> <em class="it"> Flask 是基于 Werkzeug、Jinja 2 和 good intentions 为 Python 开发的微框架。在你问之前:它是 BSD 许可的！</em> </a></p></blockquote><p id="8182" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您需要编写您的 python 脚本并将其托管在服务器上的某个地方，这样每次请求 URL 时，就会触发一个或多个 python 函数。您可以将一些数据传递给该函数，并最终获得一些数据，在本演示中，这些数据将是优化的路线和车辆信息。附带说明一下，这个简单的演示利用了<a class="ae lf" href="https://developers.google.com/optimization/" rel="noopener ugc nofollow" target="_blank"> Google 或</a>工具来解决一些教科书式的旅行推销员问题，这里的约束条件被定义为时间和卡车负载。</p><p id="8ce8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你之前没有用过 app engine，最简单的入门方法就是注册后按照 App Engine 中的教程进行操作。选择 Python 作为您的语言，并遵循 Hello World 教程的结尾。然后回到这里。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mj"><img src="../Images/5a7641d739e0690c0928421213b3150f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NJs5UgJMnDp5gINRGICGjg.jpeg"/></div></div></figure><p id="6f41" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在浏览了关于 App Engine 的 hello world 教程后，你应该能够创建一个应用程序，并使用命令行或浏览器中的嵌入式 shell 和编辑器(我个人喜欢后者)将其部署到 Google App Engine，你真正需要创建的只是一个简单的 Flask 应用程序，如下所示。请记住，首先安装您将在后端代码中使用的包，如 Flask、<a class="ae lf" href="https://developers.google.com/optimization/" rel="noopener ugc nofollow" target="_blank">或-tools </a>等。这意味着您需要将它们添加到 requirements.txt 文件中，然后进行安装(见下文)。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mk"><img src="../Images/3f4b71275087e57c81cd0778748ce44c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0diz-nIrxpa7bYK8MBlUcw.jpeg"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Simple Flask app for the back-end to trigger our functions via some URL requests</figcaption></figure><p id="65f9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，如果我们向上面的“baseURL-of-project/vrp”发出请求，我们只是触发了与之相关的函数。简单吧？！这很棒，因为你可以在后端做任何你想做的事情，甚至添加复杂的建模和使用所有你需要的机器学习库，等等，然后将结果传递给你的客户端，以呈现一个漂亮的图形或图表。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="09e8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">前端</strong></p><p id="6201" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">听到“前端开发”可能会吓到你，但我向你保证，你不需要知道一切来开始。你可以试着通过 python 来完成，但是我个人更喜欢 HTML、CSS 和 JS。以下是几个概念，每个概念都有很好的学习来源，应该是你需要开始学习的全部内容；</p><ol class=""><li id="33ff" class="ml mm it kk b kl km ko kp kr mn kv mo kz mp ld mq mr ms mt bi translated"><a class="ae lf" href="https://www.w3schools.com/js/" rel="noopener ugc nofollow" target="_blank">基础 Javascript </a></li><li id="25d8" class="ml mm it kk b kl mu ko mv kr mw kv mx kz my ld mq mr ms mt bi translated"><a class="ae lf" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noopener ugc nofollow" target="_blank">承诺</a></li><li id="ed01" class="ml mm it kk b kl mu ko mv kr mw kv mx kz my ld mq mr ms mt bi translated"><a class="ae lf" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" rel="noopener ugc nofollow" target="_blank">获取</a>()或<a class="ae lf" href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest" rel="noopener ugc nofollow" target="_blank"> XMLHttpRequest </a>()以在客户端(前端)发出我们的 URL 请求</li></ol><p id="7fbe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我不会告诉你什么是最好的，因为有大量的前端库、包和框架。对你有用的就应该是好的。如果你没有任何线索，那么我建议你从浏览(<a class="ae lf" href="https://pwa-starter-kit.polymer-project.org/" rel="noopener ugc nofollow" target="_blank"> PWA 初学者工具包</a>)开始，你应该很快就能开始编写非常棒的尖端 web 应用程序。</p><p id="610a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们需要一个简单的 HTML 页面来包含我们的演示 UI 元素，如按钮，输入字段，也许谷歌地图，因为它太简单了。记住，要使用谷歌的服务，比如地图，你需要在谷歌的相关网页上创建一个免费的 API 密匙。为了渲染地图，你可以简单地从这里开始<a class="ae lf" href="https://cloud.google.com/maps-platform/maps/" rel="noopener ugc nofollow" target="_blank"/>和这里的<a class="ae lf" href="https://developers.google.com/maps/documentation/javascript/get-api-key" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="243d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦你有了一个动作按钮设置&amp;你想把它连接到后端，你只需要在一些用户交互时向我们的触发 URL 发出请求，例如，在我们的例子中，当用户点击“优化路线”时。我们通过我们附加到按钮上的点击监听器(下面将详细介绍)捕捉到这个信息，并运行下面的函数。</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/b02971f135c77d48c04cb9d7dcbe6874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*xBGXfiID8xKPbRkLOrprUg.jpeg"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">JavaScript function where we make a POST request to our back-end URL</figcaption></figure><p id="de31" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了让你知道我说的点击监听器是什么意思，下面是一个功能演示的例子<a class="ae lf" href="https://www.w3schools.com/code/tryit.asp?filename=G242TJAWBOOQ" rel="noopener ugc nofollow" target="_blank">在这里</a>。</p><pre class="lh li lj lk gt na nb nc nd aw ne bi"><span id="3e22" class="nf ng it nb b gy nh ni l nj nk">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;</span><span id="f958" class="nf ng it nb b gy nl ni l nj nk">&lt;/html&gt;</span><span id="6394" class="nf ng it nb b gy nl ni l nj nk">&lt;h2&gt;JavaScript addEventListener()&lt;/h2&gt;</span><span id="de06" class="nf ng it nb b gy nl ni l nj nk">&lt;p&gt;This example uses the addEventListener() method to attach a click event to a button.&lt;/p&gt;</span><span id="0c43" class="nf ng it nb b gy nl ni l nj nk">&lt;button id="myBtn"&gt;Try it&lt;/button&gt;</span><span id="2972" class="nf ng it nb b gy nl ni l nj nk">&lt;p id="demo"&gt;&lt;/p&gt;</span><span id="09a6" class="nf ng it nb b gy nl ni l nj nk">&lt;script&gt;<br/>document.getElementById("myBtn").addEventListener("click", displayDate);</span><span id="a7b1" class="nf ng it nb b gy nl ni l nj nk">function displayDate() {<br/>  document.getElementById("demo").innerHTML = Date();<br/>}<br/>&lt;/script&gt;</span><span id="3bca" class="nf ng it nb b gy nl ni l nj nk">&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="f380" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意我是如何在<em class="le"> _optimize </em>()方法的请求体中以字符串形式传递数据的。我还利用了 fetch 函数，该函数返回一个<a class="ae lf" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noopener ugc nofollow" target="_blank">承诺</a>，允许我在结果返回时检索它。完成了。一旦你有了结果，你可以简单地通过<em class="le"> console.log(response.json())把它打印到控制台上，</em>进入谷歌浏览器的开发者工具，确认你收到了结果。另外，您需要在 App Engine 中将******替换为您的项目名称。除此之外，所有这些都是 JS 以您喜欢的方式处理和呈现您的数据。有很多 JS 图形库。<a class="ae lf" href="https://d3js.org/" rel="noopener ugc nofollow" target="_blank"> <em class="le"> D3.js </em> </a>是我的最爱之一。</p><p id="e665" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">托管您的前端</strong></p><p id="d8b1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以，你已经写好了项目。现在你需要通过一个可以和懒人分享的 URL 来访问它(lol)。你需要的只是一个托管服务。周围有很多托管服务。我一直在使用相对较新的谷歌 Firebase 服务，因为它的学习曲线非常短。你可以选择任何你喜欢的服务。要在 Firebase 上托管您的项目，您需要通过 Firebase 控制台创建一个项目(需要几分钟)。然后转到机器中的本地项目文件夹，初始化 Firebase 并连接到新创建的 Firebase 项目。不要担心所有这些都是一步一步的概述<a class="ae lf" href="https://firebase.google.com/docs/hosting/quickstart?authuser=0" rel="noopener ugc nofollow" target="_blank">这里</a>。然后从本地项目目录中输入下面的命令来部署您的项目。</p><pre class="lh li lj lk gt na nb nc nd aw ne bi"><span id="b36f" class="nf ng it nb b gy nh ni l nj nk">firebase deploy</span></pre><p id="997c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，该 URL 会显示在 Firebase 控制台的主机下。这就是了。</p><p id="968f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">结论</strong></p><p id="d780" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您开始一个基本的 UI，您可以轻松地将您的数据科学项目包装到一个更高级的交互式外壳中，这将使任何人都可以自由地玩和不喜欢玩！！我个人已经看到了以这种方式展示你的解决方案的优势。虽然您确实可以通过 Jupyter 笔记本或其他工具为简单的项目创建一些交互式菜单，但构建更复杂的仪表板通常是前端开发人员的任务。我认为，作为一名努力变得更好的数据科学家，你不必依赖他人的时间表或技能。所以，帮你自己一个忙，花一个周末在这上面，掌握它&amp;享受你将因此获得的自由。</p><p id="22c9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你按照我提供的教程和链接，你应该可以在一两天内开始构建。后端应该非常简单，因为它主要是 python 而不是 Flask shell。对于以前没有做过前端开发的人来说，前端可能需要更多的时间。我希望我已经提供了一步一步的指导，让你去，但我可能会添加更多的细节取决于我得到的评论。请让我知道我如何才能改善这个职位，我会这样做。</p><p id="7ed4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">参考文献</strong></p><div class="nm nn gp gr no np"><a href="https://blog.dominodatalab.com/interactive-dashboards-in-jupyter/" rel="noopener  ugc nofollow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">用 Jupyter 构建交互式仪表盘</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">欢迎来到“高级 Jupyter 笔记本技巧”的第二部分在第一部分，我描述了魔术，以及如何计算笔记本…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">blog.dominodatalab.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od lq np"/></div></div></a></div><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/a-very-simple-demo-of-interactive-controls-on-jupyter-notebook-4429cf46aabd"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">Jupyter 笔记本上一个非常简单的交互控件演示</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">当使用交互式小工具时，笔记本变得生动起来。用户可以可视化和控制数据的变化。学习…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="oe l oa ob oc ny od lq np"/></div></div></a></div></div></div>    
</body>
</html>