<html>
<head>
<title>Visualizing the Emotional Arcs of Movie Scripts Using Rule-Based Sentiment Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用基于规则的情感分析可视化电影脚本的情感弧线</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualizing-the-emotional-arcs-of-movie-scripts-using-rule-based-sentiment-analysis-1016b4b1af5a?source=collection_archive---------15-----------------------#2019-10-17">https://towardsdatascience.com/visualizing-the-emotional-arcs-of-movie-scripts-using-rule-based-sentiment-analysis-1016b4b1af5a?source=collection_archive---------15-----------------------#2019-10-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/37ef3de71a3a19dd720531037b34d130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VenJVp2SiUc99C0pNkNRcA.png"/></div></div></figure><div class=""/><div class=""><h2 id="bec1" class="pw-subtitle-paragraph kb jd je bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dk translated">我如何使用 Python、D3 和 Flask 来创建这个<a class="ae kt" href="https://www.moviearcs.com/" rel="noopener ugc nofollow" target="_blank">交互式可视化</a></h2></div><p id="7052" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">大约 72 年前，广受赞誉的美国作家库尔特·冯内古特想出了一种新颖的方法来用<a class="ae kt" href="https://www.youtube.com/watch?v=oP3c1h8v2ZQ" rel="noopener ugc nofollow" target="_blank">描绘故事的情节主线</a>，作为他人类学硕士论文的一部分。</p><p id="341c" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">根据冯内古特的说法，尽管他的工作最终被芝加哥大学拒绝，“因为它太简单了，看起来太有趣了”，但在来自佛蒙特大学的一组<a class="ae kt" href="http://www.uvm.edu/~cdanfort/research/2016-reagan-epj.pdf" rel="noopener ugc nofollow" target="_blank">研究人员决定使用计算方法</a>来测试他的假设后，他被忽视的贡献在过去几年里重新受到了一些关注。</p><p id="cebb" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">他们想出了近 2000 本英文书籍的计算机生成的故事弧线，归类为冯内古特原始论文中概述的六个主要故事弧线之一。其中包括<strong class="kw jf">【破衣烂衫】</strong>【崛起】<strong class="kw jf">【破衣烂衫】</strong>【堕落】<strong class="kw jf">【洞中之人】</strong>【堕落然后崛起】<strong class="kw jf">【伊卡洛斯】</strong>【崛起然后堕落】<strong class="kw jf">【灰姑娘】</strong>【崛起然后堕落然后崛起】<strong class="kw jf">【俄狄浦斯】</strong>(堕落然后崛起然后堕落)。</p><p id="bdef" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">他们的作品与冯内古特的不同之处在于，他们描绘了故事的情感轨迹，而不仅仅是情节主线。为了做到这一点，他们在每篇文章中滑动 10，000 个单词的窗口，用一个包含 10，000 个独特单词的词汇对故事中数百个点的相对幸福度进行评分，这个词汇按幸福度的 9 分制进行评分，这就产生了用于情感分析的<a class="ae kt" href="http://hedonometer.org/index.html" rel="noopener ugc nofollow" target="_blank">快乐度计</a>工具。</p><h1 id="fc76" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">使用唤醒作为行动的代理措施</h1><p id="ce25" class="pw-post-body-paragraph ku kv je kw b kx mi kf kz la mj ki lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">我使用了一种类似的基于词汇的方法，绘制了一千多个电影剧本的情感弧线，并使用层次聚类法对最相似的剧本进行分组。</p><p id="2f52" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然而，由于之前的研究主要关注积极和消极的情绪，而不是上升和下降的行动，以下方法与 UVM 的方法不同，因为它使用了<a class="ae kt" href="https://saifmohammad.com/WebPages/nrc-vad.html" rel="noopener ugc nofollow" target="_blank"> NRC 价，唤起和支配词汇</a>，它有 20，000 个英语单词的分数，作为故事中行动或冲突的替代措施。具体来说，我用唤醒维度给单词打分，从“平静”或“被动”到“兴奋”或“主动”。</p><p id="5a7e" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">结果是一个<a class="ae kt" href="https://www.moviearcs.com/" rel="noopener ugc nofollow" target="_blank">交互式可视化</a>，可以用来搜索任何已经在<a class="ae kt" href="https://www.imsdb.com/" rel="noopener ugc nofollow" target="_blank">互联网电影数据库</a>上发布的剧本，以可视化其情感故事弧(为了唤起)，并找到五个在故事的情感轨迹方面最相似的电影剧本，而不是内容。</p><p id="9b0d" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">例如，在搜索大片《阿凡达》(Avatar)时，你可以看到觉醒在电影接近尾声时达到峰值，约为剧本长度的 90%，这与电影中最紧张和冲突的点相对应(纳威人和人类之间决定地球命运的最终对抗)。</p><p id="9568" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">其他具有类似结构的电影，有明确的高潮结尾，包括《美女与野兽》(Beauty and the Beast)、《复仇者联盟》(The Avengers)(2012)和《阿里》(Ali)。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mn"><img src="../Images/67571a4fe60bb10b2b801f833fab4547.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*wrNoCxCZCwReQ8xEfiW8Cw.gif"/></div></div></figure><p id="10f4" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">以下是我得出这些结果的过程:</p><h1 id="9143" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">使用 VAD 词典抓取文本和评分</h1><p id="0b6e" class="pw-post-body-paragraph ku kv je kw b kx mi kf kz la mj ki lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">利用《美丽的汤》和杰里米·库恩剧本的修订版<a class="ae kt" href="https://github.com/j2kun/imsdb_download_all_scripts" rel="noopener ugc nofollow" target="_blank"/>，我从互联网电影数据库中搜集了所有的电影，使用以下脚本花了大约 20 分钟:</p><figure class="mo mp mq mr gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="fbe8" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后我用 NRC VAD 词典创建了一个新词典:</p><figure class="mo mp mq mr gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="4cb8" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我调整了简单的 labMT 使用脚本<a class="ae kt" href="https://pypi.org/project/labMTsimple/" rel="noopener ugc nofollow" target="_blank">来计算语料库的唤醒分数，而不是快乐，用我自己的 labMT 字典和 labMT 向量来代替:</a></p><figure class="mo mp mq mr gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="ff96" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">考虑到电影脚本平均比书籍短，我将固定窗口大小设置为 1000 个单词，并在每个脚本中滑动，以生成<em class="mu"> n </em>唤醒分数，或最终时间序列中的点数。</p><h1 id="2593" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">矩阵分解和层次聚类</h1><p id="6054" class="pw-post-body-paragraph ku kv je kw b kx mi kf kz la mj ki lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">在实现了 simple labMT 的修订版之后，我使用了奇异值分解来将故事分解到情感弧的正交基上，使用了线性插值来创建等维的词向量，并使用了<a class="ae kt" href="https://docs.scipy.org/doc/scipy/reference/cluster.hierarchy.html" rel="noopener ugc nofollow" target="_blank"> scipy 的层次聚类</a>来根据情感弧的轨迹来查找和分组最相似的电影脚本。</p><figure class="mo mp mq mr gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="2e7f" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用沃德的方法和欧几里德距离作为距离度量，我能够最小化电影脚本簇之间的差异，以达到最准确的观察分段。</p><h1 id="73f3" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">使用 Flask API 评分，使用 D3 可视化结果</h1><p id="d103" class="pw-post-body-paragraph ku kv je kw b kx mi kf kz la mj ki lc ld mk lf lg lh ml lj lk ll mm ln lo lp im bi translated">最后，我创建了一个 Flask API 来输出在互联网电影数据库中找到的任何电影的唤醒分数，并返回五个最相似的脚本。</p><p id="96f6" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用一个函数来调用 API 和过滤数据，我使用 D3 内置的 d3.json()方法来加载和解析 json 数据对象，从而可视化结果输出。</p><figure class="mo mp mq mr gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="4626" class="pw-post-body-paragraph ku kv je kw b kx ky kf kz la lb ki lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你可以在这里<a class="ae kt" href="https://www.moviearcs.com/" rel="noopener ugc nofollow" target="_blank">玩最后的交互可视化</a>，在这里查看所有的笔记本和代码<a class="ae kt" href="https://github.com/nchibana/moviearcs" rel="noopener ugc nofollow" target="_blank">。下面让我知道你的想法！</a></p></div></div>    
</body>
</html>