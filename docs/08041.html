<html>
<head>
<title>Machine Learning in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript 中的机器学习</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/machine-learning-in-javascript-b8b0f9f149aa?source=collection_archive---------7-----------------------#2019-11-05">https://towardsdatascience.com/machine-learning-in-javascript-b8b0f9f149aa?source=collection_archive---------7-----------------------#2019-11-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="397e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">是不是更容易？难？还是单纯的好玩？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ded61265006a9e9b14b40265b507d2e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y1Hb8_Xdy86Ktg2V"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Picture on Unsplash by Luca Bravo</figcaption></figure><p id="d3e8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你以前尝试过机器学习，你可能会认为这篇文章的标题中有一个巨大的错别字，我打算用 Python 或 R 来代替 JavaScript。</p><p id="ee96" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你是一名 JavaScript 开发人员，你可能知道自从 NodeJS 创建以来，在 JavaScript 中几乎任何事情都是可能的。您可以使用 React 和 Vue 构建用户界面，使用 Node/Express 构建所有“服务器端”内容，使用 D3 构建数据可视化(Python 和 R 主导的另一个领域)。</p><p id="d030" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这篇文章中，我将向你展示如何用 JavaScript 执行机器学习！我们将从定义什么是机器学习开始，快速介绍 TensorFlow 和 TensorFlow.js，然后使用 React 和 ML5.js 构建一个非常简单的图像分类应用程序！</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="16fe" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">机器学习？那是什么？</h1><p id="045b" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">除非你一直生活在一块石头下面，否则你很可能听说过机器学习(ML)和人工智能(AI)之类的词。即使你不是一个非常注重科学的人，你也可能在电视和互联网上看到过那些微软的广告，在那里人们谈论微软正在做的所有令人惊奇的事情。</p><p id="8dad" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">事实是，几乎每个人在一生中的某个时刻都使用过机器学习和人工智能。划掉那个，每个人在生活中每天都在使用 ML 和 AI。从要求 Siri 和 Alexa 播放一些歌曲到使用手机上的导航应用程序来获得最快的上班路线，这都是 ML 和 AI。</p><p id="781b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是我们如何定义这两个术语呢？让我们集中讨论 ML，因为它是本文的主题。用最简单的话说，机器学习就是:</p><blockquote class="my"><p id="196d" class="mz na it bd nb nc nd ne nf ng nh lt dk translated">一个研究领域，它允许计算机系统在没有给它任何具体指令的情况下做某事。</p></blockquote><p id="9a4a" class="pw-post-body-paragraph ky kz it la b lb ni ju ld le nj jx lg lh nk lj lk ll nl ln lo lp nm lr ls lt im bi translated">作为一名开发人员，你要以一种特殊的方式编写代码。您的客户或经理告诉您他们想要的输出是什么，您尝试编写一些代码来获得该输出。但是在机器学习中，你只知道需要解决的问题！你“教”你的计算机一些东西，然后坐下来，看看你从系统中得到什么惊人的结果！</p><p id="9254" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要回答的问题是:我们如何进行机器学习？Python 程序员使用类似<code class="fe nn no np nq b">scikit-learn</code>和谷歌令人惊叹的<code class="fe nn no np nq b">TensorFlow</code>这样的包来执行机器学习。但是去年(2018 年)，谷歌发布了 JavaScript 版本的 TensorFlow，优雅地叫做<code class="fe nn no np nq b">TensorFlow.js</code>！</p><p id="25ad" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是为什么要用 JavaScript 做机器学习呢？首先，Python 的机器学习方式要求开发人员将机器学习代码保存在服务器上，然后使用 JavaScript 允许用户在客户端访问模型。这里我们遇到了一个潜在的问题。如果你的机器学习模型太受欢迎，很多用户都想访问它，那么你的服务器很有可能会崩溃！</p><p id="2af2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是如果我们使用机器学习，我们不仅为机器学习代码和用户界面代码保留了 JavaScript 环境，模型也将保留在客户端本身！还有，机器学习模型大多被金融公司使用。所以客户端 ML 模型意味着你的数据是私有的。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="0811" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">我们写点代码吧！</h1><p id="6b6a" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">现在，您已经对 ML 有了一些基本的了解，并且知道了为什么用 JavaScript 来实现 ML 是一个好主意。但是 ML 是那些你可以通过尝试更好理解的东西之一。如果你想了解更多关于机器学习的内容，可以看看我不久前写的另一篇文章:</p><div class="nr ns gp gr nt nu"><a href="https://medium.com/@geekyants/deep-learning-with-react-native-65fae456839d" rel="noopener follow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">React Native 深度学习</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">围绕着人工智能(AI)这样的话题，人们总是非常兴奋。当有人提到…</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">medium.com</p></div></div><div class="od l"><div class="oe l of og oh od oi ks nu"/></div></div></a></div><p id="07e2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本节中，我们将使用 React 构建一个机器学习应用程序，它可以执行一些非常好的图像分类。</p><p id="8ff7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">侧栏:</strong>机器学习过程包括两个步骤:训练和测试。训练包括向模型提供大量数据，然后模型将处理这些数据并识别不同的模式，然后模型将使用这些数据进行未来预测。</p><p id="fee3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于我们正在构建一个图像分类模型，因此在我们能够做出任何预测之前，我们需要将数以千计的图像发送到该模型进行处理。图像需要以某种方式相互关联，老实说，我没有那么多图片(我是一个害羞的人)。还有，JavaScript 的机器学习对我来说还是新鲜的。所以作为一个捷径，我将使用一个预先训练好的模型。</p><p id="90c8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们开始编码之前，请确保您的系统上安装了以下内容:</p><ol class=""><li id="0489" class="oj ok it la b lb lc le lf lh ol ll om lp on lt oo op oq or bi translated"><a class="ae os" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank">节点</a> —我们将需要它来安装不同的软件包</li><li id="cfd3" class="oj ok it la b lb ot le ou lh ov ll ow lp ox lt oo op oq or bi translated">代码编辑器——任何好的编辑器都可以。我个人喜欢用<a class="ae os" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> VSCode </a></li></ol><p id="a01d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">接下来是构建一个样板 React 应用程序。为此，请打开命令终端并运行以下命令:</p><pre class="kj kk kl km gt oy nq oz pa aw pb bi"><span id="3bcd" class="pc mc it nq b gy pd pe l pf pg">$ npx create-react-app ml-in-js</span></pre><p id="bfac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">该命令将创建一个名为<code class="fe nn no np nq b">ml-in-js</code>的文件夹，并在您的系统中构建一个启动应用程序。接下来，回到命令终端，运行以下命令:</p><pre class="kj kk kl km gt oy nq oz pa aw pb bi"><span id="0dfa" class="pc mc it nq b gy pd pe l pf pg">$ cd ml-in-js<br/>$ npm run start</span></pre><p id="39ca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第一个命令非常简单。真正的奇迹发生在第二部。<code class="fe nn no np nq b">npm run start</code>命令创建系统的本地开发级别，并在浏览器上自动打开，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/428c35ccdfdc635c7e5a3be7e521e2b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hIVA6iJyhlAK2Ab70uBIjA.png"/></div></div></figure><p id="483e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个入门应用根本不知道什么是机器学习或者 Tensorflow。要解决这个问题，我们需要安装 Tensorflow.js 包。对于 Python 开发人员来说，您需要在您的系统上执行一次<code class="fe nn no np nq b">pip install tensorflow</code>，并且可以在任何地方和项目中自由使用这个包。但是对于 JavaScript，你需要为每个项目运行<code class="fe nn no np nq b">npm install</code>命令。</p><p id="5ab6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但我们不会在应用程序中安装 Tensorflow.js (TFJS)库，而是安装另一个名为 ML5.js 的库。这个库就像是 TFJS 的一个更好的版本，使我们在客户端进行机器学习变得更加容易。所以让我们像这样安装这个库:</p><pre class="kj kk kl km gt oy nq oz pa aw pb bi"><span id="1f92" class="pc mc it nq b gy pd pe l pf pg">$ npm install --save ml5</span></pre><p id="66dc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您想确保库安装成功，请转到<code class="fe nn no np nq b">src</code>文件夹中的<code class="fe nn no np nq b">App.js</code>文件，并编写以下代码:</p><pre class="kj kk kl km gt oy nq oz pa aw pb bi"><span id="578b" class="pc mc it nq b gy pd pe l pf pg">import React, {Component} from 'react';<br/>import * as ml5 from 'ml5';</span><span id="ebc3" class="pc mc it nq b gy pi pe l pf pg">export default class App extends Component {<br/>  render() {<br/>    return (<br/>      &lt;div&gt;<br/>        &lt;h1&gt;{ml5.version}&lt;/h1&gt;<br/>      &lt;/div&gt;<br/>    )<br/>  }<br/>}</span></pre><p id="13d4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你回到浏览器，你会看到一个大大的<strong class="la iu"> 0.4.1 </strong>印在屏幕上。根据 ML5.js 的最新版本，这个数字可能会有所不同。只要您看到屏幕上打印的数字，您就可以放心，您的 ML5 库已成功安装。</p><p id="1366" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">至此，我们完成了安装部分。现在，我们需要创建一个函数，它可以接收图像，并使用预先训练好的模型对其进行分类。为此，在<code class="fe nn no np nq b">App</code>组件中编写以下代码:</p><pre class="kj kk kl km gt oy nq oz pa aw pb bi"><span id="a8ba" class="pc mc it nq b gy pd pe l pf pg">classifyImage = async () =&gt; {<br/>  const classifier = await ml5.imageClassifier('MobileNet')<br/>  this.setState({ready: true})<br/>  const image = document.getElementById("image")<br/>  classifier.predict(image, 1, (err, results) =&gt; {<br/>    this.setState({<br/>      predictionLabel: results[0].label,<br/>      predictionConfidence: results[0].confidence,<br/>      predicted: true<br/>    })<br/>  })<br/>}</span></pre><p id="7b2f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里我们有一个名为<code class="fe nn no np nq b">classifyImage</code>的异步函数。在这个函数中，我们首先通过加载<code class="fe nn no np nq b">MobileNet</code>数据作为训练集来定义我们的图像分类器。一旦这个分类器准备好了，我们将<code class="fe nn no np nq b">ready</code>状态设置为<code class="fe nn no np nq b">true</code>。然后，我们选择用户插入的<code class="fe nn no np nq b">image</code>并将其传递给分类器，运行<code class="fe nn no np nq b">predict</code>函数。我们将最高预测的标签和置信度保存在<code class="fe nn no np nq b">state</code>对象中。</p><p id="2ba8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们的整个 App.js 文件将如下所示:</p><p id="314b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">测试模型的时间到了。为此，我将给出下面的应用程序图像:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/cd6d888e06b5b85cb200d0d5e7573ec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ctxDYe2BlPq0q6Dc7OFb5Q.png"/></div></div></figure><p id="0a2a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我按下<code class="fe nn no np nq b">Classify</code>按钮时，应用程序运行<code class="fe nn no np nq b">classifyImage</code>功能，一段时间后您会得到以下结果:</p><pre class="kj kk kl km gt oy nq oz pa aw pb bi"><span id="f2d2" class="pc mc it nq b gy pd pe l pf pg">The app is 63.99456858634949% sure that this is bucket</span></pre><p id="6aca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不是我所期待的。造成这种不正确结果的原因有很多。其中最重要的是，MobileNet 不是对该图像进行分类的合适数据集。</p><p id="442d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们试试其他图像。也许是一种动物:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/9afd4f00c23d31e501e0e2cbe869406a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mWw40hcVRsCLabuvuVeBkQ.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Pic on Unsplash by Joséphine Menge</figcaption></figure><p id="0b4c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">再次点击<code class="fe nn no np nq b">Classify</code>按钮，我得到🤞：</p><pre class="kj kk kl km gt oy nq oz pa aw pb bi"><span id="7e9d" class="pc mc it nq b gy pd pe l pf pg">The app is 90.23570418357849% sure that this is Border collie</span></pre><p id="82b2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">哇！90%的信心，图像有边境牧羊犬，这是一种狗！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/a3bd718292e838e11c82026bb76beceb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/0*5i-PputN4ERB5SXI.jpg"/></div></figure></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="828d" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">包扎</h1><p id="5f00" class="pw-post-body-paragraph ky kz it la b lb mt ju ld le mu jx lg lh mv lj lk ll mw ln lo lp mx lr ls lt im bi translated">如果你一直坚持到现在，那么你已经用 JavaScript 做了一些机器学习！来吧，拍拍自己的背！</p><p id="4b8e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是你和我离成为 ML 专家还有很长的路要走。在本文中，我们做了机器学习的测试部分，并使用了预训练的模型。真正的乐趣始于你获取自己的原始数据，并试图用它来训练你的数据。</p><p id="711e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这就是我现在要努力去做的。所以祝我好运吧！如果我成功了，我会写下一篇关于它的文章。</p><p id="3c62" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一如既往的感谢大家阅读我的长文。JavaScript 的机器学习我还是新手。因此，如果你认为我在这篇文章中犯了什么错误，或者我本可以做些不同的事情，那么请对此发表评论。</p><p id="1689" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以在这里查看 React 应用的完整源代码:</p><div class="nr ns gp gr nt nu"><a href="https://github.com/rajatk16/ml-in-js" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab fo"><div class="nw ab nx cl cj ny"><h2 class="bd iu gy z fp nz fr fs oa fu fw is bi translated">rajatk16/ml-in-js</h2><div class="ob l"><h3 class="bd b gy z fp nz fr fs oa fu fw dk translated">这个项目是用 Create React App 引导的。在项目目录中，您可以运行:在…中运行应用程序</h3></div><div class="oc l"><p class="bd b dl z fp nz fr fs oa fu fw dk translated">github.com</p></div></div></div></a></div></div></div>    
</body>
</html>