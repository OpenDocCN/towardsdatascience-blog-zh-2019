<html>
<head>
<title>Word Clouds in Tableau: Quick &amp; Easy.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tableau 中的单词云:快速简单。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/word-clouds-in-tableau-quick-easy-e71519cf507a?source=collection_archive---------0-----------------------#2019-02-20">https://towardsdatascience.com/word-clouds-in-tableau-quick-easy-e71519cf507a?source=collection_archive---------0-----------------------#2019-02-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="13dd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用 Tableau 轻松创建单词云。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/783a8f9f0d3b117a71655c7a11641d25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R05-Qzt_XTzYA-P-6qli9w.png"/></div></div></figure><p id="51bd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">一个<strong class="kw iu">字云，</strong>也被称为<strong class="kw iu">标签</strong> <strong class="kw iu">云</strong>，是文本数据的可视化表示，通常用于描述网站上的<a class="ae lq" href="https://en.wikipedia.org/wiki/Tag_(metadata)" rel="noopener ugc nofollow" target="_blank">关键字元数据(标签)</a>，或者可视化自由格式文本<em class="lr">维基百科</em>。单词云是一种流行的信息图表类型<br/>，借助它我们可以显示数据中单词的相对频率。这可以通过数据中所选字段的大小或颜色来描述。它们是一个非常强大的功能，可以吸引人们对你的演讲或故事的注意</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="0fd2" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">目标</h1><p id="4e5c" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated"><a class="ae lq" href="https://www.tableau.com/" rel="noopener ugc nofollow" target="_blank"> Tableau </a>是当今业界广泛使用的数据分析和可视化工具。Tableau 提供了一个本地特性，只需点击几下鼠标就可以创建单词云。这将是一篇非常短的文章，强调在 Tableau 中创建单词云所需的步骤。如果你想以 Tableau 开始一篇更详细的文章，请确保先阅读我的文章<a class="ae lq" href="https://medium.com/@parulnith/data-visualisation-with-tableau-150f99a39bba" rel="noopener"> <strong class="kw iu">数据可视化与 Tableau</strong></a><strong class="kw iu"/><strong class="kw iu">。</strong></p><p id="eed7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尽管这篇文章关注的是单词云，但我也要提到一些关于使用单词云的可视化最佳实践。单词云看起来很酷，但有一些更好的替代品，以更清晰和准确的方式传达相同的信息。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="0edc" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">数据</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/4bf248d5b883f897fc42f0e275bbd7b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*Qz-1ofFgA2O-gVR-"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk"><a class="ae lq" href="https://rogermooresmovienation.files.wordpress.com/2017/09/box1.jpg?w=640" rel="noopener ugc nofollow" target="_blank">https://rogermooresmovienation.files.wordpress.com/2017/09/box1.jpg?w=640</a></figcaption></figure><p id="4545" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><a class="ae lq" href="https://www.vox.com/culture/2019/1/3/18165250/2018-box-office-top-movies-hollywood-netflix-black-panther" rel="noopener ugc nofollow" target="_blank">数据</a>涉及 2018 年美国前 20 名电影，按国内票房收入数十亿美元排名。该数据还包含每部电影的<a class="ae lq" href="https://en.wikipedia.org/wiki/Metacritic" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">元符号</strong> </a>分数。Metacritic 是一个收集包括电影在内的媒体产品评论的网站。</p><blockquote class="nb nc nd"><p id="feca" class="ku kv lr kw b kx ky ju kz la lb jx lc ne le lf lg nf li lj lk ng lm ln lo lp im bi translated">所有工作表和 Tableau 工作簿都可以从其关联的<strong class="kw iu">存储库</strong> <a class="ae lq" href="https://github.com/parulnith/Data-Visualisation-libraries/tree/master/Data%20Visualisation%20with%20Tableau/Wordclouds%20with%20Tableau" rel="noopener ugc nofollow" target="_blank">这里</a>访问。</p></blockquote></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="5a76" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">在 Tableau 中创建单词云</h1><h2 id="e25c" class="nh ma it bd mb ni nj dn mf nk nl dp mj ld nm nn ml lh no np mn ll nq nr mp ns bi translated">按国内总收入计算的电影</h2><ol class=""><li id="0c34" class="nt nu it kw b kx mr la ms ld nv lh nw ll nx lp ny nz oa ob bi translated">打开 Tableau 桌面并连接到数据源。你可以选择任何数据格式，但这里我们使用的是一个<a class="ae lq" href="https://github.com/parulnith/Data-Visualisation-libraries/blob/master/Data%20Visualisation%20with%20Tableau/Wordclouds%20with%20Tableau/movies.xlsx" rel="noopener ugc nofollow" target="_blank"> excel 文件</a>，其中有你想要的数据。</li><li id="2115" class="nt nu it kw b kx oc la od ld oe lh of ll og lp ny nz oa ob bi translated">将所需尺寸拖动到<strong class="kw iu">标记</strong>卡上的<strong class="kw iu">文字</strong>处。在这里，我将把<strong class="kw iu">电影标题</strong>拖到文本中，因为我想知道哪部电影在票房收入方面表现良好。</li><li id="f670" class="nt nu it kw b kx oc la od ld oe lh of ll og lp ny nz oa ob bi translated">将<strong class="kw iu">国内总收益</strong>拖动到<strong class="kw iu">标记</strong>卡上的<strong class="kw iu">尺寸</strong>上。</li><li id="38a8" class="nt nu it kw b kx oc la od ld oe lh of ll og lp ny nz oa ob bi translated">现在将<strong class="kw iu">国内总收入</strong>拖到<strong class="kw iu">标记</strong>卡上的<strong class="kw iu">颜色</strong>上，因为我们希望颜色能够反映收入模式。</li><li id="d3a3" class="nt nu it kw b kx oc la od ld oe lh of ll og lp ny nz oa ob bi translated">将标记类型从<strong class="kw iu">自动</strong>更改为<strong class="kw iu">文本</strong>。</li><li id="946b" class="nt nu it kw b kx oc la od ld oe lh of ll og lp ny nz oa ob bi translated">接下来，你可以隐藏标题，根据你的喜好改变视图和背景，这样你的单词云就准备好了。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/3a7c1a9240e77a965993fa5f9fbab1c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AFBzP_Ipiu-qoYE7-ZwZdA.gif"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk"><a class="ae lq" href="https://github.com/parulnith/Data-Visualisation-libraries/blob/master/Data%20Visualisation%20with%20Tableau/Wordclouds%20with%20Tableau/Word_cloud.twb" rel="noopener ugc nofollow" target="_blank">Workbook</a></figcaption></figure><h2 id="6678" class="nh ma it bd mb ni nj dn mf nk nl dp mj ld nm nn ml lh no np mn ll nq nr mp ns bi translated">电影按照他们的元批评分数</h2><p id="d9a6" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">步骤同上，除了我们使用<strong class="kw iu">元临界分数</strong>而不是收益。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/67363a825a279ef8b552bca092bc4a2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GRK7GpTw_U38JQ4ZxoHMmg.png"/></div></div></figure></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="cde7" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">改进单词云</h1><p id="6707" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">上述示例处理具有有限字段的简单且精炼的数据集。如果数据包含一本书的一个段落或一些段落，我们需要为此创建一个单词云，那会怎么样呢？让我们看一个这样的例子。</p><h2 id="9aaf" class="nh ma it bd mb ni nj dn mf nk nl dp mj ld nm nn ml lh no np mn ll nq nr mp ns bi translated">资料组</h2><p id="068d" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">出于演示的目的，我从我的一篇<a class="ae lq" rel="noopener" target="_blank" href="/image-segmentation-using-pythons-scikit-image-module-533a61ecc980">中型文章</a>中选取了整篇文章。我复制了整个文本，不管内容如何，并把它放在一个<code class="fe oj ok ol om b"><a class="ae lq" href="https://github.com/parulnith/Data-Visualisation-libraries/blob/master/Data%20Visualisation%20with%20Tableau/Wordclouds%20with%20Tableau/text.txt" rel="noopener ugc nofollow" target="_blank">text.txt</a></code>文件中。然后，我运行一个小的 python 脚本，将单词及其频率保存到一个 CSV 文件中。您可以使用自己选择的任何数据集。</p><pre class="kj kk kl km gt on om oo op aw oq bi"><span id="440c" class="nh ma it om b gy or os l ot ou">from collections import Counter<br/>def word(fname):<br/>        with open(fname) as f:<br/>                return Counter(f.read().split())</span><span id="d996" class="nh ma it om b gy ov os l ot ou">print(word_count("text.txt"))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/edbcc956b52ac5ca3fee54eb87394c69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CsRqpnNpAmjpCBxRhFdRGg.png"/></div></div></figure><pre class="kj kk kl km gt on om oo op aw oq bi"><span id="5c07" class="nh ma it om b gy or os l ot ou">import csv<br/>my_dict = word_count("text.txt")<br/>with open('test.csv', 'w') as f:<br/>    for key in my_dict.keys():<br/>        f.write("%s,%s\n"%(key,my_dict[key]))</span></pre><p id="c4d3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><code class="fe oj ok ol om b"><a class="ae lq" href="https://github.com/parulnith/Data-Visualisation-libraries/blob/master/Data%20Visualisation%20with%20Tableau/Wordclouds%20with%20Tableau/test.csv" rel="noopener ugc nofollow" target="_blank">text.csv</a></code>是包含数据集的文件，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/536678dbcd7fa213a8dbb6cc79c6c2d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:268/format:webp/1*mR7RuzHUovyQXsnZD1yGGQ.png"/></div></figure><p id="4318" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在切换到画面。</p><ul class=""><li id="46a5" class="nt nu it kw b kx ky la lb ld oy lh oz ll pa lp pb nz oa ob bi translated">使用<code class="fe oj ok ol om b">text.csv</code>文件中的单词创建一个单词云，如上所述。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/9687299b198712282ed06cb92eb4ecf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*iIWIjO7K_Hy0jbenp7O2HA.gif"/></div></div></figure><ul class=""><li id="a74f" class="nt nu it kw b kx ky la lb ld oy lh oz ll pa lp pb nz oa ob bi translated">如果您想要限制条目的数量，可以使用单词计数作为过滤器，只显示出现频率最低的单词。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/a177094048354faa21af80047fcca871.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*CC8qIkSzeHL4vVKggEdb_A.gif"/></div></div></figure><ul class=""><li id="7374" class="nt nu it kw b kx ky la lb ld oy lh oz ll pa lp pb nz oa ob bi translated"><strong class="kw iu">去掉最常见的单词——</strong>即使经过字数过滤，我们仍然看到像“<strong class="kw iu">”、“</strong>中”等没有太大意义的单词出现在整个工作表中。让我们摆脱他们。我们将首先创建一个英语常用词的<a class="ae lq" href="https://en.wikipedia.org/wiki/Most_common_words_in_English" rel="noopener ugc nofollow" target="_blank">列表</a>，可以从这里的<a class="ae lq" href="https://github.com/parulnith/Data-Visualisation-libraries/blob/master/Data%20Visualisation%20with%20Tableau/Wordclouds%20with%20Tableau/common_words.xlsx" rel="noopener ugc nofollow" target="_blank">访问</a>。该列表包含具有与其相关联的等级的单词，我们将使用该等级作为过滤的度量。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/c2079f5ff8a964d15ce18ba2ca495055.png" data-original-src="https://miro.medium.com/v2/resize:fit:260/format:webp/1*HI3BQRg10XwsPfQq0gRtXw.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk"><a class="ae lq" href="https://en.wikipedia.org/wiki/Most_common_words_in_English" rel="noopener ugc nofollow" target="_blank">common words in English</a></figcaption></figure><ul class=""><li id="5b6f" class="nt nu it kw b kx ky la lb ld oy lh oz ll pa lp pb nz oa ob bi translated">现在，让我们将此表添加到我们的工作簿中。这两个工作表将根据<strong class="kw iu">单词</strong>列进行混合，因为这是两个源所共有的。</li><li id="68e0" class="nt nu it kw b kx oc la od ld oe lh of ll og lp pb nz oa ob bi translated">创建一个新参数，命名为“<strong class="kw iu">要排除的单词</strong>”，设置如下:</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/3404d6d5b357a20f718cbf1af4a0a5e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Ki2JUPI2hjri6n4k-_YnSQ.gif"/></div></div></figure><ul class=""><li id="a54f" class="nt nu it kw b kx ky la lb ld oy lh oz ll pa lp pb nz oa ob bi translated">显示参数控件，通过过滤将最常用的词从云端排除。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/e8be47e8df1f8f83472049f646831d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oL47ACjuWSxgBSvQaZghvg.gif"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk"><a class="ae lq" href="https://github.com/parulnith/Data-Visualisation-libraries/blob/master/Data%20Visualisation%20with%20Tableau/Wordclouds%20with%20Tableau/Improving%20the%20word%20cloud.twb" rel="noopener ugc nofollow" target="_blank">Workbook</a></figcaption></figure><p id="3a4a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">现在调整设置，你可以有一个更好看的词云与过滤器选项。</p><div class="kj kk kl km gt ab cb"><figure class="pe kn pf pg ph pi pj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/4d64a59757a887844941cd990bcd0fb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*8IRMeXiMjksm1SGlSqaFXA.jpeg"/></div></figure><figure class="pe kn pf pg ph pi pj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/490e4b93cbafbf155d41914b85b9616e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*-n4oFSYOuP86M9NB-fhY8w.jpeg"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk pk di pl pm">Before | After</figcaption></figure></div></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="a3af" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">什么时候不要用词云</h1><p id="2989" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">Marti A. Hearst 的客座博文<a class="ae lq" href="http://www.perceptualedge.com/articles/guests/whats_up_with_tag_clouds.pdf" rel="noopener ugc nofollow" target="_blank">“标签云是怎么回事”</a>在讨论词云时值得一读。单词云绝对引人注目，并提供了一种概览或第一视角，因为它们非常受欢迎，人们通常在他们的演示文稿中有一两个。</p><p id="5ad8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">另一方面，与条形图不同，词云不提供相似大小的词之间的清晰区分。此外，属于同一类别的单词可能彼此相距甚远，较小的单词可能会被忽略。</p><h2 id="842f" class="nh ma it bd mb ni nj dn mf nk nl dp mj ld nm nn ml lh no np mn ll nq nr mp ns bi translated">单词云的替代方案</h2><ul class=""><li id="664a" class="nt nu it kw b kx mr la ms ld nv lh nw ll nx lp pb nz oa ob bi translated"><strong class="kw iu">树形图</strong></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/5b46542224cce713cf8b689df6a96307.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WfukBXGTyZ8_idL2PrhKew.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Tree Map</figcaption></figure><p id="2071" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">与单词云相比，树形图可能提供更好的想法，但不是最好的。<strong class="kw iu">树形图有时被视为饼图的矩形表兄弟</strong>，在显示详细信息时可能并不理想。</p><ul class=""><li id="8c15" class="nt nu it kw b kx ky la lb ld oy lh oz ll pa lp pb nz oa ob bi translated"><strong class="kw iu">条形图</strong></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/398f2939447e5ae32fb1cdc5fca80ae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TqipTlgb7gIIAcLyxgTvbg.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">sorted Bar chart</figcaption></figure><p id="d607" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">排序后的条形图肯定能提供更好、更准确的信息，因为它给出了比较的基线。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h1 id="d748" class="lz ma it bd mb mc md me mf mg mh mi mj jz mk ka ml kc mm kd mn kf mo kg mp mq bi translated">结论</h1><p id="5b07" class="pw-post-body-paragraph ku kv it kw b kx mr ju kz la ms jx lc ld mt lf lg lh mu lj lk ll mv ln lo lp im bi translated">文字云的确很吸引人，有助于展示更加精彩，但当涉及到严肃的数据分析时，有更好的工具可以尝试。然而，本文的主要目的是展示如何用最少的努力在 Tableau 中创建单词云。所以你可以试着用你选择的数据建立你自己的单词云。</p></div></div>    
</body>
</html>