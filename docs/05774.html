<html>
<head>
<title>Outlier Detection for a 2D Feature Space in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中 2D 特征空间的离群点检测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/outlier-detection-python-cd22e6a12098?source=collection_archive---------7-----------------------#2019-08-23">https://towardsdatascience.com/outlier-detection-python-cd22e6a12098?source=collection_archive---------7-----------------------#2019-08-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/3f1cc4019e1306eeca81d542f7d89e90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*28yyyuCQ8p-IbA0AXr92mQ.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Image by <a class="ae jd" href="https://pixabay.com/users/MasterTux-470906/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1200533" rel="noopener ugc nofollow" target="_blank">MasterTux</a> from <a class="ae jd" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1200533" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><div class=""/><div class=""><h2 id="aa00" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">如何使用绘图和聚类技术检测异常值以分析两个特征的相关性</h2></div><p id="0512" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi lr translated"><span class="l ls lt lu bm lv lw lx ly lz di"> A </span>在鼓起你所有的勇气开始一个机器学习项目之后，你首先要想的是<strong class="kx jh">如何</strong>和<strong class="kx jh">其中</strong>T6】到实际上<strong class="kx jh">开始</strong>。下图显示了典型的<a class="ae jd" href="https://cloud.google.com/ml-engine/docs/ml-solutions-overview" rel="noopener ugc nofollow" target="_blank">机器学习工作流程</a>。每个机器学习项目的最开始是收集和准备必要的数据，以便能够由那些花哨的算法处理，如<a class="ae jd" rel="noopener" target="_blank" href="/how-to-build-your-own-neural-network-from-scratch-in-python-68998a08e4f6">神经网络</a>或<a class="ae jd" rel="noopener" target="_blank" href="/support-vector-machine-introduction-to-machine-learning-algorithms-934a444fca47">支持向量机</a>。</p><figure class="mb mc md me gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ma"><img src="../Images/af84268300ada06232d3f930129dec8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9SWrMn5oAoH5xr3OY3iKbA.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">“<a class="ae jd" href="https://cloud.google.com/ml-engine/docs/ml-solutions-overview" rel="noopener ugc nofollow" target="_blank">ML Workflow</a>” by <a class="ae jd" href="https://cloud.google.com/" rel="noopener ugc nofollow" target="_blank">Google Cloud</a> is licensed under <a class="ae jd" href="https://creativecommons.org/licenses/by/4.0/" rel="noopener ugc nofollow" target="_blank">CC BY 4.0</a></figcaption></figure><p id="aec5" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">除了为您的源数据集或工程使用的要素创建一些时髦的第一可视化，您还想检测您的数据集中是否有任何偷偷摸摸的异常值。</p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><p id="60d5" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">本文提供了一个<strong class="kx jh">逐步指导</strong> <strong class="kx jh">如何检测两个特征(也称为属性或变量)之间的依赖关系中的异常值</strong>，也称为<strong class="kx jh">二维特征空间。</strong></p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="5b94" class="mm mn jg bd mo mp mq mr ms mt mu mv mw km mx kn my kp mz kq na ks nb kt nc nd bi translated">异常值检测—让我们开始吧！</h1><p id="be20" class="pw-post-body-paragraph kv kw jg kx b ky ne kh la lb nf kk ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">这个项目是在 IDE PyCharm 中用项目解释器<strong class="kx jh"> Python 3.7 </strong>开发的。但是，您可以在任何其他环境或笔记本中自由应用该代码！完整的项目可以在<a class="ae jd" href="https://github.com/JOPloume/outlier-detection-2D-feature-space" rel="noopener ugc nofollow" target="_blank"> <strong class="kx jh">这里找到</strong> </a>。</p><h1 id="8575" class="mm mn jg bd mo mp nj mr ms mt nk mv mw km nl kn my kp nm kq na ks nn kt nc nd bi translated">#1 —可视化特征空间。</h1><p id="27a4" class="pw-post-body-paragraph kv kw jg kx b ky ne kh la lb nf kk ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">第一步是引入一些我们正在处理的特征空间的视觉效果。这个项目利用了与框架<a class="ae jd" href="https://scikit-learn.org/stable/index.html" rel="noopener ugc nofollow" target="_blank"> scikit learn </a>一起提供的<em class="no"> wine 数据集</em>。</p><figure class="mb mc md me gt is"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">“<a class="ae jd" href="https://giphy.com/gifs/amy-schumer-E3L5goMMSoAAo" rel="noopener ugc nofollow" target="_blank">Drunk Amy Schumer</a>” by <a class="ae jd" href="https://www.buzzfeed.com/" rel="noopener ugc nofollow" target="_blank">BuzzFeed</a> on <a class="ae jd" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank">GIPHY</a></figcaption></figure><p id="6575" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们可能不像艾米·舒默那样喜欢葡萄酒，但我们仍然认为葡萄酒是一个非常美味的研究对象。我们将检验的 2D 特征空间是类黄酮(一类代谢物)的<strong class="kx jh">浓度和葡萄酒的<strong class="kx jh">颜色强度</strong>之间的相关性。</strong></p><p id="74d9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">以下代码提供了 2D 特征空间的初始可视化。</strong></p><figure class="mb mc md me gt is"><div class="bz fp l di"><div class="nr nq l"/></div></figure><figure class="mb mc md me gt is gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/b6bdb657e8951b38e1509feb9d22b941.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*vUz0-KOwksnqo3qOYBY-Kw.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">First visualization of the 2D feature space dependency</figcaption></figure><p id="fcb9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">厉害！现在我们对正在处理的依赖性有了第一次“感觉”。</p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="ca7c" class="mm mn jg bd mo mp mq mr ms mt mu mv mw km mx kn my kp mz kq na ks nb kt nc nd bi translated">#2 —聚类数据点。</h1><p id="c7ad" class="pw-post-body-paragraph kv kw jg kx b ky ne kh la lb nf kk ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">在我们的第一次可视化中，我们可能已经看到了一些聚类和异常值，但是为了给我们的直觉提供更多的统计基础，我们借助了聚类算法。<strong class="kx jh"> DBSCAN </strong> <em class="no">(基于密度的带噪声应用空间聚类)</em>是一种常用于离群点检测的聚类算法。在这里，如果一个数据实例不属于任何集群，那么它被认为是离群值。</p><blockquote class="nt nu nv"><p id="8aa9" class="kv kw no kx b ky kz kh la lb lc kk ld nw lf lg lh nx lj lk ll ny ln lo lp lq ij bi translated">DBSCAN 算法需要两个参数—<strong class="kx jh">ε</strong>，其指定点应该彼此多接近才能被认为是聚类的一部分；和<strong class="kx jh"> minPts </strong>，它指定一个点应该有多少个邻居被包含到一个聚类中。”— <a class="ae jd" href="https://github.com/alitouka" rel="noopener ugc nofollow" target="_blank"> <strong class="kx jh">阿利图卡</strong> </a></p></blockquote><p id="46bb" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">通过调整模型的参数 epsilon 和 minPts(在 Python: min_samples 中)，我们揭示了特征空间中一些不错的聚类。</p><p id="4890" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">以下代码聚类了 2D 特征空间。</strong></p><figure class="mb mc md me gt is"><div class="bz fp l di"><div class="nr nq l"/></div></figure><h1 id="5e55" class="mm mn jg bd mo mp nj mr ms mt nk mv mw km nl kn my kp nm kq na ks nn kt nc nd bi translated">将特征空间的第一可视化与聚类可视化进行比较</h1><figure class="mb mc md me gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nz"><img src="../Images/d28f4a6cb9a1d788e1a85c1a03be0883.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7BTrkSDIgUZ3xekAeVRCew.png"/></div></div></figure><p id="fa19" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">哦，是的，我们终于发现他们了！</p><figure class="mb mc md me gt is"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">“<a class="ae jd" href="https://giphy.com/gifs/angietribecatbs-l41YiwLaLdnOFRWlq" rel="noopener ugc nofollow" target="_blank">Under Arrest Flirt</a>” by <a class="ae jd" href="https://giphy.com/angietribecatbs/" rel="noopener ugc nofollow" target="_blank">Angie Tribeca</a> on <a class="ae jd" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank">GIPHY</a></figcaption></figure><h1 id="1a22" class="mm mn jg bd mo mp nj mr ms mt nk mv mw km nl kn my kp nm kq na ks nn kt nc nd bi translated">这些紫色的小点就是我们正在寻找的<strong class="ak">异常值</strong>！</h1><figure class="mb mc md me gt is gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/9fad336ec24407252aa266b765ce6961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*EGZ4qnDrGvDgEZh-3cXJsg.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Clusters of the 2D feature space</figcaption></figure></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><h1 id="8e9b" class="mm mn jg bd mo mp mq mr ms mt mu mv mw km mx kn my kp mz kq na ks nb kt nc nd bi translated">#3 —计算异常值。</h1><p id="f635" class="pw-post-body-paragraph kv kw jg kx b ky ne kh la lb nf kk ld le ng lg lh li nh lk ll lm ni lo lp lq ij bi translated">哇！！现在我们知道<strong class="kx jh">的确</strong>在黄酮类化合物的<strong class="kx jh">浓度和葡萄酒<strong class="kx jh">颜色强度</strong>的相关性中存在异常值，yaaay(顺便说一句，我仍然不知道黄酮类化合物是什么)。就差最后一步了…</strong></p><p id="038b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">以下代码计算 2D 特征空间的异常值。</strong></p><figure class="mb mc md me gt is"><div class="bz fp l di"><div class="nr nq l"/></div></figure><p id="624d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这段代码计算并最终在一个单独的<a class="ae jd" href="https://github.com/JOPloume/outlier-detection-2D-feature-space/blob/master/datasets/dbscan-outliers.csv" rel="noopener ugc nofollow" target="_blank"> <strong class="kx jh"> CSV 文件</strong> </a>中打印出数据集的 11 个异常值。</p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><p id="7a76" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这份<strong class="kx jh">离群点检测的逐步指南</strong>是我在关于人在回路计算的论文项目中创建的，这是一种将人类与机器智能相结合的方法。敬请期待！</p><figure class="mb mc md me gt is"><div class="bz fp l di"><div class="oa nq l"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">“<a class="ae jd" href="https://giphy.com/gifs/the-end-thats-all-folks-lD76yTC5zxZPG" rel="noopener ugc nofollow" target="_blank">Done Looney Tunes</a>” by <a class="ae jd" href="https://heckyeahreactiongifs.tumblr.com/" rel="noopener ugc nofollow" target="_blank">Heck Yeah Reaction GIFs</a> on <a class="ae jd" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank">GIPHY</a></figcaption></figure></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><p id="70e3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">[1]谷歌云，<a class="ae jd" href="https://cloud.google.com/ml-engine/docs/ml-solutions-overview" rel="noopener ugc nofollow" target="_blank">机器学习工作流程</a> (2019)</p><p id="a109" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">[2] M. Ester，H.-P. Kriegel，J. Sander，X. Xu，<a class="ae jd" href="https://dl-acm-org.proxy.lnu.se/citation.cfm?id=3001507" rel="noopener ugc nofollow" target="_blank">一种基于密度的聚类发现算法</a>(1996)1996 年第二届知识发现与数据挖掘国际会议论文集</p></div></div>    
</body>
</html>