<html>
<head>
<title>Easy Steps To Plot Geographic Data on a Map — Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在地图上绘制地理数据的简单步骤 Python</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/easy-steps-to-plot-geographic-data-on-a-map-python-11217859a2db?source=collection_archive---------0-----------------------#2019-08-16">https://towardsdatascience.com/easy-steps-to-plot-geographic-data-on-a-map-python-11217859a2db?source=collection_archive---------0-----------------------#2019-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="a11c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi ko translated"><span class="l kp kq kr bm ks kt ku kv kw di"> A </span>假设你在一家创业公司工作，需要对用户的地理数据进行空间数据分析和预测。或者，您的公司运行大量的交付操作，您的工作再次分析、可视化并可能预测司机或用户的地理数据。因此，在地图上可视化您的数据(可能是预测的数据)将是非常必要的。</p><p id="5e9e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本文中，我将介绍如何使用 Python 在任何地图上绘制地理数据的简单步骤。我发现它在我以前的项目中非常有用和有帮助，使用相同的语言:Python-检查我的文章:<a class="ae kx" rel="noopener" target="_blank" href="/brilliant-sim-cards-traffic-management-90982691fa94">交通管理的空间数据分析</a>。</p><p id="b980" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当然，当我们提到地理数据时，我们脑海中浮现的是数据点的坐标:经度和纬度。这是真的，它们只是地图上特定点的 X 和 Y 坐标。然而，还有其他类型的地理数据，如多边形、线数据。这里主要关注如何在地图上可视化点数据。我们可以开始了吗？</p><h2 id="2076" class="ky kz it bd la lb lc dn ld le lf dp lg kb lh li lj kf lk ll lm kj ln lo lp lq bi translated">加载库和数据集</h2><p id="672a" class="pw-post-body-paragraph jq jr it js b jt lr jv jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn im bi translated">首先，让我们从加载库开始</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="a25b" class="ky kz it mb b gy mf mg l mh mi">import numpy as np<br/>import pandas as pd<br/>import matplotlib.pyplot as plt</span></pre><p id="979a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">加载空间数据集</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="7d92" class="ky kz it mb b gy mf mg l mh mi">df = pd.read_csv(‘C:/.. …/SpatialDataSet.txt’)</span></pre><p id="4ff6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">看一看数据集</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="a693" class="ky kz it mb b gy mf mg l mh mi">df.head()</span></pre><figure class="lw lx ly lz gt mk gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/29047ba3c6e074099314db25841a7bc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:410/format:webp/1*9q9vzkE6RdHh8CRy6XJdAw.png"/></div></figure><p id="4f58" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我的数据集很简单(1444 行× 2 列)。为了这次演示，我在利雅得市收集了随机的地理数据点。</p><h2 id="d6b9" class="ky kz it bd la lb lc dn ld le lf dp lg kb lh li lj kf lk ll lm kj ln lo lp lq bi translated">定义边界框</h2><p id="d8f7" class="pw-post-body-paragraph jq jr it js b jt lr jv jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn im bi translated">现在，我们必须定义边界框。边界框是由两个经度和两个纬度定义的区域，它将包括所有的空间点。</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="f36e" class="ky kz it mb b gy mf mg l mh mi">BBox = ((df.longitude.min(),   df.longitude.max(),      <br/>         df.latitude.min(), df.latitude.max())</span><span id="7f3b" class="ky kz it mb b gy mn mg l mh mi">&gt; (46.5691,46.8398, 24.6128, 24.8256)</span></pre><h2 id="a790" class="ky kz it bd la lb lc dn ld le lf dp lg kb lh li lj kf lk ll lm kj ln lo lp lq bi translated">拿你的地图</h2><p id="06f7" class="pw-post-body-paragraph jq jr it js b jt lr jv jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn im bi translated">进入 opestreetmap.org 网站<a class="ae kx" href="https://www.openstreetmap.org/export#map=5/51.500/-0.100" rel="noopener ugc nofollow" target="_blank">，首先输入边界框数据，将所需地图导出为图像。我按照下图中的解释做了同样的事情(这里也提到了更多的细节:</a><a class="ae kx" href="https://medium.com/@abuqassim115/thanks-for-your-response-frank-fb869824ede2" rel="noopener">导出地图图像的步骤</a>)。</p><figure class="lw lx ly lz gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mo"><img src="../Images/6f714e80e29396e88e8624b9d6395272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dAPSwtx1XOAwevJWKk64Vw.png"/></div></div></figure><p id="d3e9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">返回编码环境并加载地图图像:</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="2a50" class="ky kz it mb b gy mf mg l mh mi">ruh_m = plt.imread('C:/.. … /Riyadh_map.png')</span></pre><h2 id="6e8a" class="ky kz it bd la lb lc dn ld le lf dp lg kb lh li lj kf lk ll lm kj ln lo lp lq bi translated">最后一步:绘图</h2><p id="1fa5" class="pw-post-body-paragraph jq jr it js b jt lr jv jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn im bi translated">最后，在'<em class="mt"> ruh_m </em>'地图图像上绘制'<em class="mt">测向经度</em>'和'<em class="mt">测向纬度</em>'坐标作为散点。注意，根据边界框'<em class="mt"> BBox </em>'设置 X 轴和 Y 轴很重要</p><pre class="lw lx ly lz gt ma mb mc md aw me bi"><span id="a6fa" class="ky kz it mb b gy mf mg l mh mi">fig, ax = plt.subplots(figsize = (8,7))</span><span id="c8fe" class="ky kz it mb b gy mn mg l mh mi">ax.scatter(df.longitude, df.latitude, zorder=1, alpha= 0.2, c='b', s=10)</span><span id="5131" class="ky kz it mb b gy mn mg l mh mi">ax.set_title('Plotting Spatial Data on Riyadh Map')<br/>ax.set_xlim(BBox[0],BBox[1])<br/>ax.set_ylim(BBox[2],BBox[3])</span><span id="9abd" class="ky kz it mb b gy mn mg l mh mi">ax.imshow(ruh_m, zorder=0, extent = BBox, aspect= 'equal')</span></pre><figure class="lw lx ly lz gt mk gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/d2a9e33fab9dd390533a244d5ce78758.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*1Hbbt5iP5wMYPt1v2dgWBQ.png"/></div></figure></div></div>    
</body>
</html>