<html>
<head>
<title>Downloading Datasets into Google Drive via Google Colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过 Google Colab 将数据集下载到 Google Drive</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/downloading-datasets-into-google-drive-via-google-colab-bcb1b30b0166?source=collection_archive---------1-----------------------#2019-02-15">https://towardsdatascience.com/downloading-datasets-into-google-drive-via-google-colab-bcb1b30b0166?source=collection_archive---------1-----------------------#2019-02-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6519" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在 Google Colab 中为数据科学项目使用 Google Drive 的分步指南</h2></div><p id="7337" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">更新:(即将推出)TensorFlow 2.0 将为 Keras 推出新的分发策略，以便您可以使用相同的代码在 TPUs </em>  <em class="le">上分发您的模型</em> <strong class="kk iu"> <em class="le">。</em> <strong class="kk iu"> <em class="le"> Google Colab 发布后可以直接访问 Google Cloud TPUs </em> </strong> <em class="le">！观看</em><a class="ae lf" href="https://youtu.be/k5c-vg4rjBw?t=1263" rel="noopener ugc nofollow" target="_blank"><em class="le">TF Dev Summit’19</em></a><em class="le">了解更多信息。</em></strong></p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/fa5d7991c91bb133593f01c31916c548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WBJ2WIZ5Sxuj0sPA"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Google Colab and Google Drive back you up in deep learning — Photo Credit: <a class="ae lf" href="https://unsplash.com/@elizabethtsung?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Elizabeth Tsung</a></figcaption></figure><p id="9e38" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你像我一样使用旧的 MacBook Pro(2013 年末，120GB 高清)，有限的存储将是我在数据科学项目中最大的障碍。对于那些也在从事具有大型数据集的数据科学项目的人来说，我确信保存数据集并在云上训练模型肯定会让你放心。</p><p id="918e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本教程中，我将与您分享我在以下方面的经验:</p><ol class=""><li id="60a3" class="lw lx it kk b kl km ko kp kr ly kv lz kz ma ld mb mc md me bi translated">将 Google Drive 安装到 Google Colab</li><li id="9f87" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld mb mc md me bi translated">通过 Google Colab 将数据集直接下载到 Google Drive</li></ol><ul class=""><li id="8563" class="lw lx it kk b kl km ko kp kr ly kv lz kz ma ld mk mc md me bi translated">使用 Kaggle API</li><li id="e48e" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld mk mc md me bi translated">从竞赛网站，要求下载时需要用户名和密码</li></ul><p id="255a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">额外收获:一键启用 Google Colab 中的免费 GPU 支持，使用 Tensorflow 进行训练。</p><h1 id="11b0" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">将谷歌硬盘安装到谷歌实验室</h1><h2 id="5ed7" class="nd mm it bd mn ne nf dn mr ng nh dp mv kr ni nj mx kv nk nl mz kz nm nn nb no bi translated">第一步</h2><p id="14e2" class="pw-post-body-paragraph ki kj it kk b kl np ju kn ko nq jx kq kr nr kt ku kv ns kx ky kz nt lb lc ld im bi translated">首先，进入你的谷歌实验室，然后输入以下内容:</p><pre class="lh li lj lk gt nu nv nw nx aw ny bi"><span id="8fad" class="nd mm it nv b gy nz oa l ob oc">from google.colab import drive<br/>drive.mount('/content/gdrive')</span></pre><p id="fb24" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该单元将返回以下内容，您需要转到该链接来检索授权码。那你就可以走了！</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi od"><img src="../Images/155f4312194805fed1e53fbd5fa3de0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*stXV_XhZjHKVxy5Vrgtgew.png"/></div></div></figure><h2 id="a27b" class="nd mm it bd mn ne nf dn mr ng nh dp mv kr ni nj mx kv nk nl mz kz nm nn nb no bi translated">第二步</h2><p id="df55" class="pw-post-body-paragraph ki kj it kk b kl np ju kn ko nq jx kq kr nr kt ku kv ns kx ky kz nt lb lc ld im bi translated">如果您能够访问 google drive，您的 Google Drive 文件应该都在以下位置:</p><p id="50c4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">/content/g Drive/My Drive/</strong></p><p id="1005" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">而您当前的目录将是<strong class="kk iu"> /content/ </strong></p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi oe"><img src="../Images/84308146fe1a41a461320b8a1bb825cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fEEWgfAktf0ulnzdbbVo2w.png"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk">Click on the arrow on the left and you will find the data structure.</figcaption></figure><p id="3d8b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了方便使用，只需保存下面的代码片段并将其粘贴到 Google Colab 中，您就可以轻松地将您的 Google Drive 安装到笔记本上。</p><figure class="lh li lj lk gt ll"><div class="bz fp l di"><div class="of og l"/></div></figure><h1 id="b582" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">通过 Google Colab 将数据集直接下载到 Google Drive</h1><p id="f430" class="pw-post-body-paragraph ki kj it kk b kl np ju kn ko nq jx kq kr nr kt ku kv ns kx ky kz nt lb lc ld im bi translated">在这一节中，我将与您分享我从 Kaggle 和其他竞争对手那里下载数据集的经验。</p><p id="c207" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过 Kaggle API 下载 Kaggle 数据集</p><h2 id="abae" class="nd mm it bd mn ne nf dn mr ng nh dp mv kr ni nj mx kv nk nl mz kz nm nn nb no bi translated">步骤 1-从您的帐户获取 API 密钥</h2><p id="cf6a" class="pw-post-body-paragraph ki kj it kk b kl np ju kn ko nq jx kq kr nr kt ku kv ns kx ky kz nt lb lc ld im bi translated">访问<a class="ae lf" href="http://www.kaggle.com" rel="noopener ugc nofollow" target="_blank">www.kaggle.com</a>⇨登录⇨我的帐户⇨创建新的 API 令牌</p><p id="a270" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将自动下载“kaggle.json”文件。</p><h2 id="f506" class="nd mm it bd mn ne nf dn mr ng nh dp mv kr ni nj mx kv nk nl mz kz nm nn nb no bi translated"><strong class="ak">步骤 2 —上传 kaggle.json 文件</strong></h2><p id="0678" class="pw-post-body-paragraph ki kj it kk b kl np ju kn ko nq jx kq kr nr kt ku kv ns kx ky kz nt lb lc ld im bi translated">使用 Google Colab 中的这些代码片段完成任务:</p><pre class="lh li lj lk gt nu nv nw nx aw ny bi"><span id="ff28" class="nd mm it nv b gy nz oa l ob oc">from google.colab import files<br/>files.upload()  #this will prompt you to upload the kaggle.json</span></pre><p id="8ece" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面将创建必要的文件夹路径。</p><pre class="lh li lj lk gt nu nv nw nx aw ny bi"><span id="ee22" class="nd mm it nv b gy nz oa l ob oc">!pip install -q kaggle<br/>!mkdir -p ~/.kaggle<br/>!cp kaggle.json ~/.kaggle/<br/>!ls ~/.kaggle<br/>!chmod 600 /root/.kaggle/kaggle.json  # set permission</span></pre><figure class="lh li lj lk gt ll"><div class="bz fp l di"><div class="of og l"/></div></figure><h2 id="b62a" class="nd mm it bd mn ne nf dn mr ng nh dp mv kr ni nj mx kv nk nl mz kz nm nn nb no bi translated">步骤 3-下载所需的数据集</h2><p id="770f" class="pw-post-body-paragraph ki kj it kk b kl np ju kn ko nq jx kq kr nr kt ku kv ns kx ky kz nt lb lc ld im bi translated">只需下载所需的数据集，语法如下:</p><blockquote class="oh oi oj"><p id="accb" class="ki kj le kk b kl km ju kn ko kp jx kq ok ks kt ku ol kw kx ky om la lb lc ld im bi translated">！kaggle 竞赛下载-c '竞赛名称'-p "目标 _ 实验室 _ 目录"</p></blockquote><pre class="lh li lj lk gt nu nv nw nx aw ny bi"><span id="dc65" class="nd mm it nv b gy nz oa l ob oc">!kaggle competitions download -c histopathologic-cancer-detection -p /content/gdrive/My\ Drive/kaggle/cancer</span></pre><p id="6ed2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">额外收获:请参见下面搜索 Kaggle 数据集的 git 要点</p><figure class="lh li lj lk gt ll"><div class="bz fp l di"><div class="of og l"/></div></figure><h2 id="d539" class="nd mm it bd mn ne nf dn mr ng nh dp mv kr ni nj mx kv nk nl mz kz nm nn nb no bi translated">步骤 4 —解压缩</h2><p id="5108" class="pw-post-body-paragraph ki kj it kk b kl np ju kn ko nq jx kq kr nr kt ku kv ns kx ky kz nt lb lc ld im bi translated">对于有多个 zip 文件的数据集，我倾向于将目录切换到指定的文件夹，然后一个一个地解压缩。</p><blockquote class="oh oi oj"><p id="e834" class="ki kj le kk b kl km ju kn ko kp jx kq ok ks kt ku ol kw kx ky om la lb lc ld im bi translated">！解压缩-q 文件。zip]-d[出口]</p><p id="33bc" class="ki kj le kk b kl km ju kn ko kp jx kq ok ks kt ku ol kw kx ky om la lb lc ld im bi translated"><strong class="kk iu"> -q </strong>禁止打印正在解压的文件名<br/> <strong class="kk iu"> -d【解压目录】</strong>可选解压文件的目录</p></blockquote><pre class="lh li lj lk gt nu nv nw nx aw ny bi"><span id="e1ae" class="nd mm it nv b gy nz oa l ob oc">import os<br/>os.chdir('gdrive/My Drive/kaggle/cancer')  #change dir<br/>!mkdir train  #create a directory named train/<br/>!mkdir test  #create a directory named test/<br/>!unzip -q train.zip -d train/  #unzip data in train/<br/>!unzip -q test.zip -d test/  #unzip data in test/<br/>!unzip sample_submission.csv.zip<br/>!unzip train_labels.csv.zip</span></pre><p id="0df8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">点击<a class="ae lf" href="https://github.com/Kaggle/kaggle-api" rel="noopener ugc nofollow" target="_blank">这里</a>阅读更多 Kaggle API 文档。</p></div><div class="ab cl on oo hx op" role="separator"><span class="oq bw bk or os ot"/><span class="oq bw bk or os ot"/><span class="oq bw bk or os"/></div><div class="im in io ip iq"><h2 id="3b63" class="nd mm it bd mn ne nf dn mr ng nh dp mv kr ni nj mx kv nk nl mz kz nm nn nb no bi translated">从竞赛网站下载数据集，请求下载时需要用户名和密码</h2><p id="da4c" class="pw-post-body-paragraph ki kj it kk b kl np ju kn ko nq jx kq kr nr kt ku kv ns kx ky kz nt lb lc ld im bi translated">对于像<a class="ae lf" href="https://iciar2018-challenge.grand-challenge.org/" rel="noopener ugc nofollow" target="_blank"> ICIAR2018 </a>这样的比赛，你需要在下载数据集时提供用户名和密码。</p><p id="80b0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要在 Google Colab 中执行此操作，首先您可以将当前目录更改为您希望保存数据集的文件夹。然后，使用<strong class="kk iu"> wget </strong>而不是使用<strong class="kk iu"> curl </strong>命令。</p><pre class="lh li lj lk gt nu nv nw nx aw ny bi"><span id="2592" class="nd mm it nv b gy nz oa l ob oc">!wget --user=your_username --password=your_password http://cdn1.i3s.up.pt/digitalpathology/ICIAR2018_BACH_Challenge.zip</span></pre><figure class="lh li lj lk gt ll"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="e8c6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下载后，您可以使用上面相同的方法解压缩文件。</p><h1 id="d6a5" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">额外收获:一键启用 Google Colab 中的免费 GPU，用 Tensorflow 进行训练</h1><p id="2d02" class="pw-post-body-paragraph ki kj it kk b kl np ju kn ko nq jx kq kr nr kt ku kv ns kx ky kz nt lb lc ld im bi translated">在您将 Google Drive 安装到 Google Colab 并下载了所需的数据集之后，让我们在您的 Colab 笔记本中启用 GPU 并训练您的模型。</p><p id="ffbb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从任务栏:运行时⇨更改运行时类型</p><p id="d6fb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">硬件加速器:无⇨ GPU</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/3bcf7da49fccbabdb85e03c8b82dbd23.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*Vl1C4pW2yFl7mphn23hsGA.png"/></div></figure><p id="932b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">希望你觉得这个教程有用，祝你云计算愉快！</p><h1 id="8598" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">信用</h1><p id="09a2" class="pw-post-body-paragraph ki kj it kk b kl np ju kn ko nq jx kq kr nr kt ku kv ns kx ky kz nt lb lc ld im bi translated">感谢<a class="ae lf" href="https://medium.com/@matmogleeson" rel="noopener"> Matt Gleeson </a>、<a class="ae lf" href="https://medium.com/@finlay.macrae" rel="noopener"> Finlay Macrae </a>的建议，让内容变得更好。</p></div></div>    
</body>
</html>