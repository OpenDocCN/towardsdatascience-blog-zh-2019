<html>
<head>
<title>Citizen Data Science:
Analyze Nature Without Programming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">公民数据科学:不用编程分析自然</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/citizen-data-science-4d412827bda6?source=collection_archive---------22-----------------------#2019-05-15">https://towardsdatascience.com/citizen-data-science-4d412827bda6?source=collection_archive---------22-----------------------#2019-05-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7949" class="pw-subtitle-paragraph jr is it bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">将 Excel 与 iNaturalist 和 eBird 一起使用</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/ee5b8ac0a711b974e47c42fc8ff840ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GsW4lCgNebBGXFLa9nkRFg.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Steven Wright @stevenwright via Unsplash</figcaption></figure><p id="f453" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最近在加维兰学院给一个植物学班的学生做了一次非正式的演讲。最初的主题是自然摄影，但我也谈到了我用来创作我最近完成的摄影集《鸟类肖像:海岸线公园》的数据科学技术。</p><p id="385f" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这本书的概念是试图亲自拍摄特定地区所有鸟类的照片，在这种情况下，在加利福尼亚州山景城的山景城公园的<a class="ae lw" href="https://www.mountainview.gov/depts/cs/shoreline/default.asp" rel="noopener ugc nofollow" target="_blank">海岸线，我后来扩展到包括帕洛阿尔托贝兰兹。为了列举在这一领域已经看到的物种，我求助于两个公民科学网站，T4 自然主义者网站和电子鸟类网站，这两个网站都有应用程序接口。请注意，虽然 eBird 是鸟类特有的，但 iNaturalist 也包含植物和其他动物的数据。</a></p><p id="e5fc" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">未来的一组文章将涵盖我用来研究和创作这本书的不同技术和库，包括用于地图制作的<a class="ae lw" href="https://python-visualization.github.io/folium/" rel="noopener ugc nofollow" target="_blank">叶子</a>。这些也将引用包含我使用的 Python 代码的 GitHub 库。</p><h1 id="1d51" class="lx ly it bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">Sans 编程</h1><p id="0a26" class="pw-post-body-paragraph kz la it lb b lc mp jv le lf mq jy lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">对于一个以数据科学为生的人来说，所有这些都很好，比起 Excel 表格，他更喜欢熊猫的数据框架。然而，即使您不是程序员，您也可能会习惯使用 Microsoft Excel，它可以有效地用于使用 iNaturalist 和 eBird 数据进行一些调查。</p><p id="7ab1" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一点点创造性地剪切和粘贴 URL 可以在不需要学习 Python 或 r 的情况下使用这些有价值的数据。毕竟，这是我为了弄清楚一些 API 是如何工作的，或者在它们不像宣传的那样工作时复制它们而做的。</p><h1 id="d428" class="lx ly it bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">方法</h1><p id="2895" class="pw-post-body-paragraph kz la it lb b lc mp jv le lf mq jy lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">植物学课上的一名学生提交了一份关于 Muhlenbergia rigens(俗称鹿草)的报告。虽然它是一种迷人的植物，但我将把对<em class="lv"> Muhlenbergia rigens </em>的分析作为练习，而是考虑我最喜欢的鸟类之一，美国红隼(<em class="lv"> Falco sparverius </em>)。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mu"><img src="../Images/94cac2d033c9b00bd33445efa11d7003.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VsLbEg3Ud55YyLHI9jvOlQ.jpeg"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">American Kestrel (<em class="jq">Falco sparverius</em>), photo by author</figcaption></figure><p id="b088" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了说明这种技术，我们将搜索美国红隼对自然主义者的观察。我将详细介绍这些步骤，以便清楚地说明如何推广到其他应用程序。</p><p id="fc30" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先进入非自然语言学家主页<a class="ae lw" href="https://www.inaturalist.org/home" rel="noopener ugc nofollow" target="_blank">这里</a>，点击左上角的放大镜。在搜索框中输入“American Kestrel”即可进入该页面:</p><p id="8904" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">https://www.inaturalist.org/observations?place_id=any&amp;taxon _ id = 4665</p><p id="8f53" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到有 13269 个观察值(到目前为止)。你也可以从这里看到，他们对<em class="lv">隼鸟</em>使用的分类单元号是 4665。因为我对当地的目击事件感兴趣，所以我还在 location 字段中填入了“Mountain View，CA，USA ”,将我们的结果限制为 238 次观察。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mv"><img src="../Images/eed1aba3a958566d33603291125c081b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jshGxhBZnSjU5dlW95d7xQ.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">iNaturalist helpfully shows possible choices</figcaption></figure><p id="ecf5" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，点击<strong class="lb iu">过滤器</strong>，然后点击<strong class="lb iu">下载</strong>。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mw"><img src="../Images/605adf9673958bb080664c8ebea30e61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TuEC-S2_MUkspwD286SsDw.png"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Lots of filtering options here</figcaption></figure><p id="2812" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将引导您进入一个新页面，其中有大量选项可供您选择最终导出的 CSV(逗号分隔值)文件。这个页面的关键部分是这样的:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi mx"><img src="../Images/e167201512d3aeb9cce3f16bf607fafa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aiT7Ce99USR96wXdnDnvFQ.png"/></div></div></figure><p id="5664" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过将框中的查询片段附加到以下内容:</p><pre class="kk kl km kn gt my mz na nb aw nc bi"><span id="601e" class="nd ly it mz b gy ne nf l ng nh">https://www.inaturalist.org/observations?</span></pre><p id="9db1" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将获得下载的完整 URL。更改“创建查询”窗格中的选项将会更改 URL 片段。我点击了“名胜古迹”，把区域限制在山景城；我们只得到 238 个观察值。从查询中，我们看到 76255 是山景城的 place_id。</p><p id="b71a" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成过滤后，向下滚动到步骤 4，然后单击“创建导出”。如果观察次数很少，它将很快完成。滚动回顶部，在“导出完成”上方点击“下载”按钮。在 Mac 电脑上，这将进入您的下载文件夹，名称类似“observations-53038.csv”，您现在可以用 Excel 打开它。</p><p id="8b25" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您有喜欢的搜索查询时，请在笔记中保存完整的 URL，以便快速、可重复地访问数据，这始终是数据科学的一个重要部分。</p><h1 id="4823" class="lx ly it bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">开始分析！</h1><p id="faab" class="pw-post-body-paragraph kz la it lb b lc mp jv le lf mq jy lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">默认下载中有 36 列，浏览它们会立即给我们一些数据分析的思路。例如，我们可以使用纬度和经度列在地图上绘制观察结果，或者使用自然语言处理检查描述列——等等，这是 Excel，不是 Jupyter Python 笔记本，所以这些列不容易使用。</p><p id="ab2b" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们打算在野外找到一只美洲红隼，知道它是季节性的还是全年性的将会非常有用。有帮助的一栏是“观察到的”，它看起来是 MM/DD/YY 格式。使用 Excel 的“数据透视表”功能，我们可以按月汇总观察计数，以找到一年中寻找它的最佳时间。</p><p id="eda1" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这不是关于数据透视表的教程，所以我们将遵循 StackOverflow 帖子[ <a class="ae lw" href="https://stackoverflow.com/questions/15838543/excel-count-number-of-occurences-by-month/15838994#15838994" rel="noopener ugc nofollow" target="_blank"> 1 </a> ]。</p><ol class=""><li id="10ee" class="ni nj it lb b lc ld lf lg li nk lm nl lq nm lu nn no np nq bi translated">在“observed_on”列后添加三列:obs_month、obs_year 和 obs_count</li><li id="cc69" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated">对 obs_month 使用公式=TEXT(C2，“MMM”)，对 obs_year 使用公式=TEXT(C2，“YYYY”)，对 obs_count 使用数字 1，并填写所有观察值(如果复制和粘贴，请注意智能引号！)</li><li id="bfdc" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated">选择三个新列并创建一个数据透视表(在 Mac 版本的 Excel 上，单击<em class="lv">数据</em>选项卡找到它)。</li><li id="e266" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated">将 obs_year 拖到列标签下，将 obs_month 拖到行标签下，将 obs_count 字段拖到值下，如下所示。</li></ol><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/b223e6efbfbea7e407523be08f99ed77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*gwxUsR8plVKZqapM0cdeEQ.png"/></div></figure><p id="29e4" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将创建一个如下所示的数据透视表:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nx"><img src="../Images/5c8b0c996e491fe128e43ee727f0bc8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ykhJjOxqybU_nludrKXi5g.png"/></div></div></figure><p id="653b" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回答什么时候能看到美洲红隼的问题，兴趣一栏是最右边的一栏；我们看到冬季月份是它最常被报道的时候(尽管不一定是它最丰富的时候)。最下面一行也很有趣，可能是因为非自然主义者手机应用程序越来越受欢迎。</p><h1 id="b0c3" class="lx ly it bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">eBird</h1><p id="0f3e" class="pw-post-body-paragraph kz la it lb b lc mp jv le lf mq jy lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">尽管本文使用了非自然的例子，但是 eBird 的大部分数据都可以通过查看 API 参考资料来获得。</p><p id="5561" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，此 URL:</p><pre class="kk kl km kn gt my mz na nb aw nc bi"><span id="1c6b" class="nd ly it mz b gy ne nf l ng nh"><a class="ae lw" href="https://ebird.org/ws2.0/ref/hotspot/geo?lat=37.4407&amp;lng=-122.0936&amp;fmt=json&amp;dist=6" rel="noopener ugc nofollow" target="_blank">https://ebird.org/ws2.0/ref/hotspot/geo?lat=37.4407&amp;lng=-122.0936&amp;fmt=csv&amp;dist=6</a></span></pre><p id="49f1" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将下载山景城海岸线公园 6 公里范围内观鸟热点的 CSV 数据。通过通读 API 文档<a class="ae lw" href="https://documenter.getpostman.com/view/664302/S1ENwy59?version=latest" rel="noopener ugc nofollow" target="_blank">这里</a>，您可以构建其他有用的查询 URL。</p><h1 id="bd20" class="lx ly it bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">结论</h1><p id="ce22" class="pw-post-body-paragraph kz la it lb b lc mp jv le lf mq jy lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">虽然这篇文章只是触及了公民科学数据宝库的皮毛，但它表明即使没有编程，也有可能获得有用的见解。</p><p id="0a34" class="pw-post-body-paragraph kz la it lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，我也希望它能激励你们中的一些人超越 Excel，学习 Python 或 R 之类的编程语言来帮助自动化分析任务。我在下面提供了一些文章链接，以帮助你快速启动你的努力。</p><h1 id="4644" class="lx ly it bd lz ma mb mc md me mf mg mh ka mi kb mj kd mk ke ml kg mm kh mn mo bi translated">参考</h1><ol class=""><li id="5faf" class="ni nj it lb b lc mp lf mq li ny lm nz lq oa lu nn no np nq bi translated"><a class="ae lw" href="https://stackoverflow.com/questions/15838543/excel-count-number-of-occurences-by-month/15838994#15838994" rel="noopener ugc nofollow" target="_blank"> Excel:按月统计出现次数</a>，Matthew Lock 和 Stepan1010，StackOverflow。</li><li id="135d" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><a class="ae lw" href="https://www.inaturalist.org/pages/api+reference" rel="noopener ugc nofollow" target="_blank">美国自然主义者 API 参考</a>，加州科学院和国家地理学会</li><li id="b7d8" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><a class="ae lw" href="https://documenter.getpostman.com/view/664302/S1ENwy59?version=latest" rel="noopener ugc nofollow" target="_blank"> eBird API 2.0 参考</a>，康奈尔鸟类学实验室</li><li id="be3e" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><a class="ae lw" rel="noopener" target="_blank" href="/when-excel-isnt-enough-using-python-to-clean-your-data-automate-excel-and-much-more-a154c6bf9b49">当 Excel 不够用的时候</a>，<a class="ob oc ep" href="https://medium.com/u/809979f1c824?source=post_page-----4d412827bda6--------------------------------" rel="noopener" target="_blank">安德烈斯·沃拉基斯</a></li><li id="ee6b" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><a class="ae lw" href="https://hackernoon.com/python-excel-tutorial-the-definitive-guide-934ee6dd15b0" rel="noopener ugc nofollow" target="_blank"> Python Excel 教程:权威指南</a>，<a class="ob oc ep" href="https://medium.com/u/b9a4f6da81ed?source=post_page-----4d412827bda6--------------------------------" rel="noopener" target="_blank"> Karlijn Willems </a></li><li id="57b7" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><a class="ae lw" rel="noopener" target="_blank" href="/seven-clean-steps-to-reshape-your-data-with-pandas-or-how-i-use-python-where-excel-fails-62061f86ef9c">用熊猫重塑你的数据的七个干净步骤或者我如何在 Excel 失败的地方使用 Python</a>，<a class="ob oc ep" href="https://medium.com/u/f10b55ebee0f?source=post_page-----4d412827bda6--------------------------------" rel="noopener" target="_blank"> Tich Mangono </a></li><li id="b64a" class="ni nj it lb b lc nr lf ns li nt lm nu lq nv lu nn no np nq bi translated"><a class="ae lw" href="https://www.inaturalist.org/observations/20735222" rel="noopener ugc nofollow" target="_blank">美国红隼观察</a>，约翰·赫尔利</li></ol></div></div>    
</body>
</html>