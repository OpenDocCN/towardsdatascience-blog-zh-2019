<html>
<head>
<title>Pandas.Series Methods for Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫。机器学习的系列方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pandas-series-methods-for-machine-learning-fd83709368ff?source=collection_archive---------23-----------------------#2019-10-25">https://towardsdatascience.com/pandas-series-methods-for-machine-learning-fd83709368ff?source=collection_archive---------23-----------------------#2019-10-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b2c5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解它们及其实现</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a94d6c62d8b6819b4e62188221c4f1b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iZCqQnP2fbpcwVo01G9qAw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@ffstop?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Fotis Fotopoulos</a> on <a class="ae ky" href="https://unsplash.com/s/photos/programming-python?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="kz la lb"><p id="4eb1" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">声明:这篇文章不会让你成为<code class="fe lz ma mb mc b"><strong class="lf iu"><em class="it">Pandas.Series</em></strong></code>方面的专家。这本身就是一篇文章要涵盖的非常广泛的主题。为此，我会推荐你阅读一本书或<code class="fe lz ma mb mc b"><strong class="lf iu"><em class="it">Pandas</em></strong></code> <strong class="lf iu"> </strong>文档。但是，我可以告诉你的是，这篇文章将让你在学习机器的<a class="ae ky" rel="noopener" target="_blank" href="/journey-into-data-mining-3b5ccfa5343">旅程中起航。</a></p></blockquote></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="9f84" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi mn translated"><span class="l mo mp mq bm mr ms mt mu mv di">在</span>这篇文章中，我们将谈论<code class="fe lz ma mb mc b"><a class="ae ky" rel="noopener" target="_blank" href="/pandas-series-a-part-of-the-backbone-for-machine-learning-in-python-c6a5003836c7">Pandas.series</a></code>中提供的一些方法，在使用它们时要记住什么，以及如何有效地使用它们。一个<code class="fe lz ma mb mc b">Series</code>对象有许多对<strong class="lf iu">数据分析</strong>有用的属性和方法。一般来说，<em class="le">方法</em>返回一个新的<code class="fe lz ma mb mc b">Series</code>对象，但是大多数返回新实例的方法也有一个<code class="fe lz ma mb mc b">inplace</code>或<code class="fe lz ma mb mc b">copy</code>参数。这是因为<code class="fe lz ma mb mc b">Pandas</code>中的默认行为倾向于<strong class="lf iu">不变性</strong>，并且这些可选参数分别默认为<code class="fe lz ma mb mc b">False</code>和<code class="fe lz ma mb mc b">True</code>。在本帖中，我们将使用下面的例子<code class="fe lz ma mb mc b">Series</code>。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="70b9" class="na nb it mc b gy nc nd l ne nf">songs_66 = pd.Series([3, None , 11, 9], <br/>    index=['George', 'Ringo', 'John', 'Paul'],<br/>    name='Counts')</span><span id="d2a2" class="na nb it mc b gy ng nd l ne nf">songs_69 = pd.Series([18, 22, 7, 5],<br/>    index=[ 'John', 'Paul', 'George', 'Ringo'],<br/>    name='Counts')</span></pre><blockquote class="kz la lb"><p id="9b55" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/a16bd593bc591ebd530deaa8a8501d02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uEEzh0kG04d2ajb_U_jGbg.png"/></div></div></figure></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="d6eb" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">循环</h2><p id="4c44" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">→迭代 a <code class="fe lz ma mb mc b">Series</code>迭代值:</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="4348" class="na nb it mc b gy nc nd l ne nf">for value in songs_66:<br/>    print(value)</span></pre><blockquote class="kz la lb"><p id="5422" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/b0bc755172344fb42e3df583e9c83fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*mKjdCb9krbgIoP0Az5pkRQ.png"/></div></figure><p id="4183" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→有一个<code class="fe lz ma mb mc b">.iteritems</code>方法循环遍历索引、值对:</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="8152" class="na nb it mc b gy nc nd l ne nf">for idx, value in songs_66.iteritems():<br/>    print(idx, value)</span></pre><blockquote class="kz la lb"><p id="2a58" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/0aca2b2f81545c2d650ced3f69786ae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*F-xUsNPkM_pi3wrqjmH4Xw.png"/></div></figure><p id="4b10" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→还提供了一种<code class="fe lz ma mb mc b">.keys</code>方法作为索引的快捷方式:</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="1160" class="na nb it mc b gy nc nd l ne nf">for idx in songs_66.keys():<br/>    print(idx)</span></pre><blockquote class="kz la lb"><p id="03b9" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/07c420d3494ba780ffe2b398fc582747.png" data-original-src="https://miro.medium.com/v2/resize:fit:518/format:webp/1*VuSncxGivCkPZr_kv7hC1g.png"/></div></figure><p id="6743" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→不像 Python 字典的<code class="fe lz ma mb mc b">.keys</code>方法，结果是有序的。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="7dcb" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">超载操作</h2><p id="bda5" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">以下列表包含系列对象的<em class="le">重载</em>操作。对于 pandas 对象，这些操作以一种特殊的方式进行，可能不同于其他 Python 对象对这些操作的响应:</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="5105" class="na nb it mc b gy nc nd l ne nf"><strong class="mc iu">Operation, Result (All return Series)<br/></strong>+, Adds scalar<br/>-, Subtracts scalar<br/>/, Divides scalar<br/>//, Floor divides scalar<br/>*, Multiply scalar<br/>%, Modulus scalar<br/>== / !=, Equality scalar<br/>&lt; / &gt;, Greater / less than scalar<br/>&lt;= / &gt;=, Greater / less than or equal scalar<br/>^, Binary XOR<br/>|, Binary OR<br/>&amp;, Binary AND</span></pre><p id="6361" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">series 的常见算术运算被重载以处理标量和其他 series 对象。标量加法(假定序列中有数值)只是将标量值与序列值相加。给一个系列加一个标量叫做<em class="le">播</em>:</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="a9a5" class="na nb it mc b gy nc nd l ne nf">songs_66 + 2</span></pre><blockquote class="kz la lb"><p id="cfdf" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/e8ec3fb325a6730b3971169bf097458b.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*tnhDrGYR_lfzFxjH5BufAA.png"/></div></figure><blockquote class="oi"><p id="7639" class="oj ok it bd ol om on oo op oq or ly dk translated">注意:广播是<code class="fe lz ma mb mc b">NumPy</code>和<code class="fe lz ma mb mc b">pandas</code>的功能。一个普通的<code class="fe lz ma mb mc b">Python</code>列表支持前面表格中列出的一些操作，但是不像<code class="fe lz ma mb mc b">NumPy</code>和<code class="fe lz ma mb mc b">pandas</code>对象那样支持元素方式。当您将一个<code class="fe lz ma mb mc b">Python</code>列表乘以 2 时，结果是一个元素重复的新列表，而不是每个元素乘以 2:</p></blockquote><pre class="os ot ou ov ow mw mc mx my aw mz bi"><span id="ba92" class="na nb it mc b gy nc nd l ne nf">[1, 2, 3] * 2</span></pre><blockquote class="kz la lb"><p id="a0bd" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="8e07" class="na nb it mc b gy nc nd l ne nf">[1, 2, 3, 1, 2, 3]</span></pre><p id="f682" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→当添加两个<code class="fe lz ma mb mc b">Series</code>对象时，只有那些索引出现在两个<code class="fe lz ma mb mc b">Series</code>中的项目才会被添加，否则<code class="fe lz ma mb mc b">NaN</code>将被插入到仅在一个<code class="fe lz ma mb mc b">Series</code>中找到的索引中。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="3b37" class="na nb it mc b gy nc nd l ne nf">songs_66 + songs_69</span></pre><p id="d68c" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">这里，“Ringo”在两者中都出现，但在<code class="fe lz ma mb mc b">songs_66</code>中的值为<code class="fe lz ma mb mc b">NaN</code>，因此结果也将是<code class="fe lz ma mb mc b">NaN</code>。</p><blockquote class="kz la lb"><p id="3683" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/23fcaa11277a4c576d0b22be63345f61.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*oHUjo6hGOWHTTIwwjc5iow.png"/></div></figure><p id="dc3a" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→上面这个案例可能有点问题，应该是“Ringo songs”的计数未知。要解决这个问题，我们可以用<code class="fe lz ma mb mc b">.fillna()</code>的方法将<code class="fe lz ma mb mc b">NaN</code>替换为<code class="fe lz ma mb mc b">0</code>，得到一个更合适更好的答案。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="4a0a" class="na nb it mc b gy nc nd l ne nf">songs_66.fillna(0) + songs_69.fillna(0)</span></pre><blockquote class="kz la lb"><p id="5714" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/c6d73f8ae694add288280d7bab672456.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*w6QwF5ttktCqFpE-LmYGqg.png"/></div></figure><p id="63c7" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">对于-、*和/，其他算术运算的行为类似。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="e783" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">获取和设置值</h2><p id="8b1a" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated"><code class="fe lz ma mb mc b">series</code>对象允许通过索引操作(使用<code class="fe lz ma mb mc b"><a class="ae ky" href="https://medium.com/swlh/indexing-best-practices-in-pandas-series-948ae3f44b08" rel="noopener">.loc</a></code>和<code class="fe lz ma mb mc b"><a class="ae ky" href="https://medium.com/swlh/indexing-best-practices-in-pandas-series-948ae3f44b08" rel="noopener">.iloc</a></code>)和方便的方法访问值。获取和设置值的方法如下:</p><ol class=""><li id="2a2d" class="oz pa it lf b lg lh lj lk mk pb ml pc mm pd ly pe pf pg ph bi translated"><code class="fe lz ma mb mc b">get(label, [default])</code> —如果找到，则返回一个标量(如果是重复索引，则返回<code class="fe lz ma mb mc b">Series</code>),否则为默认值</li><li id="bb3b" class="oz pa it lf b lg pi lj pj mk pk ml pl mm pm ly pe pf pg ph bi translated"><code class="fe lz ma mb mc b">get_value(label)</code> —返回一个标量(如果是重复的索引，则返回<code class="fe lz ma mb mc b">Series</code></li><li id="7315" class="oz pa it lf b lg pi lj pj mk pk ml pl mm pm ly pe pf pg ph bi translated"><code class="fe lz ma mb mc b">set_value(label, value)</code> —返回一个插入(或更新)了标签和值的新<code class="fe lz ma mb mc b">Series</code></li></ol><p id="214a" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">现在，让我们看看这些方法的实际应用:</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="3b48" class="na nb it mc b gy nc nd l ne nf">songs_66['John']<br/>songs_66.get('Fred', 'missing')<br/>songs_66.get_value('John')<br/>songs_66.John <br/># dotted attribute access supported only for valid attribute names and no conflicts with pre-existing series attributes</span></pre><blockquote class="kz la lb"><p id="93be" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="3d5a" class="na nb it mc b gy nc nd l ne nf">11.0<br/>missing<br/>11.0<br/>11.0</span></pre><blockquote class="oi"><p id="d0c7" class="oj ok it bd ol om on oo op oq or ly dk translated">注意:有效的属性名是以字母开头，包含字母数字或下划线的名称。如果索引名包含空格，您不能使用带点的属性访问来读取它，但是索引访问可以很好地工作。</p></blockquote><p id="bfb7" class="pw-post-body-paragraph lc ld it lf b lg pn ju li lj po jx ll mk pp lo lp ml pq ls lt mm pr lw lx ly im bi translated"><em class="le">如果找不到索引值，</em> <code class="fe lz ma mb mc b"><em class="le">.get_value()</em></code> <em class="le">方法会引发异常。</em></p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="8f93" class="na nb it mc b gy nc nd l ne nf"># Inserting or updating the values<br/>songs_66['John'] = 82<br/>songs_66['John']<br/>songs_66.John = 81<br/>songs_66['John']<br/>songs_66.set_value('John', 80) <br/># The set_value method updates the series in place and returns a series</span></pre><blockquote class="kz la lb"><p id="8db3" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="d21a" class="na nb it mc b gy nc nd l ne nf">82.0<br/>81.0</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/dae3fcd438a600059719601e3696f4e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*7uFaLgwyX_D6fl9m3hbRJg.png"/></div></figure><blockquote class="oi"><p id="f699" class="oj ok it bd ol om on oo op oq or ly dk translated">注意:如果您有非唯一索引，并且只想更新重复索引的一个值，则不能通过。设置值。在这种情况下，应该使用使用. iloc 的位置来执行更新。</p></blockquote></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="455b" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">重置索引</h2><p id="d842" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">根据问题的上下文，更改索引的值可能是有用的。我们将了解一些重置索引、更改索引标签以及重命名索引标签的方法。第一个是<code class="fe lz ma mb mc b">.reset_index</code>，它将把索引重置为从零开始单调递增的整数。默认情况下，<code class="fe lz ma mb mc b">.reset_index</code>方法将返回一个新的<code class="fe lz ma mb mc b">data frame</code>(不是一个<code class="fe lz ma mb mc b">series</code>)。它将当前索引值移动到名为<code class="fe lz ma mb mc b">index</code>的列中。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="a7ca" class="na nb it mc b gy nc nd l ne nf">songs_66.reset_index()</span></pre><blockquote class="kz la lb"><p id="acb0" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/0efb98c5dc1e6e91dfd6536fcac8a44f.png" data-original-src="https://miro.medium.com/v2/resize:fit:394/format:webp/1*bgOufWfEYSRvo-FCKHozLQ.png"/></div></figure><p id="5494" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→为了获得一个<code class="fe lz ma mb mc b">Series</code>输出，将<code class="fe lz ma mb mc b">True</code>传递给<code class="fe lz ma mb mc b">drop</code>参数，这将删除索引列。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="ccd7" class="na nb it mc b gy nc nd l ne nf">songs_66.reset_index(drop=True)</span></pre><blockquote class="kz la lb"><p id="2099" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/974360bfdb3803980ca5022a257d37ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*VYusgI8FEYNuE6kBXmEMtw.png"/></div></figure><p id="b403" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→如果需要特定的步进顺序，可将其传递给<code class="fe lz ma mb mc b">.reindex</code>方法。新的索引值将具有可选参数<code class="fe lz ma mb mc b">fill_value</code>的值(默认为 NaN)。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="e8b3" class="na nb it mc b gy nc nd l ne nf">songs_66.reindex(['Billy', 'Eric', 'George', 'Yoko'])</span></pre><blockquote class="kz la lb"><p id="cd8e" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/856cee85b821ea17e4d9eb0df7768826.png" data-original-src="https://miro.medium.com/v2/resize:fit:504/format:webp/1*QGwK-c47Q0lFvvDJEa8dZw.png"/></div></figure><p id="9035" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→或者，可以用<code class="fe lz ma mb mc b">.rename</code>方法更新索引值。该方法接受将索引标签映射到新标签的字典，或者接受标签并返回新标签的函数。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="ad4d" class="na nb it mc b gy nc nd l ne nf">songs_66.rename({'Ringo':'Richard'})</span><span id="ac65" class="na nb it mc b gy ng nd l ne nf">songs_66.rename(lambda x: x.lower())</span></pre><blockquote class="kz la lb"><p id="383c" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><div class="kj kk kl km gt ab cb"><figure class="pw kn px py pz qa qb paragraph-image"><img src="../Images/b81a49c208f2d0dfd0fb3de545219df4.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*cp3McbAxaAwVRn9s7D1jDA.png"/></figure><figure class="pw kn qc py pz qa qb paragraph-image"><img src="../Images/44927e5735d6fc4c9a21553e2a7455ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*1w4HK81oCNQ7dACvs0oOug.png"/></figure></div></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="90fe" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">计数</h2><p id="7aa0" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">这里我们将讨论如何获得在<code class="fe lz ma mb mc b">Series</code>中找到的数据的概况。对于这一特定部分，我们将使用以下两个<code class="fe lz ma mb mc b">series</code>。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="e4b1" class="na nb it mc b gy nc nd l ne nf">songs_66 = pd.Series([3, None , 11, 9], <br/>    index=['George', 'Ringo', 'John', 'Paul'],<br/>    name='Counts')</span><span id="ccf5" class="na nb it mc b gy ng nd l ne nf">scores_2 = pd.Series([67.3, 100, 96.7, None, 100],<br/>    index=['Ringo', 'Paul', 'George', 'Peter', 'Billy'],<br/>    name='test2')</span></pre><p id="5f67" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→ <code class="fe lz ma mb mc b"><strong class="lf iu">.count()</strong></code> <strong class="lf iu"> </strong>提供条目的计数，多少是唯一的，多少是重复的。此方法返回非空项的数量。在<code class="fe lz ma mb mc b">scores_2</code>系列中，有 5 个条目，但<code class="fe lz ma mb mc b">.count()</code>只返回 4 个。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="ff36" class="na nb it mc b gy nc nd l ne nf">scores_2.count()</span></pre><blockquote class="kz la lb"><p id="92c9" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="9737" class="na nb it mc b gy nc nd l ne nf">4</span></pre><p id="f769" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→直方图表格在熊猫身上很容易生成。如果您认为一个序列是索引键到值的有序映射，<code class="fe lz ma mb mc b">.value_counts</code>返回这些值到它们的计数的映射，按频率排序:</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="ecd7" class="na nb it mc b gy nc nd l ne nf">scores_2.value_counts()</span></pre><blockquote class="kz la lb"><p id="e141" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qd"><img src="../Images/75394db7b37f9e9a143c0157b77ae8d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*Yz74QCr0uLljxXbxrDMudw.png"/></div></figure><p id="5f50" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→要获得非 NaN 项目的唯一值或计数，分别使用<code class="fe lz ma mb mc b">.unique</code>和<code class="fe lz ma mb mc b">.nunique</code>方法。请注意。unique 包含了 nan 值，但是<code class="fe lz ma mb mc b">.nunique</code>不算。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qe"><img src="../Images/6891a655cdd42b7d45817880cccbf610.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*bDJ8PhrwU46vc8iYtbdM_A.png"/></div></figure><p id="b70c" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→使用<code class="fe lz ma mb mc b">.drop_duplicates</code>方法删除重复值。由于比利和保罗得分相同，他将被淘汰。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="fa0b" class="na nb it mc b gy nc nd l ne nf">scores2.drop_duplicates()</span></pre><blockquote class="kz la lb"><p id="4d40" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qf"><img src="../Images/4380645f5371c0263a53dea2bcffddf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*BsEVuYsx623IU9p7udPufw.png"/></div></figure><p id="47ce" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→要检索一个带有布尔值的序列，表明其值是否重复，使用<code class="fe lz ma mb mc b">.duplicated</code>方法。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="5c79" class="na nb it mc b gy nc nd l ne nf">scores_2.duplicated()</span></pre><blockquote class="kz la lb"><p id="0573" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qg"><img src="../Images/4ff844fedfbd685ba1d3917c1a6c923f.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/format:webp/1*nch5Gw_q6ZqoRixNCc47Sw.png"/></div></figure><p id="b2fc" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→删除重复的索引条目需要更多的努力。让我们创建一个<code class="fe lz ma mb mc b">series</code>，<code class="fe lz ma mb mc b">scores_3</code>，它在索引中有两次‘Paul’。如果我们使用<code class="fe lz ma mb mc b">.groupby </code>方法，并按索引分组，那么我们可以从每个索引标签的值中取出第一个或最后一个项目。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="03ca" class="na nb it mc b gy nc nd l ne nf">scores_3 = pd.Series([67.3, 100, 96.7, None, 100, 79],<br/>    index=['Ringo', 'Paul', 'George', 'Peter', 'Billy','Paul'])</span><span id="9aa9" class="na nb it mc b gy ng nd l ne nf">scores_3.groupby(scores_3.index).first()<br/>scores_3.groupby(scores_3.index).last()</span></pre><blockquote class="kz la lb"><p id="50e6" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><div class="kj kk kl km gt ab cb"><figure class="pw kn qh py pz qa qb paragraph-image"><img src="../Images/b3cadfa47a55e6960f27181a102be0dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*qdFrKpttme5P9kZdD5XHKQ.png"/></figure><figure class="pw kn qi py pz qa qb paragraph-image"><img src="../Images/196d3b44685daea33f1665113702bc5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/format:webp/1*q-IJK6XFxqeRMRr4N6sL4w.png"/></figure></div></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="ee2c" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">统计数字</h2><p id="7d3c" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">→在一个<code class="fe lz ma mb mc b">series</code>对象的方法中有许多基本的统计度量。其中最基本的是<code class="fe lz ma mb mc b">sum</code>中的一个<code class="fe lz ma mb mc b">series</code>值:</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="f808" class="na nb it mc b gy nc nd l ne nf">songs_66.sum()</span></pre><blockquote class="kz la lb"><p id="8f91" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="d198" class="na nb it mc b gy nc nd l ne nf">23.0</span></pre><p id="7cf0" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→大多数执行计算的方法忽略<code class="fe lz ma mb mc b">NaN</code>。有些还提供了一个可选参数— <code class="fe lz ma mb mc b">skipna</code> —来改变这种行为。但实际上如果不忽略<code class="fe lz ma mb mc b">NaN</code>，结果就是<code class="fe lz ma mb mc b">nan</code>。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="fe08" class="na nb it mc b gy nc nd l ne nf">songs_66.sum(skipna=False)</span></pre><blockquote class="kz la lb"><p id="967a" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="2d0b" class="na nb it mc b gy nc nd l ne nf">nan</span></pre><p id="b6ed" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→计算 a <code class="fe lz ma mb mc b">Series</code>的<code class="fe lz ma mb mc b">mean</code>、<code class="fe lz ma mb mc b">median</code>和<code class="fe lz ma mb mc b">quantile</code>。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="ef7f" class="na nb it mc b gy nc nd l ne nf">songs_66.mean()<br/>songs_66.median()<br/>songs_66.quantile() # 50% value the default<br/>songs_66.quantile(.1) # 10th percentile<br/>songs_66.quantile(.9) # 90th percentile</span></pre><blockquote class="kz la lb"><p id="7a94" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="4c37" class="na nb it mc b gy nc nd l ne nf">7.666666666666667<br/>9.0<br/>9.0<br/>4.2<br/>10.6</span></pre><p id="1149" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→为了对<code class="fe lz ma mb mc b">series</code>有一个好的总体感觉，<code class="fe lz ma mb mc b">.describe</code>方法提供了大量的汇总统计数据，并将结果作为<code class="fe lz ma mb mc b">series</code>返回。它包括值的<code class="fe lz ma mb mc b">count</code>，它们的<code class="fe lz ma mb mc b">mean</code>、<code class="fe lz ma mb mc b">standard deviation</code>、<code class="fe lz ma mb mc b">minimum</code>和<code class="fe lz ma mb mc b">maximum</code>值，以及<code class="fe lz ma mb mc b">25%</code>、<code class="fe lz ma mb mc b">50%</code>、<code class="fe lz ma mb mc b">75%</code>、<code class="fe lz ma mb mc b">quantiles</code>。如果您愿意，可以通过 percentiles 参数传递特定的百分点。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="9de1" class="na nb it mc b gy nc nd l ne nf">songs_66.describe()<br/>songs_66.describe(percentiles=[.05, .1, .2])</span></pre><blockquote class="kz la lb"><p id="7ca1" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><div class="kj kk kl km gt ab cb"><figure class="pw kn qj py pz qa qb paragraph-image"><img src="../Images/9a64ff56e12db6eb6a96c352bb5f3992.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*SH1uMbSfUmrBJ0_spLgd7Q.png"/></figure><figure class="pw kn qk py pz qa qb paragraph-image"><img src="../Images/9644325366b20abb6e7169d87b6df81c.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*c89OIedDp2XtSAu9oQFnug.png"/></figure></div><p id="0754" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→该系列还有寻找最小值和最大值的方法，<code class="fe lz ma mb mc b">.min</code>和<code class="fe lz ma mb mc b">.max</code>。有一些方法可以得到最小和最大索引标签的索引位置，<code class="fe lz ma mb mc b">.idxmin</code>和<code class="fe lz ma mb mc b">.idxmax.</code></p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="540c" class="na nb it mc b gy nc nd l ne nf">songs_66.min()<br/>songs_66.max()<br/>songs_66.idxmin()<br/>songs_66.idxmax()</span></pre><blockquote class="kz la lb"><p id="a77c" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="f18c" class="na nb it mc b gy nc nd l ne nf">3.0<br/>'George'<br/>11.0<br/>'John'</span></pre><p id="15f5" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→ <strong class="lf iu">方差</strong>可通过<code class="fe lz ma mb mc b">.var</code>找到，而<strong class="lf iu">标准差</strong>可通过<code class="fe lz ma mb mc b">.std</code>找到。对于离差，<strong class="lf iu">平均绝对偏差</strong>可使用<code class="fe lz ma mb mc b">.mad</code>找到。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="2dff" class="na nb it mc b gy nc nd l ne nf">songs_66.var()<br/>songs_66.std()<br/>songs_66.mad()</span></pre><blockquote class="kz la lb"><p id="2538" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="1372" class="na nb it mc b gy nc nd l ne nf">17.333333333333329<br/>4.1633319989322652<br/>3.1111111111111107</span></pre></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="0ad1" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">转换类型</h2><p id="b99e" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated"><code class="fe lz ma mb mc b">series</code>对象能够调整它的值。序列中的数值可以通过<code class="fe lz ma mb mc b">.round</code>方法进行四舍五入。<code class="fe lz ma mb mc b">.astype</code>方法试图将值转换成传入的类型。但是，如果对转换后的字符串值调用方法，结果可能不是期望的输出。在这种情况下，<code class="fe lz ma mb mc b">.max</code>现在返回字典序的最大值。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="8f23" class="na nb it mc b gy nc nd l ne nf">songs_66.round()<br/>songs_66.astype(str)<br/>songs_66.astype(str).max()</span></pre><blockquote class="kz la lb"><p id="a3ba" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><div class="kj kk kl km gt ab cb"><figure class="pw kn ql py pz qa qb paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/dc6dd2a83260c200d6b45f91e3c21679.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*4hpTTH5RhExv6o2033NkZA.png"/></div></figure><figure class="pw kn qm py pz qa qb paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/037efdd6854c8af23ad2ee1ffcf20901.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/format:webp/1*6HCOi8RyMXjpozboFu0BKA.png"/></div></figure><figure class="pw kn qn py pz qa qb paragraph-image"><img src="../Images/fbeeb6bf898ead86c512551466593fbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:594/format:webp/1*1JopswcPgXSOQK0lZA8Faw.png"/></figure></div><p id="7051" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">默认情况下，<code class="fe lz ma mb mc b">to_*</code>函数如果不能强制，将会产生一个错误。在下面的例子中，<code class="fe lz ma mb mc b">to_numeric</code>函数不能将 nan 转换成浮点型。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="50f0" class="na nb it mc b gy nc nd l ne nf">pd.to_numeric(songs_66.apply(str))</span></pre><blockquote class="kz la lb"><p id="76b2" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qo"><img src="../Images/fcd42b0f63c868b03bd4bdad25d1f29c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iAKrmyVZ3dJ2Lh5k_p2MCg.png"/></div></div></figure></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="287f" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">不处理任何问题</h2><p id="e074" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">计算中通常忽略<code class="fe lz ma mb mc b">NaN</code>值。有时，用另一个值填充它们是有用的。在这种情况下，<code class="fe lz ma mb mc b">.fillna</code>方法将用一个给定值-1 来替换它们。<code class="fe lz ma mb mc b">NaN</code>可使用<code class="fe lz ma mb mc b">.dropna</code>从系列中删除数值。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="9b4a" class="na nb it mc b gy nc nd l ne nf">songs_66.fillna(-1)<br/>songs_66.dropna()</span></pre><blockquote class="kz la lb"><p id="ba6b" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><div class="kj kk kl km gt ab cb"><figure class="pw kn qp py pz qa qb paragraph-image"><img src="../Images/07ba9da58c298d2904d88afaf3422dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*iEqG9tSPmgLqCbRKIAG-CQ.png"/></figure><figure class="pw kn qq py pz qa qb paragraph-image"><img src="../Images/5d18d83ff70d09a72babac34f8efee46.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*8TUDvapQEmbGegSDSgYtDA.png"/></figure></div><p id="77f1" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">获取非 NaN 值的另一种方法是使用布尔掩码。<code class="fe lz ma mb mc b">.notnull</code>方法给了我们布尔掩码。为了得到 NaN 值的掩码，我们可以使用<code class="fe lz ma mb mc b">.isnull</code>方法。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="bb84" class="na nb it mc b gy nc nd l ne nf">val_mask = songs_66.notnull()<br/>val_mask<br/>songs_66[val_mask]</span><span id="76b9" class="na nb it mc b gy ng nd l ne nf">nan_mask = songs_66.isnull()<br/>nan_mask<br/>songs_66[nan_mask]</span></pre><blockquote class="kz la lb"><p id="06bc" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><div class="kj kk kl km gt ab cb"><figure class="pw kn qr py pz qa qb paragraph-image"><img src="../Images/70a1a77db3678df4983bc1e7ff71bff0.png" data-original-src="https://miro.medium.com/v2/resize:fit:430/format:webp/1*sW2Mo3y55zGiuIM0H1A8Tg.png"/></figure><figure class="pw kn qs py pz qa qb paragraph-image"><img src="../Images/d9fe6659225971ea1484bf50f1bc8a6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/1*Q4hH3prx25ex6XKZxEImfQ.png"/></figure></div><div class="ab cb"><figure class="pw kn qt py pz qa qb paragraph-image"><img src="../Images/1546971760700339dc2bbff38cb65f4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:444/format:webp/1*saUBu8wx0JNkrWYULErVUA.png"/></figure><figure class="pw kn qu py pz qa qb paragraph-image"><img src="../Images/8ba22aae5c9de64a4f613ce414f84597.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/format:webp/1*6ScG3-OZJg5_AZdHgFLHQg.png"/></figure></div><blockquote class="kz la lb"><p id="2167" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">注意:我们可以通过应用 not 运算符(~)来翻转布尔掩码。</p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="f9bc" class="na nb it mc b gy nc nd l ne nf">val_mask = ~(nan_mask)</span></pre></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="16b6" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">矩阵运算</h2><p id="f6bc" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">通过<code class="fe lz ma mb mc b">.dot</code>方法可以计算点积。但是，如果<code class="fe lz ma mb mc b">NaN</code>是系列的一部分，这个方法就失败了。去掉南会给<code class="fe lz ma mb mc b">.dot</code>一个值。一个系列也有一个<code class="fe lz ma mb mc b">.transpose</code>(或者<code class="fe lz ma mb mc b">.T</code>)的方法。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="89a9" class="na nb it mc b gy nc nd l ne nf">songs_66.dot(songs_69)<br/>songs_66.dropna().dot(songs_66.dropna())<br/>songs_66.T<br/>songs_66.transpose()</span></pre><blockquote class="kz la lb"><p id="00bc" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="e8a1" class="na nb it mc b gy nc nd l ne nf">nan<br/>211.0</span></pre><div class="kj kk kl km gt ab cb"><figure class="pw kn qv py pz qa qb paragraph-image"><img src="../Images/df520b9e2d53c452ec205a4b027b6aee.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*-btWYAJ9iQlB_a8xtOGn3A.png"/></figure><figure class="pw kn qw py pz qa qb paragraph-image"><img src="../Images/3decec55b00191a527c7ee5b8c4f18ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*McsC73kNHZBZ82LUel9iQg.png"/></figure></div></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="274c" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated"><strong class="ak">追加、组合和连接两个系列</strong></h2><p id="efa8" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">要将两个系列连接在一起，只需使用<code class="fe lz ma mb mc b">.append</code>方法。这需要另一个<code class="fe lz ma mb mc b">series</code>作为参数。默认情况下，此方法会创建重复的索引。但是，如果索引值重复，设置为<code class="fe lz ma mb mc b">True</code>的可选参数<code class="fe lz ma mb mc b">verify_integrity</code>会报错。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="4b39" class="na nb it mc b gy nc nd l ne nf">songs_66.append(songs_69)<br/>songs_66.append(songs_69, verify_integrity=True)</span></pre><blockquote class="kz la lb"><p id="78bd" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qx"><img src="../Images/ecff7dd241342fe5095c86d6a757db67.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*YDE_i3rSYrxss6gWclcifQ.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qy"><img src="../Images/41f68f48d75330bc256c15fa1f24fa67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-iY2HSV_GK1DoM9AtcaNoQ.png"/></div></div></figure><p id="27d9" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">若要对序列执行基于元素的运算，请使用。组合方法。它接受另一个级数和一个函数作为它的参数。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="d364" class="na nb it mc b gy nc nd l ne nf">def avg(v1, v2):<br/>    return (v1 + v2) / 2.0</span><span id="a2dc" class="na nb it mc b gy ng nd l ne nf">songs_66.combine(songs_69, avg)</span></pre><blockquote class="kz la lb"><p id="ef69" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/54f4df36b9dc27384ac0292521aacaf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:496/format:webp/1*8IHTUTOzZKwZJmFSWXxEBQ.png"/></div></figure><p id="9cd0" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">要更新一个系列的值，使用<code class="fe lz ma mb mc b">.update</code>方法。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="458b" class="na nb it mc b gy nc nd l ne nf">songs_66.update(songs_69)<br/>songs_66</span></pre><blockquote class="kz la lb"><p id="7319" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qz"><img src="../Images/1f252681e340782be059ff2de90d08b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*zhwJ1J1SHtaD29J9uuGWtA.png"/></div></figure><p id="3920" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated"><code class="fe lz ma mb mc b">.repeat</code>方法简单地重复每一个项目一个期望的数量。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="f40d" class="na nb it mc b gy nc nd l ne nf">songs_69.repeat(2)</span></pre><blockquote class="kz la lb"><p id="8d03" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ra"><img src="../Images/05deb94b3ea3939afc931c0b32c1418d.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*2bXBWqDRbsd_ZTj5_UaQxA.png"/></div></figure></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="b202" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">整理</h2><p id="330d" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">→ <code class="fe lz ma mb mc b">.sort_values</code> —该方法返回一个按值排序的新的<code class="fe lz ma mb mc b">Series</code>。该方法还支持翻转排序顺序的<code class="fe lz ma mb mc b">ascending</code>参数。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="bb86" class="na nb it mc b gy nc nd l ne nf">songs_66.sort_values()<br/>songs_66.sort_values(ascending=False)</span></pre><blockquote class="kz la lb"><p id="e750" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><div class="kj kk kl km gt ab cb"><figure class="pw kn rb py pz qa qb paragraph-image"><img src="../Images/05fd020fb721c82aa5916fb32d7927ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*Cp8w_2II8StJrLYavffgHA.png"/></figure><figure class="pw kn rc py pz qa qb paragraph-image"><img src="../Images/91c11a8f5f89d97ee6f0a25b5f2a402c.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/format:webp/1*rx6T8VtQqtCns0tvUDKeLw.png"/></figure></div><p id="20be" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→类似的方法<code class="fe lz ma mb mc b">.sort_index</code>可用于对<code class="fe lz ma mb mc b">Series</code>的索引进行排序。它也提供类似的<code class="fe lz ma mb mc b">ascending</code>参数。</p><p id="a918" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">→另一个有用的排序相关方法是<code class="fe lz ma mb mc b">.rank</code>。该方法根据条目的值对索引进行排序。它为平局分配相等的权重。它还支持升序参数来反转顺序。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="275d" class="na nb it mc b gy nc nd l ne nf">songs_66.rank()</span></pre><blockquote class="kz la lb"><p id="94f8" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi rd"><img src="../Images/86493e98426c3038a01fedbc0a476ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:508/format:webp/1*lRoxiFeuG_bkyJ_hLyV9dQ.png"/></div></figure></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="c53f" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated"><strong class="ak">应用功能</strong></h2><p id="b81d" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">要修改、清理、检查或对<code class="fe lz ma mb mc b">Series</code>应用任意函数，我们可以使用将函数/字典/序列作为参数的<code class="fe lz ma mb mc b">.map</code>，并像<code class="fe lz ma mb mc b">Python</code>一样将其应用于<code class="fe lz ma mb mc b">Series</code>的每个元素。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="2f07" class="na nb it mc b gy nc nd l ne nf">def format(x):<br/>    if x == 1:<br/>        template = '{} song'<br/>    else:<br/>        template = '{} songs'<br/>    return template.format(x)</span><span id="1883" class="na nb it mc b gy ng nd l ne nf">songs_66.map(format) # function as a parameter</span><span id="e4b0" class="na nb it mc b gy ng nd l ne nf">ssongs_66.map({5: None,<br/>              18: 21,<br/>              22: 23})ongs_66.map({5: None,<br/>              18: 21,<br/>              22: 23}) # dictionary as a parameter</span><span id="a4ab" class="na nb it mc b gy ng nd l ne nf">mapping = pd.Series({22.: 33})<br/>songs_66.map(mapping) # series as a parameter</span></pre><blockquote class="kz la lb"><p id="9495" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><div class="kj kk kl km gt ab cb"><figure class="pw kn re py pz qa qb paragraph-image"><img src="../Images/8115d35120e931638af443f1269244ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*jySbfl_yigUBVTfzu66alQ.png"/></figure><figure class="pw kn rf py pz qa qb paragraph-image"><img src="../Images/1485b5323521746da58f7b7a035738c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*AKebhF5k2NhEtWewbeci_g.png"/></figure><figure class="pw kn rg py pz qa qb paragraph-image"><img src="../Images/264477e224358250ceb50e00b0dc5f57.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*5vwEMTQYRKkHX8NG165HPg.png"/></figure></div><blockquote class="kz la lb"><p id="b35d" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">注意:series 对象上还有一个<code class="fe lz ma mb mc b">.apply</code>方法。它的行为与<code class="fe lz ma mb mc b">.map</code>非常相似，但它只适用于<strong class="lf iu">函数(不适用于序列或字典)。</strong></p></blockquote></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><h2 id="ba95" class="na nb it bd ni nj nk dn nl nm nn dp no mk np nq nr ml ns nt nu mm nv nw nx ny bi translated">字符串操作</h2><p id="e2fc" class="pw-post-body-paragraph lc ld it lf b lg nz ju li lj oa jx ll mk ob lo lp ml oc ls lt mm od lw lx ly im bi translated">具有字符串数据的系列可以通过<em class="le">矢量化字符串操作</em>进行操作。要调用字符串操作，只需在序列的<code class="fe lz ma mb mc b">.str</code>属性上调用它们。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="8183" class="na nb it mc b gy nc nd l ne nf">names = pd.Series(['George', 'John', 'Paul'])<br/>names.str.lower()<br/>names.str.findall('o')</span></pre><blockquote class="kz la lb"><p id="f1ba" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf iu">输出</strong></p></blockquote><div class="kj kk kl km gt ab cb"><figure class="pw kn rh py pz qa qb paragraph-image"><img src="../Images/081a3f8e35f7d05883181a5548894094.png" data-original-src="https://miro.medium.com/v2/resize:fit:276/format:webp/1*gqlpB_Ksnn6FxK8XvwqROw.png"/></figure><figure class="pw kn ri py pz qa qb paragraph-image"><img src="../Images/79b8682269c6d4ec4fe9fa9e9d3ea150.png" data-original-src="https://miro.medium.com/v2/resize:fit:264/format:webp/1*ddB6QdgygY2NbSsLjRc55w.png"/></figure></div><p id="b273" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">以下是可用的矢量化字符串方法，熟悉原生 Python 字符串方法的任何人都应该熟悉这些方法。</p><pre class="kj kk kl km gt mw mc mx my aw mz bi"><span id="cfa5" class="na nb it mc b gy nc nd l ne nf"><strong class="mc iu">Method, Result<br/></strong>contains, pattern matching boolean result<br/>count, pattern occurrence count result<br/>decode, decode a codec encoding<br/>encode, encode a codec encoding<br/>startswith, pattern matching for string start with boolean result<br/>endswith, pattern matching for string end with boolean result<br/>findall, find pattern in string<br/>get, attribute access on items<br/>join, join items with a separator into a string<br/>len, total size of items<br/>lower, convert items to lowercase<br/>upper, convert items to uppercase<br/>lstrip, removes whitespaces to the left of items<br/>rstrip, removes whitespaces to the right of items<br/>strip, removes whitespaces to both sides of items<br/>repeat, repeat the string a certain number of times<br/>replace, change/replace a particular part of string<br/>slice, pull slices of string<br/>split, split items by pattern<br/>title, titlecase the items</span></pre></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="b0f5" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">我将免费赠送一本关于一致性的电子书。在这里获得你的免费电子书。</p></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="ac17" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">感谢阅读。我希望你喜欢这篇文章，并学到一些新东西。我知道这些不是图书馆提供的所有<code class="fe lz ma mb mc b">Pandas.Series</code>方法，但它们是一个很好的起点。继续学习！</p><p id="e2ef" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">如果你喜欢阅读这样的故事，并想支持我成为一名作家，可以考虑<a class="ae ky" href="https://tarun-gupta.medium.com/membership" rel="noopener">注册成为一名媒体会员</a>。每月 5 美元，你可以无限制地阅读媒体上的故事。如果你注册使用我的链接，我会赚一小笔佣金，不需要你额外付费。</p><div class="rj rk gp gr rl rm"><a href="https://tarun-gupta.medium.com/membership" rel="noopener follow" target="_blank"><div class="rn ab fo"><div class="ro ab rp cl cj rq"><h2 class="bd iu gy z fp rr fr fs rs fu fw is bi translated">加入我的推荐链接-塔伦古普塔</h2><div class="rt l"><h3 class="bd b gy z fp rr fr fs rs fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ru l"><p class="bd b dl z fp rr fr fs rs fu fw dk translated">tarun-gupta.medium.com</p></div></div><div class="rv l"><div class="rw l rx ry rz rv sa ks rm"/></div></div></a></div></div><div class="ab cl md me hx mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="im in io ip iq"><p id="6381" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll mk ln lo lp ml lr ls lt mm lv lw lx ly im bi translated">要阅读更多文章，请访问此处:</p><div class="rj rk gp gr rl rm"><a href="https://tarun-gupta.medium.com/thank-you-for-visiting-my-profile-9f708062c75e" rel="noopener follow" target="_blank"><div class="rn ab fo"><div class="ro ab rp cl cj rq"><h2 class="bd iu gy z fp rr fr fs rs fu fw is bi translated">标记故事列表的快速链接—感谢您的访问</h2><div class="rt l"><h3 class="bd b gy z fp rr fr fs rs fu fw dk translated">我也有一份以快节奏出版为目标的出版物。读书成为作家。</h3></div><div class="ru l"><p class="bd b dl z fp rr fr fs rs fu fw dk translated">tarun-gupta.medium.com</p></div></div></div></a></div></div></div>    
</body>
</html>