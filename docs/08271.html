<html>
<head>
<title>Visualizing statistical plots with Seaborn</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Seaborn 可视化统计图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualizing-statistical-plots-with-seaborn-6b6e60ce5e71?source=collection_archive---------22-----------------------#2019-11-11">https://towardsdatascience.com/visualizing-statistical-plots-with-seaborn-6b6e60ce5e71?source=collection_archive---------22-----------------------#2019-11-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="1eb4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是关于可视化的第二篇文章。你可以阅读第一篇文章，在那里我讨论了使用 matplotlib <a class="ae ko" rel="noopener" target="_blank" href="/visualization-in-python-matplotlib-c5c2aa2620a">进行可视化的基础知识。</a></p><p id="8349" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">概括地说，可视化让我们看到数据是如何分布的，检测异常值，并让我们更有效地传达信息。这就是为什么数据科学家/分析师知道如何可视化以及他们有哪些可用选项非常重要。在本文中，我将介绍如何使用 seaborn 来可视化统计图表。</p><p id="527b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为此，我们将利用 seaborn 自身的一些数据集。这避免了我们必须下载和导入数据集的麻烦。您可以在这个<a class="ae ko" href="https://github.com/mwaskom/seaborn-data" rel="noopener ugc nofollow" target="_blank">链接</a>中看到可用数据集的完整列表。</p></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi kw"><img src="../Images/0d03568e3ebb5ba4da3db4a0ac53b7e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y9rN9LBOp3fDp_LyuJWiKQ.jpeg"/></div></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Photo by <a class="ae ko" href="https://unsplash.com/@lukechesser?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Luke Chesser</a> on <a class="ae ko" href="https://unsplash.com/s/photos/data-visualization?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f333" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将从导入所需的库开始。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="2f14" class="lr ls it ln b gy lt lu l lv lw">import matplotlib.pyplot as plt<br/>import numpy as np<br/>import seaborn as sns</span></pre><p id="75c7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，让我们加载“虹膜”数据集，看看它。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="126d" class="lr ls it ln b gy lt lu l lv lw">iris = sns.load_dataset('iris')<br/>iris.head()</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/4c393c3896e4378816bcd8a94a0e811a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*UHcJWJ2chmFYjigKXraeRA.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Iris dataset</figcaption></figure><p id="ab57" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Iris 数据集包含三种不同物种的花的细节。由于这个数据集主要包含数字列，我们将使用它来探索适合数字数据的可视化。</p><p id="6d3d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以我们能做的第一件事是检查任何一列的分布。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="5279" class="lr ls it ln b gy lt lu l lv lw">sns.set(style = 'darkgrid')<br/>sns.distplot(iris['sepal_length'])</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/ec0410e45734d45674dce63ecef50b1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*Ph4JWUGzEZ4gok2FpdPUeg.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 2</figcaption></figure><p id="a7c6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第一行允许您设置图形的样式，第二行构建分布图。这个“distplot”命令在同一个图形中构建直方图和 KDE 图。</p><p id="2707" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是我们可以选择定制上面的图表，甚至将它们分开。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="6bba" class="lr ls it ln b gy lt lu l lv lw">sns.distplot(iris['sepal_length'], kde = False, bins = 30)</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/dbf10c98c737372185774f18c1052af8.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*03p85FbEIBtZ1wRlYuiGVA.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 3</figcaption></figure><p id="5b64" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这里，我们不仅删除了 KDE 图，而且还能够在图中添加更多的箱，以便更好地了解分布情况。这是分别通过“kde”和“bin”参数实现的。</p><p id="5c25" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">KDE 图可以在 KDE plot 命令的帮助下单独查看。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="1b21" class="lr ls it ln b gy lt lu l lv lw">sns.kdeplot(iris['sepal_length'])</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/70e2fc4049efe54dcabbb08fa5b944a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*7D9lBUS2hL2zXXMgLrzd7w.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 4</figcaption></figure><p id="d913" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使该图更好的一种方法是能够显示各种数据点的存在，以便更好地理解数据的分布。类似于直方图，但具有小的柱。这是在地毯图的帮助下完成的。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="6481" class="lr ls it ln b gy lt lu l lv lw">sns.kdeplot(iris['sepal_length'])<br/>sns.rugplot(iris['sepal_length'])</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/a9cc816865f1e940ccb98222e239bb16.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*HwmZqUOtOa0sJXvuojnUPw.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 5</figcaption></figure><p id="53ff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">上面的图称为地毯图，给出了点的分布和密度。</p></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><p id="4c09" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">仅仅可视化一个变量就够了，如果你想看看两个变量是如何相对于彼此分布的呢？</p><p id="cd51" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">假设我们想知道花的萼片和花瓣长度之间的关系。在这种情况下，我们可以使用 jointplot 来可视化它。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="6ee6" class="lr ls it ln b gy lt lu l lv lw">sns.jointplot(x = 'sepal_length', y = 'petal_length', data = iris)</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/be053c1473f382b494143c6d1bfdbf2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*m2SXzDRyHX1Ye2xR7DC67g.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 6</figcaption></figure><p id="a8a1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">上面的图不仅给出了联合分布，也给出了沿轴的个体分布。从上图可以看出，除了在较低端，两者之间几乎是线性关系。</p><p id="e8f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">joinplot 的一个很酷的特性是能够拟合数据的回归线。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="2670" class="lr ls it ln b gy lt lu l lv lw">sns.jointplot(x = 'sepal_length', y = 'petal_length', data = iris, kind = 'reg')</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/037be80828df52993439ff6397805b47.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*Qi5qPQHLg4atGSky9h2MWA.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 7</figcaption></figure><p id="8e79" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过将' reg '传递给 kind 参数，我们可以添加一条回归线，并将 kde 图添加到边上的直方图中。</p></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><p id="de2b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，如果我们想一次性快速了解全部数据，我们可以使用 pairplot 函数。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="bf7e" class="lr ls it ln b gy lt lu l lv lw">sns.pairplot(iris)</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lz"><img src="../Images/6f144f2d6d716df846f6b51080bf5fc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r4pBZHyJws8k2pVcx0GULQ.jpeg"/></div></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 8</figcaption></figure><p id="b17c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">唯一要传递的参数是数据集名称，它将自动为数据中出现的所有数字列构建上面的图。它将每一个数字列与其他数字列相对照，有助于快速浏览数据。</p><p id="c952" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是上面的图仍然缺少一列 species，这恰好是一个分类列。我们可以在此包含关于分类列的信息吗？</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="493b" class="lr ls it ln b gy lt lu l lv lw">sns.pairplot(iris, hue = 'species', palette = 'magma')</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi ma"><img src="../Images/9b7842996535381dc97e45a51883a8eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AfOKeVQ2u2QQ5L13iuWEZw.jpeg"/></div></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 9</figcaption></figure><p id="ab50" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在每个单独的图中，分类数据以颜色方案的形式表示。参数“色调”可用于传递此信息，而“调色板”控制绘图的颜色方案。</p></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><p id="4ebe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们来看看包含更多分类列的可视化数据。为此，我们将使用“提示”数据集。让我们把它装上来看一看。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="3180" class="lr ls it ln b gy lt lu l lv lw">tips = sns.load_dataset('tips')<br/>tips.head()</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/2e286b85883efa65467179fd9d5fa203.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*6FkdkmRLn_o6pxzhnV7KRQ.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Tips data</figcaption></figure><p id="bed4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">“小费”数据集包含就餐者支付的小费及其信息，如账单金额、性别、时间等。让我们从观察小费金额的分布及其与总账单金额的关系开始。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="0a4d" class="lr ls it ln b gy lt lu l lv lw">sns.distplot(tips['tip'], kde = False, bins = 30)<br/>sns.jointplot(x = 'total_bill', y = 'tip', data = tips, kind = 'kde')</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/089403f3356ce55482eaa95b46169cb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*asckzOcxVnK2lSnpbk4jhA.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 11</figcaption></figure><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/e1d7737bdff4c1c5705dcd95b3570fe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*CCE4SOl-AQPyktvm9Fnq9g.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 12</figcaption></figure><p id="40ec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在让我们看看给的小费是否每天都不同。这可以在箱线图的帮助下完成。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="c5cf" class="lr ls it ln b gy lt lu l lv lw">sns.boxplot(x = 'day',y = 'tip',  data = tips, palette = 'coolwarm')</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/a3c59e415e855ebbb893b5d1a1bf6409.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*x0ONSIDDZMbt1JOGG4aTrA.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 13</figcaption></figure><p id="c75d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">也许我们想通过用餐者的性别进行比较。像在 pairplot 中一样，我们也可以通过“色调”参数来指定</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="6b24" class="lr ls it ln b gy lt lu l lv lw">sns.boxplot(x = 'day',y = 'tip',  data = tips, hue = 'sex', palette = 'coolwarm')</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/ca336bc87e7c1cdbbec835cf421e4ce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*L4_3mada3Xl8agv1LfyOdw.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 14</figcaption></figure><p id="25b9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这根据性别为每天创建了两个箱线图。</p><p id="7007" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另一种在小提琴的帮助下可视化上述数据的方法。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="b233" class="lr ls it ln b gy lt lu l lv lw">sns.violinplot(x = 'day',y = 'tip', data = tips, palette = 'rainbow')</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/8565daefdb9ccfa07ed3440af240086d.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*JG-OJrGJP1mhCLGSFHtUJQ.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 15</figcaption></figure><p id="558e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">小提琴图可以被认为是盒子图和 kde 图的组合。中间的粗线表示四分位数之间的范围，两边都是顶端的 kde。</p><p id="9c0c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">类似于盒子情节，我们可以用‘性’来创造两个并排的小提琴情节来比较。但在这种情况下我们有更好的选择。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="35cd" class="lr ls it ln b gy lt lu l lv lw">sns.violinplot(x = 'day',y = 'tip',  data = tips, hue = 'sex', split = True, palette = 'rainbow')</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/e64f712fbc037a5dcf25544b0acec898.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*8caGw3yosvWipj_JFrU31w.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 16</figcaption></figure><p id="c235" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">通过将“split”指示为 true，我们能够在中心线的每一侧创建两个不同的 kde。这让我们可以并排看到差异，而不会排挤剧情。</p><p id="0fcd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">之前我们看到，我们能够使用配对图来查看整个数据，并包括一个分类列。但是在这种情况下，我们有多个分类列。这些可以通过小平面网格整合到绘图中。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="ea27" class="lr ls it ln b gy lt lu l lv lw">g = sns.FacetGrid(tips, col="time",  row="smoker")</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/9530cb76e2acb98399566445979f8868.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*xEAlcLTrMcJWkLpqQCFn5w.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 17</figcaption></figure><p id="254d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">上面的命令创建了一个 2 x 2 的图来说明“时间”和“吸烟者”之间的四种可能性。对于用餐时间和用餐者是否吸烟的每种组合，都有一个曲线图。</p><p id="f0bf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这些图中，我们可以添加数字数据，并比较它们在上述“时间”和“吸烟者”两列中的差异。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="b1f3" class="lr ls it ln b gy lt lu l lv lw">g = sns.FacetGrid(tips, col="time",  row="smoker")<br/>g = g.map(plt.hist, "tip")</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/68b5d50c6aa38aefd20f845042e4ace7.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*C-NluLTROMwDTIRsMxDChQ.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 18</figcaption></figure><p id="4d8c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我添加了小费值的分布，以观察它们在“时间”和“吸烟者”之间的差异。每个图的上方有一条线，指示它对应的“时间”和“吸烟者”值。</p><p id="39ed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">类似地，我们也可以绘制两个数字列，并查看两者之间以及“时间”和“吸烟者”之间的关系。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="b80e" class="lr ls it ln b gy lt lu l lv lw">g = sns.FacetGrid(tips, col="time",  row="smoker",hue='sex')<br/>g = g.map(plt.scatter, "total_bill", "tip").add_legend()</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/ab650f545464799655b2ef7f9e0faf0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*iMvjPm4kFva-BNrg608Xxw.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 18</figcaption></figure><p id="237e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">上图显示了小费和账单金额之间的关系，以及“时间”和“吸烟者”之间的关系。此外，每个地块的配色方案也显示了性别。通过使用分面网格，我们可以创建包含多个数字和分类列的图。</p><p id="ca36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我想介绍一下热图和聚类图。</p><p id="b56c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在下图中，我使用了热图来显示所有数值之间的相关性。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="8030" class="lr ls it ln b gy lt lu l lv lw">sns.heatmap(tips.corr(), cmap = 'coolwarm', annot = True)</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/89bc50d665400e8633dbb6b6efeb3c28.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*cwX_aB1SxLiYe9akxNayFw.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 19</figcaption></figure><p id="7899" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">命令“tips.corr”给出了所有数值变量之间的相关性。通过将“不能”表示为真，我们也可以在图上得到相关值。</p><p id="a514" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了构建聚类图，我首先透视小费数据集，以获得不同日期和性别的小费金额。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="f63f" class="lr ls it ln b gy lt lu l lv lw">tip_pivot = tips.pivot_table(values='tip',index='day',columns='sex')</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div class="gh gi md"><img src="../Images/61f138b2291655579da2f7d500dcd420.png" data-original-src="https://miro.medium.com/v2/resize:fit:456/format:webp/1*py1c2xRQc_0EFIhUbDbeWw.jpeg"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Pivoted table</figcaption></figure><p id="6f61" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">利用这一点，我可以创建一个关于小费价值和日期之间距离的聚类图。</p><pre class="kx ky kz la gt lm ln lo lp aw lq bi"><span id="3733" class="lr ls it ln b gy lt lu l lv lw">sns.clustermap(tip_pivot, cmap = 'coolwarm', standard_scale = 1)</span></pre><figure class="kx ky kz la gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi lz"><img src="../Images/e66d167730804999900e9d4ad5784bdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0O1epgoRW77rgbR4nsBSOQ.jpeg"/></div></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Fig 21</figcaption></figure><p id="3252" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因为只有两种性别，所以没有什么可看的。但是在星期几的例子中，我们看到星期六和星期四被组合在一起，表明这两天给小费的数量相似。</p><p id="9a92" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">上面的聚类图非常简单，因为每个轴上没有很多类别。当有多个允许辨别相似性和模式的类别时，一个聚类图会非常出色。</p></div><div class="ab cl kp kq hx kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="im in io ip iq"><p id="7650" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这涵盖了一些可以使用 Seaborn 构建的统计图和可视化。希望你觉得有用。</p><p id="720f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你也可以通过 LinkedIn 与我联系。</p></div></div>    
</body>
</html>