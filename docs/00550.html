<html>
<head>
<title>The Simple Yet Practical Data Visualization Codes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简单而实用的数据可视化代码</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-simple-yet-practical-data-visualization-codes-bca99971cdb2?source=collection_archive---------10-----------------------#2019-01-25">https://towardsdatascience.com/the-simple-yet-practical-data-visualization-codes-bca99971cdb2?source=collection_archive---------10-----------------------#2019-01-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0e63" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">解决绘图和 EDA 的常见情况</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/bf7dd4b0e8567daddc4c4fc36c056dc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kpuINNNngdZ3fMNI"/></div></div></figure><blockquote class="kr ks kt"><p id="ad44" class="ku kv kw kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在上一篇文章中，我分享了关于<a class="ae lr" rel="noopener" target="_blank" href="/the-simple-yet-practical-data-cleaning-codes-ad27c4ce0a38">我的数据清理小工具箱</a>，在此之前，我意识到一些代码适用于最常见的混乱数据场景。</p><p id="baf9" class="ku kv kw kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">换句话说，有一种<strong class="kx ir">模式</strong>(或一种方法)，通常用于数据科学中的数据清理，我将它们编译成函数，以便将来重用。</p></blockquote><p id="77b3" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">有趣的是，在我看来，这种“模式”在探索性数据分析(EDA)中也会被注意到，尤其是在数据可视化的情况下。我认为这篇文章有必要在这里分享我的代码和解释，以造福他人。</p><p id="b53b" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">记得几个月前我发表了一篇文章——<a class="ae lr" rel="noopener" target="_blank" href="/exploratory-data-analysis-on-e-commerce-data-be24c72b32b2">关于电子商务数据的探索性数据分析</a>？在那篇文章中，我谈到了 EDA 在数据科学中的重要性，以及如何以更简单的方式探索和可视化数据，从而为您或潜在的利益相关者提供有意义的见解。</p><p id="dd7c" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">为了理解您的数据并与利益相关者交流结果，数据可视化对于让数据有故事可讲(讲故事)至关重要。</p><p id="d65b" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">因为这里的常见场景跨越不同类型的数据集，所以本文更侧重于展示和解释代码以及绘图的用途，以便您可以在项目中轻松地即插即用。</p><p id="5241" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">在这篇文章的最后，我希望你会发现这些代码很有用，它们会让你的数据可视化过程更有趣、更快速、更有效！</p><p id="c59d" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">我们开始吧！</p><h1 id="d215" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">数据集背景</h1><p id="cb72" class="pw-post-body-paragraph ku kv iq kx b ky mn jr la lb mo ju ld ls mp lg lh lt mq lk ll lu mr lo lp lq ij bi translated">在整篇文章中，我们将使用从<a class="ae lr" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>获得的<a class="ae lr" href="https://www.kaggle.com/carrie1/ecommerce-data" rel="noopener ugc nofollow" target="_blank">电子商务数据集</a>进行数据可视化(关于数据的更多详细信息可以在<a class="ae lr" rel="noopener" target="_blank" href="/exploratory-data-analysis-on-e-commerce-data-be24c72b32b2">这里</a>找到)。</p><p id="b66d" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">简而言之，这些数据由来自不同国家的客户的<strong class="kx ir">交易数据组成，这些客户从一家位于英国的在线零售公司购买独特的全场合礼品</strong>。</p><p id="7edd" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">下面的代码实际上可以根据您的需要进行一些小的调整，推广到其他数据集。</p><p id="e417" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">这里的目标是向您展示在给定一些通用数据集的情况下，我通常如何执行数据可视化。此外，代码绝不是一个详尽的汇编，以涵盖所有类型的阴谋，但他们应该基本上足以让你开始。</p><p id="afd0" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">这里显示的数据也经过了一些数据清理，以便我们可以直接使用它，并专注于数据可视化。如果你想知道数据清理是如何完成的，你可以随时参考<a class="ae lr" rel="noopener" target="_blank" href="/exploratory-data-analysis-on-e-commerce-data-be24c72b32b2">之前写的这篇文章</a>。</p><p id="47d1" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">这个数据可视化的 Jupyter 笔记本和干净的数据已经上传到我的<a class="ae lr" href="https://github.com/admond1994/E-Commerce-Data-EDA" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/01aa975e6475bf7b67338878af8127d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LVwMs8KWiwwzGrQeMCERLQ.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk">Snapshot of how the data looks like</figcaption></figure><p id="e3e1" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">鉴于我们处理的是典型的电子商务数据，每一列都非常简单明了。让我们看看我们能做些什么来可视化这些数据！</p><h1 id="6c0a" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">我的数据可视化小工具箱</h1><h2 id="2569" class="mx lw iq bd lx my mz dn mb na nb dp mf ls nc nd mh lt ne nf mj lu ng nh ml ni bi translated">1.箱线图—单价</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/2383fab40fb6bf4559095be66c6bb61a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*AS7y50mxneiYCxX47S4FEQ.png"/></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk">Boxplot for unit price of the items</figcaption></figure><p id="1cba" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">这里的单价是指每个项目的价格。在电子商务世界中，我们对单价的传播很好奇，以了解其价格的分布。</p><p id="d660" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">我们使用 Seaborn 来绘制箱线图(这是我最喜欢的工具之一！)只有一行代码，其余的只是为了标记的目的。从图中我们看到，大部分单价低于 800 美元，最高单价可达 8000 美元以上。很好。让我们进行下一步。</p><h2 id="61cf" class="mx lw iq bd lx my mz dn mb na nb dp mf ls nc nd mh lt ne nf mj lu ng nh ml ni bi translated">2.分布图—销售数量</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/cfbb412434786da35fe1420c4694df86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*nYelC6OE3gsB7bBsP5CLAQ.png"/></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk">Distribution plot of quantity sold</figcaption></figure><p id="a447" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">同样，我们使用 Seaborn 来绘制分布图。在这种情况下，我们只考虑销售量(小于 100)，因为这是大部分数据所在的位置。</p><p id="157d" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">我们看到大多数商品的销售量都在 30 以内。酷毙了。销售到各个国家的订单数量呢？</p><h2 id="c35a" class="mx lw iq bd lx my mz dn mb na nb dp mf ls nc nd mh lt ne nf mj lu ng nh ml ni bi translated">3.水平条形图</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nn"><img src="../Images/c37d204040734fbf7a87737f10acc765.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wVX_sK_w0My3GEeTe3K3SQ.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk">Bar chart of the number of orders for different countries</figcaption></figure><p id="50ec" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">由于在线零售公司的总部设在英国，所以英国的订单数量最多也就不足为奇了。因此，为了在其他国家之间进行更有意义的比较，我们有意忽略了这个国家。</p><p id="dbd8" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">现在你可能已经注意到，<code class="fe no np nq nr b">dataframe.groupby</code>在绘制由一些分类变量分组的连续变量时非常有用。</p><p id="213d" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">您甚至可以直接从数据帧中绘图，而不必使用<code class="fe no np nq nr b">matplotlib</code>。使用垂直条形图还是水平条形图取决于您的需求。在这种情况下，我们选择了水平条形图，以更清晰的方式显示每个国家的名称。</p><p id="de5f" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">我们将在下一节看到如何使用垂直条形图。</p><h2 id="92a8" class="mx lw iq bd lx my mz dn mb na nb dp mf ls nc nd mh lt ne nf mj lu ng nh ml ni bi translated">4.垂直条形图(带注释)</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/b972ae6f8243d1a6f4d824183075d8da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qBRctGkhldMFPJvh4Dv5Cg.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk">Number of orders for different days</figcaption></figure><p id="85cb" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">带注释的竖条图<strong class="kx ir">来了。有时，我们可能希望显示一个带有百分比注释的垂直条形图，以显示某些变量所占的部分。</strong></p><p id="1b79" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">在我们的上下文中，我们希望知道不同日期的订单数量，并查看它们各自的百分比以获得更多的见解。</p><p id="054d" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">上面附加了一个代码示例，向您展示如何在不影响视觉效果的情况下在同一个绘图中标注百分比。</p><h2 id="0415" class="mx lw iq bd lx my mz dn mb na nb dp mf ls nc nd mh lt ne nf mj lu ng nh ml ni bi translated">5.条形图和折线图(组合)</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nk l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/a38248719b7184829fce24af3637c3cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sNuv_4v2a6LFUarqVpP8qQ.png"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk">Combined bar chart and line plot to show the total amount spent for different months</figcaption></figure><p id="7bfd" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">最后，我们想知道客户每月的总消费金额(或总销售额)。</p><p id="4c9e" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">在某个时间点，我们可能还想知道当前元素和先前元素之间的百分比变化。在这种情况下，我们可以制作一个折线图，以了解从上个月到本月的百分比变化——全部在一个图中。</p><blockquote class="kr ks kt"><p id="44e9" class="ku kv kw kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">明智而谨慎地使用这种组合图，因为这可能会使信息过多的人感到困惑。同样，组合情节的可用性取决于情况和需要。</p></blockquote></div><div class="ab cl nu nv hu nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="ij ik il im in"><h1 id="2fed" class="lv lw iq bd lx ly ob ma mb mc oc me mf jw od jx mh jz oe ka mj kc of kd ml mm bi translated">最后的想法</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d4edb18c1c7a744be6bfae2cb52df35f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ckBW34xIeHb2mDCR"/></div></div><figcaption class="mt mu gj gh gi mv mw bd b be z dk"><a class="ae lr" href="https://unsplash.com/photos/Z2ImfOCafFk" rel="noopener ugc nofollow" target="_blank">(Source)</a></figcaption></figure><p id="b061" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">感谢您的阅读。</p><p id="0e8b" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">数据可视化不过是讲故事。谁是你的观众？你希望你的观众从可视化中获得什么？要执行的可操作的洞察是什么？</p><p id="652c" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">我希望这个数据可视化的小工具箱能在某些方面帮助你。</p><p id="faf9" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">如果你有兴趣学习如何可视化数据和讲故事来抓住观众的注意力并有效地传达你的想法，我强烈建议你看看这本书——《用数据讲故事:商业人士数据可视化指南》。</p><p id="d895" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">一如既往，如果您有任何问题或意见，请随时在下面留下您的反馈，或者您可以随时通过<a class="ae lr" href="https://www.linkedin.com/in/admond1994/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我。在那之前，下一篇文章再见！😄</p><h2 id="7a3a" class="mx lw iq bd lx my mz dn mb na nb dp mf ls nc nd mh lt ne nf mj lu ng nh ml ni bi translated">关于作者</h2><p id="5193" class="pw-post-body-paragraph ku kv iq kx b ky mn jr la lb mo ju ld ls mp lg lh lt mq lk ll lu mr lo lp lq ij bi translated"><a class="ae lr" href="https://www.linkedin.com/in/admond1994/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> Admond Lee </strong> </a>目前是东南亚排名第一的商业银行 API 平台<a class="ae lr" href="https://www.trystaq.com" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">Staq</strong></a><strong class="kx ir">—</strong>的联合创始人/首席技术官。</p><p id="f20d" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">想要获得免费的每周数据科学和创业见解吗？</p><p id="f2b1" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated"><a class="ae lr" href="https://bit.ly/3pGF8jv" rel="noopener ugc nofollow" target="_blank"/></p><p id="c060" class="pw-post-body-paragraph ku kv iq kx b ky kz jr la lb lc ju ld ls lf lg lh lt lj lk ll lu ln lo lp lq ij bi translated">你可以在<a class="ae lr" href="https://www.linkedin.com/in/admond1994/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae lr" href="https://medium.com/@admond1994" rel="noopener"> Medium </a>、<a class="ae lr" href="https://twitter.com/admond1994" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae lr" href="https://www.facebook.com/admond1994" rel="noopener ugc nofollow" target="_blank">脸书</a>上和他联系。</p><div class="og oh gp gr oi oj"><a href="https://www.admondlee.com/" rel="noopener  ugc nofollow" target="_blank"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">阿德蒙德·李</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">让每个人都能接触到数据科学。Admond 正在通过先进的社交分析和机器学习，利用可操作的见解帮助公司和数字营销机构实现营销投资回报。</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">www.admondlee.com</p></div></div><div class="os l"><div class="ot l ou ov ow os ox kp oj"/></div></div></a></div></div></div>    
</body>
</html>