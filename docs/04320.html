<html>
<head>
<title>Bayesian Ranking System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">贝叶斯排名系统</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/bayesian-ranking-system-77818e63b57b?source=collection_archive---------9-----------------------#2019-07-05">https://towardsdatascience.com/bayesian-ranking-system-77818e63b57b?source=collection_archive---------9-----------------------#2019-07-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="53cd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">根据不同数量的回复进行排名</h2></div><p id="d52c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意:假设您熟悉之前中提到的<a class="ae le" href="https://medium.com/@andrew.cocks_35285/bayesian-inference-in-1760-e4b5ebdafe01" rel="noopener"> beta 发行版。</a></p><p id="b3e9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了计算<a class="ae le" href="https://medium.com/@andrew.cocks_35285/bayesian-inference-in-1760-e4b5ebdafe01" rel="noopener">彩票概率</a>或<a class="ae le" href="https://medium.com/@andrew.cocks_35285/naive-bayes-and-disease-detection-ffefe2cc5c01" rel="noopener">疾病可能性</a>之外，贝叶斯定理还有其他应用，例如我们可以建立一个排名系统。就拿一个电影排名网站来说吧，用户在这个网站上对电影进行上/下投票。简单的排名方案，如赞成票的百分比或上下票数执行不佳。</p><p id="ce61" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">百分比</strong> : 60 <strong class="kk iu">上升</strong> : 40 <strong class="kk iu">下降</strong> — vs — 6 <strong class="kk iu">上升</strong> : 4 <strong class="kk iu">下降</strong>均为<strong class="kk iu"> <em class="lf"> 60% </em> </strong></p><p id="e5d7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">上</strong>减<strong class="kk iu">下</strong> : 100 <strong class="kk iu">上</strong> : 95 <strong class="kk iu">下</strong> vs 5 <strong class="kk iu">上</strong> : 0 <strong class="kk iu">下</strong>都是<strong class="kk iu"> +5 </strong></p><p id="36f7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们想要的是更多的投票来增加更多的信息；60 票比 6 票更有分量。让我们在贝叶斯推理中使用投票作为可能性。这是一组电影 A-E，带有向上/向下投票和计算的 beta 函数，从均匀 beta(1，1) <em class="lf">开始，在</em>之前:</p><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lg"><img src="../Images/9adc7dd086b4fffff4b36b422999b5ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*qMQ0hINPTb5fo_1GWh-ZVw.png"/></div></div></figure><p id="8946" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，贝塔分布是一个 PDF，所以我们需要一些算法来转换成一个排名标量。一种方法是找到 beta 分布的最小值，这样我们就有 95%的把握认为真实值更大。这可以通过从平均值中减去一些标准偏差来实现。</p><blockquote class="ls lt lu"><p id="37a5" class="ki kj lf kk b kl km ju kn ko kp jx kq lv ks kt ku lw kw kx ky lx la lb lc ld im bi translated">排名=平均值+ z 值×标准差</p></blockquote><p id="ac75" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于正态近似值，累积密度函数 CDF 在 z 得分为-1.64 时为 5%，可以在上面的公式中使用。但是，如果您可以访问 beta 发行版本身的<a class="ae le" href="https://en.wikipedia.org/wiki/Quantile_function" rel="noopener ugc nofollow" target="_blank">反向 CDF(又名百分点函数)</a>，您可以直接使用它:</p><pre class="lh li lj lk gt ly lz ma mb aw mc bi"><span id="2ee5" class="md me it lz b gy mf mg l mh mi">rank = beta.ppf(0.05,a,b) # python<br/>rank = BETA.INV(0.05,a,b) # Excel, Sheets<br/>rank = qbeta(0.05,a,a) # R</span></pre><p id="18b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">产生以下结果:</p><pre class="lh li lj lk gt ly lz ma mb aw mc bi"><span id="d817" class="md me it lz b gy mf mg l mh mi">B   6:1  rank: 0.53<br/>A  60:40 rank: 0.52<br/>C   6:4  rank: 0.35<br/>E  10:20 rank: 0.21<br/>D   1:2  rank: 0.10</span></pre><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mj"><img src="../Images/5c7d7970d5ce5d19ee90795dcf45a1a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u436ChyK_iM-DWej3LMhaw.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk">Beta distributions of five ranked movies A,B,C,D,E</figcaption></figure><p id="d186" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将高证据 A (60:40)和低证据 C (6:4)电影分开，但总体上不是理想的排名，特别是对于 D(红色)来说，它几乎没有证据，但却获得了最差的排名。我们知道，一般的电影比非常好或非常差的电影更常见。我们更喜欢这样一个排名，它从对普通电影的假设开始，并需要证据来走向极端。我们可以将这种偏好与对普通电影有偏好的排名系统中的<em class="lf">优先</em>相结合，从 Beta(11，11)而不是 Beta(1，1)的<em class="lf">优先</em>开始。现在将需要一些投票来远离之前的<em class="lf">并走向极端，产生更好的总体排名:</em></p><pre class="lh li lj lk gt ly lz ma mb aw mc bi"><span id="027f" class="md me it lz b gy mf mg l mh mi">A  60:40 rank: 0.51<br/>B   6:1  rank: 0.43<br/>C   6:4  rank: 0.39<br/>D   1:2  rank: 0.32<br/>E  10:20 rank: 0.30</span></pre><figure class="lh li lj lk gt ll gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mo"><img src="../Images/7790ab321bb05c79b28a55341f864128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZqbmIYo2bW-gG8iVkaTqyw.png"/></div></div><figcaption class="mk ml gj gh gi mm mn bd b be z dk">Ranking with a prior biased towards an assumption of average movies</figcaption></figure><p id="6db4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">给我们一个最终结果，显示低证据 D 曲线大致在中间，而具有明显更多负面证据的 E 曲线现在具有最低等级。</p><p id="8a17" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这不仅适用于向上/向下评级，您还可以通过将值分配到同步向上/向下投票中，将其扩展到基于星级的系统。</p><blockquote class="ls lt lu"><p id="aa40" class="ki kj lf kk b kl km ju kn ko kp jx kq lv ks kt ku lw kw kx ky lx la lb lc ld im bi translated">星星(1，2，3，4，5):向上(0，0.25，0.5，0.75，1)向下(1，0.75，0.5，0.25，0)</p></blockquote><p id="d5ec" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，如果三个人每人给一部电影打了 4 颗星，那么总分就是:</p><pre class="lh li lj lk gt ly lz ma mb aw mc bi"><span id="9424" class="md me it lz b gy mf mg l mh mi">3  up  votes each of 0.75 value = 3×0.75 = 2.25<br/>3 down votes each of 0.25 value = 3×0.25 = 0.75<br/>Beta(3.25,1.75) # Uniform prior<br/>Beta(13.25, 11.75) # Prior biased toward average movie assumption</span></pre><p id="b5c0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们已经完成了一个稳定的排名系统，该系统奖励越来越多的证据，并展示了如何将其扩展到星级系统，这都要感谢 Bayes 牧师。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><p id="703b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您想亲自尝试一下，下面的 python 代码会进行排序，并为有偏差的情况绘制图表。</p><figure class="lh li lj lk gt ll"><div class="bz fp l di"><div class="mw mx l"/></div></figure></div></div>    
</body>
</html>