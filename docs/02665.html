<html>
<head>
<title>Analyzing the Titanic with a Business Analyst mindset using R (ggplot2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 R (ggplot2)以商业分析师的心态分析泰坦尼克号</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/analyzing-the-titanic-with-a-business-analyst-mindset-using-r-ggplot2-ee5355a4dab3?source=collection_archive---------12-----------------------#2019-05-01">https://towardsdatascience.com/analyzing-the-titanic-with-a-business-analyst-mindset-using-r-ggplot2-ee5355a4dab3?source=collection_archive---------12-----------------------#2019-05-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="bac2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi ko translated">最近，我迷上了<a class="ae kx" href="https://www.google.com/search?rlz=1C1NDCM_enDE782DE782&amp;ei=-kTHXLKEGbmI1fAPq62s4A4&amp;q=r+software+programming+language&amp;oq=R+software+program&amp;gs_l=psy-ab.1.1.0l2j0i22i30l8.421702.427106..429975...2.0..2.528.2688.1j15j1j5-1......0....1..gws-wiz.......0i71j35i39j0i67j0i20i263j0i10.xsc4RqvVA8E" rel="noopener ugc nofollow" target="_blank"> R 编程软件</a>和<a class="ae kx" href="https://www.google.com/search?rlz=1C1NDCM_enDE782DE782&amp;ei=qUbHXNL-KvuE1fAP14yumA0&amp;q=hadley+wickham&amp;oq=Hadley+Wickha&amp;gs_l=psy-ab.1.0.0i67l4j0l4j0i67l2.72199.200966..206662...0.0..3.697.3723.1j9j0j2j0j3......0....1..gws-wiz.......0i71j35i39j0i10i67j0i20i263.-jhelNNRd-0" rel="noopener ugc nofollow" target="_blank"> Hadley Wickham </a>创造的奇妙的数据可视化包(<a class="ae kx" href="https://ggplot2.tidyverse.org/" rel="noopener ugc nofollow" target="_blank"> ggplot2 </a>)。我的职业是商业分析师，在电子支付行业有着丰富的经验，但我对数据分析、可视化和向利益相关者传达数据充满热情。</p><h2 id="a4cb" class="ky kz it bd la lb lc dn ld le lf dp lg kb lh li lj kf lk ll lm kj ln lo lp lq bi translated"><strong class="ak">撰写这篇文章的动机</strong></h2><p id="6f89" class="pw-post-body-paragraph jq jr it js b jt lr jv jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn im bi translated">嗯，为什么是泰坦尼克号……有人可能会问？巧合的是，我决定再看一遍《泰坦尼克号》电影，但这一次是以商业分析师的心态，受到<a class="ae kx" href="https://www.google.com/search?rlz=1C1NDCM_enDE782DE782&amp;ei=kUvIXKfpDYKsa7aNGw&amp;q=data+analysis+&amp;oq=data+analysis+&amp;gs_l=psy-ab.3..35i39j0l9.22562.23150..24244...0.0..0.186.605.0j5......0....1..gws-wiz.......0i71j0i67.Lt10l39lJeg" rel="noopener ugc nofollow" target="_blank">数据分析</a>力量的启发。我第一次看这部电影时，脑海中有几个关于<a class="ae kx" href="https://www.google.com/search?rlz=1C1NDCM_enDE782DE782&amp;ei=DjXIXKeAMZHXkwWR_LC4AQ&amp;q=Titanic+movie&amp;oq=Titanic+movie&amp;gs_l=psy-ab.3..0i67j0l9.1338061.1341057..1341273...0.0..1.409.1760.0j12j4-1......0....1..gws-wiz.......0i71j35i39.KmVIKVls_Fg" rel="noopener ugc nofollow" target="_blank">泰坦尼克号</a>上发生的事情的问题，但当时没有找到答案。这一次，我受到数据分析的解决方案驱动本质的启发，决定通过在谷歌上获取无处不在的<a class="ae kx" href="https://www.google.com/search?rlz=1C1NDCM_enDE782DE782&amp;ei=9jzHXKCYBJWO1fAPwomd8AI&amp;q=titanic+dataset&amp;oq=titanic+dataset&amp;gs_l=psy-ab.3..35i39j0i67l7j0l2.1390303.1392961..1393361...0.0..3.470.2802.0j11j1j0j2......0....1..gws-wiz.......0i71j0i20i263.ikDPf222nTg" rel="noopener ugc nofollow" target="_blank">大型数据集</a>来寻找我自己问题的答案。</p><p id="2190" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我从几个关于泰坦尼克号沉船事件的探索性问题开始了我的分析(我问了很多问题，我猜你们都已经知道了:)。下面的可视化仪表板在我的分析过程中实现了。</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lw"><img src="../Images/f5bde2dd2666678f976d8e269e7ed149.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SVi8pScoZtJaU4xWOahggA.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk">Titanic Dashboard</figcaption></figure><h2 id="207a" class="ky kz it bd la lb lc dn ld le lf dp lg kb lh li lj kf lk ll lm kj ln lo lp lq bi translated">探究问题</h2><ol class=""><li id="5152" class="mm mn it js b jt lr jx ls kb mo kf mp kj mq kn mr ms mt mu bi translated">泰坦尼克号上的存活率是多少？</li><li id="4959" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">我如何用数据来形象化泰坦尼克号上的救援人员采用的<a class="ae kx" href="https://en.wikipedia.org/wiki/Women_and_children_first" rel="noopener ugc nofollow" target="_blank">妇女和儿童优先</a>的方法？</li><li id="a773" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">泰坦尼克号上的年龄分布是怎样的(幸存者和遇难者)？</li><li id="fd06" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">泰坦尼克号上按船票等级划分的幸存者年龄分布是怎样的？</li><li id="15bf" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn mr ms mt mu bi translated">一个多世纪以前，泰坦尼克号是最贵的船，那么所有船票等级的票价是如何比较的呢？</li></ol><p id="58f4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你看过这部电影，那么你就来对地方了，如果你没有，那么你就是我发现的目标。也许，你会决定马上看。现在，让我们开始吧。</p><h2 id="c6d2" class="ky kz it bd la lb lc dn ld le lf dp lg kb lh li lj kf lk ll lm kj ln lo lp lq bi translated">加载包和浏览数据</h2><p id="1d07" class="pw-post-body-paragraph jq jr it js b jt lr jv jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn im bi translated">让我们从加载包开始，我们将使用这些包来创建用于分析的可视化。Tidyverse 软件包将有助于数据处理和绘图。</p><p id="27dd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">加载相关库，将保存在电脑驱动器上的<a class="ae kx" href="https://www.google.com/search?rlz=1C1NDCM_enDE782DE782&amp;ei=9jzHXKCYBJWO1fAPwomd8AI&amp;q=titanic+dataset&amp;oq=titanic+dataset&amp;gs_l=psy-ab.3..35i39j0i67l7j0l2.1390303.1392961..1393361...0.0..3.470.2802.0j11j1j0j2......0....1..gws-wiz.......0i71j0i20i263.ikDPf222nTg" rel="noopener ugc nofollow" target="_blank">泰坦尼克号数据集</a>导入<a class="ae kx" href="https://www.google.com/search?rlz=1C1NDCM_enDE782DE782&amp;ei=FDXIXIyzLoa5kwXLtY-wBQ&amp;q=r+studio&amp;oq=R+&amp;gs_l=psy-ab.1.0.35i39l2j0i67l5j0l3.7920120.7920300..7923080...0.0..0.105.199.1j1......0....1..gws-wiz.......0i71.AJDyvSW-gtw" rel="noopener ugc nofollow" target="_blank"> R 工作室</a>。</p><p id="5ebd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">注意</strong>:源数据帧不包含机组人员的信息，但包含几乎 80%乘客的实际和估计年龄</p><pre class="lx ly lz ma gt na nb nc nd aw ne bi"><span id="c2bd" class="ky kz it nb b gy nf ng l nh ni">library(tidyverse)</span><span id="c4a3" class="ky kz it nb b gy nj ng l nh ni">titanic &lt;- read.csv(file.choose())</span></pre><p id="65a2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">检查数据集的结构(变量名和变量类型)。这一步对于确定变量是否适合绘图至关重要。</p><pre class="lx ly lz ma gt na nb nc nd aw ne bi"><span id="4751" class="ky kz it nb b gy nf ng l nh ni">#Check out the structure of the dataset<br/>summary(titanic)<br/>str(titanic)<br/>names(titanic)<br/>head(titanic.df, n = 10)</span><span id="82ef" class="ky kz it nb b gy nj ng l nh ni">#Remove rows with NA<br/>titanic.df &lt;- filter(titanic, survived != "")</span></pre><p id="5f55" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">首先，清理数据集以移除或替换丢失的值。</p><p id="e5bc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">数据集中的列如下所示:</p><ul class=""><li id="b326" class="mm mn it js b jt ju jx jy kb nk kf nl kj nm kn nn ms mt mu bi translated"><strong class="js iu"> Pclass: </strong> <em class="no">票类(1 = 1 号，2 = 2 号；3=第三)</em></li><li id="e800" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu">幸存:</strong>幸存<em class="no"> ( 0 =否；1 =是)</em></li><li id="d308" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu">姓名:</strong> <em class="no">乘客姓名</em></li><li id="a54a" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu">性别:</strong>T20】性别(男或女)</li><li id="49ab" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu">年龄:</strong> <em class="no">乘客</em> <em class="no">年龄</em></li><li id="62c8" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu"> SibSp: </strong> <em class="no">船上兄弟姐妹和/或配偶人数</em></li><li id="6fc2" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu"> Parch: </strong> <em class="no">船上父母和/或子女的数量</em></li><li id="3a75" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu">票号:</strong> <em class="no">票号</em></li><li id="d700" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu">票价:</strong> <em class="no">票价价格(英镑)</em></li><li id="f179" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu">座舱:</strong>座舱<em class="no">座舱</em></li><li id="c08b" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu">已装船</strong> : <em class="no">装船港(C =瑟堡:Q =皇后镇:S=南安普顿)</em></li><li id="73e2" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu">艇</strong> : <em class="no">救生艇</em></li><li id="0134" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu">车身</strong> : <em class="no">车身识别号</em></li><li id="fa39" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated"><strong class="js iu"> home.dest </strong> : <em class="no">乘客家或目的地的地址</em></li></ul><p id="311b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一步是我们需要决定我们需要什么样的变量和合适的比例来可视化我们的数据。我使用了下面的表格分类，</p><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi np"><img src="../Images/77884460f249e44e5ab5b5a0f340dc78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SJkvlzIzWZ8oC6VJRIVDiw.png"/></div></div></figure><h2 id="8621" class="ky kz it bd la lb lc dn ld le lf dp lg kb lh li lj kf lk ll lm kj ln lo lp lq bi translated">使用 ggplot2 进行可视化</h2><p id="18d1" class="pw-post-body-paragraph jq jr it js b jt lr jv jw jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn im bi translated">来回答我们的第一个问题，<strong class="js iu">泰坦尼克号上的存活率是多少？</strong></p><blockquote class="nq nr ns"><p id="fbb6" class="jq jr no js b jt ju jv jw jx jy jz ka nt kc kd ke nu kg kh ki nv kk kl km kn im bi translated">按班级排列(*第一、第二和第三)，幸存的女性比例分别为 97%、89%和 49%。</p><p id="e7bf" class="jq jr no js b jt ju jv jw jx jy jz ka nt kc kd ke nu kg kh ki nv kk kl km kn im bi translated">按等级(*第一、第二和第三)排列，男性存活率分别为 34%、15%(约 14.6%)和 15%(约 15.2%)。</p></blockquote><p id="2a72" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="no">运行</em> <strong class="js iu"> <em class="no"> </em> </strong> <em class="no">下面的代码生成相应的可视化效果:</em></p><pre class="lx ly lz ma gt na nb nc nd aw ne bi"><span id="a3f0" class="ky kz it nb b gy nf ng l nh ni">ggplot(data = titanic.df) +<br/>  aes(x = age, fill = survived) +<br/>  geom_histogram(bin = 30, colour = "#1380A1") +<br/>  #scale_fill_brewer(palette = "Accent") +<br/>  labs(title = "Survival rate on the Titanic",<br/>       y = "Survived",<br/>       subtitle = "Distribution By Age, Gender and class of ticket",<br/>      caption = "Author: etoma.egot") +<br/>  theme_tomski() + # using a custom theme for my visualizations<br/>#theme_bw()+ #Use the inbuilt ggplot2 them for your practice</span><span id="3a88" class="ky kz it nb b gy nj ng l nh ni">  facet_grid(sex~pclass, scales = "free")</span><span id="bad9" class="ky kz it nb b gy nj ng l nh ni">#Proportion of 1st, 2nd and  3rd class women and men who survived</span><span id="cef5" class="ky kz it nb b gy nj ng l nh ni">mf.survived &lt;- titanic.df %&gt;%<br/>  filter(survived == 1)%&gt;%<br/>  group_by(pclass,sex)%&gt;%<br/>  summarise(Counts = n()<br/>  )</span><span id="323f" class="ky kz it nb b gy nj ng l nh ni">mf.died &lt;- titanic.df %&gt;%<br/>  filter(survived != 1)%&gt;%<br/>  group_by(pclass,sex)%&gt;%<br/>  summarise(Counts = n()<br/>  )</span><span id="faa1" class="ky kz it nb b gy nj ng l nh ni">mf.perc.survived &lt;- mf.survived/(mf.survived + mf.died) * 100<br/>select (mf.perc.survived, Counts)</span></pre><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/213fbf24df388853a7a9e4835cedc135.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9sKHzN8kOjGwQ35Z7B6QNA.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk">Survival Rate on the Titanic</figcaption></figure><p id="8ff8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">结果解读:</strong></p><ul class=""><li id="b313" class="mm mn it js b jt ju jx jy kb nk kf nl kj nm kn nn ms mt mu bi translated">该图有助于确定考虑到所有三个变量(年龄、性别、机票等级)的存活率模式。</li><li id="04ff" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated">按班级排列(*第一、第二和第三)，幸存的女性比例分别为 97%、89%和 49%。</li><li id="9020" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated">按等级(*第一、第二和第三)排列，男性存活率分别为 34%、15%(约 14.6%)和 15%(约 15.2%)。</li><li id="58c1" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated">在一年级和二年级的学生中，除了一年级的一名女生外，所有的孩子都活了下来。三年级的孩子死亡率更高。</li></ul><p id="519a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于我们的第二个问题，我如何用数据来证实泰坦尼克号上的救援人员采用的<a class="ae kx" href="https://en.wikipedia.org/wiki/Women_and_children_first" rel="noopener ugc nofollow" target="_blank">妇女和儿童优先</a>的方法？</p><blockquote class="nq nr ns"><p id="f21f" class="jq jr no js b jt ju jv jw jx jy jz ka nt kc kd ke nu kg kh ki nv kk kl km kn im bi translated">救援人员首先考虑的是儿童和妇女，在所有级别中，优先考虑的是妇女、儿童和至少 60 岁的老年人。</p></blockquote><p id="0b06" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">运行代码以获得以下可视化效果:</p><pre class="lx ly lz ma gt na nb nc nd aw ne bi"><span id="5dd2" class="ky kz it nb b gy nf ng l nh ni">titanic.df %&gt;%<br/>  filter(fare &lt;= 300)%&gt;%<br/>  ggplot(mapping = aes(x = age, y = fare)) +<br/>  geom_point(aes(colour = survived, size = fare, alpha = 0.7)) +<br/>  geom_smooth(se = FALSE)+<br/>  facet_grid(sex~pclass, scales = "free") +<br/>  labs(title = "Priority and pattern of rescue on the Titanic",<br/>       x = "Age (yrs)",<br/>       y = "Fare(£)",<br/>       subtitle = "Children and women in order of ticket class were\nconsidered first in the rescue plan with priority been\nwomen, children and older adults &gt;= 60yrs", <br/>        <br/>       caption = "Author: etoma.egot") +<br/>  theme(<br/>    plot.subtitle = element_text(colour = "#17c5c9",<br/>                                     size=14))+<br/>           theme_tomski()  #using a custom theme</span></pre><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/9b7d9310955b42dea1c8cd888be6aa6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YPMjVx0f8OIPIYc2lD787Q.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk">Priority and pattern of rescue on the Titanic</figcaption></figure><p id="7a0c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">结果解读</strong></p><ul class=""><li id="402d" class="mm mn it js b jt ju jx jy kb nk kf nl kj nm kn nn ms mt mu bi translated">遵循上图中的分布结果。(票价与机票等级成正比)。抛开儿童这个事实(&lt;=12) on the titanic were charged separate boarding fares. It seemed like the fares for children and teens seem unusually high when compared with average fares for non-children age groups. Let me know if you know why this is so.</li><li id="8121" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated">Nonetheless,the bubble chart gives some other clues in regards to the pattern of rescue operations. Evidently, Women and Children first approach in order of ticket class was adopted in the rescue plans by rescuers with priority been women and children and older adults at least 60yrs across all classes.</li><li id="5559" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated">Apparently little or no priority was given to male passengers by rescuers</li></ul><p id="cc8d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">##<strong class="js iu">注意</strong>:我从气泡图中移除了异常票价(500)。支付这些费用的男性和女性无论如何都获救了。</p><p id="5ea8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我使用<strong class="js iu">箱线图</strong>来可视化接下来的三个问题:</p><p id="5ca1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">继续第三个问题，<strong class="js iu">泰坦尼克号上的年龄分布是怎样的(幸存者和遇难者)？</strong></p><blockquote class="nq nr ns"><p id="08bf" class="jq jr no js b jt ju jv jw jx jy jz ka nt kc kd ke nu kg kh ki nv kk kl km kn im bi translated">总的来说，泰坦尼克号上的男性比女性平均大 3 岁。</p></blockquote><pre class="lx ly lz ma gt na nb nc nd aw ne bi"><span id="ad44" class="ky kz it nb b gy nf ng l nh ni">titanic.df %&gt;%<br/>    ggplot(mapping =  aes(x = pclass, y = age)) +<br/>  geom_point(colour = "#1380A1", size = 1) +<br/>  geom_jitter(aes(colour = survived))+ #This generates multiple colours<br/>  geom_boxplot(alpha = 0.7, outlier.colour = NA)+<br/>  labs(title = "Age Distribution by Class on the Titanic",<br/>       x = "Ticket Class",<br/>       y = "Age(Yrs)",<br/>       subtitle = "The males on the titanic were older than the females by an average of 3yrs across all ticket classes ",<br/>       caption = "Author: etoma.egot") +<br/>  theme_tomski() +   #using my own custom theme<br/>  theme(plot.subtitle = element_text(<br/>                                     size=18))+<br/>  <br/>  facet_wrap(.~sex)</span><span id="2064" class="ky kz it nb b gy nj ng l nh ni">#Calculating Mean and median age by Class and Gender for adults<br/>titanic.df %&gt;%<br/>    group_by(pclass, sex)%&gt;%<br/>  summarise(<br/>    n = n(), #count of passengers<br/>    Average.age = mean(age, na.rm = TRUE),<br/>    Median.age  = median(age, na.rm = TRUE)<br/>  )</span></pre><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/aaa202d15964c4714ad56d0f6b047aaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hw0ln5dxP_ZmruubHis_qw.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk">Age Distribution by Class on the Titanic</figcaption></figure><p id="252e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">成绩解读</strong></p><p id="b8ad" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="no">负偏态</em> —箱线图将显示更接近上四分位数的中位数<br/> <em class="no">正偏态</em> —箱线图将显示更接近下四分位数的中位数</p><p id="6265" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">女</strong></p><ul class=""><li id="9ee1" class="mm mn it js b jt ju jx jy kb nk kf nl kj nm kn nn ms mt mu bi translated">大约 75%的女性(第一、第二、第三名)至少在 22 岁、20 岁和 17 岁之间。年龄中位数为 36 岁(正态分布)、28 岁(负偏态)和 22 岁(正偏态)</li></ul><p id="8fa3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">男</strong></p><ul class=""><li id="99ea" class="mm mn it js b jt ju jx jy kb nk kf nl kj nm kn nn ms mt mu bi translated">大约 75%的男性年龄至少在 30 岁、24 岁和 20 岁之间。年龄中位数为 42 岁(负偏差)、30 岁(正偏差)和 25 岁(正偏差)</li></ul><p id="b393" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">#概要:</strong> <br/>一般来说，在所有船票等级中，泰坦尼克号上的男性比女性平均年长 3 岁。</p><p id="ece1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">随后，对于第 4 个问题，<strong class="js iu">泰坦尼克号上按船票等级划分的幸存者年龄分布是怎样的？</strong></p><blockquote class="nq nr ns"><p id="33aa" class="jq jr no js b jt ju jv jw jx jy jz ka nt kc kd ke nu kg kh ki nv kk kl km kn im bi translated">第一类中男性和女性幸存者的平均年龄相同(36 岁)<br/> -第二类中女性比男性大 1.5 倍<br/> -第三类中男性比女性大 2 岁</p></blockquote><pre class="lx ly lz ma gt na nb nc nd aw ne bi"><span id="cf80" class="ky kz it nb b gy nf ng l nh ni">titanic.df %&gt;%<br/>  filter(survived ==1)%&gt;%<br/>  ggplot(mapping =  aes(x = pclass, y = age)) +<br/>  geom_point(size = 1) +<br/>  geom_jitter(colour = "#1380A1")+ <br/>  geom_boxplot(alpha = 0.7, outlier.colour = NA)+<br/>  labs(title = "Survivors Age Distribution by Class on the Titanic",<br/>       x = "Ticket Class",<br/>       y = "Age(Yrs)",<br/>       subtitle = "The median age of male and female survivors in 1st class was the same(36 yrs)\nThe females in 2nd class were 1.5 times older than the males\nThe males in 3rd class were older than the females by 2yrs",<br/>       caption = "Author: etoma.egot") +<br/>  theme_tomski() +   #using my own custom theme<br/>  theme(plot.subtitle = element_text(colour = "#1380A1",<br/>                                     size=18))+<br/>  facet_wrap(.~sex)</span><span id="60e7" class="ky kz it nb b gy nj ng l nh ni">#Calculating Mean and median age by Class and Gender for adults<br/>titanic.df %&gt;%<br/>  filter(survived ==1)%&gt;%<br/>  group_by(pclass, sex)%&gt;%<br/>  summarise(<br/>    n = n(), #count of passengers<br/>    Average.age = mean(age, na.rm = TRUE),<br/>    Median.age  = median(age, na.rm = TRUE)<br/>  )</span></pre><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/168958f9517b8d3344a33f7477de20dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u4xhRVJDPTN1a2n-7zydvg.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk">Survivor age distribution by class on the Titanic</figcaption></figure><p id="9ce6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">结果解释</strong></p><p id="0c36" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">女性</strong><br/>——年龄中位数为 36 岁(正态分布)、28 岁(负偏态)和 22 岁(正偏态)</p><p id="b3a0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">男性</strong><br/>——年龄中位数为 36 岁(正偏)、19 岁(负偏)和 25 岁(负偏)</p><p id="0cfe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">#总结:</strong> <br/> -第一类男性和女性幸存者的平均年龄相同(36 岁)<br/> -第二类女性比男性大 1.5 倍<br/> -第三类男性比女性大 2 岁</p><p id="9422" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，关于最后一个问题，<strong class="js iu">泰坦尼克号是一个多世纪前最贵的船，那么所有船票等级的票价值如何比较？</strong></p><blockquote class="nq nr ns"><p id="ca3e" class="jq jr no js b jt ju jv jw jx jy jz ka nt kc kd ke nu kg kh ki nv kk kl km kn im bi translated">头等票的价格大约是二等票的三倍，二等票的价值大约是三等票的两倍。</p></blockquote><pre class="lx ly lz ma gt na nb nc nd aw ne bi"><span id="c1d7" class="ky kz it nb b gy nf ng l nh ni">#Prepare Data, remove outliers in fare<br/>titanic.df %&gt;%<br/>  filter(fare &lt; 300)%&gt;%<br/>      ggplot(mapping =  aes(x = pclass, y = fare)) +<br/>  #geom_point(colour = "#1380A1", size = 1) +<br/>  #geom_jitter(aes(colour = survived))+<br/>  geom_boxplot(colour = "#1380A1", outlier.colour = NA)+<br/>  labs(title = "Fare Value by Class",<br/>       x = "Ticket Class",<br/>       y = "Ticket Fare (£)",<br/>       subtitle = "1st class ticket was worth 3 times a 2nd class ticket\nand 2nd class ticket was worth almost twice that of 3rd class",<br/>       caption = "Author: etoma.egot") +<br/>  theme_tomski()+ #using my own custom theme <br/>  theme(plot.subtitle = element_text(colour = "#1380A1",size=18))+<br/>  <br/>  coord_cartesian(ylim = c(0,125))+<br/>  coord_flip()</span><span id="cc73" class="ky kz it nb b gy nj ng l nh ni">#Calculating Mean and Median Fare by Class<br/>titanic.df %&gt;%<br/>  filter(fare &lt; 300)%&gt;%<br/>    group_by(pclass)%&gt;%<br/>  summarise(<br/>    Average.fares = mean(fare, na.rm = TRUE),<br/>    Median.fare  = median(fare, na.rm = TRUE)<br/>  )</span><span id="29ba" class="ky kz it nb b gy nj ng l nh ni">#Calculating Mean and Median Fare by Class for children<br/>titanic.df %&gt;%<br/>  filter(fare &lt; 300, age &lt;= 12)%&gt;%<br/>  group_by(pclass)%&gt;%<br/>  summarise(<br/>    n = n(),<br/>    Average.fares = mean(fare, na.rm = TRUE),<br/>    Median.fare  = median(fare, na.rm = TRUE)<br/>  )</span><span id="6885" class="ky kz it nb b gy nj ng l nh ni">#Calculating Mean and Median Fare by Class for adults<br/>titanic.df %&gt;%<br/>  filter(fare &lt; 300, age &gt;= 12)%&gt;%<br/>  group_by(pclass)%&gt;%<br/>  summarise(<br/>    n = n(),<br/>    Average.fare = mean(fare, na.rm = TRUE),<br/>    Median.fare  = median(fare, na.rm = TRUE)<br/>  )</span></pre><figure class="lx ly lz ma gt mb gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi nw"><img src="../Images/c42099cc1ff7cce88b0a642085ce20fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F70FbbcGyAV06fd81jzdVw.png"/></div></div><figcaption class="mi mj gj gh gi mk ml bd b be z dk">Fare Value By Class on the Titanic</figcaption></figure><p id="8f0d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">结果解释</strong></p><ul class=""><li id="3be1" class="mm mn it js b jt ju jx jy kb nk kf nl kj nm kn nn ms mt mu bi translated">方框图证实了机票价格与机票等级成正比。非常直观。</li><li id="7a76" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated">分布向右倾斜。一等舱、二等舱和三等舱的票价中位数分别为 59.4 英镑、15 英镑和 8.05 英镑。一等舱、二等舱和三等舱的平均票价分别为 82.2 英镑、21.2 英镑和 13.3 英镑。(平均票价大于中间票价)。</li><li id="ca1b" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated">因此，这个分布的中心的更好的测量是中位数。因此，头等票的价格大约是二等票的三倍，而二等票的价值大约是三等票的两倍。</li><li id="f926" class="mm mn it js b jt mv jx mw kb mx kf my kj mz kn nn ms mt mu bi translated">与同一班级的成人相比，儿童的平均票价和中位票价更高。</li></ul><p id="25b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注:<br/> <a class="ae kx" href="https://web.ma.utexas.edu/users/mks/statmistakes/skeweddistributions.html" rel="noopener ugc nofollow" target="_blank">对于对称分布，均值在中间。因此，平均值是用于比较的适当度量。但是如果分布是偏斜的，那么平均值通常不在中间。因此，中位数是进行比较的适当标准<br/> </a> <br/>我对我在 TDS 上的第一篇文章感到非常兴奋，尽管如此，如果你做过类似的分析，我仍然需要澄清，在不同的年龄组中，儿童是否真的比一些成年人付出更多，正如我的可视化气泡图结果似乎所表明的那样。</p><p id="ff31" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读！。</p></div></div>    
</body>
</html>