<html>
<head>
<title>Web Scraping For Financial Analyst Beautifulsoup, Scrapy, Selenium &amp; Twitter API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">金融分析师的网络抓取</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/web-scraping-for-beginners-beautifulsoup-scrapy-selenium-twitter-api-f5a6d0589ea6?source=collection_archive---------8-----------------------#2019-05-01">https://towardsdatascience.com/web-scraping-for-beginners-beautifulsoup-scrapy-selenium-twitter-api-f5a6d0589ea6?source=collection_archive---------8-----------------------#2019-05-01</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><figure class="gm go js jt ju jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj jr"><img src="../Images/05aafd1ad57703259f94558d7465d25e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QcDLy9NvN7Z2EzkZFTF1zA.jpeg"/></div></div></figure><h1 id="b908" class="kc kd iu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">简介</strong></h1><p id="f087" class="pw-post-body-paragraph la lb iu lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx in bi translated">我最近在学习网络抓取，并想分享我使用 beautifulsoup、scrapy、selenium 以及使用 Twitter API 和 pandas datareader 进行抓取的经验。网络抓取是有趣且非常有用的工具。Python 语言使得网络抓取变得更加容易。用不到 100 行代码就可以提取数据。网络抓取是数据分析专业人员需要掌握的一项重要技能。</p><p id="82fe" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">例如，我们可以删除金融信息、宏观经济信息或股票研究分析师、风险资本家、财务经理、基金经理、对冲基金经理等使用的任何其他信息。通过抓取 Alexa.com 的网络流量，高盛资产管理公司(Goldman Sachs Asset Management)能够发现 Homedepot 网站的访问量大幅上升，这有助于该资产管理公司提前买入 HomeDepot 的股票。FlightAware.com 通过跟踪<a class="ae md" href="https://flightaware.com/live/" rel="noopener ugc nofollow" target="_blank">帮助找出首席执行官的旅行模式，这反过来有助于发现并购活动。网络搜集在金融领域非常重要，因为网上有大量的金融信息。</a></p><figure class="me mf mg mh gu jv"><div class="bz fq l di"><div class="mi mj l"/></div></figure><p id="fe46" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><strong class="lc iv"> <em class="mk">什么是网刮</em> </strong>？</p><p id="02cc" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">网络抓取是一种从网站上提取信息并进行处理的技术。</p><p id="b9aa" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">让我们看看如何简单和容易做网页抓取。</p><p id="6aff" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">我将浏览下面的库和 API</p><ul class=""><li id="0130" class="ml mm iu lc b ld ly lh lz ll mn lp mo lt mp lx mq mr ms mt bi translated"><strong class="lc iv"> <em class="mk">美汤</em> </strong></li><li id="faf4" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated"><strong class="lc iv"> <em class="mk">刺儿头</em> </strong></li><li id="6657" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated"><strong class="lc iv"> <em class="mk">硒</em> </strong></li><li id="0884" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated"><strong class="lc iv"> <em class="mk"> Twitter API 提取推文</em> </strong></li><li id="9931" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated"><strong class="lc iv"> <em class="mk">熊猫 DataReader </em> </strong>阅读自谷歌财经</li></ul><p id="c295" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">我们将使用 Jupyter 笔记本。请检查下面的链接并安装它。</p><p id="ac56" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><a class="ae md" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv"> <em class="mk"> Jupyter 安装</em> </strong> </a></p><p id="4f07" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><a class="ae md" href="https://www.datacamp.com/community/tutorials/tutorial-jupyter-notebook" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv"> <em class="mk">了解更多关于 jupyter </em> </strong> </a></p><p id="0673" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><strong class="lc iv"> <em class="mk">美汤:</em> </strong></p><p id="7621" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">Beautiful Soup 是一个 Python 库，用于从 HTML 和 XML 文件中提取数据。</p><p id="1ff2" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><strong class="lc iv"> <em class="mk">安装 BS4: </em> </strong></p><ul class=""><li id="5bb8" class="ml mm iu lc b ld ly lh lz ll mn lp mo lt mp lx mq mr ms mt bi translated">pip 在命令提示符下安装 beautifulsoup4。</li><li id="ccfd" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">pip 安装请求</li></ul><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj mz"><img src="../Images/34a779bcdc3c8ef4ed2536971505a8b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M6JwDrApTHeY-HeWkjcSSg.png"/></div></div></figure><p id="7764" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">我已经安装了它，因此它说要求已经满足。</p><p id="3806" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">BS4 安装完成后，打开 juypter 笔记本。</p><p id="2e1b" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">只是为了演示的目的，我将从纳斯达克网站上删除数据</p><div class="na nb gq gs nc nd"><a href="https://www.nasdaq.com/screening/companies-by-industry.aspx?industry=Technology&amp;sortname=marketcap&amp;sorttype=1&amp;page=1" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fp"><div class="nf ab ng cl cj nh"><h2 class="bd iv gz z fq ni fs ft nj fv fx it bi translated">科技公司</h2><div class="nk l"><h3 class="bd b gz z fq ni fs ft nj fv fx dk translated">使用公司列表工具在以下网址查找技术公司和纳斯达克、纽约证券交易所和美国证券交易所上市公司的完整列表…</h3></div><div class="nl l"><p class="bd b dl z fq ni fs ft nj fv fx dk translated">www.nasdaq.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr ka nd"/></div></div></a></div><p id="3e7b" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">我们将收集以下信息</p><ol class=""><li id="9691" class="ml mm iu lc b ld ly lh lz ll mn lp mo lt mp lx ns mr ms mt bi translated">名字</li><li id="8656" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx ns mr ms mt bi translated">标志</li><li id="bc20" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx ns mr ms mt bi translated">市值</li><li id="f882" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx ns mr ms mt bi translated">国家</li><li id="45f5" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx ns mr ms mt bi translated">IPO 年份</li><li id="387c" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx ns mr ms mt bi translated">子部门</li></ol><p id="b4b1" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">网页如下所示</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nt"><img src="../Images/604f7032967f22e4c91cc613cc1addb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HaYdEHnZTlT5FSMYh_c8UQ.jpeg"/></div></div></figure><p id="7919" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><a class="ae md" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv"> <em class="mk">查美汤文档</em> </strong> </a></p><p id="3465" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">这些步骤是</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div class="gi gj nu"><img src="../Images/9ab424de6a58ef584e03b50365e03065.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*c3bxhrbRMHcgiPrjO-6m3Q.jpeg"/></div></figure><ul class=""><li id="4ffa" class="ml mm iu lc b ld ly lh lz ll mn lp mo lt mp lx mq mr ms mt bi translated">选择要废弃的网站 URL</li><li id="25e4" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">最终确定需要从网站上搜集的信息</li><li id="29cd" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">获取请求</li><li id="86c4" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">检查网站——右击谷歌浏览器</li><li id="af32" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">美丽的汤— HTML 解析器</li><li id="5619" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">选择所需的数据并将其添加到列表中</li><li id="913e" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">将抓取的数据下载到一个 CSV 文件并存储在本地</li><li id="37b1" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">将数据移动到 pandas 数据框或将 CSV 文件上传到数据框，并在 pandas 中进行进一步的分析和可视化。</li></ul><p id="e692" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">下面的代码解释了这些步骤。现在打开 jupyter 笔记本，开始编码。</p><ol class=""><li id="39b2" class="ml mm iu lc b ld ly lh lz ll mn lp mo lt mp lx ns mr ms mt bi translated">导入所有必需的库。</li></ol><figure class="me mf mg mh gu jv"><div class="bz fq l di"><div class="nv mj l"/></div></figure><p id="4b06" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">2.<strong class="lc iv"> <em class="mk">获取请求:</em> </strong>首先我们需要下载网页。为此，我们将使用 get request。</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nw"><img src="../Images/06d53abf9f0abfcad44058906721dfdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XNgo-JmVdLwfbOIMeaFf_Q.jpeg"/></div></div></figure><p id="d147" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">url = "给出您决定抓取数据的 URL "<br/>response = get(URL)<br/><a class="ae md" href="https://2.python-requests.org//en/master/user/quickstart/#make-a-request" rel="noopener ugc nofollow" target="_blank"><strong class="lc iv"><em class="mk">获取有关 get 请求的更多信息</em> </strong> </a></p><p id="8f01" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">3.<strong class="lc iv">解析 HTML: 解析</strong></p><p id="cd6a" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">我们将使用上面的响应创建一个新的 beautifulsoup 对象，解析器方法为 html.parser。</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nx"><img src="../Images/a19f6bee1a904c3768abc7a434fec2a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MPecvivAXs0NbRLMDphcag.jpeg"/></div></div></figure><p id="2faf" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">在 Chrome 中，我们可以通过以下方式快速找到元素的选择器</p><ol class=""><li id="d29c" class="ml mm iu lc b ld ly lh lz ll mn lp mo lt mp lx ns mr ms mt bi translated">右键单击该元素，然后在菜单中选择“检查”。开发人员工具打开，并突出显示我们右键单击的元素</li><li id="be2e" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx ns mr ms mt bi translated">右键单击开发工具中的代码元素，将鼠标悬停在菜单中的“复制”上，然后单击“复制选择器”</li></ol><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj ny"><img src="../Images/368d0acd53d354c2ee78af7dba132c13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YyLRmsmRlzCCx6uNJHQK7A.jpeg"/></div></div></figure><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj nz"><img src="../Images/b3d939c68ec3df2f3a6bf6e329981ba8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rVOGLvx80Mowvim1SDWl_g.jpeg"/></div></div></figure><p id="6437" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><a class="ae md" href="https://developers.google.com/web/tools/chrome-devtools/dom/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv"> <em class="mk">检查铬视工具使用</em> </strong> </a>。</p><p id="a7f5" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><a class="ae md" href="http://2017.compciv.org/guide/topics/python-nonstandard-libraries/beautifulsoup.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv"> <em class="mk">有关 html 和 xml 的信息，您可以查看</em> </strong> </a></p><p id="dc39" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">在我们的例子中，整个列表保存在表“CompanylistResults”中。直接从表中删除数据。表的元素有</p><p id="02ac" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><code class="fe oa ob oc od b"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table" rel="noopener ugc nofollow" target="_blank">&lt;table&gt;</a></code><strong class="lc iv">HTML</strong><code class="fe oa ob oc od b"><strong class="lc iv">&lt;table&gt;</strong></code><strong class="lc iv">元素</strong>表示表格数据——也就是说，由包含数据的单元格的行和列组成的二维表格中呈现的信息。</p><p id="a7e5" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><code class="fe oa ob oc od b"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td" rel="noopener ugc nofollow" target="_blank">&lt;td&gt;</a></code><strong class="lc iv">HTML</strong><code class="fe oa ob oc od b"><strong class="lc iv">&lt;td&gt;</strong></code><strong class="lc iv">元素</strong>定义了一个包含数据的表格单元格。它参与<em class="mk">表模型</em>。</p><p id="e060" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><code class="fe oa ob oc od b"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr" rel="noopener ugc nofollow" target="_blank">&lt;tr&gt;</a></code>HTML<code class="fe oa ob oc od b"><strong class="lc iv">&lt;tr&gt;</strong></code><strong class="lc iv">元素</strong>定义了表格中的一行单元格。然后可以混合使用<code class="fe oa ob oc od b"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td" rel="noopener ugc nofollow" target="_blank">&lt;td&gt;</a></code>(数据单元格)和<code class="fe oa ob oc od b"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th" rel="noopener ugc nofollow" target="_blank">&lt;th&gt;</a></code>(标题单元格)元素来建立行的单元格。HTML <code class="fe oa ob oc od b"><strong class="lc iv">&lt;tr&gt;</strong></code>元素指定包含在<code class="fe oa ob oc od b">&lt;tr&gt;</code>块中的标记构成了一个表格的一行，其中<code class="fe oa ob oc od b"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th" rel="noopener ugc nofollow" target="_blank">&lt;th&gt;</a></code>和<code class="fe oa ob oc od b"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td" rel="noopener ugc nofollow" target="_blank">&lt;td&gt;</a></code>元素分别在该行中创建标题和数据单元格。</p><p id="74b1" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv"> <em class="mk">常见的 HTML 元素。查看更多信息</em> </strong> </a></p><figure class="me mf mg mh gu jv"><div class="bz fq l di"><div class="nv mj l"/></div></figure><p id="a8ff" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">整个列表存储在表“CompanylistResults”中</p><p id="8a81" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">这些步骤是</p><ol class=""><li id="8db0" class="ml mm iu lc b ld ly lh lz ll mn lp mo lt mp lx ns mr ms mt bi translated">找到表 ID = "<strong class="lc iv">company list results</strong>"</li><li id="f3a4" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx ns mr ms mt bi translated">选择所有的'<strong class="lc iv"> tr </strong>'(选择所有的行)</li><li id="ffc7" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx ns mr ms mt bi translated">循环遍历'<strong class="lc iv"> tr </strong>'并找到 tr 中的所有<strong class="lc iv">TD</strong>(<strong class="lc iv">TD</strong>是单元格)</li></ol><p id="a822" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">基于 HTML 代码，数据存储在<strong class="lc iv"> &lt; tr &gt;之后..&lt;/tr&gt;/T37】。这是行信息。每一行都有一个对应的<strong class="lc iv"> &lt; td &gt;..&lt;/TD&gt;/T39】或单元格数据信息。</strong></strong></p><p id="cb52" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">我将结果附加到一个列表中。当我打印这个列表时，我得到了如下结果</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj oe"><img src="../Images/f647206f2257ad46eaeb2b942b5c3c32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yRLBKfKqQs1iEYQPgVVGPw.jpeg"/></div></div></figure><p id="c013" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">在这种情况下，我们只刮了第一页。我看到有 14 页。为了抓取多个页面，我们可以添加下面的逻辑</p><p id="7263" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">初始化一个名为 pages 的变量，范围在 1 到 14 之间。</p><figure class="me mf mg mh gu jv"><div class="bz fq l di"><div class="nv mj l"/></div></figure><figure class="me mf mg mh gu jv"><div class="bz fq l di"><div class="nv mj l"/></div></figure><p id="c1fe" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">对每个页面进行循环，并在 url 中分配页面值</p><p id="e774" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">URL = '<a class="ae md" href="https://www.nasdaq.com/screening/companies-by-industry.aspx?industry=Technology&amp;sortname=marketcap&amp;sorttype=1&amp;page='" rel="noopener ugc nofollow" target="_blank">https://www . Nasdaq . com/screening/companies-by-industry . aspx？行业=技术&amp;sort name = market cap&amp;sort type = 1&amp;page = '</a><strong class="lc iv">+page</strong></p><p id="a29d" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">对于第二页，url 将是</p><p id="86b8" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">URL = '<a class="ae md" href="https://www.nasdaq.com/screening/companies-by-industry.aspx?industry=Technology&amp;sortname=marketcap&amp;sorttype=1&amp;page=2" rel="noopener ugc nofollow" target="_blank">https://www . Nasdaq . com/screening/companies-by-industry . aspx？industry = Technology&amp;sort name = market cap&amp;sort type = 1&amp;page = 2</a></p><p id="703e" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">并且整个提取逻辑被编码在每页的 for 循环中。</p><p id="3293" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">要提取数据:</p><figure class="me mf mg mh gu jv"><div class="bz fq l di"><div class="nv mj l"/></div></figure><p id="da7f" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">现在你可以了</p><ul class=""><li id="e969" class="ml mm iu lc b ld ly lh lz ll mn lp mo lt mp lx mq mr ms mt bi translated">将数据加载到熊猫数据框架中</li><li id="fc73" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">为数据帧指定列名，如名称、符号等。</li><li id="1aaf" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">将数据帧下载到 CSV 文件中。</li><li id="1ee4" class="ml mm iu lc b ld mu lh mv ll mw lp mx lt my lx mq mr ms mt bi translated">进行分析和可视化</li></ul><p id="676f" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">代码如下。</p><figure class="me mf mg mh gu jv"><div class="bz fq l di"><div class="nv mj l"/></div></figure><p id="2636" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">下载的 CSV 文件如下所示</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj of"><img src="../Images/746f54890b49798ee8de2d7f9f66f081.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sSIrRYHiAEmNctBk8Yy7pA.jpeg"/></div></div></figure><p id="09e3" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">纳斯达克十大市值股票:</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj og"><img src="../Images/51b8674d90bb87b344c9e91181f998a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bkbAboPeasTXblOGeCZNyA.jpeg"/></div></div></figure><p id="4586" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">前 20 大市值股票</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj oh"><img src="../Images/7ed7891b4c67b95f824a20907e15ed20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B27mfSPcRg1idUBGo8_TgQ.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk">Top 20 Market Cap Stocks in NASDAQ</figcaption></figure><p id="3f84" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">纳斯达克上市股票国家:</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj om"><img src="../Images/29295d898b8ed72fc913bf936ab68686.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CIKk2uZWeFTcg1lNnaqK2A.png"/></div></div></figure><p id="d9b4" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">首次公开募股数量/年</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj om"><img src="../Images/e1071777ac5420294cee5e3bd9d3fe2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tdCJmfsVSEUf4PjSJxv8yQ.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk">IPO Year</figcaption></figure><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj on"><img src="../Images/ae3a69433f450bdcf5a736ee3ce143a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SuhPFERzFhWIYMDFJvs8Bw.jpeg"/></div></div></figure><p id="958a" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">在纳斯达克上市的公司数量</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj om"><img src="../Images/ab83d094fb7cfc0d453c74ff98a7d4b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D5K2aBC5yr1t7IfvWZpjOw.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk">Sector wise breakup</figcaption></figure><p id="ce74" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">公司在 2019 年进行 IPO(很惊讶没有在名单中看到 Lyft。检查了 NASADAQ 网站，Lyft 不在列表中-我想他们还没有更新他们的数据库。Pinterest 和 Zoom 都在)</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj oo"><img src="../Images/8656f2904328dd5b771c92fa80b0033b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*47kX1fos8RceXrdaGpg3xA.jpeg"/></div></div></figure><figure class="me mf mg mh gu jv"><div class="bz fq l di"><div class="nv mj l"/></div></figure><p id="a2e8" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">描述显示以下内容</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj op"><img src="../Images/1bc4387d15870d995e1051511e1abcbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-AgRn5ovq5nKGAoYZ83jJA.jpeg"/></div></div></figure><p id="895f" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">熊猫档案显示更多信息</p><figure class="me mf mg mh gu jv gi gj paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gi gj oq"><img src="../Images/cc5f239bda5a2f9e90464717031b4cda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S2YW2bHXyLYoKvSy7rZVow.jpeg"/></div></div></figure><p id="b093" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">替代网络抓取的是 API。</p><p id="5b8e" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated"><a class="ae md" href="https://github.com/toddmotto/public-apis" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iv"> <em class="mk">流行的 API 看看这个 github 有用的 API</em></strong></a></p><p id="24f4" class="pw-post-body-paragraph la lb iu lc b ld ly lf lg lh lz lj lk ll ma ln lo lp mb lr ls lt mc lv lw lx in bi translated">在下一篇文章中，我将介绍 scrapy、selenium、Twitter API 和 DataRead。谢谢你看我的帖子。</p></div></div>    
</body>
</html>