<html>
<head>
<title>Take your Machine Learning Model Training to Next Level</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让你的机器学习模型训练更上一层楼</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/take-your-model-training-to-next-level-6e19c6309e05?source=collection_archive---------18-----------------------#2019-07-20">https://towardsdatascience.com/take-your-model-training-to-next-level-6e19c6309e05?source=collection_archive---------18-----------------------#2019-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8961" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你有没有想过可以在手机上接收训练日志？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cf81030f5bebfb47f5a4a0f8e014249f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kNCE2qw8mumz_mhA5LSvnw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@firmbee?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">William Iven</a> on <a class="ae kv" href="https://unsplash.com/search/photos/training?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="da09" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近我拿到了亚马逊 SageMaker 和谷歌 AI 笔记本。我真正喜欢的一件事是这些大巨头如何在云上拓展训练模型的界限。你有一个 JupyterLab，你可以很容易地选择你想在哪个 python 版本上工作。真是太神奇了。</p><p id="6e6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我已经尝试了 VM 实例和 JupyterLab，我觉得缺少的一点是查看指标的方法(培训 acc。、培训损失等。).</p><p id="b4d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您在 VM 实例上训练您的模型，并且这是一项夜间工作，那么您没有办法监控指标。同样，如果您使用 JupyterLab 在笔记本电脑上训练您的模型，那么在连接断开的情况下，会话会断开连接，大多数情况下会重新连接，但有一会儿您会看到模型训练已经停止(视觉上)，并且您无法知道是否实际上已经停止或仍在运行。</p><p id="7c72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可能面临的另一个问题是，如果您必须使用 JupyterLab 通宵训练我的模型，因为一旦您关闭 web 浏览器，您的会话就会断开(视觉上)，并且您将无法知道训练是否仍在运行或已经完成。</p><p id="fe0e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我也有类似的问题，但我用一种巧妙的方式解决了。</p><p id="5c2e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们用电报机器人接收模型日志会怎么样？听起来很有趣，对吧？</p><p id="46b5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">步骤-</p><ol class=""><li id="7d1b" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">创建一个电报机器人(免费且超级简单)</li><li id="d6a1" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">获取您的令牌和聊天标识</li><li id="e111" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">写一个函数来发送消息</li><li id="4bb5" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">创建自定义回调以发送日志</li></ol></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="296d" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated">创建一个电报机器人</h2><ol class=""><li id="41df" class="ls lt iq ky b kz ng lc nh lf ni lj nj ln nk lr lx ly lz ma bi translated">在手机上安装 Telegram 应用程序并注册。</li><li id="a00e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">打开应用程序，搜索“僵尸父亲”。</li><li id="1ee9" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">开始对话并输入</li></ol><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="9dc7" class="mn mo iq nm b gy nq nr l ns nt">/newbot</span></pre><p id="d711" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按照步骤做，你会得到你的令牌</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/33e30570886598abc679980e1150939f.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/1*LA3iE8ATmwWBkpCmXF1szg.jpeg"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Token Generation</figcaption></figure><p id="b984" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.接下来，您需要一个 chat_id。创建 bot 后，向 bot 键入任何消息(必需)。</p><p id="b4b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.接下来，打开这个 URL 并用您的令牌替换<token>。</token></p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="0fd4" class="mn mo iq nm b gy nq nr l ns nt"><a class="ae kv" href="https://api.telegram.org/bot891342371:AAE8zCxe7b_znVPRQmqH6Vvt05CpI3BI_zQ/getUpdates" rel="noopener ugc nofollow" target="_blank">https://api.telegram.org/bot&lt;token&gt;/getUpdates</a></span></pre><p id="561c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">6.您将看到一个 JSON 文件</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/2342abdeace328883f5ff9f6562b7db7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1qBoHvfmdEUdne8HY0sshA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">JSON file</figcaption></figure><p id="c46c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">7.从中复制“id”。</p><blockquote class="nw nx ny"><p id="870f" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated"><em class="iq">如果您没有看到 id，请再次尝试向 bot 发送消息并刷新网页。</em></p></blockquote></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="550c" class="mn mo iq bd mp mq mr dn ms mt mu dp mv lf mw mx my lj mz na nb ln nc nd ne nf bi translated">让我们写一个函数来发送消息</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="4696" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只需放置您的令牌和 chat_id 并测试脚本。</p><blockquote class="nw nx ny"><p id="cc29" class="kw kx nz ky b kz la jr lb lc ld ju le oa lg lh li ob lk ll lm oc lo lp lq lr ij bi translated"><em class="iq">尝试打印第一条消息的状态，以确保一切正常。</em></p></blockquote><p id="f39b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">之后，是时候定义一个回调来发送模型日志给你的机器人了。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="9cc6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了使用 on_epoch_end，您还可以使用 on_batch_end 来接收更频繁的更新。</p><p id="6779" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有许多选择可以使用。你可以查看<a class="ae kv" href="https://keras.io/callbacks/" rel="noopener ugc nofollow" target="_blank"> Keras 官方文档</a>来了解其他可能的选项。</p><p id="75f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，坐好，在你的电报机器人上得到所有的模型更新。</p></div></div>    
</body>
</html>