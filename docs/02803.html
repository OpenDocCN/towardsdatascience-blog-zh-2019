<html>
<head>
<title>An easy introduction to 3D plotting with Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Matplotlib 进行 3D 绘图的简单介绍</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-easy-introduction-to-3d-plotting-with-matplotlib-801561999725?source=collection_archive---------1-----------------------#2019-05-07">https://towardsdatascience.com/an-easy-introduction-to-3d-plotting-with-matplotlib-801561999725?source=collection_archive---------1-----------------------#2019-05-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><blockquote class="jq jr js"><p id="5ffc" class="jt ju jv jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr im bi translated">想获得灵感？快来加入我的<a class="ae ks" href="https://www.superquotes.co/?utm_source=mediumtech&amp;utm_medium=web&amp;utm_campaign=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="jw iu">超级行情快讯</strong> </a>。😎</p></blockquote><p id="6f71" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">每个数据科学家都应该知道如何创建有效的数据可视化。没有观想，你将会被困在试图处理数字和在你的头脑中想象成千上万的数据点！</p><p id="4962" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">除此之外，它还是与非技术业务利益相关者进行有效沟通的重要工具，这些利益相关者通过图片而非文字更容易理解您的结果。</p><p id="b935" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">大多数数据可视化教程都展示了相同的基本内容:散点图、线图、箱线图、条形图和热图。这些对于快速获得对数据集的高层次洞察都是非常棒的。</p><p id="d49d" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">但是如果我们更进一步。2D 图只能显示一对轴<em class="jv"> x </em> - <em class="jv"> y </em>之间的关系；另一方面，3D 绘图允许我们探索<em class="jv"> 3 对轴</em>的关系:<em class="jv"> x </em> - <em class="jv"> y </em>、<em class="jv"> x </em> - <em class="jv"> z </em>和<em class="jv"> y </em> - <em class="jv"> z </em>。</p><p id="31c6" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">在本文中，我将向您简单介绍如何使用 Matplotlib 实现 3D 数据可视化。最终，您将能够将 3D 绘图添加到您的数据科学工具包中！</p><p id="8f52" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">在我们开始之前，请查看<a class="ae ks" href="https://aismart.substack.com/subscribe" rel="noopener ugc nofollow" target="_blank"> <strong class="jw iu"> <em class="jv">人工智能智能简讯</em></strong></a><strong class="jw iu"><em class="jv"/></strong>以阅读人工智能、机器学习和数据科学方面的最新和最棒的信息！</p><h1 id="935d" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">三维散点图和折线图</h1><p id="db35" class="pw-post-body-paragraph jt ju it jw b jx lu jz ka kb lv kd ke kt lw kh ki ku lx kl km kv ly kp kq kr im bi translated">Matplotlib 中的 3D 绘图从启用实用工具包开始。我们可以通过导入<code class="fe lz ma mb mc b">mplot3d</code>库来启用这个工具包，这个库通过 pip 与您的标准 Matplotlib 安装一起提供。只是要确保你的 Matplotlib 版本是 1.0 以上。</p><p id="7240" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">导入该子模块后，可通过将关键字<code class="fe lz ma mb mc b">projection="3d"</code>传递给 Matplotlib 中的任何常规轴创建函数来创建 3D 图:</p><pre class="md me mf mg gt mh mc mi mj aw mk bi"><span id="4f7b" class="ml kx it mc b gy mm mn l mo mp"><em class="jv">from </em>mpl_toolkits <em class="jv">import </em>mplot3d<br/><br/><em class="jv">import </em>numpy <em class="jv">as </em>np<br/><em class="jv">import </em>matplotlib.pyplot <em class="jv">as </em>plt<br/><br/>fig = plt.figure()<br/>ax = plt.axes(projection="3d")<br/><br/>plt.show()</span></pre><figure class="md me mf mg gt mr gh gi paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><div class="gh gi mq"><img src="../Images/71c0e95be986dba3dadb2c8ed2de4623.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MDknPT_T9LHGr3pYM69p6g.png"/></div></div></figure><p id="0199" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">现在我们的轴已经创建好了，我们可以开始 3D 绘图了。3D 绘图功能非常直观:我们不仅仅调用<code class="fe lz ma mb mc b">scatter</code>而是调用<code class="fe lz ma mb mc b">scatter3D</code>，不仅仅传递<em class="jv"> x </em>和<em class="jv"> y </em>数据，而是传递<em class="jv"> x </em>、<em class="jv"> y </em>和<em class="jv"> z </em>。所有其他功能设置，如颜色和线型，与 2D 绘图功能保持一致。</p><p id="1b81" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">这是一个绘制 3D 线和 3D 点的示例。</p><pre class="md me mf mg gt mh mc mi mj aw mk bi"><span id="e2f2" class="ml kx it mc b gy mm mn l mo mp">fig = plt.figure()<br/>ax = plt.axes(projection="3d")<br/><br/>z_line = np.linspace(0, 15, 1000)<br/>x_line = np.cos(z_line)<br/>y_line = np.sin(z_line)<br/>ax.plot3D(x_line, y_line, z_line, 'gray')<br/><br/>z_points = 15 * np.random.random(100)<br/>x_points = np.cos(z_points) + 0.1 * np.random.randn(100)<br/>y_points = np.sin(z_points) + 0.1 * np.random.randn(100)<br/>ax.scatter3D(x_points, y_points, z_points, c=z_points, cmap='hsv');<br/><br/>plt.show()</span></pre><figure class="md me mf mg gt mr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/bfa23788f10c8f0af39b2148dadc43a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*kor5AViXRgOrJzsmF9egNw.png"/></div></figure><p id="ea4e" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">下面是 3D 绘图最棒的部分:<strong class="jw iu">交互性</strong>。一旦你在 3D 中绘图，绘图的交互性对于探索你的可视化数据变得非常有用。查看我通过简单的点击和拖动创建的一些不同的视图！</p><div class="md me mf mg gt ab cb"><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/a6b77f5bef2ad5b31bcb6eab9f95da78.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*DznRmq8fyRp7Tt1iiN6R8w.png"/></div></figure><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/99e4b6b1b355c19f21e709fc6a76a206.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*XC8eht2ozQlYeVlm9Qo4Rw.png"/></div></figure><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/a07ea9639d06f6331c71b18681cc41ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*_kxKmA9K-vDs-F9Ct5e-Iw.png"/></div></figure></div><h1 id="f7b8" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">表面图</h1><p id="11e5" class="pw-post-body-paragraph jt ju it jw b jx lu jz ka kb lv kd ke kt lw kh ki ku lx kl km kv ly kp kq kr im bi translated">表面图可以很好地显示整个 3D 景观中 3 个变量之间的关系。它们给出了一个完整的结构和视图，显示了每个变量的值如何在其他两个变量的轴上变化。</p><p id="d0c2" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">在 Matplotlib 中构建曲面图需要三个步骤。</p><p id="1e39" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">(1)首先，我们需要生成构成表面图的实际点。现在，生成 3D 表面的所有<em class="jv">点是不可能的，因为它们的数量是无限的！因此，我们将生成足以估计表面的数据，然后外推其余的点。我们将定义<em class="jv"> x </em>和<em class="jv"> y </em>点，然后使用函数计算<em class="jv"> z </em>点。</em></p><pre class="md me mf mg gt mh mc mi mj aw mk bi"><span id="1258" class="ml kx it mc b gy mm mn l mo mp">fig = plt.figure()<br/>ax = plt.axes(projection="3d")</span><span id="bc34" class="ml kx it mc b gy nf mn l mo mp"><em class="jv">def </em>z_function(<em class="jv">x</em>, <em class="jv">y</em>):<br/>    <em class="jv">return </em>np.sin(np.sqrt(<em class="jv">x </em>** 2 + <em class="jv">y </em>** 2))<br/><br/>x = np.linspace(-6, 6, 30)<br/>y = np.linspace(-6, 6, 30)<br/><br/>X, Y = np.meshgrid(x, y)<br/>Z = z_function(X, Y)</span></pre><p id="c2cc" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">(2)第二步是绘制一个线框——这是我们对表面的估计。</p><pre class="md me mf mg gt mh mc mi mj aw mk bi"><span id="c4d9" class="ml kx it mc b gy mm mn l mo mp">fig = plt.figure()<br/>ax = plt.axes(projection="3d")</span><span id="97c4" class="ml kx it mc b gy nf mn l mo mp">ax.plot_wireframe(X, Y, Z, color='green')<br/>ax.set_xlabel('x')<br/>ax.set_ylabel('y')<br/>ax.set_zlabel('z')<br/><br/>plt.show()</span></pre><div class="md me mf mg gt ab cb"><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/2c01810359e660a1db47609b37345fdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*rQFfJzQBuk6Dal02gbyRUg.png"/></div></figure><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/5d93bf390803cf3c7e202a8d7671d84f.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*K4AjaHBsHraZrc_HuxnJMg.png"/></div></figure><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/f34c6c05282bf2af5fa853d40bd85bc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Q1ooHYpdbdmp5SKlOvLEmQ.png"/></div></figure></div><p id="b2ff" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">(3)最后，我们将把我们的表面投影到我们的线框估计上，并外推所有点。</p><pre class="md me mf mg gt mh mc mi mj aw mk bi"><span id="4b27" class="ml kx it mc b gy mm mn l mo mp">ax = plt.axes(projection='3d')<br/>ax.plot_surface(X, Y, Z, rstride=1, cstride=1,<br/>                cmap='winter', edgecolor='none')<br/>ax.set_title('surface');</span></pre><div class="md me mf mg gt ab cb"><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/11117c0a9f28b55767f555772a2c887d.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*L_D8tlFRBh6__ePh8henfQ.png"/></div></figure><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/050b9355169ce815651448adc4dc05c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*diQcU4yuB9XK4a1QJIH1rA.png"/></div></figure><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/e5a87e3f588304463c99d35aa5619580.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*nfbQ8YkMq9ygxPaowq3xxw.png"/></div></figure></div><p id="d409" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">美女！这是我们丰富多彩的 3D 表面！</p><h1 id="96ae" class="kw kx it bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">三维条形图</h1><p id="1d52" class="pw-post-body-paragraph jt ju it jw b jx lu jz ka kb lv kd ke kt lw kh ki ku lx kl km kv ly kp kq kr im bi translated">柱状图在数据可视化项目中经常使用，因为它们能够以简单直观的方式传达信息，通常是某种类型的比较。三维条形图的美妙之处在于，它们保持了 2D 条形图的简单性，同时扩展了其表示比较信息的能力。</p><p id="3cc3" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">条形图中的每一条都需要 2 样东西:位置和大小。对于 3D 条形图，我们将为所有三个变量<em class="jv"> x，y，z </em>提供该信息。</p><p id="9ba3" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">我们将选择<em class="jv"> z </em>轴来编码每个条形的高度；因此，每个条形将从<em class="jv"> z = 0 </em>开始，其大小与我们试图显示的值成比例。<em class="jv"> x </em>和<em class="jv"> y </em>位置将代表横过<em class="jv"> z = 0 的 2D 平面的杆的坐标。</em>我们将把每个条形的<em class="jv"> x </em>和<em class="jv"> y </em>尺寸设置为 1，这样所有的条形都具有相同的形状。</p><p id="36b7" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke kt kg kh ki ku kk kl km kv ko kp kq kr im bi translated">查看下面的代码和 3D 图作为示例！</p><pre class="md me mf mg gt mh mc mi mj aw mk bi"><span id="13cc" class="ml kx it mc b gy mm mn l mo mp">fig = plt.figure()<br/>ax = plt.axes(projection="3d")<br/><br/>num_bars = 15<br/>x_pos = random.sample(xrange(20), num_bars)<br/>y_pos = random.sample(xrange(20), num_bars)<br/>z_pos = [0] * num_bars<br/>x_size = np.ones(num_bars)<br/>y_size = np.ones(num_bars)<br/>z_size = random.sample(xrange(20), num_bars)<br/><br/>ax.bar3d(x_pos, y_pos, z_pos, x_size, y_size, z_size, color='aqua')<br/>plt.show()</span></pre><div class="md me mf mg gt ab cb"><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/e385161721ff960db35641d64e374f55.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*q58usBKugv03uTWe0YlTxw.png"/></div></figure><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/3de35573e3a7c49f6c9e23d496c4b259.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Pf1b3kabA9GKnfg08TxPgQ.png"/></div></figure><figure class="mz mr na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="ms mt di mu bf mv"><img src="../Images/413a7f21d4ef08b285a7e54861369085.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*bZI9drAN_gYpUkFJWTHGcQ.png"/></div></figure></div></div></div>    
</body>
</html>