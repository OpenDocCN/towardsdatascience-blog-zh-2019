<html>
<head>
<title>Host a dynamic website on Google Firebase using Node.js and Cloud Firestore DB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Node.js 和 Cloud Firestore DB 在 Google Firebase 上托管一个动态网站</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/host-a-dynamic-website-on-google-firebase-for-free-using-node-js-and-cloud-firestore-db-88e98239e1b9?source=collection_archive---------1-----------------------#2019-11-03">https://towardsdatascience.com/host-a-dynamic-website-on-google-firebase-for-free-using-node-js-and-cloud-firestore-db-88e98239e1b9?source=collection_archive---------1-----------------------#2019-11-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/07aaf47fe93e2641b3d162bca2984f10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B0Av_NnFrCKsyC7gN94ytg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Img Source: <a class="ae kf" href="https://firebase.google.com/images/social.png" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com/images/social.png</a></figcaption></figure><p id="ce94" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="https://www.tusharck.com/" rel="noopener ugc nofollow" target="_blank">图沙尔·卡普尔</a>:(<a class="ae kf" href="https://www.tusharck.com/" rel="noopener ugc nofollow" target="_blank">https://www.tusharck.com/</a>)</p><p id="7ecb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">演示 Git 网址:<a class="ae kf" href="https://github.com/tusharck/firebase-demo" rel="noopener ugc nofollow" target="_blank">https://github.com/tusharck/firebase-demo</a></p><h1 id="463a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">为什么选择 Firebase 托管？</h1><p id="4fda" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><a class="ae kf" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>是一个建立在<a class="ae kf" href="https://google.com" rel="noopener ugc nofollow" target="_blank">谷歌</a>基础设施上的综合应用程序平台，因此它提供了一个安全、快速、免费(付费选项也可用于额外资源)和简单的方式来在网络或移动应用程序上托管您的内容。</p><h2 id="ebe9" class="mh lf it bd lg mi mj dn lk mk ml dp lo kr mm mn ls kv mo mp lw kz mq mr ma ms bi translated">免费层的主要特性和优势:</h2><ol class=""><li id="7c5b" class="mt mu it ki b kj mc kn md kr mv kv mw kz mx ld my mz na nb bi translated">它提供了免费的自定义域&amp; <strong class="ki iu"> SSL </strong> (SSL 为<strong class="ki iu"> https </strong>连接提供了一个标准的安全层。</li><li id="f53b" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">Cloud Firestore:一个灵活且可扩展的数据库，用于跨客户端应用程序的实时数据同步。</li><li id="6aa8" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">其他功能:云功能，云消息(FCM)，Crashlytics，动态链接，托管，ML 工具包，存储，性能监控，预测和测试实验室(这些产品的功能和资源可以通过购买付费计划来增加，但免费层服务非常好。要查看计划，请检查<a class="ae kf" href="https://firebase.google.com/pricing" rel="noopener ugc nofollow" target="_blank"> Firebase 定价</a>。</li><li id="3bdb" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">资源的自动缩放。</li></ol></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="1647" class="le lf it bd lg lh no lj lk ll np ln lo lp nq lr ls lt nr lv lw lx ns lz ma mb bi translated">在 Firebase 上托管动态网站的步骤</h1><h2 id="e5a5" class="mh lf it bd lg mi mj dn lk mk ml dp lo kr mm mn ls kv mo mp lw kz mq mr ma ms bi translated">要求</h2><p id="8780" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated"><strong class="ki iu"> 1。谷歌账户<br/> </strong>如果你没有谷歌账户，你需要注册一个。你可以去 https://accounts.google.com/SignUp 看看。</p><p id="a09d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 2。Node.js 和 npm </strong></p><ul class=""><li id="01b2" class="mt mu it ki b kj kk kn ko kr nt kv nu kz nv ld nw mz na nb bi translated">你可以从 https://nodejs.org/en/download/下载安装程序。</li><li id="62fc" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld nw mz na nb bi translated"><strong class="ki iu"> Linux </strong> <br/>按照以下步骤安装 Node.js: <br/> 1。打开端子<br/> 2。运行以下命令:</li></ul><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="f397" class="mh lf it oc b gy og oh l oi oj">sudo apt-get install curl</span><span id="96df" class="mh lf it oc b gy ok oh l oi oj">curl -sL https://deb.nodesource.com/<strong class="oc iu">setup_13.x</strong> | sudo bash -</span><span id="1612" class="mh lf it oc b gy ok oh l oi oj">sudo apt install nodejs</span></pre><p id="c8cf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> <em class="ol">注:</em> </strong>我用的是<strong class="ki iu"> <em class="ol"> </em> </strong> <code class="fe om on oo oc b">setup_13.x</code>因为当时的教程最新版本是<strong class="ki iu"> 13 </strong>你可以去<a class="ae kf" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank">https://nodejs.org/en/</a>查看最新版本。</p><p id="d580" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要检查 Node.js 和 npm 是否已成功安装，请运行以下命令，这将输出已安装的版本:</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="67e2" class="mh lf it oc b gy og oh l oi oj">node -v<br/>npm -v</span></pre><p id="d53a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 3。Firebase-CLI(命令行界面)<br/> </strong>这些是管理、查看和部署 Firebase 项目的工具。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="bbce" class="mh lf it oc b gy og oh l oi oj">npm install -g firebase-tools</span></pre><h1 id="e2ca" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">步骤 1:创建 Firebase 项目</h1><ol class=""><li id="b35a" class="mt mu it ki b kj mc kn md kr mv kv mw kz mx ld my mz na nb bi translated">从右上角进入<a class="ae kf" href="https://firebase.google.com" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com</a>和<strong class="ki iu">签到。</strong></li><li id="0b4d" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">点击右上角的<strong class="ki iu">进入控制台</strong>。</li><li id="4dff" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">然后点击<strong class="ki iu">创建项目，</strong>如下所示。</li></ol><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi op"><img src="../Images/56646c4acab5ae114b527712801c1d4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VS6JV1QPoBsjdw6wlQTGnQ.png"/></div></div></figure><p id="51b9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.下一件事是输入你的项目名称，并按下 continue。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oq"><img src="../Images/edf65c0c10b4cd4be6f9e8db8a2e0c9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yawRMy2S090Lo3JQN-VGTw.png"/></div></div></figure><p id="bf82" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.按“继续”为您的 Firebase 项目启用 Google Analytics(如果您不想要它，请选中“禁用”)。</p><p id="10ba" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.为 Google Analytics 选择最近的位置。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi or"><img src="../Images/466d55a9ab85676f804822caf23017c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ebanngOYDyT8fmXkMfI0BA.png"/></div></div></figure><p id="0371" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">7.点击<strong class="ki iu">创建项目</strong>，等待加载。然后你会看到类似下面的<strong class="ki iu">。</strong></p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi os"><img src="../Images/e70d95163cb8bb1647fa4c5b054c4c62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4OPXfqWY85AE6o7rTMQEWw.png"/></div></div></figure><h1 id="f264" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">步骤 2:初始化 Firebase 登录</h1><ol class=""><li id="9f06" class="mt mu it ki b kj mc kn md kr mv kv mw kz mx ld my mz na nb bi translated">打开命令行/终端，然后创建并转到一个新目录。</li></ol><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="d7bf" class="mh lf it oc b gy og oh l oi oj">mkdir my-firebase-project</span><span id="d52b" class="mh lf it oc b gy ok oh l oi oj">cd my-firebase-project</span></pre><p id="a2aa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.要在 firebase 上托管网站，请使用以下命令登录 Firebase。运行该命令后，会打开一个浏览器窗口，要求您使用 Google 凭据登录 firebase。在那里输入凭证，Firebase 将登录到您的系统。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="ca60" class="mh lf it oc b gy og oh l oi oj">firebase login</span></pre><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ot"><img src="../Images/1b42185f9ca0cfaa403de787c3584624.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eyO9dxz9ahiO96miv1VdBA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">You will see something like this after successful login</figcaption></figure><h1 id="d90f" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">步骤 3:将 Firebase 项目初始化到系统中</h1><ol class=""><li id="a3c4" class="mt mu it ki b kj mc kn md kr mv kv mw kz mx ld my mz na nb bi translated">现在，我们必须将我们在 Firebase 控制台上创建的项目初始化到系统中。运行下面的命令。</li></ol><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="5b01" class="mh lf it oc b gy og oh l oi oj">firebase init</span></pre><p id="480b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.按下向下键，然后通过按下<strong class="ki iu">空格键选择<strong class="ki iu">两件东西</strong>。</strong></p><ul class=""><li id="77fd" class="mt mu it ki b kj kk kn ko kr nt kv nu kz nv ld nw mz na nb bi translated">功能</li><li id="efbd" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld nw mz na nb bi translated">主办；主持</li></ul><p id="68a8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后<strong class="ki iu">按回车</strong>继续。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ou"><img src="../Images/c83ce15d0c208e6067a8ebdada0f8d5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ZSDewUfROke7nfJVbatXQ.png"/></div></div></figure><p id="bd2d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.然后选择<code class="fe om on oo oc b"><strong class="ki iu">Use an existing project</strong></code>并按下回车键。</p><p id="98b6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.在<code class="fe om on oo oc b"><strong class="ki iu">my-firebase-project</strong></code> <strong class="ki iu"> </strong>或您使用的项目名称上按回车键。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ov"><img src="../Images/c148da3eebb83647936f36b351cf3c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y94Aqt7WpAyaEupnffm3WQ.png"/></div></div></figure><p id="ab2a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.选择<strong class="ki iu"> Javascript </strong>并按回车键。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ow"><img src="../Images/ed105d277b29494143d5fde25a0724e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uYLTmHygeQc9LO42ESgCnw.png"/></div></div></figure><p id="9127" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.你可以说<strong class="ki iu">不</strong>你想用 ESLint 来捕捉可能的 bug 并加强风格吗？</p><p id="f549" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">7.键入<strong class="ki iu"> Yes </strong>安装与 npm 的依赖关系。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ox"><img src="../Images/08e229282cce29ba7ea794eb8ba4ce13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PS3R48n0-i5E-qHpy-Qgmw.png"/></div></div></figure><p id="068c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">8.这里我们必须完成两项任务:</p><ul class=""><li id="da19" class="mt mu it ki b kj kk kn ko kr nt kv nu kz nv ld nw mz na nb bi translated">你必须选择你的网站和资产所在的目录。默认情况下，它是<strong class="ki iu">public</strong>你可以按回车键继续，或者你可以改变到你想要的目录名。</li><li id="fada" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld nw mz na nb bi translated">为单应用程序页面键入<strong class="ki iu"> Yes </strong>，这样您的动态 URL 就可以被重定向到正确的目的地。</li></ul><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oy"><img src="../Images/15f462f82754a1a8b91d7f43883b12cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-KUB-o_fbBcloZHvZsBxIg.png"/></div></div></figure><p id="efbc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">9.通过运行以下命令，在本地系统上测试 firebase 应用程序。然后去<a class="ae kf" href="http://localhost:5000" rel="noopener ugc nofollow" target="_blank"><strong class="ki iu">http://localhost:5000</strong></a>看看你的基本网站运行情况。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="cb59" class="mh lf it oc b gy og oh l oi oj">firebase serve --only hosting,functions</span></pre><p id="3f94" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">打开<a class="ae kf" href="http://localhost:5000" rel="noopener ugc nofollow" target="_blank"><strong class="ki iu">http://localhost:5000</strong></a>网址后应该会看到下面这样的内容。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oz"><img src="../Images/53430e18a237ef2c1c52269af7e1aaf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6LvHNid-DrmR4xvAY7LLpQ.png"/></div></div></figure><p id="0611" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">10.从终端关闭服务器。</p><h1 id="e9aa" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">步骤 4:为动态网站安装软件包和创建视图目录</h1><ol class=""><li id="d6b4" class="mt mu it ki b kj mc kn md kr mv kv mw kz mx ld my mz na nb bi translated">在这里，我们将切换到函数目录中进行使用。</li></ol><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="874a" class="mh lf it oc b gy og oh l oi oj">cd functions</span></pre><p id="72f6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 2。Install Express <br/> </strong>它是一个极简灵活的 Node.js web 应用框架。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="715b" class="mh lf it oc b gy og oh l oi oj">npm i express --save</span></pre><p id="172d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 3。安装手柄<br/> </strong>它是 Node.js 的模板引擎，用于网站的动态前端。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="3bff" class="mh lf it oc b gy og oh l oi oj">npm i handlebars --save</span></pre><p id="d848" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 4。安装合并</strong></p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="992a" class="mh lf it oc b gy og oh l oi oj">npm i consolidate --save</span></pre><p id="fbd8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.在<strong class="ki iu">函数</strong>文件夹中创建一个名为<strong class="ki iu">视图</strong>的文件夹，我们将在其中存储所有的前端代码。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="50b2" class="mh lf it oc b gy og oh l oi oj">mkdir <strong class="oc iu">views</strong></span></pre><p id="7613" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.通过运行以下命令切换回主目录:</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="b46a" class="mh lf it oc b gy og oh l oi oj">cd ..</span></pre><h1 id="361b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">步骤 5:设置 Firestore(云数据库)</h1><h2 id="73b9" class="mh lf it bd lg mi mj dn lk mk ml dp lo kr mm mn ls kv mo mp lw kz mq mr ma ms bi translated">数据库配置</h2><ol class=""><li id="76b0" class="mt mu it ki b kj mc kn md kr mv kv mw kz mx ld my mz na nb bi translated">去 https://console.firebase.google.com/。</li><li id="b65f" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">选择您的项目。</li><li id="541a" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">从左侧窗格中选择<strong class="ki iu">数据库</strong></li></ol><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pa"><img src="../Images/790534380bd5ed0b6bd658d728ad65cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IKJ7sL1zYtzP9JmQGnCQTA.png"/></div></div></figure><p id="7b0c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.点击<strong class="ki iu">创建数据库</strong></p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pb"><img src="../Images/07a8b4751a742e67ef839219eac40e3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d0ebeb-RQhMr9LnvzN4Ijw.png"/></div></div></figure><p id="78e6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.选择在测试模式下启动，因为否则您将无法从您的系统访问数据库。我们将改变这个设置，一旦我们完成了网站的发展。<br/>完成后，点击<strong class="ki iu">下一步</strong>。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pc"><img src="../Images/1c84c5778dbd20f442b837d21ce3814e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c-e9gaXeLiWnX5vz8m7GgA.png"/></div></div></figure><p id="6ead" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.选择 Firestore 数据库的位置。<br/> <strong class="ki iu"> <em class="ol">注意:</em> </strong>设置好这个位置后，以后就不能更改了。</p><h2 id="57da" class="mh lf it bd lg mi mj dn lk mk ml dp lo kr mm mn ls kv mo mp lw kz mq mr ma ms bi translated">创建虚拟数据</h2><ol class=""><li id="c700" class="mt mu it ki b kj mc kn md kr mv kv mw kz mx ld my mz na nb bi translated">点击开始收集。</li></ol><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pd"><img src="../Images/0620f83cbad51b6844fc570e84bc68c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-AwzyNhNaO9eW6FIADeHsg.png"/></div></div></figure><p id="739a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.输入<strong class="ki iu">收藏 ID </strong>，即可进行采样。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pe"><img src="../Images/c3062ea0c9fca281bb7a811390bd10d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oiEhbm_HGQFMi4UgvBTPEQ.png"/></div></div></figure><p id="ea28" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.输入样本数据。输入<strong class="ki iu"> sample_doc </strong>作为<strong class="ki iu">文件 ID。</strong>在<strong class="ki iu">字段中输入<strong class="ki iu">标题</strong>。我喜欢<strong class="ki iu">值</strong>里面的云</strong>。然后点击<strong class="ki iu">保存</strong>。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pf"><img src="../Images/bc3c0ae78a6d9db983e07d3c75ba340a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9NyEeO6LB_D1RA_42f4-YQ.png"/></div></div></figure><h1 id="ac10" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">步骤 6:建立网站的动态内容</h1><p id="f6c7" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">我们将把这一部分分成两部分，在第一部分，我们将看到如何从 Firestore 获取数据并在网站中使用。在第二部分，我们将看到如何提交表单数据。</p><p id="7ccd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">首先，我们将下载访问 Firestore 的凭据</strong></p><ol class=""><li id="0b45" class="mt mu it ki b kj kk kn ko kr nt kv nu kz nv ld my mz na nb bi translated">前往<a class="ae kf" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank">https://console.firebase.google.com/</a>。</li></ol><p id="63f1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.点击左侧窗格中的<strong class="ki iu">设置</strong>，进入<strong class="ki iu">项目设置</strong>。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pg"><img src="../Images/5fd0adeddb42ab80d795b09964be64aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zZFpQ2VW7Cwa48ZNsuOrgA.png"/></div></div></figure><p id="7a6c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.转到<strong class="ki iu">服务账户</strong>并点击<strong class="ki iu">生成新的私钥。</strong></p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ph"><img src="../Images/e00fd8289264b199d0d704101d7d4d31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*43UpDO8OJND5Wpvl7WJ0sg.png"/></div></div></figure><p id="4762" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.点击<strong class="ki iu">生成密钥</strong>，会弹出下载密钥的窗口。将密钥存储在您网站的<strong class="ki iu">功能</strong>文件夹中。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pi"><img src="../Images/c9fc5bf31fa311c015591b315b2c07e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Ib0KMcQ75z2QUOjy1AipQ.png"/></div></div></figure><h2 id="59f2" class="mh lf it bd lg mi mj dn lk mk ml dp lo kr mm mn ls kv mo mp lw kz mq mr ma ms bi translated">从 Firestore 获取</h2><ol class=""><li id="8392" class="mt mu it ki b kj mc kn md kr mv kv mw kz mx ld my mz na nb bi translated">打开<strong class="ki iu">功能</strong>文件夹内的<strong class="ki iu"> index.js </strong>。</li></ol><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pj"><img src="../Images/12f59c2dc4d9f178bfd84ba2643f094d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*czQtsqhxt4lpwsWSmmezSg.png"/></div></div></figure><p id="e75e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.我们需要定义一些我们希望在应用程序中使用的库。这些是我们之前安装的相同的库。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="7077" class="mh lf it oc b gy og oh l oi oj">const functions = require('firebase-functions');</span><span id="a33c" class="mh lf it oc b gy ok oh l oi oj">const express = require('express');</span><span id="2ec9" class="mh lf it oc b gy ok oh l oi oj">const engines = require('consolidate');</span><span id="834d" class="mh lf it oc b gy ok oh l oi oj">var hbs = require('handlebars');</span><span id="e9b8" class="mh lf it oc b gy ok oh l oi oj">const admin = require('firebase-admin');</span></pre><p id="59f4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.我们在这里设置了一些东西:</p><ul class=""><li id="ea5d" class="mt mu it ki b kj kk kn ko kr nt kv nu kz nv ld nw mz na nb bi translated">使用 express 初始化应用程序。</li><li id="7815" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld nw mz na nb bi translated">我们将把引擎设置为把手。</li><li id="ab9d" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld nw mz na nb bi translated">然后，我们将告诉 express，我们的前端代码将放在 views 文件夹中。</li></ul><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="6f70" class="mh lf it oc b gy og oh l oi oj">const app = express();</span><span id="7273" class="mh lf it oc b gy ok oh l oi oj">app.engine('hbs',engines.handlebars);</span><span id="ec02" class="mh lf it oc b gy ok oh l oi oj">app.set('views','./views');</span><span id="c143" class="mh lf it oc b gy ok oh l oi oj">app.set('view engine','hbs');</span></pre><p id="3e7f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.授权您的应用程序访问您的 Firestore 数据库。<br/> <strong class="ki iu"> <em class="ol">注:</em> </strong> <br/> 1。更改<strong class="ki iu">您的 SDK 名称</strong>。json 与您下载的文件一起作为<strong class="ki iu">访问 Firestore 的凭证。<br/>2</strong>2。将数据库 URL 更改为您的数据库 URL。要查看网址你可以到<strong class="ki iu">设置&gt;服务账号</strong>。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="2a39" class="mh lf it oc b gy og oh l oi oj">var serviceAccount = require("./<strong class="oc iu">YOUR_SDK_NAME</strong>.json");</span><span id="5399" class="mh lf it oc b gy ok oh l oi oj">admin.initializeApp({</span><span id="d524" class="mh lf it oc b gy ok oh l oi oj">credential: admin.credential.cert(serviceAccount),</span><span id="7e2c" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">databaseURL: "https://myfirebaseproject-bx54dasx3.firebaseio.com"</strong></span><span id="ce24" class="mh lf it oc b gy ok oh l oi oj">});</span></pre><p id="3be3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.从 Firestore 获取数据的函数。</p><ul class=""><li id="3de5" class="mt mu it ki b kj kk kn ko kr nt kv nu kz nv ld nw mz na nb bi translated">收集 ID 为<strong class="ki iu">的样本</strong>。</li><li id="39e5" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld nw mz na nb bi translated">文档 ID 为<strong class="ki iu"> sample_doc。</strong></li></ul><p id="4162" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们在输入样本数据时定义了上述内容。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="c8d2" class="mh lf it oc b gy og oh l oi oj">async function getFirestore(){</span><span id="5e41" class="mh lf it oc b gy ok oh l oi oj">const firestore_con  = await admin.firestore();</span><span id="9e19" class="mh lf it oc b gy ok oh l oi oj">const writeResult = firestore_con.collection('<strong class="oc iu">sample</strong>').doc('<strong class="oc iu">sample_doc</strong>').get().then(doc =&gt; {<br/>if (!doc.exists) { console.log('No such document!'); }<br/>else {return doc.data();}})<br/>.catch(err =&gt; { console.log('Error getting document', err);});</span><span id="4b89" class="mh lf it oc b gy ok oh l oi oj">return writeResult<br/>}</span></pre><p id="72df" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> <em class="ol">注:</em> </strong>我们使用<strong class="ki iu"> async </strong>是因为我们要等待数据库和我们网站之间的承诺操作完成。</p><p id="0198" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.创建路由并将结果发送到前端。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="f759" class="mh lf it oc b gy og oh l oi oj">app.get('/',async (request,response) =&gt;{</span><span id="1d7a" class="mh lf it oc b gy ok oh l oi oj">var db_result = await getFirestore();</span><span id="4d67" class="mh lf it oc b gy ok oh l oi oj">response.render('index',{db_result});</span><span id="653e" class="mh lf it oc b gy ok oh l oi oj">});</span><span id="5b64" class="mh lf it oc b gy ok oh l oi oj">exports.app = functions.https.onRequest(app);</span></pre><p id="ce31" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">7.在<strong class="ki iu">视图</strong>文件夹中创建<strong class="ki iu"> index.hbs </strong>。<br/> <strong class="ki iu"> <em class="ol">注:</em> </strong>。hbs 是一个 handelbars 文件</p><p id="e054" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">8.在<strong class="ki iu"> index.hbs </strong>中编写这个基本的 HTML 代码，以查看获取的结果。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="17db" class="mh lf it oc b gy og oh l oi oj">&lt;html&gt;<br/>    &lt;body&gt;</span><span id="2469" class="mh lf it oc b gy ok oh l oi oj">      &lt;h1&gt;{{db_result.Heading}}&lt;/h1&gt;</span><span id="4d30" class="mh lf it oc b gy ok oh l oi oj">    &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="8f23" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> <em class="ol">注:</em> </strong> {{db_result。Heading}}，db_result 是从后端传递过来的变量。<strong class="ki iu">。标题</strong>是我们在 Firestore 数据库中输入数据时定义的文档内的字段。</p><p id="9ff2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">9.打开<strong class="ki iu"> firebase.json </strong>，将<strong class="ki iu">" destination ":"/index . html "</strong>改为<code class="fe om on oo oc b">"function":"app".</code></p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pk"><img src="../Images/1c5d01e2543b29697bd88c1ad5ffec70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8sy4Q9CNi1xV25BBPnGVcQ.png"/></div></div></figure><p id="1149" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">10.删除<strong class="ki iu">公共</strong>文件夹内的<strong class="ki iu">index.html</strong>，删除这个很重要。如果你不删除它，它将总是选择这个文件，我们的后端代码将是无用的。</p><p id="99b3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">11.通过运行以下命令，在本地系统上测试 firebase 应用程序。然后去<a class="ae kf" href="http://localhost:5000" rel="noopener ugc nofollow" target="_blank"><strong class="ki iu">http://localhost:5000</strong></a>看看你的基本网站运行情况。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="aa67" class="mh lf it oc b gy og oh l oi oj">firebase serve --only hosting,functions</span></pre><p id="8d9e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">12.从终端关闭服务器。</p><h2 id="8cdf" class="mh lf it bd lg mi mj dn lk mk ml dp lo kr mm mn ls kv mo mp lw kz mq mr ma ms bi translated">插入 Firestore</h2><p id="461d" class="pw-post-body-paragraph kg kh it ki b kj mc kl km kn md kp kq kr me kt ku kv mf kx ky kz mg lb lc ld im bi translated">在这里，我们将从我们的网站插入数据到 Firestore。</p><p id="544c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">1.创建另一个名为 form_data 的集合，我们将在其中插入表单数据。</p><p id="1bd1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> <em class="ol">注意:</em> </strong>它将要求您输入一个文档，并创建集合以输入任何样本值。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pl"><img src="../Images/de6a62fe752355c6e7ec1f7981444b18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VxPVbcsbzM_65GutZRvf1w.png"/></div></div></figure><p id="c976" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.运行下面的命令在本地服务器上进行测试后，转到<a class="ae kf" href="http://localhost:5000" rel="noopener ugc nofollow" target="_blank"><strong class="ki iu">http://localhost:5000</strong></a>。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="c408" class="mh lf it oc b gy og oh l oi oj">firebase serve --only hosting,functions</span></pre><p id="3b01" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.添加 HTML 代码，在<strong class="ki iu"> index.hbs </strong>中创建一个示例表单。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="1e08" class="mh lf it oc b gy og oh l oi oj">&lt;html&gt;<br/>    &lt;body&gt;</span><span id="4f5d" class="mh lf it oc b gy ok oh l oi oj">&lt;h1&gt;{{db_result.Heading}}&lt;/h1&gt;</span><span id="bd99" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">&lt;form action="/insert_data"</strong> <strong class="oc iu">method="post" &gt;<br/>     &lt;fieldset&gt;<br/>       &lt;legend&gt;Sample Form&lt;/legend&gt;</strong></span><span id="15fe" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">       First name:&lt;br&gt;</strong></span><span id="cda4" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">        &lt;input type="text" name="firstname" &gt;</strong></span><span id="3bba" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">        &lt;br&gt;</strong></span><span id="970b" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">        Last name:&lt;br&gt;</strong></span><span id="6fe6" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">        &lt;input type="text" name="lastname"&gt;</strong></span><span id="7234" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">         &lt;br&gt;&lt;br&gt;</strong></span><span id="7073" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">         &lt;input type="submit" value="Submit"&gt;</strong></span><span id="5861" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">        &lt;/fieldset&gt;<br/>     &lt;/form&gt;</strong></span><span id="bf04" class="mh lf it oc b gy ok oh l oi oj">   &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><ul class=""><li id="42de" class="mt mu it ki b kj kk kn ko kr nt kv nu kz nv ld nw mz na nb bi translated"><strong class="ki iu"> action="/insert_data" </strong>是我们将在函数内部定义的路径。</li><li id="737c" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld nw mz na nb bi translated">刷新页面后，它应该像下图所示。</li></ul><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pm"><img src="../Images/ab63c6abb4409a93c111fd2be40d4ea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*te0Da0lod2psQF6_ByNN8w.png"/></div></div></figure><p id="b412" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.在<strong class="ki iu"> index.js </strong>中添加将数据插入 Firestore 的代码。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="12b7" class="mh lf it oc b gy og oh l oi oj">async function insertFormData(request){</span><span id="b0d9" class="mh lf it oc b gy ok oh l oi oj">const writeResult = await admin.firestore().collection('<strong class="oc iu">form_data</strong>').add({<br/>firstname: request.body.firstname,<br/>lastname: request.body.lastname<br/>})<br/>.then(function() {console.log("Document successfully written!");})<br/>.catch(function(error) {console.error("Error writing document: ", error);});<br/>}</span></pre><p id="9293" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.在 index.js 内部定义 HTML 表单发送 post 请求的路径。</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="a12f" class="mh lf it oc b gy og oh l oi oj">app.post('<strong class="oc iu">/insert_data</strong>',async (request,response) =&gt;{</span><span id="7f19" class="mh lf it oc b gy ok oh l oi oj">var insert = await insertFormData(request);</span><span id="edb3" class="mh lf it oc b gy ok oh l oi oj">response.sendStatus(200);</span><span id="b101" class="mh lf it oc b gy ok oh l oi oj">});</span></pre><p id="ba0f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.在表单中插入一些示例数据来测试它。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pn"><img src="../Images/c2dae40a4e9de4386b00ff7aaa84aeea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*etANPzul6jxJP7BprCLLDA.png"/></div></div></figure><p id="4cdb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">7.点击提交后，你应该会看到网页上显示的回复<code class="fe om on oo oc b"><strong class="ki iu">OK</strong></code> <strong class="ki iu"> </strong>。</p><p id="e7bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">8.转到<a class="ae kf" href="https://console.firebase.google.com/" rel="noopener ugc nofollow" target="_blank">https://console.firebase.google.com/</a>然后转到数据库部分。您应该会看到插入的表单数据。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi po"><img src="../Images/0211717cffc73e42bc8db3936994ee52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5QbnyE7kSEbOQQ2gZmApFQ.png"/></div></div></figure><h1 id="e78a" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">步骤 7:在线部署(最后一步)</h1><ol class=""><li id="e3fc" class="mt mu it ki b kj mc kn md kr mv kv mw kz mx ld my mz na nb bi translated">我们需要更改一些用于身份验证的代码，因为当您在线部署它时，Firebase 会负责身份验证。</li></ol><ul class=""><li id="f48d" class="mt mu it ki b kj kk kn ko kr nt kv nu kz nv ld nw mz na nb bi translated">在<strong class="ki iu"> index.js </strong>内部删除以下代码:</li></ul><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="bf92" class="mh lf it oc b gy og oh l oi oj">var serviceAccount = require("./<strong class="oc iu">YOUR_SDK_NAME</strong>.json");</span><span id="6295" class="mh lf it oc b gy ok oh l oi oj">admin.initializeApp({</span><span id="4cc0" class="mh lf it oc b gy ok oh l oi oj">credential: admin.credential.cert(serviceAccount),</span><span id="f65f" class="mh lf it oc b gy ok oh l oi oj"><strong class="oc iu">databaseURL: "https://myfirebaseproject-bx54dasx3.firebaseio.com"</strong></span><span id="b577" class="mh lf it oc b gy ok oh l oi oj">});</span></pre><ul class=""><li id="b9b1" class="mt mu it ki b kj kk kn ko kr nt kv nu kz nv ld nw mz na nb bi translated">取而代之的是在<strong class="ki iu"> index.js </strong>中，将它插入到您的代码中:</li></ul><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="16e8" class="mh lf it oc b gy og oh l oi oj">admin.initializeApp(functions.config().firebase);</span></pre><p id="306b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里我们告诉 Firebase 从部署时存在的配置中获取认证信息。</p><p id="d8ca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.在网站目录内的终端上，运行以下命令:</p><pre class="nx ny nz oa gt ob oc od oe aw of bi"><span id="4922" class="mh lf it oc b gy og oh l oi oj">firebase deploy</span></pre><p id="ca9d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这需要几分钟的时间，但之后，您应该会看到类似这样的内容:</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pp"><img src="../Images/fbf031731c5c212b3f76e308cae531d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4pMv_8uvAdRezV4w2l42aw.png"/></div></div></figure><p id="de43" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.如上图所示，转到 firebase 提供的<strong class="ki iu">托管 URL </strong>。</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pq"><img src="../Images/0562bc0f2cebcbfb49db2838437a629f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dyuAad7zcYqkM_QXVzOc8A.png"/></div></div></figure><p id="2f95" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">恭喜你已经在 Firebase 上托管了一个动态网站。</strong></p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="d31e" class="le lf it bd lg lh no lj lk ll np ln lo lp nq lr ls lt nr lv lw lx ns lz ma mb bi translated"><strong class="ak">步骤 8:(可选)使用自定义 URL </strong></h1><ol class=""><li id="0749" class="mt mu it ki b kj mc kn md kr mv kv mw kz mx ld my mz na nb bi translated">从任何一个提供商那里购买域名，比如 GoDaddy 或其他你喜欢的提供商。</li><li id="4268" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">从左侧窗格转到<strong class="ki iu">主机</strong>。</li><li id="5adc" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">点击<strong class="ki iu">连接域</strong>。</li></ol><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi pr"><img src="../Images/64f8a92c5cb85f99f9e765e3e56062d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ks1-J0xKNyXjlDoLqbkZzQ.png"/></div></div></figure><p id="fcae" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.在此输入域:</p><figure class="nx ny nz oa gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ps"><img src="../Images/f430d1a5c104cce2985b281a813405ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*seqP2y8OXQr5HmN_vRZlzw.png"/></div></div></figure><p id="ff40" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.遵循验证说明。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="f519" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> <em class="ol">声明:</em> </strong></p><ol class=""><li id="f3ef" class="mt mu it ki b kj kk kn ko kr nt kv nu kz nv ld my mz na nb bi translated">【Firebase 服务的服务条款</li><li id="ce83" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">Firebase 和它的服务是谷歌的产品，这篇文章中没有任何地方暗示不是这样。</li><li id="9e9c" class="mt mu it ki b kj nc kn nd kr ne kv nf kz ng ld my mz na nb bi translated">这篇文章是为了教育目的。</li></ol></div></div>    
</body>
</html>