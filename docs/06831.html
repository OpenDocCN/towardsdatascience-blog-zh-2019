<html>
<head>
<title>10,000 Ways That Won’t Work</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一万种行不通的方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-000-ways-that-wont-work-311925525cf0?source=collection_archive---------23-----------------------#2019-09-28">https://towardsdatascience.com/10-000-ways-that-wont-work-311925525cf0?source=collection_archive---------23-----------------------#2019-09-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1334" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">fast.ai《程序员实用深度学习》第三课</h2></div><blockquote class="kf kg kh"><p id="1843" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">“我没有失败。我刚刚发现了一万种行不通的方法。”</p><p id="f3b7" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">~托马斯·爱迪生</p></blockquote><p id="2b05" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">我是一名数学助教，正在努力学习 fast.ai 的<a class="ae li" href="https://course.fast.ai/" rel="noopener ugc nofollow" target="_blank">“程序员实用深度学习”</a>的<a class="ae li" href="https://course.fast.ai/videos/?lesson=3" rel="noopener ugc nofollow" target="_blank">第三课</a>，这一周对我来说是一个主要的骄傲吞咽者。在第二课结束时，我能够构建一个模型，将画作分类为毕加索或莫奈的作品，并将我的模型投入生产(<a class="ae li" href="https://picasso-or-monet.onrender.com/" rel="noopener ugc nofollow" target="_blank">在此尝试一下！</a>)。</p><p id="bd18" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">然而，这个星期，我什么也没做出来。我遵循了我通常的 fast.ai 工作流程:我看了一遍讲座，然后边看边翻阅笔记本，根据需要暂停。当我复习第二次(第三次，第四次…)时，我将宝贵的详细版讲稿放在手边。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lj"><img src="../Images/ef279314353e5b503aabcc4a94e04603.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FSer6FHg5nwVKicPL18TOQ.jpeg"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk">Photo by <a class="ae li" href="https://unsplash.com/@goumbik?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Lukas Blazek</a> on <a class="ae li" href="https://unsplash.com/s/photos/studying?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0231" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">所以这个星期，我打开了讲座中使用的第一个笔记本，这是一个多标签分类器，使用了 Kaggle 的<a class="ae li" href="https://www.kaggle.com/c/planet-understanding-the-amazon-from-space" rel="noopener ugc nofollow" target="_blank">“星球:从太空了解亚马逊”</a>数据集。我计划用那个数据集运行笔记本，就像在讲座中一样，然后获取另一个数据集，并确保我仍然可以让它工作。</p><p id="8913" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">但是我甚至不能让笔记本像在课堂上那样运行。使用 Kaggle API 获取数据、查看数据、拟合网络头部以及拟合一个周期都很顺利，但是当需要为整个模型绘制学习率图时，我得到了以下错误:</p><p id="c3fa" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated"><code class="fe lz ma mb mc b">RuntimeError: CUDA out of memory. Tried to allocate 2.00 MiB (GPU 0; 7.43 GiB total capacity; 6.89 GiB already allocated; 2.94 MiB free; 47.24 MiB cached)</code></p><p id="a576" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">我毫不气馁，转向 fast.ai 论坛，看看是否还有人遇到过这个问题。<a class="ae li" href="https://forums.fast.ai/t/lesson-3-in-class-discussion/29733/608?u=go_go_gadget" rel="noopener ugc nofollow" target="_blank">有人有</a>，他们的问题通过减少批量解决了。也许那对我也有用！</p><p id="3d1c" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">没有。我尝试通过将<code class="fe lz ma mb mc b">bs=32</code>作为参数传递给<code class="fe lz ma mb mc b">databunch()</code>函数来将批处理大小设置为 32，还尝试了<code class="fe lz ma mb mc b">bs=16</code>、<code class="fe lz ma mb mc b">bs=4</code>和<code class="fe lz ma mb mc b">bs=2</code>，但是我一直得到相同的错误。<code class="fe lz ma mb mc b">bs=1</code>给了我一个不同的错误，因为该函数进行比较，所以每批需要多个项目。于是我<a class="ae li" href="https://forums.fast.ai/t/lesson-3-in-class-discussion/29733/761?u=go_go_gadget" rel="noopener ugc nofollow" target="_blank">自己在论坛发帖</a>。</p><p id="c815" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">没有人回答这个问题，但我在 fast.ai 网站上找到了一个关于 CUDA 内存错误的<a class="ae li" href="https://docs.fast.ai/troubleshoot.html#cuda-out-of-memory-exception" rel="noopener ugc nofollow" target="_blank">文档</a>。它说要减少批量大小或训练一个更小的模型，这是我尝试过的，所以因为那时我已经花了整整三天试图解决这个问题，我把笔记本放在一边。</p><p id="8619" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">其他笔记本——使用<a class="ae li" href="http://mi.eng.cam.ac.uk/research/projects/VideoRec/CamVid/" rel="noopener ugc nofollow" target="_blank"> CAMVID 数据集</a>进行图像分割，以及使用<a class="ae li" href="https://data.vision.ee.ethz.ch/cvl/gfanelli/head_pose/head_forest.html#db" rel="noopener ugc nofollow" target="_blank"> BIWI 头部姿态数据集</a>进行图像回归——至少进展顺利。</p><p id="35a8" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">在讲座的最后，Jeremy 说我们应该尝试思考一个有趣的多标签分类、图像回归或图像分割问题，并警告我们最具挑战性的部分将是创建我们的数据集群。他绝对是对的！</p><p id="e68c" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">fastai 库有一个名为 data_block API 的工具，它完成了大量繁重的工作，包括将数据分成训练集和验证集以及它们的标签，并设置它们以加载到您的模型中。只涉及到 10 行代码，但我并不真正理解第 0 步是什么:我不知道如何为它选择数据集，如何让数据集准备好成为数据束，一般来说，我只是觉得它难以理解。在接下来的四天里，我阅读了<a class="ae li" href="https://docs.fast.ai/data_block.html" rel="noopener ugc nofollow" target="_blank"> data_block API 文档</a>，Wayde Gilliam 的<a class="ae li" href="https://blog.usejournal.com/finding-data-block-nirvana-a-journey-through-the-fastai-data-block-api-c38210537fe4" rel="noopener ugc nofollow" target="_blank">“寻找数据块涅槃(快速 ai 数据块 API 之旅)</a>”，以及几十个论坛帖子，但我仍然只是.没有.明白。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi md"><img src="../Images/8ac49801d1069d1b7d26cd53ba5f24ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L0UbDLtAuq7w2CfjqUH1xw.jpeg"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk">Photo by <a class="ae li" href="https://unsplash.com/@jeshoots?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a> on <a class="ae li" href="https://unsplash.com/s/photos/studying?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8241" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">Jeremy 说我们会经常回到 data_block API，所以我会采纳下图(本课程第 1 课的幻灯片)的建议，收起我的骄傲，继续学习第 4 课，而不会觉得自己已经稍微掌握了第 3 课。口碑-口碑。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi me"><img src="../Images/ffd43aba7b078a38b935ffada97b427e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nmikQjBlmyRF0LaqDRHXLQ.png"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk">Slide from Lesson 1 of the course, found on <a class="ae li" href="https://hackernoon.com/how-not-to-do-fast-ai-or-any-ml-mooc-3d34a7e0ab8c" rel="noopener ugc nofollow" target="_blank">https://hackernoon.com/how-not-to-do-fast-ai-or-any-ml-mooc-3d34a7e0ab8c</a></figcaption></figure><p id="6585" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">关于此主题的其他帖子:</p><p id="334a" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">第一课:<a class="ae li" rel="noopener" target="_blank" href="/getting-started-with-fast-ai-350914ee65d2">fast . ai 入门</a></p><p id="d042" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">第二课:<a class="ae li" rel="noopener" target="_blank" href="/classifying-pregnancy-test-results-99adda4bca4c">对孕检结果进行分类</a>！</p><p id="7cf8" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">第二课(续):<a class="ae li" rel="noopener" target="_blank" href="/can-deep-learning-perform-better-than-pigeons-d37ef1581a2f">深度学习能比鸽子表现得更好吗？</a></p><p id="6cc0" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">第四课:<a class="ae li" rel="noopener" target="_blank" href="/predicting-a-waiters-tips-1990342a0d02">预测服务员的小费</a></p><p id="fe92" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">第五课:但是泡菜去哪里了？</p><p id="9375" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">第六课:<a class="ae li" rel="noopener" target="_blank" href="/everybody-wants-to-be-a-cat-6dd6190c5d9c">每个人都想成为一只猫</a>我是一名南加州大学东湾分校的数学讲师，也是一名有抱负的数据科学家。在<a class="ae li" href="https://linkedin.com/in/laura-langdon/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上和我联系，或者在<a class="ae li" href="https://twitter.com/laura_e_langdon" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上和我打招呼。</p></div></div>    
</body>
</html>