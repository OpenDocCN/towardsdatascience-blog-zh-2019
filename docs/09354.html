<html>
<head>
<title>How to Remove % Sign From Data Table</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从数据表中删除%符号</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-remove-sign-from-data-table-baa37598982a?source=collection_archive---------18-----------------------#2019-12-10">https://towardsdatascience.com/how-to-remove-sign-from-data-table-baa37598982a?source=collection_archive---------18-----------------------#2019-12-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c254" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将包含%符号的列从字符串转换为数字类型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f68b6af9489368a8426a64816bc9e453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8F9howYvk_8LN_X7lcg6kA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><strong class="bd ky">Columns x5, x6, and x7 contain the % sign, and hence are treated as string type so they can’t be used for numerical calculations.</strong></figcaption></figure><p id="aa3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据争论是将原始的非结构化数据转换为可用于进一步分析(如数据可视化或建模)的形式的过程。有时，在讨论完数据后，您可能会注意到一些列可能包含符号，如美元符号($)、加号(+)、减号(-)或百分号(%)。任何包含这些符号之一的数据列都被视为字符串类型，因此不能用于数值计算。</p><p id="83b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将展示如何从数据列中删除百分号(%)。然后，一旦%符号被删除，我们将把列从字符串转换为数字类型，使其适合数字操作和计算。可以使用类似的方法来删除不需要的符号，如加号(+)、减号(-)等。</p><p id="ae4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将用一个从 pdf 文件中提取的数据集来说明这个例子，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/5150e854f7849aa81986a6aeb06039c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*DEpw-ypy8uD3b2efUA1_ew.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><strong class="bd ky">Data table originally in a pdf file</strong>. <strong class="bd ky">Source of original file: </strong><a class="ae lw" href="http://www.ijastnet.com/" rel="noopener ugc nofollow" target="_blank"><strong class="bd ky">http://www.ijastnet.com/</strong></a><strong class="bd ky">.</strong></figcaption></figure><p id="61cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> a)将表格复制并粘贴到 Excel 中，并将文件保存为 table_1_raw.csv </strong></p><p id="54bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据以一维格式存储，必须进行整形、清理和转换。</p><p id="789f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> b)导入必要的库</strong></p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="9802" class="mc md it ly b gy me mf l mg mh">import pandas as pd</span><span id="2166" class="mc md it ly b gy mi mf l mg mh">import numpy as np</span></pre><p id="0dfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> c)导入原始数据并重塑数据</strong></p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="934e" class="mc md it ly b gy me mf l mg mh">df = pd.read_csv("table_1_raw.csv", header=None)</span><span id="4784" class="mc md it ly b gy mi mf l mg mh">df2 = pd.DataFrame(df.values.reshape(25,10))</span><span id="0328" class="mc md it ly b gy mi mf l mg mh">column_names = df2[0:1].values[0]</span><span id="c548" class="mc md it ly b gy mi mf l mg mh">df3 = df2[1:]</span><span id="e5e2" class="mc md it ly b gy mi mf l mg mh">df3.columns = df2[0:1].values[0]</span><span id="09cd" class="mc md it ly b gy mi mf l mg mh">df3.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/e69649baf9375ee6d0d626eda8fc9da5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/0*AaVS5lT81G16lziI.png"/></div></div></figure><p id="400f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> d)使用字符串处理工具执行数据辩论</strong></p><p id="c865" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们从上表中注意到，列<strong class="lb iu"> x5 </strong>、<strong class="lb iu"> x6 </strong>和<strong class="lb iu"> x7 </strong>是用百分比表示的，因此我们需要去掉百分比(%)符号:</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="24fc" class="mc md it ly b gy me mf l mg mh">df4['x5'] = list(map(lambda x: x[:-1], df4['x5'].values))</span><span id="b3a0" class="mc md it ly b gy mi mf l mg mh">df4['x6'] = list(map(lambda x: x[:-1], df4['x6'].values))</span><span id="8166" class="mc md it ly b gy mi mf l mg mh">df4['x7'] = list(map(lambda x: x[:-1], df4['x7'].values))</span></pre><p id="2b25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> e)将数据转换成数字形式</strong></p><p id="c113" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们注意到列<strong class="lb iu"> x5 </strong>、<strong class="lb iu"> x6 </strong>和<strong class="lb iu"> x7 </strong>的列值具有字符串数据类型(即使在删除了%符号之后)，因此我们需要将它们转换为数字数据，如下所示:</p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="eb88" class="mc md it ly b gy me mf l mg mh">df4['x5'] = [float(x) for x in df4['x5'].values]</span><span id="dcf0" class="mc md it ly b gy mi mf l mg mh">df4['x6'] = [float(x) for x in df4['x6'].values]</span><span id="bd7d" class="mc md it ly b gy mi mf l mg mh">df4['x7'] = [float(x) for x in df4['x7'].values]</span></pre><p id="6fee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> f)查看转换数据的最终形式</strong></p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="54eb" class="mc md it ly b gy me mf l mg mh">df4.head(n = 5)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/5ac55476b0e969d96b980b3f5f4f0065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9tNnL7eZNqi-upgvxWgWPg.png"/></div></div></figure><p id="ff06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> g)将最终数据导出至 csv 文件</strong></p><pre class="kj kk kl km gt lx ly lz ma aw mb bi"><span id="1536" class="mc md it ly b gy me mf l mg mh">df4.to_csv('table_1_final.csv',index = False)</span></pre><p id="d0c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总之，我们已经展示了如何从数据列中删除百分号(%)，以及如何将该列转换为数字类型以使其适合数字计算。可以使用类似的方法来删除不需要的符号，如加号(+)、减号(-)等。</p></div></div>    
</body>
</html>