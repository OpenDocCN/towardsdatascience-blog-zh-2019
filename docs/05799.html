<html>
<head>
<title>The Poisson Process: Everything you need to know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">泊松过程:你需要知道的一切</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-poisson-process-everything-you-need-to-know-322aa0ab9e9a?source=collection_archive---------2-----------------------#2019-08-24">https://towardsdatascience.com/the-poisson-process-everything-you-need-to-know-322aa0ab9e9a?source=collection_archive---------2-----------------------#2019-08-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/34af77a4e592620758a5e3205bc3fd2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Nm_bCWP-6juvQcGn8dg4Q.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="8e06" class="pw-subtitle-paragraph kb jd je bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dk translated">了解泊松过程以及如何使用 Python 模拟它</h2></div><p id="3b63" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">让我先挑起你的好奇心。让我们看看泊松序列是什么样子的。</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi lp"><img src="../Images/2ff2bada9c306c30fe4d44befeea77e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bn2hLr4vPkBgXHVBRPB_rw.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">A sample Poisson process (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="2cfc" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">该图显示了患者到达医院急诊室的时间，单位为小时(从任意时间 0 开始)。我们还碰巧知道<em class="lz">平均到达率是每小时 5 个病人</em>。</p><p id="f3af" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">事实证明，使用泊松过程可以很好地模拟这种“到达”数据。</p><p id="023f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">泊松过程在各行各业都能看到。以下是一些例子:</p><ul class=""><li id="4317" class="ma mb je kv b kw kx kz la lc mc lg md lk me lo mf mg mh mi bi translated">在免下车药房，在某个时间间隔内，开到停车窗口的汽车数量。</li><li id="25d9" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo mf mg mh mi bi translated"><a class="ae ly" href="https://www.papayaking.com/" rel="noopener ugc nofollow" target="_blank">木瓜大王</a>周日中午 12 点到下午 4 点卖热狗的数量。</li><li id="17f5" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo mf mg mh mi bi translated">医院超声机的故障。</li><li id="5078" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo mf mg mh mi bi translated">工作日上午 8 点到 11 点通过某个交叉路口的车辆数量。</li><li id="0ee9" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo mf mg mh mi bi translated">暴露在一束光子下的光电探测器在 1 分钟内产生的电脉冲数。</li></ul><p id="8a9b" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">既然我已经激起了你的好奇心，让我们开始进入泊松过程的奇妙世界的旅程。所以跳上船吧！</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h2 id="1b35" class="mv mw je bd mx my mz dn na nb nc dp nd lc ne nf ng lg nh ni nj lk nk nl nm nn bi translated">首先，快速概述随机变量和随机过程</h2><p id="7fc8" class="pw-post-body-paragraph kt ku je kv b kw no kf ky kz np ki lb lc nq le lf lg nr li lj lk ns lm ln lo im bi translated"><strong class="kv jf">随机变量</strong>中的‘变量’一词是用词不当。一个随机变量，通常用<strong class="kv jf"> <em class="lz"> X，Y，Z，X1，X2 </em> </strong> <em class="lz">，</em><strong class="kv jf"><em class="lz"/></strong>等表示。，其实是一个函数！和所有表现良好的函数一样，<strong class="kv jf"> <em class="lz"> X </em> </strong>有一个域和一个范围。</p><p id="b731" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf">域(X)</strong>:<strong class="kv jf"><em class="lz">X</em></strong>的域是随机结果的样本空间。这些结果出现在一些随机实验中(比如投掷一对硬币)。结果可能是也可能不是数字。例如,(正面，正面)或(反面，正面)是抛硬币实验的两种可能结果。</p><p id="c1dd" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf">范围(X):</strong><strong class="kv jf"><em class="lz">X</em></strong>的范围是实数的集合。</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nt"><img src="../Images/4ed87a60cf6b3c6d772f018d8bcc3744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9lx-vZhP6kF1vZlazzbnww.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Random variable X maps the sample space of events to a range (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="5590" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">为什么<strong class="kv jf"> <em class="lz"> X </em> </strong>被称为<em class="lz">随机</em>变量？这是因为<strong class="kv jf"> <em class="lz"> X </em> </strong>使用概率分布从范围(<strong class="kv jf"> X </strong>)中输出一个值，该概率分布应该表示样本空间中事件发生的可能性。在上图中，概率分布可能是:</p><p id="f448" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">{ <strong class="kv jf"> 1 </strong> → 0.2、<strong class="kv jf"> 2 </strong> → 0.45、<strong class="kv jf"> 3 </strong> → 0.15、<strong class="kv jf"> 4 </strong> → 0.2}</p><p id="a59c" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">请注意，所有结果的概率之和是 1，因为抛硬币实验总是会产生一些结果:</p><p id="e0a9" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf"> P </strong> ( <strong class="kv jf"> 1 </strong>或<strong class="kv jf"> 2 </strong>或<strong class="kv jf"> 3 </strong>或<strong class="kv jf"> 4 </strong> ) = P(1) + P(2) + P(3) + P(4)</p><p id="505f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi">= 0.2 + 0.45 + 0.15 + 0.2 = 1.0</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nu"><img src="../Images/3bb8f1c569f1dbcff742f18766386604.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1aLfxnA4e6I_yfgNSdiQUA.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">The <strong class="bd nv">P</strong>robability <strong class="bd nv">M</strong>ass <strong class="bd nv">F</strong>unction of <strong class="bd nv"><em class="nw">X</em></strong> (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="1ab2" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">x 可以是<strong class="kv jf">离散的</strong>或<strong class="kv jf">连续的</strong>。</p><p id="d4d9" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf">离散随机变量</strong>的范围是可数无限的，例如对于整数集合。离散的<strong class="kv jf"> <em class="lz"> X </em> </strong>的真实世界例子是在某个时间间隔内通过十字路口的汽车数量。一个离散随机变量的概率分布被称为<strong class="kv jf"> P </strong>概率<strong class="kv jf"> M </strong> ass <strong class="kv jf"> F </strong>函数(PMF)。</p><p id="befd" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">一个<strong class="kv jf">连续随机变量</strong>的值域是实数的集合，也就是一个不可数的无穷集合。现实世界中不容易找到纯粹连续的<strong class="kv jf"> <em class="lz"> X </em> </strong>的例子。一个非常接近的近似值是一个地方在一年中特定时间的温度，以任意大的精度测量。连续随机变量的概率分布称为概率密度函数(PDF)。</p><blockquote class="nx"><p id="5d86" class="ny nz je bd oa ob oc od oe of og lo dk translated">一个纯粹连续的<strong class="ak"> <em class="nw">随机</em>变量</strong>的真实世界例子不容易找到。</p></blockquote><p id="4ee7" class="pw-post-body-paragraph kt ku je kv b kw oh kf ky kz oi ki lb lc oj le lf lg ok li lj lk ol lm ln lo im bi translated">现在让我们回顾一下什么是随机过程。</p><h2 id="11c0" class="mv mw je bd mx my mz dn na nb nc dp nd lc ne nf ng lg nh ni nj lk nk nl nm nn bi translated">随机过程</h2><p id="0369" class="pw-post-body-paragraph kt ku je kv b kw no kf ky kz np ki lb lc nq le lf lg nr li lj lk ns lm ln lo im bi translated">一个<strong class="kv jf">随机过程</strong>是一个随机变量序列<strong class="kv jf"> <em class="lz"> X1、X2、X3……等等</em> </strong>。通常按时间索引。每个变量可以从某个概率分布中取不同的值。请参见下图中的随机过程:</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi om"><img src="../Images/4a741b7fe2b9466e674df17381aca822.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zz4x5iBX6dTHDfcRAHcNvg.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">A random process (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="33bd" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">一个随机过程既可以是<strong class="kv jf">离散</strong>也可以是<strong class="kv jf">连续</strong>取决于它的成员变量<strong class="kv jf"> <em class="lz"> X1、X2、X3…等</em> </strong>是离散变量还是连续变量。</p><p id="80a5" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">我们现在准备看看泊松过程是一种什么样的生物。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h2 id="b7cb" class="mv mw je bd mx my mz dn na nb nc dp nd lc ne nf ng lg nh ni nj lk nk nl nm nn bi translated">泊松过程</h2><p id="1021" class="pw-post-body-paragraph kt ku je kv b kw no kf ky kz np ki lb lc nq le lf lg nr li lj lk ns lm ln lo im bi translated">泊松过程可用于对事件发生的次数进行建模，例如在某个时间段内，例如 24 小时内，患者到达急诊室的次数，<em class="lz">假设人们知道这些事件在某个时间段内的平均发生次数。</em>例如，平均每小时有 10 名患者走进急诊室。</p><p id="2552" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">泊松过程具有以下特性:</p><ol class=""><li id="3e50" class="ma mb je kv b kw kx kz la lc mc lg md lk me lo on mg mh mi bi translated"><strong class="kv jf">它由一系列随机变量<em class="lz"> X1，X2，X3，…Xk </em> </strong>组成，每个变量代表某个事件在某个时间间隔内发生的次数，比如病人走进急诊室。</li><li id="4ddb" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo on mg mh mi bi translated"><strong class="kv jf">它是一个随机过程</strong>。每次你运行泊松过程，它会产生一个不同的随机结果序列，按照我们很快会看到的概率分布。</li><li id="0135" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo on mg mh mi bi translated"><strong class="kv jf">这是一个离散的过程</strong>。泊松过程的结果是<em class="lz">某一事件在特定时间段内发生的次数</em>，这无疑是一个整数——即一个离散的数字。</li><li id="1382" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo on mg mh mi bi translated"><strong class="kv jf">有独立的增量</strong>。这意味着，在任何给定的时间间隔内，流程预测将发生的事件数量与任何其他不相交的时间间隔内的数量无关。例如，从时间 0(观察开始)到上午 10 点走进急诊室的人数与从下午 3:33 到 8:26，或从晚上 11:00 到 11:05 等走进急诊室的人数无关。</li><li id="6883" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo on mg mh mi bi translated">泊松过程的组成变量<strong class="kv jf"> <em class="lz"> X1、X2、X3、……Xk</em></strong>都具有<strong class="kv jf">同分布</strong>。</li><li id="8f8f" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo on mg mh mi bi translated">泊松过程的组成变量<strong class="kv jf"> <em class="lz"> X1，X2，X3，…Xk </em> </strong>都有一个<strong class="kv jf">泊松分布</strong>，它由<strong class="kv jf"> P </strong>概率<strong class="kv jf"> M </strong> ass <strong class="kv jf"> F </strong>函数给出:</li></ol><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/4ab663a95c5d133e8ca93c4467749d31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*ZobZSsQHu-2TF86MDjLiFw.png"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Probability of k occurrences in unit time, given an average occurrence rate of <strong class="bd nv">λ </strong>per unit time (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="b87f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">上面的公式给出了单位时间内<strong class="kv jf"> <em class="lz"> k </em> </strong>事件<em class="lz">发生的概率，假设平均发生率为单位时间</em>内<strong class="kv jf"> λ </strong>事件<em class="lz">。</em></p><p id="f30a" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">以下 4 个图显示了<strong class="kv jf"> λ: </strong>的不同值的 PMF 的形状</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi op"><img src="../Images/746d6f39ff2c37c75ca46ddbd239859f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*puWzKzi2FoTXaj30FXZNOw.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk"><strong class="bd nv">P</strong>(<strong class="bd nv">k</strong>) for <strong class="bd nv">λ </strong>= 0.1, 1.0, 5 and 20 events per unit time (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="b3b9" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">在每个图中，您可以看到概率在<strong class="kv jf"> λ，</strong>的相应值处达到峰值，并在该值的两侧逐渐变小。</p><p id="f244" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">在每个图中，<strong class="kv jf"><em class="lz"/></strong>的所有<strong class="kv jf"> <em class="lz"> </em> </strong>可能值的概率之和总是 1.0，即其中一个结果必然会实现。</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/4e7f1672c6d8e6d384df45daf709bd25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*IWCaQxlnYKM7GaghMcRYOw.png"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">(Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="e781" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">我们再仔细看看<strong class="kv jf"> λ </strong> = 5 时的情况。在我们的例子中，这相当于每小时有 5 名患者到达。0，1，2，3，…，10，11，…等的概率。一小时后走进急诊室的病人<em class="lz"/>是这样的:</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi or"><img src="../Images/34764454eac55fa57cb5a6f56c9515d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4NNnvL5cNfdqGSiS1c1Eyw.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Probability of k arrivals in one hour given that an average of 5 patients walk into the ER per hour (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="70a5" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">如你所见，概率在 k = 5 时达到峰值。</p><p id="2e03" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">为了知道<strong class="kv jf"> <em class="lz"> k </em>患者</strong>在<em class="lz"> t </em>小时内走进急诊室<strong class="kv jf">的可能性，我们将其建模为一个带速率(<strong class="kv jf"> λ <em class="lz"> t)的泊松过程。</em></strong><strong class="kv jf">PMF 对应的公式是这样的:</strong></strong></p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div class="gh gi os"><img src="../Images/1b120644cde5279d85ad3b249308057c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*jH3-E_x_PEu1pzjaUWAs_Q.png"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Probability of k arrivals in time t, given <strong class="bd nv">λ </strong>arrivals in unit time (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="12d6" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">以下一组概率分布都是使用上述泊松分布公式通过将速率<strong class="kv jf"> λ </strong>缩放不同的时间间隔<strong class="kv jf">T3】tT5】而生成的:</strong></p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ot"><img src="../Images/3d226b58c913142a579e52837a948663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rj6703aEcnnPPlUEAfZIVg.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Probability of k arrivals in time t, given <strong class="bd nv">λ</strong> = 5 per hour (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h2 id="77d0" class="mv mw je bd mx my mz dn na nb nc dp nd lc ne nf ng lg nh ni nj lk nk nl nm nn bi translated">建模到达间隔时间</h2><p id="c6d3" class="pw-post-body-paragraph kt ku je kv b kw no kf ky kz np ki lb lc nq le lf lg nr li lj lk ns lm ln lo im bi translated">泊松过程有一个显著的子结构。即使使用离散泊松分布对事件的发生次数进行建模，连续事件之间的时间间隔也可以使用连续分布<a class="ae ly" href="https://en.wikipedia.org/wiki/Exponential_distribution" rel="noopener ugc nofollow" target="_blank">指数分布</a>进行建模。</p><p id="f04f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">让我们进一步探讨这个问题。</p><p id="2c7c" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">让<strong class="kv jf"> <em class="lz"> X1、X2、X3……等等</em> </strong>。是随机变量，使得:</p><p id="4b57" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf"><em class="lz">【X1】</em></strong>=流程开始与第一个事件之间的时间间隔，即第一个<em class="lz">到达</em>、<br/> <strong class="kv jf"> <em class="lz">、X2 </em> </strong> =第一个到达与第二个到达之间的间隔时间、<br/> <strong class="kv jf"> <em class="lz">、</em> </strong> =第二个到达与第三个到达之间的间隔时间、<br/>等等。</p><p id="3775" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">代表第<em class="lz">(k-1)</em>和第<em class="lz">(k)</em>次到达之间的间隔时间的随机变量<strong class="kv jf"> <em class="lz"> Xk </em> </strong>的分布为:</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/e39d2060512254b60bbd704dd09dab7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*lzJ05LCHOy04ZFfWVuQBdA.png"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Inter-arrival times are exponentially distributed (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="01e1" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">随机变量<strong class="kv jf"> <em class="lz"> Xk </em> </strong>的<strong class="kv jf"> P </strong>概率<strong class="kv jf"> D </strong>密度<strong class="kv jf"> F </strong>函数(PDF)如下:</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/9bb7803686aed11f25beeba28e016a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*mNXnvr8--JXZu-SDGsUHIg.png"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">PDF of inter-arrival times in a Poisson process (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="b4d9" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">并且<strong class="kv jf"> C </strong>累积<strong class="kv jf"> D </strong>分配<strong class="kv jf"> F </strong>功能(CDF)为:</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/0029f03a0954a2ab03aad1cd6efd3477.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*QQpc11iCB5vylPFmxfsobQ.png"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">CDF of interval-arrival times in a Poisson process (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="34c7" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">回想一下<strong class="kv jf"> <em class="lz"> X </em> </strong>的 CDF 返回连续到达之间的时间间隔将小于或等于某个值<strong class="kv jf"> <em class="lz"> t </em> </strong>的概率。</p><h2 id="f855" class="mv mw je bd mx my mz dn na nb nc dp nd lc ne nf ng lg nh ni nj lk nk nl nm nn bi translated">模拟泊松过程中的到达间隔时间</h2><p id="7baa" class="pw-post-body-paragraph kt ku je kv b kw no kf ky kz np ki lb lc nq le lf lg nr li lj lk ns lm ln lo im bi translated">我们现在有足够的信息来生成泊松过程中的到达间隔时间。我们通过使用<a class="ae ly" href="https://stephens999.github.io/fiveMinuteStats/inverse_transform_sampling.html" rel="noopener ugc nofollow" target="_blank">逆 CDF </a>技术来实现这一点，在该技术中，我们从字面上构造 CDF 的反函数，并从一个<strong class="kv jf"><em class="lz"/></strong><em class="lz">(0，1) </em>均匀分布向其提供不同的概率值。这为我们提供了相应概率的相应到达间隔时间。</p><p id="0b3c" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">到达间隔时间的 CDF 的反函数是:</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/738e8b3a2fdc5ed48344dde783693d58.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*diQA2StZhlEkPAkPSVk6gg.png"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Inverse of the CDF of inter-arrival times (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="ed46" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">如前所述，我们馈入这个函数，概率值来自连续均匀分布<strong class="kv jf"><em class="lz"/></strong><em class="lz">【0，1】</em>。我们将很快看到如何使用几行 Python 代码以编程方式完成这个操作。</p><p id="e83f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">目前，以下是前 10 名患者到达急诊室的间隔时间(小时)表。我们使用上述公式生成了这个日期，将<strong class="kv jf"> λ </strong>设置为每小时 5 名患者。</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/6e9728c8ea4c532d3708233bd10a3b75.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*KV5ECWGLRwq1SJ9ov-z8Tw.png"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">λ = 5 arrivals per hour (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="bd9c" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">这是前 500 名到达者的间隔时间图。正如所料，它是 CDF 图的逆。</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ox"><img src="../Images/4d2f1a166222caa43501162d58e1d764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gEB7hAePmxJWxpCWnt7U5Q.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Inverse of CDF of interval arrival times (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><h2 id="bcb3" class="mv mw je bd mx my mz dn na nb nc dp nd lc ne nf ng lg nh ni nj lk nk nl nm nn bi translated">模拟泊松过程中的到达时间</h2><p id="e5c8" class="pw-post-body-paragraph kt ku je kv b kw no kf ky kz np ki lb lc nq le lf lg nr li lj lk ns lm ln lo im bi translated">既然我们知道如何生成到达间隔时间，那么就很容易生成患者到达时间。</p><p id="74f4" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">从上面显示的 10 个样本到达间隔时间的表中，我们可以推导出以下内容:</p><p id="40ed" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf">第一个病人的到达时间</strong>=<strong class="kv jf"><em class="lz">x1</em></strong>=<strong class="kv jf">0.431257556</strong></p><p id="63f6" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf">第二名患者的到达时间</strong>=<br/><strong class="kv jf"><em class="lz">x1</em></strong>+第一名与第二名患者的到达间隔时间=<br/><strong class="kv jf"><em class="lz">x1</em></strong>+<strong class="kv jf"><em class="lz">x2</em></strong>= 0.431257556+0.264141966 =<strong class="kv jf">0.6954</strong></p><p id="6969" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">第三名患者的<strong class="kv jf">到达时间</strong>=<br/><strong class="kv jf"><em class="lz">x1</em></strong>+<strong class="kv jf"><em class="lz">x2</em></strong>+<strong class="kv jf"><em class="lz">x3</em></strong>= 0.431257556+0.264141966+0.190045932 =<strong class="kv jf">0.885445</strong></p><p id="c367" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">…等等</p><p id="e0b9" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">记住<strong class="kv jf"> <em class="lz"> X1，X2，X3，…Xk </em> </strong>是到达间隔时间，如果我们将<strong class="kv jf"> <em class="lz"> T1，T2，T3，…Tk </em> </strong>定义为变量，表示患者<strong class="kv jf">到达急诊室的时间</strong>，我们看到:</p><p id="bc27" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf"><em class="lz">T1 = X1<br/>T2 = X1+X2<br/>T3 = X1+X2+X3<br/>…<br/>Tk = X1+X2+X3+…+Xk</em></strong></p><p id="aec3" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">注意，由于<strong class="kv jf"> <em class="lz"> T1，T2，T3…Tk </em> </strong>被定义为随机变量 <strong class="kv jf"> <em class="lz"> X1，X2，X3，…Xk </em> </strong>，变量<strong class="kv jf"> <em class="lz"> T1，T2，T3，…Tk </em> </strong>也是随机变量。</p><p id="f578" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">这里还有一个非常有趣的事实:</p><p id="16db" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">由于<strong class="kv jf"> <em class="lz"> T1，T2，T3…Tk </em> </strong>都是各自服从指数分布的随机变量之和<strong class="kv jf"><em class="lz">【X1，】Xk </em> </strong>，<strong class="kv jf"> <em class="lz"> T1，T2，T3，…，Tk 服从伽玛分布</em> </strong>。</p><blockquote class="nx"><p id="db73" class="ny nz je bd oa ob oc od oe of og lo dk translated">泊松过程中的到达时间遵循伽马分布，这是一种连续分布。</p></blockquote><p id="f946" class="pw-post-body-paragraph kt ku je kv b kw oh kf ky kz oi ki lb lc oj le lf lg ok li lj lk ol lm ln lo im bi translated">让我们后退一步，注意我们是如何顺利地从离散分布过渡到一组连续分布的！这就是泊松过程的神奇结构。虽然过程本身是离散的，但它的子结构完全由连续的随机变量表示。</p><p id="93de" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">下图总结了构成泊松过程的三种主要分布:</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/337e63b4e3f2334ac1cf77396eb3805c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M9CcnDu4_4R6q96-4KKMJA.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">The sub-structure of the Poisson process (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h2 id="3da0" class="mv mw je bd mx my mz dn na nb nc dp nd lc ne nf ng lg nh ni nj lk nk nl nm nn bi translated">模拟泊松过程</h2><p id="86a9" class="pw-post-body-paragraph kt ku je kv b kw no kf ky kz np ki lb lc nq le lf lg nr li lj lk ns lm ln lo im bi translated">我们现在准备模拟整个泊松过程。</p><p id="2e31" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">为此，我们需要遵循这个简单的两步程序:</p><ol class=""><li id="2e82" class="ma mb je kv b kw kx kz la lc mc lg md lk me lo on mg mh mi bi translated">对于给定的平均发生率<strong class="kv jf"> λ </strong>，使用逆 CDF 技术生成到达间隔时间。</li><li id="247c" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo on mg mh mi bi translated">通过构建间隔到达时间的累计和来生成实际到达时间。</li></ol><p id="243f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">以下是模拟泊松过程的 Python 代码:</p><figure class="lq lr ls lt gt iv"><div class="bz fp l di"><div class="oz pa l"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Python code to simulate a Poisson process</figcaption></figure><p id="2a04" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">这是这个程序的输出，给了我们一个完全模拟但 100%真实的泊松序列:</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pb"><img src="../Images/262fe2b732fa9a385595cbac4dfe79bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4JEiRCM7sm6k1g1XK_sQbg.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Poisson simulated arrivals (Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="660e" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">如果将到达时间向上舍入到最接近的小时，并将图旋转 90 度，可以发现平均到达率为每小时 5。</p><figure class="lq lr ls lt gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pc"><img src="../Images/41b8d039191ad6e762db51686a694bb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eYB-Ai2zNLo9TdshTtS6Hw.png"/></div></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">(Image by <a class="ae ly" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="383d" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">以下是生成的完整源代码:</p><ul class=""><li id="77dd" class="ma mb je kv b kw kx kz la lc mc lg md lk me lo mf mg mh mi bi translated">模拟泊松过程中连续事件之间的时间。</li><li id="aa22" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo mf mg mh mi bi translated">模拟泊松过程中连续事件的绝对时间。</li><li id="15d3" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo mf mg mh mi bi translated">模拟泊松过程中连续间隔内发生的事件数。</li><li id="2ed2" class="ma mb je kv b kw mj kz mk lc ml lg mm lk mn lo mf mg mh mi bi translated">计算单位时间内的平均事件数。</li></ul><figure class="lq lr ls lt gt iv"><div class="bz fp l di"><div class="oz pa l"/></div><figcaption class="lu lv gj gh gi lw lx bd b be z dk">Python code for Poisson process simulation</figcaption></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h2 id="0771" class="mv mw je bd mx my mz dn na nb nc dp nd lc ne nf ng lg nh ni nj lk nk nl nm nn bi translated">相关阅读</h2><div class="is it gp gr iu pd"><a rel="noopener follow" target="_blank" href="/this-stochastic-life-5146368bfd59"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd jf gy z fp pi fr fs pj fu fw jd bi translated">这种随机的生活</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">我们日常生活中有趣的随机线索</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">towardsdatascience.com</p></div></div><div class="pm l"><div class="pn l po pp pq pm pr ja pd"/></div></div></a></div><div class="is it gp gr iu pd"><a rel="noopener follow" target="_blank" href="/an-illustrated-guide-to-the-poisson-regression-model-50cccba15958"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd jf gy z fp pi fr fs pj fu fw jd bi translated">泊松回归模型图解指南</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">和使用 Python 的泊松回归教程</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">towardsdatascience.com</p></div></div><div class="pm l"><div class="ps l po pp pq pm pr ja pd"/></div></div></a></div><div class="is it gp gr iu pd"><a rel="noopener follow" target="_blank" href="/the-intuition-for-the-poisson-distribution-formula-34c5e52f4e04"><div class="pe ab fo"><div class="pf ab pg cl cj ph"><h2 class="bd jf gy z fp pi fr fs pj fu fw jd bi translated">泊松分布公式的直觉</h2><div class="pk l"><h3 class="bd b gy z fp pi fr fs pj fu fw dk translated">这是二项式的极限。但是为什么呢？</h3></div><div class="pl l"><p class="bd b dl z fp pi fr fs pj fu fw dk translated">towardsdatascience.com</p></div></div><div class="pm l"><div class="pt l po pp pq pm pr ja pd"/></div></div></a></div></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><p id="e23a" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><em class="lz">如果你喜欢这篇文章，请关注我的</em><a class="ae ly" href="https://timeseriesreasoning.medium.com" rel="noopener"><em class="lz">Sachin Date</em></a><em class="lz">以获得关于回归、时间序列分析和预测主题的提示、操作方法和编程建议。</em></p></div></div>    
</body>
</html>