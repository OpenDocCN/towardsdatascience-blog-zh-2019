<html>
<head>
<title>Make your own Smart Home Security Camera</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制作您自己的智能家庭安全摄像机</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/make-your-own-smart-home-security-camera-a89d47284fc7?source=collection_archive---------14-----------------------#2019-02-10">https://towardsdatascience.com/make-your-own-smart-home-security-camera-a89d47284fc7?source=collection_archive---------14-----------------------#2019-02-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/c96d3e5c51c7699cdca030fd9618ae28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xTs3Nq_03OnJ2PhUj_LDzQ.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Security Camera Set-up</figcaption></figure><div class=""/><div class=""><h2 id="ab2e" class="pw-subtitle-paragraph kc je jf bd b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dk translated">一台可以进行面部识别的相机，成本不到 80 美元。</h2></div><figure class="kv kw kx ky gt is gh gi paragraph-image"><div class="gh gi ku"><img src="../Images/bc22379881d696e8b002365727738a4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*mpuEzDcjtCpYIGNGRRwSQg.gif"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Demo</figcaption></figure><p id="d550" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">不久前，我想买一台好的智能相机，但我的需求与相关成本不相称。所以，我决定用我已经有的零件做一个。</p><h2 id="af58" class="lv lw jf bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">所需零件:</h2><ul class=""><li id="3a5d" class="mo mp jf lb b lc mq lf mr li ms lm mt lq mu lu mv mw mx my bi translated">树莓 PI 3</li><li id="de63" class="mo mp jf lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated">网络摄像头</li><li id="8d87" class="mo mp jf lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated">PIR 传感器/超声波传感器</li></ul><h2 id="b6d7" class="lv lw jf bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">所需知识:</h2><ul class=""><li id="8b10" class="mo mp jf lb b lc mq lf mr li ms lm mt lq mu lu mv mw mx my bi translated">计算机编程语言</li><li id="4d55" class="mo mp jf lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated">OpenCV</li><li id="d0c1" class="mo mp jf lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated">dlib</li></ul><p id="1b37" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">如果你想要更多关于 OpenCV 和 dlib 的信息，那么请看看我的旧文章。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="6e65" class="nm lw jf bd lx nn no np ma nq nr ns md kl nt km mg ko nu kp mj kr nv ks mm nw bi translated">什么是 PIR 传感器？</h1><figure class="kv kw kx ky gt is gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/f51606d21e95c503ebab440a6277987a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*X8_muDE7Qj8s92q0pOa4sg.jpeg"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">[Source: Google]</figcaption></figure><p id="6ed2" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">一个<strong class="lb jg">被动红外传感器</strong> ( <strong class="lb jg"> PIR 传感器</strong>)是一个电子传感器，它测量从其视野内的物体发出的红外(IR)光。它们最常用于基于 PIR 的运动检测器。所有温度高于绝对零度的物体都以辐射的形式放出热能。通常这种辐射对人眼是不可见的，因为它以红外波长辐射，但它可以被 PIR 传感器检测到。</p><h1 id="c6c9" class="nm lw jf bd lx nn ny np ma nq nz ns md kl oa km mg ko ob kp mj kr oc ks mm nw bi translated">什么是超声波传感器？</h1><figure class="kv kw kx ky gt is gh gi paragraph-image"><div class="gh gi od"><img src="../Images/99969f29fcc0add12024cdebee78ea1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*-GaM5gx7gxs2lLQXOVGoOg.jpeg"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">[Source: Google]</figcaption></figure><p id="b6f7" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">超声波传感器是一种使用超声波测量物体距离的仪器。超声波以高于人类听觉范围的频率振动。它使用单个传感器发送脉冲并接收回波。传感器通过测量发送和接收超声波脉冲之间的时间间隔来确定到目标的距离。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="85d4" class="nm lw jf bd lx nn no np ma nq nr ns md kl nt km mg ko nu kp mj kr nv ks mm nw bi translated">方法</h1><p id="7c6e" class="pw-post-body-paragraph kz la jf lb b lc mq kg le lf mr kj lh li oe lk ll lm of lo lp lq og ls lt lu ij bi translated">通俗地说，PIR 传感器将检测瞬间，摄像头将捕捉帧，Raspberry PI 将执行面部识别并提供最终输出。</p><p id="cde7" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">更详细地说，我已经将 PIR 传感器与 Raspberry PI 连接起来，网络摄像头正对着我公寓的前门。我没有使用 AWS 或任何其他云服务来执行推理或发送通知。我正在进行局部推断，并在我的扬声器上播放关于谁进入的声音。</p><p id="4a30" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">到目前为止，单独的 Raspberry PI 还不是一个理想的执行实时推理的嵌入式平台。因此，我使用 PIR 传感器来确定何时启动推理机并执行面部识别。你也可以使用超声波测距仪，但在我的情况下，我打算用它来完成我的另一个项目。</p><p id="350c" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">一旦门被打开，有人进入，PIR 传感器将开始检测。当 PIR 传感器检测到任何类型的移动时，摄像机将开始捕捉 10 秒钟的帧。与此同时，OpenCV 的“<a class="ae ne" href="https://docs.opencv.org/3.4.3/d7/d8b/tutorial_py_face_detection.html" rel="noopener ugc nofollow" target="_blank"> Haar Cascades </a>”将开始检测人脸，dlib 的“<a class="ae ne" href="http://dlib.net/face_landmark_detection.py.html" rel="noopener ugc nofollow" target="_blank"> 68 点人脸标志检测</a>”将检测到的人脸标志与保存的标志进行匹配，以检查它是否是入侵者？</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="01f9" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">使用 OpenCV，我们可以从网络摄像头捕捉帧，并将每个帧转换为 numpy 数组。这里，我们以 320x240 的速率记录帧。我们也可以录制全高清帧，但在 Raspberry PI 上执行人脸检测将花费大量时间。然后使用“haarcascade _ frontal face _ alt 2 . XML”模型，在给定的帧中检测人脸。一旦我们识别了所有的面孔，我们将把它们存储在一个列表中，以便将它们与保存的面孔进行比较。</p><figure class="kv kw kx ky gt is"><div class="bz fp l di"><div class="oh oi l"/></div></figure></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="d81f" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">我们会用 dlib 进行人脸对比。dlib 68 点人脸标志检测将为您提供给定人脸的标志。我们确实有一些已知的面部标志存储在 numpy 文件中，我们将在比较之前加载这些文件。一旦我们有了所有的地标，我们就能找到这些地标之间的距离。我们使用 0.6 作为阈值。给你阈值以下最小距离的面部标志是进入房间的已知人。如果值不低于阈值，那么它是一个入侵者！！</p><figure class="kv kw kx ky gt is"><div class="bz fp l di"><div class="oh oi l"/></div></figure></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="c625" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">您可以在下面的 git 资源库中找到完整的代码，</p><div class="ip iq gp gr ir oj"><a href="https://github.com/smitshilu/AISecurityCamera" rel="noopener  ugc nofollow" target="_blank"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd jg gy z fp oo fr fs op fu fw je bi translated">smitshilu/AISecurityCamera</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">在 GitHub 上创建一个帐户，为 smitshilu/AISecurityCamera 开发做出贡献。</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">github.com</p></div></div><div class="os l"><div class="ot l ou ov ow os ox ix oj"/></div></div></a></div><figure class="kv kw kx ky gt is"><div class="bz fp l di"><div class="oh oi l"/></div></figure></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h1 id="a5f4" class="nm lw jf bd lx nn no np ma nq nr ns md kl nt km mg ko nu kp mj kr nv ks mm nw bi translated">结论</h1><p id="9912" class="pw-post-body-paragraph kz la jf lb b lc mq kg le lf mr kj lh li oe lk ll lm of lo lp lq og ls lt lu ij bi translated">你可以在家里开发一个智能摄像头来获取入侵者的状态。你也可以使用 AWS 或 Google Cloud 等服务向你的手机或短信发送通知。</p><figure class="kv kw kx ky gt is"><div class="bz fp l di"><div class="oy oi l"/></div></figure><p id="b1f9" class="pw-post-body-paragraph kz la jf lb b lc ld kg le lf lg kj lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">如果你喜欢这篇文章，请关注我的<a class="ae ne" href="https://medium.com/@smitshilu" rel="noopener"><strong class="lb jg"><em class="oz"/></strong></a><strong class="lb jg"><em class="oz"/></strong>或<strong class="lb jg"><em class="oz"/></strong><a class="ae ne" href="https://github.com/smitshilu" rel="noopener ugc nofollow" target="_blank"><strong class="lb jg"><em class="oz">Github</em></strong></a><strong class="lb jg"><em class="oz"/></strong>或订阅我的<a class="ae ne" href="http://www.youtube.com/c/SmitShilu" rel="noopener ugc nofollow" target="_blank"> <strong class="lb jg"> <em class="oz"> YouTube 频道</em> </strong> </a>。</p></div></div>    
</body>
</html>