<html>
<head>
<title>Making-of: Trails of Wind</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">制作:风的轨迹</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/trails-of-wind-39967f07a67f?source=collection_archive---------17-----------------------#2019-07-12">https://towardsdatascience.com/trails-of-wind-39967f07a67f?source=collection_archive---------17-----------------------#2019-07-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/9ac07431861c60863da4d618ee104cdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JdBE6PNEvvrH4qWc"/></div></div></figure><div class=""/><div class=""><h2 id="cdee" class="pw-subtitle-paragraph kb jd je bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dk translated"><em class="kt">我们如何创建了一个机场跑道全球建筑的地图，结果是一个风的地图。</em></h2></div><blockquote class="ku kv kw"><p id="e6c6" class="kx ky kz la b lb lc kf ld le lf ki lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这篇文章是由<a class="ae lu" href="https://twitter.com/ElscheDavid" rel="noopener ugc nofollow" target="_blank">大卫·埃尔斯什</a>、<a class="ae lu" href="https://twitter.com/steffenhaensch" rel="noopener ugc nofollow" target="_blank">斯特芬·汉斯奇</a>和<a class="ae lu" href="https://twitter.com/sascha_collet" rel="noopener ugc nofollow" target="_blank">萨沙·科莱</a>合作完成的。</p></blockquote><div class="is it gp gr iu lv"><a href="https://trailsofwind.figures.cc/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd jf gy z fp ma fr fs mb fu fw jd bi translated">风的轨迹——机场跑道的建筑</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">空中旅行已经存在了一百多年。自成立以来，数以千计的机场跑道已经…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">trailsofwind.figures.cc</p></div></div><div class="me l"><div class="mf l mg mh mi me mj ja lv"/></div></div></a></div><p id="0606" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">当在飞机上飞行时，人造建筑以及它们如何改变地球的面貌令人叹为观止。鸟瞰图为人类如何与景观互动提供了一个全新的视角，利用每个山谷建造村庄，在森林周围塑造田野，在山路上修建高速公路。然而，一些最大的人造建筑是航空旅行本身所需要的:机场。但是为什么它们被建成现在的样子，跑道的方向是如何确定的呢？</p><p id="bb2b" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">在做了一些研究后，我们发现大多数机场跑道都建在该地区的平均风向上，以防止<a class="ae lu" href="https://en.wikipedia.org/wiki/Crosswind_landing" rel="noopener ugc nofollow" target="_blank">侧风着陆</a>，这对飞机和乘客都是危险的。在风向非常不规则的地区，跑道通常被设计成不同的方向，以确保运行过程的平稳。这就是为什么在这样的地区，机场不仅有平行的跑道，还会根据风向的变化形成不同的形状，比如三角形和正方形。</p><p id="8ec2" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated"><strong class="la jf"> <em class="kz">机场跑道形状</em> </strong></p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mn"><img src="../Images/d1e508208e4b0c17d0b883cd3ab39f7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uN49k90zPGhWrLMcslONZA.png"/></div></div></figure><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6e0ae2afa7f3a0bf1134ca156f52d26c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MuI-hfGC1mnON_aU"/></div></div></figure><p id="cc86" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">我们的结论是，机场的方位和巨大数量理论上可以提供一个地区的大致风向信息，因为机场在其建筑中反映了风向。</p><h1 id="8179" class="ms mt je bd mu mv mw mx my mz na nb nc kk nd kl ne kn nf ko ng kq nh kr ni nj bi translated">数据探索</h1><p id="03f8" class="pw-post-body-paragraph kx ky je la b lb nk kf ld le nl ki lg mk nm lj lk ml nn ln lo mm no lr ls lt im bi translated"><strong class="la jf"> <em class="kz">工具</em> </strong> <em class="kz"> JupiterLab，牛郎星</em></p><div class="is it gp gr iu lv"><a href="http://ourairports.com/data/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd jf gy z fp ma fr fs mb fu fw jd bi translated">开放数据@我们的机场</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">对于更密集的工作，我们有一个 CSV 格式的所有机场、国家和地区的数据转储，我们更新…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">ourairports.com</p></div></div><div class="me l"><div class="np l mg mh mi me mj ja lv"/></div></div></a></div><p id="3e7f" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">在寻找合适的记录时，我们看到了<a class="ae lu" href="http://ourairports.com/data/" rel="noopener ugc nofollow" target="_blank"> <em class="kz">我们的报告</em> </a>页面。它包含了世界上所有机场的广泛集合，还提供了进一步的信息，如<strong class="la jf">乘客频率</strong>、高于的<strong class="la jf">海拔</strong>和低于海平面<strong class="la jf">的<strong class="la jf">以及另一个具有关于跑道(长度、宽度、表面等)的详细参考的数据集。).在移除了不相关的数据，如<strong class="la jf">直升机场</strong>、<strong class="la jf">关闭的机场</strong>和<strong class="la jf">没有坐标的跑道</strong>之后，我们将跑道数据集与机场数据集进行了比较。</strong></strong></p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nq"><img src="../Images/f129fd0fdcfded74064132634fea184d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iL5-OxMDc4fJP49xXjZXpg.png"/></div></div></figure><p id="8f66" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">如您所见，数据集中的许多跑道都没有地理配准，这就是大量跑道无法显示的原因。由此导致的许多机场的缺乏在南美、非洲和巴布亚新几内亚尤为明显。</p><p id="9e05" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">在使用 follow 初步可视化跑道以查看数据集中偏离的跑道线后，我们手动消除了错误。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6dcd30eca5f7827fee840c81414046bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UIb1VGh_P9hLlrHp"/></div></div></figure><p id="693c" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">跑道在长度和宽度方面有很大的不同，在大多数情况下遵循在机场降落的飞机类型的规格。一种类型的飞机起飞所需的跑道长度取决于各种属性，如重量、空气动力学、发动机和当地气压，对于一架<a class="ae lu" href="https://www.airbus.com/content/dam/corporate-topics/publications/backgrounders/techdata/aircraft_characteristics/Airbus-Aircraft-AC-A380.pdf" rel="noopener ugc nofollow" target="_blank"> A380(见第 130 页)</a>来说，长度在几百米到几千米之间。</p><p id="d2a7" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">这个可视化的数据集显示，跑道的宽度比长度有更清晰的结构。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nr"><img src="../Images/0f6044ab6f8254419ee69f2dae54e1ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DYcs5j2BcyuHacUXv5Gs7w.png"/></div></div></figure><p id="1f6d" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">为了比较跑道方向，统一显示它们是很重要的。我们用<a class="ae lu" href="https://pypi.org/project/geographiclib/" rel="noopener ugc nofollow" target="_blank"> Geographiclib </a>计算了跑道端点坐标之间的中点，并计算了相对于南北轴的旋转角度，以便稍后在地图上投影这些线。</p><p id="9c8c" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">计算出各自的角度后，是时候看看全球跑道的方向了。因此，我们将方位减少到几乎 179°的半圆，以避免重复计算角度(因为着陆带可以从两侧飞行),并给出更清晰的表示。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ns"><img src="../Images/fbb40169da47380148951357da370c3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iJdwqmghhc6xnhSTwfcUtg.png"/></div></div></figure><p id="d271" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">这里引人注目的是跑道朝向磁北极的高架方向。在南北轴(0°)和东西轴(90°<strong class="la jf">)</strong>可以看到明显增加的数量，较小的峰值在 45°和-45°处。</p><p id="14bf" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">为了在 web 应用程序中进一步使用，所有不重要的信息都被删除并导出到最终的 JSON 文件中。坐标点四舍五入到小数点后六位数，以减小文件大小。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nt"><img src="../Images/f7c8d97954faa4d0655e80c9ae21ba96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZG_JUQIoQO96McrG_G2q0Q.png"/></div></div></figure><h1 id="48a4" class="ms mt je bd mu mv mw mx my mz na nb nc kk nd kl ne kn nf ko ng kq nh kr ni nj bi translated">设计</h1><p id="ce0f" class="pw-post-body-paragraph kx ky je la b lb nk kf ld le nl ki lg mk nm lj lk ml nn ln lo mm no lr ls lt im bi translated"><strong class="la jf"> <em class="kz">工具</em> </strong> <em class="kz"> Sketchapp，Mapbox Studio </em></p><p id="636e" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">为了可视化我们的发现，我们需要一个交互式的世界地图，它将跑道绘制成可比较的线条，并给出各个跑道的详细视图。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/8ece5bc5c50f15a1fa05a52120941881.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kjpw29E21Nbw8tZNIY5ugg.png"/></div></div><figcaption class="nu nv gj gh gi nw nx bd b be z dk">Mapbox Studio Interface</figcaption></figure><p id="c495" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">Mapbox Studio 提供了用您自己的设计来设计 Openstreet 地图数据的可能性，以及添加额外的外部地图数据和字体的可能性。为了可视化实际的地图，我们的挑战是使地图尽可能简单，同时提供适当的方向信息。</p><p id="bea8" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">应该表示以下元素。</p><ul class=""><li id="a2f7" class="ny nz je la b lb lc le lf mk oa ml ob mm oc lt od oe of og bi translated"><strong class="la jf">跑道</strong></li><li id="f34f" class="ny nz je la b lb oh le oi mk oj ml ok mm ol lt od oe of og bi translated"><strong class="la jf">滑行道</strong></li><li id="7a86" class="ny nz je la b lb oh le oi mk oj ml ok mm ol lt od oe of og bi translated"><strong class="la jf">立面模型</strong></li><li id="4b16" class="ny nz je la b lb oh le oi mk oj ml ok mm ol lt od oe of og bi translated"><strong class="la jf">水</strong></li><li id="78ee" class="ny nz je la b lb oh le oi mk oj ml ok mm ol lt od oe of og bi translated"><strong class="la jf">街道</strong></li><li id="967a" class="ny nz je la b lb oh le oi mk oj ml ok mm ol lt od oe of og bi translated"><strong class="la jf">国家边界</strong></li><li id="2d78" class="ny nz je la b lb oh le oi mk oj ml ok mm ol lt od oe of og bi translated"><strong class="la jf">机场名称</strong></li><li id="3a8e" class="ny nz je la b lb oh le oi mk oj ml ok mm ol lt od oe of og bi translated"><strong class="la jf">国际航空运输协会机场代码</strong></li></ul><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi om"><img src="../Images/0c96bdb683224a9134c45b9a53f25ad4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*URnqR1SyKatZEsUp_TZSVA.gif"/></div></div></figure><p id="1d3f" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">由三个字母组成的国际航空运输协会-机场代码用于准确识别机场。类似于国家的 ISO 代码。</p><p id="3e5b" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">这也用于设计机场机票，我们想把它放在微型网站的侧边栏中。在这些票的帮助下，可以讲述一个带有相应的可视化、图例和插图的故事。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi on"><img src="../Images/2997a713ec071a517f23a46cb9c0fe9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_S5Do9vppcc_xSc8AyZvsA.png"/></div></div></figure><p id="5388" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">在完整的桌面版本中，用户可以在地图上自由导航，也可以在侧边栏中滚动讲故事。在智能手机版本中，地图用于在滚动浏览故事的同时显示我们探索的本质，因为地图上许多线条的表示非常注重性能，并且导航有限。为了在移动设备上提供更好的用户体验，重点应该是故事而不是免费导航。</p><p id="9a56" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">在探险中还有许多其他有趣的发现。然而，为了保持故事简短切题，我们在我们的社交媒体账户中发布了有趣的事实作为预尝，而不是用太多的信息塞满网站。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3d8b8dd49ddaab04a7c4974958f47635.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*prueUdOtMb_HihrS"/></div></div></figure><h1 id="053c" class="ms mt je bd mu mv mw mx my mz na nb nc kk nd kl ne kn nf ko ng kq nh kr ni nj bi translated">编码</h1><p id="9b79" class="pw-post-body-paragraph kx ky je la b lb nk kf ld le nl ki lg mk nm lj lk ml nn ln lo mm no lr ls lt im bi translated"><strong class="la jf"> <em class="kz">主要工具</em> </strong> React.js，D3.js，Mapbox GL，Typescript，React Waypoints</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi on"><img src="../Images/047b3993360482792791b2ed7237ddd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K7PY08o1HcwQ29iS7Qgt3g.png"/></div></div></figure><p id="1e39" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">我们的微型网站的基础是 react-map-gl，一个绑定到 Mapbox GL JS 的 react，它允许我们显示我们自己在 Mapbox Designstudio 中创建的地图设计。地图上的画布覆盖使线条的实际可视化成为可能。</p><p id="ddcd" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">为了在缩放时使线条变小并消失，我们使用了 D3 提供的缩放功能。</p><p id="2bef" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">React Waypoints 提供了在滚动侧边栏时触发某些事件的可能性，以便使用 react-map-gl 提供的 fly to 插值器飞到地图的区域。</p><p id="03ca" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">虽然在 Sketchapp 中有两个侧边栏图形被设计并导出为静态 SVG，但所有跑道的分布表示必须通过编程来创建。为了不超出南北轴上的计数范围，对数标度是必要的。同时，可视化应该与地图直接联系起来理解，这就是为什么线的径向表示似乎是最合适的，能够直接在地图上读取角度。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nq"><img src="../Images/773b88766c4173045fa8b6dd77549b97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CCSDrYrQtyHoUVurxpgCjg.png"/></div></div></figure><h1 id="2f3b" class="ms mt je bd mu mv mw mx my mz na nb nc kk nd kl ne kn nf ko ng kq nh kr ni nj bi translated">结论</h1><p id="c183" class="pw-post-body-paragraph kx ky je la b lb nk kf ld le nl ki lg mk nm lj lk ml nn ln lo mm no lr ls lt im bi translated">像往常一样，我们会在项目上花更多的时间来展示更多有趣的事实和见解。</p><p id="38e6" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">未来，我们希望直接从<a class="ae lu" href="http://www.openstreetmap.org" rel="noopener ugc nofollow" target="_blank"> OpenStreetMap </a>中提取跑道数据，以增加显示机场的数量。此外，可以添加一个带有一些过滤器的微型网站，以便根据某些标准搜索跑道。为了提高性能，还可以为显示的行编写自己的着色器。</p><p id="adf6" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">我们乐于分享我们的知识，并一直在寻找新的挑战和跨学科的项目和合作伙伴。</p><p id="f7e1" class="pw-post-body-paragraph kx ky je la b lb lc kf ld le lf ki lg mk li lj lk ml lm ln lo mm lq lr ls lt im bi translated">我们将非常高兴收到您的反馈。</p></div></div>    
</body>
</html>