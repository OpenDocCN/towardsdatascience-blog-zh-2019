<html>
<head>
<title>Inference in Graph Database</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">图形数据库中的推理</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/inference-in-graph-database-7203938932a0?source=collection_archive---------12-----------------------#2019-12-11">https://towardsdatascience.com/inference-in-graph-database-7203938932a0?source=collection_archive---------12-----------------------#2019-12-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="71cb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这篇博文中，我将尝试解释语义网上的推理是什么，并展示如何在本地图数据库中应用推理。我的博客的大纲如下:</p><ol class=""><li id="ea59" class="ko kp it js b jt ju jx jy kb kq kf kr kj ks kn kt ku kv kw bi translated">什么是推论？</li><li id="b78c" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">是用来做什么的？</li><li id="4da3" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">程序的类型</li><li id="ba70" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">图形数据库和本体</li><li id="2a3a" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">数据库推理</li><li id="cc27" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">结论</li></ol><h1 id="d5df" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">什么是推论？</h1><p id="1f62" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">如 W3 标准所述，推理是基于给定的本体在图中简单地发现新的边。在语义网上，数据被建模为三元组，即两个资源和它们之间的一个关系。推断是<strong class="js iu">根据数据和一些附加信息推断</strong>新的三元组，这些信息可能是词汇表(本体)和规则集(逻辑)的形式。例如，假设我们有两个来源:<em class="mf">约翰</em>人类和<em class="mf">马克斯</em>狗，并且我们有信息表明<em class="mf">约翰</em> <strong class="js iu">拥有</strong> <em class="mf">马克斯</em>和<em class="mf">马克斯</em> <strong class="js iu">是</strong> <em class="mf">狗。</em>此外，如果我们有一个额外的词汇，其中包括信息；<em class="mf">狗</em> <strong class="js iu">是</strong> <em class="mf">哺乳动物</em>。我们可以<strong class="js iu">推断</strong>得出<em class="mf"> Max </em> <strong class="js iu">是</strong> <em class="mf">哺乳动物</em>而<em class="mf"> John </em> <strong class="js iu">有</strong> <em class="mf">哺乳动物</em>。</p><h1 id="6741" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">是用来做什么的？</h1><p id="a521" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">语义网上的推理用于提高网上数据集成的质量。它自动提供数据中的新链接并分析内容。同样，它也检查网络上数据的一致性。例如，假设我们有包含信息<em class="mf">朵拉</em> <strong class="js iu">是</strong> <em class="mf">奶牛</em>和<em class="mf">朵拉</em> <strong class="js iu">是</strong> <em class="mf">食肉动物的数据。</em>如果我们检查动物的本体论，这与牛是素食者是不一致的。</p><h1 id="0432" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated"><strong class="ak">程序的类型</strong></h1><p id="e6bc" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">如上所述，新链接的自动发现是通过使用词汇表或规则集来完成的。在语义网上，词汇或本体可以用 OWL、SKOS 和 RDF 描述，而规则集用 RIF 描述。这些技术是 W3C 基金会推荐的。此外，本体基于类和子类关系，然而，规则集描述一般规则以基于现有关系生成新关系。</p><h1 id="3c12" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated"><strong class="ak">图形数据库和本体</strong></h1><p id="5e6b" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">由于数据库领域新的便捷技术，我们能够将数据存储为图表。尤其是图形数据库。有这样一个强大的工具是非常好的。更好的是，我们可以通过包含通用词汇、本体🚀</p><p id="2bfe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我之前的博文中，我描述了如何通过使用名为<a class="ae mg" href="https://neo4j.com/labs/nsmtx-rdf/" rel="noopener ugc nofollow" target="_blank"> NSMNTX — Neo4j RDF &amp;语义工具包</a>的插件将本体导入 Neo4j 数据库。请在继续之前先阅读博客文章。</p><div class="mh mi gp gr mj mk"><a href="https://medium.com/@atakanguney94/a-comparison-of-label-property-graph-and-the-rdf-cd94d2943d53" rel="noopener follow" target="_blank"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd iu gy z fp mp fr fs mq fu fw is bi translated">标签属性图与 RDF 的比较</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">在这篇博客中，我将简单解释一下什么是标签属性图，有什么区别和相似之处…</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">medium.com</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my mz mk"/></div></div></a></div><h1 id="e1fc" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated"><strong class="ak">数据库上的推理</strong></h1><p id="4171" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">除了导入数据库之外，现在我们还要对其进行推理。您可能还记得上一篇文章，我们可以从外部在线商店导入本体。但是为了简单起见，在这篇博文中，我们将自己创建我们的<em class="mf">动物世界</em>本体。让我们开始吧😅</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="2459" class="nj ld it nf b gy nk nl l nm nn">CREATE (a: AnimalType{authoritativeLabel: "Mammals", dbLabel: "Mammals"})<br/>CREATE (b: AnimalType{authoritativeLabel: "Dog", dbLabel: "Dog"})<br/>CREATE (c: AnimalType{authoritativeLabel: "Cat", dbLabel: "Cat"})<br/>CREATE (d: AnimalType{authoritativeLabel: "Horse", dbLabel: "Horse"})<br/>CREATE (a)&lt;-[:IS_A]-(b)<br/>CREATE (a)&lt;-[:IS_A]-(c)<br/>CREATE (a)&lt;-[:IS_A]-(d)</span></pre><p id="021b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将产生一些 AnimalType 类型的节点，它们之间有关系。让我们看看。</p><figure class="na nb nc nd gt np gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi no"><img src="../Images/01c1b8160cb5491bccf7cdc9fc9c3a79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KoVe1tOEXJQLt8hhzx9BLg.png"/></div></div></figure><p id="5549" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个动物模型告诉我们动物之间的关系。所以，现在创建一些被认为是宠物的动物实例。</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="e19a" class="nj ld it nf b gy nk nl l nm nn">CREATE (:Pet:Dog{name: "Max"})<br/>CREATE (:Pet:Cat{name: "Missy"})<br/>CREATE (:Pet:Horse{name: "DulDul"})</span></pre><p id="e499" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将会产生</p><figure class="na nb nc nd gt np gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi nv"><img src="../Images/fe99dfdb32225dcf46db51d398b95670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iPNI3kOVHbpFx5Sv4YS2dw.png"/></div></div></figure><p id="97f6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们的第一个推论是所有的哺乳动物。因此，如您所见，我们的数据只包含三个不同的节点。</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="b2d3" class="nj ld it nf b gy nk nl l nm nn">CALL semantics.inference.nodesLabelled('Mammals',  { catNameProp: "dbLabel", catLabel: "AnimalType", subCatRel: "IS_A" }) YIELD node<br/>RETURN node.name as name, labels(node) as categories</span></pre><p id="f08b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将会回来</p><figure class="na nb nc nd gt np gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi nw"><img src="../Images/f8c703a04e30a0daab43125380e9973b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VjwPJDsMbgeR-ksEh1-Q1w.png"/></div></div></figure><p id="110c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，在我们的数据库中没有任何关系的情况下，我们通过使用我们的词汇来推断公共标签关系。</p><p id="ce83" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，让我们添加一些关系。</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="619c" class="nj ld it nf b gy nk nl l nm nn">MATCH (c:Cat{name: "Missy"})<br/>MATCH (d:Dog{name: "Max"})<br/>MATCH (h:Horse{name: "DulDul"})<br/>CREATE(jn: Person{name: "John"})<br/>CREATE(al: Person{name: "Alex"})<br/>CREATE (jn)-[:LOVES]-&gt;(d)<br/>CREATE (h)-[:LOVES]-&gt;(d)<br/>CREATE (al)-[:LOVES]-&gt;(c)</span></pre><p id="4d98" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这将导致</p><figure class="na nb nc nd gt np gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi nx"><img src="../Images/cbd28f69e0a7d5d0eefc40f6e813f1ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4MTcuysskCMa6qso7ib2A.png"/></div></div></figure><p id="3f42" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">作为第二种推论，让我们试着让所有的动物爱好者❤️</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="540a" class="nj ld it nf b gy nk nl l nm nn">MATCH (p)-[:LOVES]-&gt;(pt)<br/>WHERE semantics.inference.hasLabel(pt,'Mammals', { catNameProp: "dbLabel", catLabel: "AnimalType", subCatRel: "IS_A" })<br/>RETURN p.name as name</span></pre><p id="cb61" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结果来了…</p><figure class="na nb nc nd gt np gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi ny"><img src="../Images/d1465c370d01f73bbdd7a5b239b0db3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WYcpvpuY8di0aQQp2LmH1g.png"/></div></div></figure><p id="3f46" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，让我们对词汇本身进行推理。在此之前，让我们稍微扩展一下</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="eb13" class="nj ld it nf b gy nk nl l nm nn">MATCH (h:AnimalType{authoritativeLabel: "Horse"})<br/>MATCH (d:AnimalType{authoritativeLabel: "Dog"})<br/>MATCH (c:AnimalType{authoritativeLabel: "Cat"})</span><span id="bd04" class="nj ld it nf b gy nz nl l nm nn">CREATE (:Film {title: "A Dog's Journey"})-[:HAS_SUBJECT]-&gt;(d)<br/>CREATE (:Film {title: "Cats"})-[:HAS_SUBJECT]-&gt;(c)<br/>CREATE (:Film {title: "The Mustang"})-[:HAS_SUBJECT]-&gt;(h)</span></pre><p id="f0b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">想象一下</p><figure class="na nb nc nd gt np gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi oa"><img src="../Images/6bb46f1d011703500aa1001a2676b541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uYMzbDFN624NVa-Z7ZOIug.png"/></div></div></figure><p id="0b8c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们添加了一些以动物为主题的电影。我们的下一个推理类型是类别推理类型中的节点。让我们试着得到所有以哺乳动物为主题的电影</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="9a63" class="nj ld it nf b gy nk nl l nm nn">MATCH (cat:AnimalType { authoritativeLabel: "Mammals"})<br/>CALL semantics.inference.nodesInCategory(cat, { inCatRel: "HAS_SUBJECT", subCatRel: "IS_A"}) yield node<br/>return node.title as film</span></pre><p id="39c0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">还有…</p><figure class="na nb nc nd gt np gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi ob"><img src="../Images/4bfee838c84a7a5db71ace11e1283162.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nRItZsUspnPTCbMeidhROQ.png"/></div></div></figure><p id="e52f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们得到了我们想要的😈</p><p id="8133" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，让我们看看最后一种推理类型。我们的数据再次发生。但在此之前，让我们定义一下不同于哺乳动物的其他动物类型:鱼和鲨鱼。同样，我们再加一个 IS_A 关系。</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="7226" class="nj ld it nf b gy nk nl l nm nn">CREATE (f:AnimalType{authoritativeLabel: "Fish", dbLabel: "Fish"})<br/>CREATE (sh:AnimalType{authoritativeLabel: "Shark", dbLabel: "Shark"})</span><span id="c768" class="nj ld it nf b gy nz nl l nm nn">CREATE (f)&lt;-[:IS_A]-(sh)</span></pre><p id="7f37" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创作一部关于鲨鱼的电影</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="1bb3" class="nj ld it nf b gy nk nl l nm nn">MATCH (s: AnimalType{authoritativeLabel: "Shark"})</span><span id="b1ba" class="nj ld it nf b gy nz nl l nm nn">CREATE (:Film {title: "Frenzen"})-[:HAS_SUBJECT]-&gt;(s)</span></pre><p id="9a67" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们最终的词汇表将如下所示</p><figure class="na nb nc nd gt np gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi oc"><img src="../Images/2fddd5df85ba4c0693fd977b444c722b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZbPUZMSLovlvLtDRZO5GMQ.png"/></div></div></figure><p id="96a5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在将新信息添加到我们的数据中</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="f470" class="nj ld it nf b gy nk nl l nm nn">MERGE (p:Person { name : "John"}) with p<br/>MATCH (film1:Film { title : "Cats" })<br/>MATCH (film2:Film { title : "Frenzen" })<br/>WITH p, film1, film2<br/>CREATE (film1)&lt;-[:LIKES]-(p)-[:LIKES]-&gt;(film2)</span></pre><p id="a646" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我们的图形数据库中查看相应的数据</p><figure class="na nb nc nd gt np gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi od"><img src="../Images/fd2bca16498243c7edec4b75fc502b53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZxC0MfK32IKPusE20pfQ8A.png"/></div></div></figure><p id="9c95" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以，我们的人约翰既喜欢猫也喜欢法语。让我们问一下约翰喜欢的电影中哪一部有关于鱼的主题。</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="df0d" class="nj ld it nf b gy nk nl l nm nn">MATCH (fish:AnimalType { authoritativeLabel: "Fish"})<br/>MATCH (:Person { name : "John"})-[:LIKES]-&gt;(b:Film)<br/>WHERE semantics.inference.inCategory(b,fish,{ inCatRel: "HAS_SUBJECT", subCatRel: "IS_A"})<br/>RETURN b.title as title</span></pre><figure class="na nb nc nd gt np gh gi paragraph-image"><div role="button" tabindex="0" class="nq nr di ns bf nt"><div class="gh gi oe"><img src="../Images/29c9402acab304e38244f27f76bf7c3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*no_mY7pT3qwaLGtyXBNIVQ.png"/></div></div></figure><p id="9207" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">是的，我们有结果了💪</p><h1 id="09d8" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated"><strong class="ak">结论</strong></h1><p id="92e9" class="pw-post-body-paragraph jq jr it js b jt ma jv jw jx mb jz ka kb mc kd ke kf md kh ki kj me kl km kn im bi translated">最近，NoSQL 数据库而不是关系数据库吸引了人们的注意力。在各种各样的 NoSQL 数据库中，基于图的数据库越来越受到人们的关注。依我拙见，将外部信息包含到图形数据库中，并对其进行管理、分析和校对，将是很有价值的。导入本体是一种很好的简洁的方法。我希望你喜欢这个博客。更多有趣的工具，敬请关注🚀</p><h1 id="d521" class="lc ld it bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated"><strong class="ak">参考文献</strong></h1><ul class=""><li id="a65d" class="ko kp it js b jt ma jx mb kb of kf og kj oh kn oi ku kv kw bi translated"><a class="ae mg" href="https://www.w3.org/standards/semanticweb/inference" rel="noopener ugc nofollow" target="_blank">https://www.w3.org/standards/semanticweb/inference</a></li><li id="f99c" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn oi ku kv kw bi translated"><a class="ae mg" href="https://neo4j.com/docs/labs/nsmntx/current/inference/" rel="noopener ugc nofollow" target="_blank">https://neo4j.com/docs/labs/nsmntx/current/inference/</a></li></ul></div></div>    
</body>
</html>