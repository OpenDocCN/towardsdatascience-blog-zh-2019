<html>
<head>
<title>Jupyter Superpower — Interactive Visualization Combo with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">jupyter Superpower——与 Python 的交互式可视化组合</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/jupyter-superpower-interactive-visualization-combo-with-python-ffc0adb37b7b?source=collection_archive---------3-----------------------#2019-03-10">https://towardsdatascience.com/jupyter-superpower-interactive-visualization-combo-with-python-ffc0adb37b7b?source=collection_archive---------3-----------------------#2019-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jq jr js jt gh gi paragraph-image"><div class="ab gu cl ju"><img src="../Images/fa89ef042cd2388381e6c241c704d65f.png" data-original-src="https://miro.medium.com/v2/1*vaUewbjM8vBtO3ro730UTw.gif"/></div></figure><h1 id="834e" class="jx jy it bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated"><strong class="ak">简介</strong></h1><p id="9986" class="pw-post-body-paragraph kv kw it kx b ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><a class="ae lt" href="https://altair-viz.github.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx iu">牛郎星</strong> </a> <strong class="kx iu"> </strong>是一个交互式可视化库。它提供了更一致的 API。这是作者对图书馆的描述。</p><blockquote class="lu lv lw"><p id="1fe4" class="kv kw lx kx b ky ly la lb lc lz le lf ma mb li lj mc md lm ln me mf lq lr ls im bi translated">Python 的声明性统计可视化库</p></blockquote><p id="0b47" class="pw-post-body-paragraph kv kw it kx b ky ly la lb lc lz le lf lg mb li lj lk md lm ln lo mf lq lr ls im bi translated">它的意思是，它专注于<em class="lx">要绘制什么</em>而不是<em class="lx">如何</em>绘制，你可以像<strong class="kx iu"> ggplot </strong>一样轻松组合不同的组件。在进入本库之前，我想快速介绍两个对数据探索有用的工具。你可以很容易地给像<strong class="kx iu"> seaborn </strong>或<strong class="kx iu"> matplotlib 这样的库添加更多的交互性。</strong>在<a class="ae lt" href="https://github.com/noklam/Gallery" rel="noopener ugc nofollow" target="_blank"> Github </a>上查看一些简单的例子，我已经将大部分例子包含在资源库中</p><ul class=""><li id="8909" class="mg mh it kx b ky ly lc lz lg mi lk mj lo mk ls ml mm mn mo bi translated"><a class="ae lt" href="#6af7" rel="noopener ugc nofollow"> <strong class="kx iu"> ipywidgets </strong> </a></li><li id="a68d" class="mg mh it kx b ky mp lc mq lg mr lk ms lo mt ls ml mm mn mo bi translated"><a class="ae lt" href="#10bf" rel="noopener ugc nofollow"> <strong class="kx iu"> qgrid </strong> </a></li><li id="cc55" class="mg mh it kx b ky mp lc mq lg mr lk ms lo mt ls ml mm mn mo bi translated"><a class="ae lt" href="#ac82" rel="noopener ugc nofollow"> <strong class="kx iu">牛郎星</strong> </a></li></ul><h1 id="6af7" class="jx jy it bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated"><strong class="ak"> Ipywidgets </strong></h1><p id="4aec" class="pw-post-body-paragraph kv kw it kx b ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kx iu"> ipywidgets </strong>允许你用鼠标与 Jupyter Notebook/Lab <strong class="kx iu">交互，</strong>它让 Jupyter Notebook 看起来几乎就像一个小应用程序本身。您可以在笔记本中添加<em class="lx">切片器、按钮和复选框</em>。这里有一些使用<strong class="kx iu"> ipywidgets 的好项目。</strong></p><figure class="mv mw mx my gt jt gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi mu"><img src="../Images/a43d0fe27535fa76b974a92e1a0c04b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hKOOsoZJe2IjnqJFd2_kBQ.png"/></div></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk"><a class="ae lt" href="https://www.hongkongfp.com/2019/01/21/hong-kong-nurses-protest-overcrowding-lack-resources-public-hospitals-health-chief-booed/" rel="noopener ugc nofollow" target="_blank">https://www.hongkongfp.com/2019/01/21/hong-kong-nurses-protest-overcrowding-lack-resources-public-hospitals-health-chief-booed/</a></figcaption></figure><p id="4b67" class="pw-post-body-paragraph kv kw it kx b ky ly la lb lc lz le lf lg mb li lj lk md lm ln lo mf lq lr ls im bi translated">针对香港过度拥挤的医院，我用<strong class="kx iu">事故&amp;急诊【A &amp; E】服务等待时间</strong>做了一个例子。这里的图显示了医院的平均等待时间，而 ipywidgets 在这里简单地添加了一个下拉菜单，您可以交互地更改图的颜色。</p><figure class="mv mw mx my gt jt"><div class="bz fp l di"><div class="nh ni l"/></div></figure><figure class="mv mw mx my gt jt gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi nj"><img src="../Images/ffb8803f975e1d37b81e08bc2c692176.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*qMtC6t1eI7V60NvObz8KSQ.gif"/></div></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk">Simple dropdown menu to interact with static plotting library</figcaption></figure><div class="nk nl gp gr nm nn"><a href="https://github.com/jupyter-widgets/ipyleaflet" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">jupyter-widgets/ipyleaflet</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">Jupyter-fleet . js 桥。在 GitHub 上创建一个帐户，为 jupyter-widgets/ipyleaflet 开发做出贡献。</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">github.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob jv nn"/></div></div></a></div><div class="nk nl gp gr nm nn"><a href="https://github.com/jupyter-widgets/pythreejs" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">jupyter-widgets/pytreejs</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">Jupyter - Three.js 桥。在 GitHub 上创建一个帐户，为 jupyter-widgets/pytreejs 的开发做出贡献。</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">github.com</p></div></div><div class="nw l"><div class="oc l ny nz oa nw ob jv nn"/></div></div></a></div><h1 id="10bf" class="jx jy it bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">qgrid</h1><p id="dc47" class="pw-post-body-paragraph kv kw it kx b ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">qgrid 让你在 Jupyter 笔记本/实验室里有一个类似 Excel 的表格，在引擎盖下，它使用 ipywidgets。这是非常有用的，当你试图理解你的数据，而不是输入大量的代码，你可以通过点击排序你的数据，通过点击临时过滤一些数据。简直太棒了！</p><figure class="mv mw mx my gt jt gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi od"><img src="../Images/4e5971366dc4db638899e19094d07f8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kwl8fWE5EfSI30EYe_W_0w.png"/></div></div></figure></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><h1 id="ac82" class="jx jy it bd jz ka ol kc kd ke om kg kh ki on kk kl km oo ko kp kq op ks kt ku bi translated"><strong class="ak">牛郎星</strong></h1><p id="9f6d" class="pw-post-body-paragraph kv kw it kx b ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">altair 有一个示例库，演示了您可以制作的各种可视化。</p><figure class="mv mw mx my gt jt gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/5a8a8d1d592cf29923695341c38401c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*swGcZuLnfSPc0Y8DaW28kw.png"/></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk">Rich Example Gallery of <strong class="bd or">altair</strong></figcaption></figure><h2 id="d16d" class="os jy it bd jz ot ou dn kd ov ow dp kh lg ox oy kl lk oz pa kp lo pb pc kt pd bi translated">1.交互式绘图</h2><figure class="mv mw mx my gt jt gh gi paragraph-image"><div class="ab gu cl ju"><img src="../Images/fa89ef042cd2388381e6c241c704d65f.png" data-original-src="https://miro.medium.com/v2/1*vaUewbjM8vBtO3ro730UTw.gif"/></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk">Upper left: Multiple Selection, Upper right: box style multiple selections, bottom left: single selection, bottom right: mouse hover single selection</figcaption></figure><p id="4367" class="pw-post-body-paragraph kv kw it kx b ky ly la lb lc lz le lf lg mb li lj lk md lm ln lo mf lq lr ls im bi translated">牛郎星为交互式绘图提供了很多选择。上面的 gif 给你一种感觉，这有多简单。只需一行代码，您就可以改变图表的行为。交互性对于数据探索是至关重要的，因为您经常想要深入数据的某个子集。交叉过滤等功能在<strong class="kx iu"> Excel </strong>或<strong class="kx iu"> Tableau </strong>中非常常见。</p><h2 id="e43e" class="os jy it bd jz ot ou dn kd ov ow dp kh lg ox oy kl lk oz pa kp lo pb pc kt pd bi translated">2.简洁的语法和易于组合的图表</h2><p id="5cda" class="pw-post-body-paragraph kv kw it kx b ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">语法有点像<code class="fe pe pf pg ph b">ggplot</code>，创建一个图表对象并在其上添加编码/颜色/比例。</p><figure class="mv mw mx my gt jt"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="e3d0" class="pw-post-body-paragraph kv kw it kx b ky ly la lb lc lz le lf lg mb li lj lk md lm ln lo mf lq lr ls im bi translated">如果你使用过 matplotlib ，你可能会多次尝试查找文档。牛郎星充分利用了像<code class="fe pe pf pg ph b">+</code> <code class="fe pe pf pg ph b">&amp;</code> <code class="fe pe pf pg ph b">|</code>这样的符号，当你想要组合不同的图表时，这些符号非常直观。例如，<code class="fe pe pf pg ph b">a|b</code>表示水平叠加图表<code class="fe pe pf pg ph b">a</code>和图表<code class="fe pe pf pg ph b">b</code>。<code class="fe pe pf pg ph b">a+b</code>在图表 a 上平均叠加图表 b。</p><p id="9d4c" class="pw-post-body-paragraph kv kw it kx b ky ly la lb lc lz le lf lg mb li lj lk md lm ln lo mf lq lr ls im bi translated">叠加两个图表的能力非常强大，<strong class="kx iu">它允许我们在同一个图表上绘制两个图表，而不需要实际连接它。</strong></p><p id="7318" class="pw-post-body-paragraph kv kw it kx b ky ly la lb lc lz le lf lg mb li lj lk md lm ln lo mf lq lr ls im bi translated">这里有一个例子。我从两个不同的数据集创建了两个图表，它们都连接到一个带有<strong class="kx iu">医院名称的选择过滤器。你可以在这里找到我的例子<a class="ae lt" href="https://noklam.github.io/Gallery/chart9.html" rel="noopener ugc nofollow" target="_blank"/>。图表 A 按小时显示历史平均等待时间，而图表 B 按小时显示过去 30 天的平均等待时间。</strong></p><figure class="mv mw mx my gt jt gh gi paragraph-image"><div role="button" tabindex="0" class="mz na di nb bf nc"><div class="gh gi pi"><img src="../Images/9424bd565b45b60df10519481b1476bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yVs_BXkBt141snQItRq1Qg.png"/></div></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk">The bottom left chart is created simply using a+b, both chars are controlled by a filter in the upper left bar chart.</figcaption></figure><h2 id="9d18" class="os jy it bd jz ot ou dn kd ov ow dp kh lg ox oy kl lk oz pa kp lo pb pc kt pd bi translated">3.出口很容易</h2><p id="4999" class="pw-post-body-paragraph kv kw it kx b ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">很多时候你只是想分享一个图表。你只需要做<code class="fe pe pf pg ph b">Chart.save()</code>，直接和你的同事分享 HTML。事实上，它只是 JSON 和 HTML，这也意味着您可以轻松地将其与您的 web 前端集成。</p><p id="62af" class="pw-post-body-paragraph kv kw it kx b ky ly la lb lc lz le lf lg mb li lj lk md lm ln lo mf lq lr ls im bi translated">如果你想要一个拥有大量数据的复杂仪表板，<strong class="kx iu"> Tableau 或 Dash (Plotly)之类的工具，Bokeh </strong>在这一点上还是比较好的。我还没有找到用<strong class="kx iu">牛郎星</strong>处理大数据的好办法。我发现当你试图做不超过 4 个图表的交互式绘图时，它是最有用的，在那里你有一些交叉过滤，下拉菜单或高亮显示。</p><h1 id="28da" class="jx jy it bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">结论</h1><p id="98b3" class="pw-post-body-paragraph kv kw it kx b ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">这些是我最近试图包含在我的工作流程中的库。让我知道你的感受，并分享你使用的工具。我觉得<strong class="kx iu"> altair </strong>的交互控件是最有趣的部分，但在功能上还是要赶上其他库，支持更多的图表类型。</p><p id="928a" class="pw-post-body-paragraph kv kw it kx b ky ly la lb lc lz le lf lg mb li lj lk md lm ln lo mf lq lr ls im bi translated">我会尝试实验<strong class="kx iu"> plotly + Dash 看看</strong>是否更好。到目前为止，我一直很喜欢<strong class="kx iu">牵牛星</strong>的 API，但它可能不太适合生产。运行 altair 数据服务器可能是一个解决方案，但我还没有尝试过。</p><h2 id="b2b7" class="os jy it bd jz ot ou dn kd ov ow dp kh lg ox oy kl lk oz pa kp lo pb pc kt pd bi translated">请给我一个大拇指，如果你认为这些工具是有用的，不要忘记给这些项目的创造者一颗星。</h2><h1 id="1fdb" class="jx jy it bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated"><strong class="ak">参考</strong></h1><p id="3c39" class="pw-post-body-paragraph kv kw it kx b ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">https://www.youtube.com/watch?v=aRxahWy-ul8(这是《牛郎星》作者之一 Brian Granger 的精彩演讲。我认为 altair 不仅仅是一个可视化库，你也可以从它的 API 设计中学到很多东西)</p></div></div>    
</body>
</html>