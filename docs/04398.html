<html>
<head>
<title>A fully functional ChatBot in 10 mins</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10 分钟内一个功能齐全的聊天机器人</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-fully-functional-chatbot-in-10-mins-8ecd69dff789?source=collection_archive---------23-----------------------#2019-07-08">https://towardsdatascience.com/a-fully-functional-chatbot-in-10-mins-8ecd69dff789?source=collection_archive---------23-----------------------#2019-07-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="76e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">聊天机器人很酷，没有什么比在 10 分钟内制作一个聊天机器人更令人满意的了。我们也对最佳实践感到非常兴奋。因此，尽管这篇文章是针对第一次构建聊天机器人的人，但即使是有经验的开发人员也会带回家一些好东西。就这样，让我们以菜谱的方式进行构建…</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/5530309754a35cb9418a0b06e6b6feb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9IVQsHxGIJVsFOGcftC2lQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Sanbot King Kong for hospitality By QIHAN Technology — Own, CC0, <a class="ae lb" href="https://en.wikipedia.org/w/index.php?curid=55094935" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/w/index.php?curid=55094935</a></figcaption></figure><p id="6e2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">— — — — <strong class="jp ir"> <em class="lc">如何制作聊天机器人</em> </strong> — — —</p><p id="ef2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">先决条件:</strong></p><p id="92e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你肯定需要一个烤箱，在这种情况下，这是你的 Azure 订阅(<a class="ae lb" href="https://azure.microsoft.com/en-us/free/" rel="noopener ugc nofollow" target="_blank">https://azure.microsoft.com/en-us/free/</a>)</p><p id="2b7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">配料:</strong></p><ol class=""><li id="08c8" class="ld le iq jp b jq jr ju jv jy lf kc lg kg lh kk li lj lk ll bi translated">写 Python 代码的地方。我正在使用 Visual Studio 代码(<a class="ae lb" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank">https://code.visualstudio.com/</a>)看看 Visual Studio 安装和入门的评论部分。</li></ol><p id="2142" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.Azure 中的 QnA Maker 服务</p><p id="4139" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.Azure Bot 服务版本 4</p><p id="f16a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">说明:</strong></p><p id="39a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">步骤 1: </strong>让我们<strong class="jp ir">为 python 设置虚拟环境</strong>。python 虚拟环境只是一个自包含目录，其中包含特定版本的 python 安装和项目/程序/模块所需的相关库。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lm"><img src="../Images/42a4bba15fa878733ba5679cb8da2c19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S0LynH_3J5vMB_yBHb62TA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Python Virtual Env set up in VS Code</figcaption></figure><p id="1d52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">#命令:</p><p id="404a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">#来自项目根文件夹</p><p id="9bab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">mkdir 虚拟 _ 环境</p><p id="ab23" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">光盘。\虚拟环境\</p><p id="2742" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">python -m venv 聊天机器人 _env</p><p id="2aa8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">set-execution policy-Scope Process-execution policy Bypass(特定于 Windows 的命令)</p><p id="be52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">。\ chatbot _ env \脚本\激活</p><p id="5b7a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第二步:</strong>接下来，我们需要<strong class="jp ir">建立 QnA Maker 服务</strong>。QnA Maker 是一个基于云的 API 服务，在您的数据上创建一个对话、问答层[1]。</p><p id="6985" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">QnA Maker 使您能够根据半结构化内容(如常见问题解答(FAQ)URL、产品手册、支持文档和自定义问答)创建知识库(KB)。QnA Maker 服务通过将用户的自然语言问题与知识库中 QnA 的最佳答案进行匹配，来回答用户的自然语言问题。<strong class="jp ir">逐步指南</strong>可参考以下文件:</p><div class="ln lo gp gr lp lq"><a href="https://docs.microsoft.com/en-us/azure/cognitive-services/QnAMaker/how-to/set-up-qnamaker-service-azure" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">设置 QnA Maker 服务— QnA Maker — Azure 认知服务</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">在创建任何 QnA Maker 知识库之前，您必须首先在 Azure 中设置 QnA Maker 服务。任何人有…</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">docs.microsoft.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me kv lq"/></div></div></a></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mf"><img src="../Images/9c0113b7924091b66bf68bce751add1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jxp1wppOpj-r6dQXv5gaxQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">create a QnA Maker service from Azure Portal</figcaption></figure><p id="4090" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">提示:为这个项目创建一个资源组[2],并将与本练习相关的所有内容放入其中，这样您就可以从资源组管理与这个项目相关的所有内容。</p><p id="0f38" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您还可以使用 azure 资源管理器模板(JSON 格式的)[3]来自动化部署。</p><p id="2d8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">部署完成后，您将能够看到 Azure 为您创建所需的资源。平台即服务不是很有魅力吗？</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mg"><img src="../Images/f7a633e6c35b374b624cf18f187170f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nmM3LjJHdx3JPOoXxWpnug.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">QnA Maker Deployment Summary from Azure Portal</figcaption></figure><p id="c68d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第三步:现在我们需要<strong class="jp ir">建立知识库</strong>。QnA Maker 知识库[4]由一组问题/答案(QnA)对和与每个 QnA 对相关联的可选元数据组成。</p><p id="1de1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">关键知识库概念:</p><p id="8f25" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">问题:问题包含最能代表用户查询的文本。</p><p id="9de1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">答案:答案是当用户查询与相关问题匹配时返回的响应。</p><p id="375e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">元数据:元数据是与 QnA 对相关联的标记，表示为键值对。元数据标签用于过滤 QnA 对，并限制执行查询匹配的集合。</p><p id="f0a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以根据自己的内容(如常见问题解答或产品手册)创建 QnA Maker 知识库(KB)。</p><p id="5c9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这里，我将使用 https://azure.microsoft.com/en-us/free/free-account-faq/的<a class="ae lb" href="https://azure.microsoft.com/en-us/free/free-account-faq/" rel="noopener ugc nofollow" target="_blank">来构建一个聊天机器人。</a></p><p id="f475" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">使用您的 Azure 凭据登录</strong><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">qnamaker . ai</strong></a><strong class="jp ir">门户，然后按照下面文档中的逐步指导进行操作:</strong></p><div class="ln lo gp gr lp lq"><a href="https://docs.microsoft.com/en-us/azure/cognitive-services/QnAMaker/quickstarts/create-publish-knowledge-base" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">创建、培训和发布知识库— QnA Maker — Azure 认知服务</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">您可以根据自己的内容(如常见问题解答或产品手册)创建 QnA Maker 知识库(KB)。QnA 制造商…</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">docs.microsoft.com</p></div></div><div class="lz l"><div class="mh l mb mc md lz me kv lq"/></div></div></a></div><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mi"><img src="../Images/980c7121dd0f00886b5bdd41b19553ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5C7_VMx3poovjJjKePTStw.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal</strong></figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/0fcd0927f5e29430df26bbd7a78bfd08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YPznAEav0n3f5q6_p0Hw5g.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 1</strong></figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ml"><img src="../Images/445d1d361e2689f6721892a506ce002a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HubCufIPhmukw35exqEb6g.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 1_1</strong></figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mm"><img src="../Images/4665b70eb310bc11e8a50bfa75898c47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uxrrcekFVKJSEXNz1DvxZA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 1_2</strong></figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mn"><img src="../Images/fbc95a065f31421097e391ab0a8f6664.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oAIAbH6lUObcy7ei3XzvDQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 1_3</strong></figcaption></figure><p id="073e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们有一个包含 101 个 QnA 对的初始知识库，需要保存和训练。当然，我们可以修改和调整它，使它更酷。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mo"><img src="../Images/09288321545c6c4c9f7f6a8c3d48e4fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5gY2ZEbOXggeLPaWgKt_Pg.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 2</strong></figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mp"><img src="../Images/f4b82836a98a0df644c5254c9eea3d28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8ggdVEDMQkuf2mcpUhLRuA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 2_1-&gt; Save and Train</strong></figcaption></figure><p id="2de4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦我们完成了<strong class="jp ir">培训</strong>，就该<strong class="jp ir">测试</strong>QnA 制造商了。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mq"><img src="../Images/92740ec20dd90b0c490930b784662843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7F_P5oqyxyJ3kbFloBbsjA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 3_1-&gt; Test</strong></figcaption></figure><p id="d8a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还可以检查测试响应，选择最佳答案或添加备选措辞进行微调。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mr"><img src="../Images/5e9c9e75e687fd3a4dd686b7d140add1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o0l51lNYLJBEw7YavTNBmA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 3_2-&gt; Inspect Test results</strong></figcaption></figure><p id="aa28" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在是时候发布知识库了。您需要从门户网站中点击“发布”选项卡。</p><p id="7131" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当您发布知识库时，知识库的问题和答案内容会从测试索引移动到 Azure search 中的生产索引。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ms"><img src="../Images/786f6407edf8444564f514d591201236.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mHJAT0d3fkZEcEWgwApcow.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 4_1-&gt; Publish</strong></figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mt"><img src="../Images/ceb92fcdfd2a0abcc7dceede3fe62649.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XZxVNJAHcIytvtZQLBZ2pA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 4_2-&gt; Publish wait for completion</strong></figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mu"><img src="../Images/2fdc9464e447f09dff76569b172bea6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AWnxcK3sa3TmtpeHKAggEg.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="http://QnAMaker.ai" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal create knowledge base step 4_3-&gt; Service deployed/published</strong></figcaption></figure><p id="eb65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们继续创建聊天机器人之前，让我们接下来以编程方式调用 qnamaker。</p><p id="ad53" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Python 程序调用并测试 qnamaker。</strong>代码出现在这里:<a class="ae lb" href="https://github.com/RajdeepBiswas/Ten_Minute_ChatBot_Python" rel="noopener ugc nofollow" target="_blank">https://github.com/RajdeepBiswas/Ten_Minute_ChatBot_Python</a>，解释和设置过程起草如下，作为主要文章步骤的一部分。</p><p id="7c76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第 4 步:</strong>密钥、密码和秘密不能在众目睽睽之下…让我们<strong class="jp ir">建立一个配置文件</strong>来保存我们的 python 项目的秘密和密钥。</p><p id="28ef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将从<a class="ae lb" href="http://qnamaker.ai" rel="noopener ugc nofollow" target="_blank"> qnamaker.ai </a>服务发布页面的 curl 部分获取值。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/2f97131ca1376912c1b577cc44a38575.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ROS11JL9aCrJrjEAjfiQsQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><strong class="bd mj">Get the config values from </strong><a class="ae lb" href="http://qnamaker.ai/" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal</strong></figcaption></figure><p id="792d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">根据上面的值设置 config.py 文件。不要忘记放置 __init__。py 使配置文件可调用😊</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mw"><img src="../Images/4a00abc7ee64f4521222134c61e8e062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-b6ZzRguReWeFgx0KY5D6Q.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><strong class="bd mj">config.py file to store the secrets</strong></figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mx"><img src="../Images/fceb848a3926b8bcc89c2d248d92b9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5HUB5fDOm5lbvPblONZYKw.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><strong class="bd mj">__init__.py file to make the config referable</strong></figcaption></figure><p id="c429" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们已经做好了配置准备。</p><p id="bd5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">提示:不要忘记将 config.py 包含到。gitignore 如果你想把代码放到 github 里。</p><p id="64c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">文件可在以下位置找到:</p><div class="ln lo gp gr lp lq"><a href="https://github.com/RajdeepBiswas/Ten_Minute_ChatBot_Python/tree/master/secret_keys" rel="noopener  ugc nofollow" target="_blank"><div class="lr ab fo"><div class="ls ab lt cl cj lu"><h2 class="bd ir gy z fp lv fr fs lw fu fw ip bi translated">RajdeepBiswas/Ten _ Minute _ ChatBot _ Python</h2><div class="lx l"><h3 class="bd b gy z fp lv fr fs lw fu fw dk translated">在 GitHub 上创建一个账号，为 RajdeepBiswas/Ten _ Minute _ ChatBot _ Python 开发做贡献。</h3></div><div class="ly l"><p class="bd b dl z fp lv fr fs lw fu fw dk translated">github.com</p></div></div><div class="lz l"><div class="my l mb mc md lz me kv lq"/></div></div></a></div><p id="09c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第五步:</strong>现在我们需要<strong class="jp ir">编写客户端 python 程序</strong>。这里用到的程序可以在 github 中找到:<a class="ae lb" href="https://github.com/RajdeepBiswas/Ten_Minute_ChatBot_Python/blob/master/call_qna.py" rel="noopener ugc nofollow" target="_blank">https://github . com/RajdeepBiswas/Ten _ Minute _ ChatBot _ Python/blob/master/call _ qna . py</a></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mz"><img src="../Images/70689d46da2421cf4bd3f42b2c15bc8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cCwImcajvDfGr1oQ8XK4Iw.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><strong class="bd mj">Call QnA maker from python code</strong></figcaption></figure><p id="c427" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第六步:终于到了<strong class="jp ir">创建聊天机器人</strong>的时候了……哇呜！！！</p><p id="534b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<a class="ae lb" href="http://qnamaker.ai/" rel="noopener ugc nofollow" target="_blank"> QnAMaker.ai </a>门户的服务部署页面点击创建聊天机器人。这一步将把您重定向到 Azure 门户，您需要在那里创建 Bot 服务。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi na"><img src="../Images/fb40be8f9a3e537ced68739e16cd59d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MKDCEiX4udzIsInRqKgUyA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><strong class="bd mj">Create bot from </strong><a class="ae lb" href="http://qnamaker.ai/" rel="noopener ugc nofollow" target="_blank"><strong class="bd mj">QnAMaker.ai</strong></a><strong class="bd mj"> portal</strong></figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nb"><img src="../Images/702b48c0e931187c09bbc60018aa53cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0TX2yt7z17ndzqIlY8S9hg.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><strong class="bd mj">Azure portal create bot service</strong></figcaption></figure><p id="8cc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果存在资源提供者注册错误，可以通过多种方式解决。</p><p id="9150" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里，我在 Azure cli 中使用了以下命令:</p><p id="18d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">az 提供者注册—微软命名空间。僵尸服务</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nc"><img src="../Images/d136483fddd5c4cc6721f10d273e4475.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LMxRL9xr1-XRnFMJmLEfLA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">create bot error resolution</figcaption></figure><p id="4b06" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有关更多信息，请参考:<a class="ae lb" href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-register-provider-errors" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/azure-resource-manager/resource-manager-register-provider-errors</a></p><p id="73d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后刷新 Azure 门户页面以创建聊天机器人:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nd"><img src="../Images/a36804b8213fcdac3eecfb9e45f7bce4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8b5F_PM8Hw22ubsmN5f2_A.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><strong class="bd mj">Azure portal create bot service</strong></figcaption></figure><p id="fd22" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点击“创建”后，将会有一个自动验证步骤，然后将会部署您的资源。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ne"><img src="../Images/46ab4134c0be0b321a5b4a37e1d91a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Ym81mJbvF5yffew6M8J1w.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Bot service deployment</figcaption></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nf"><img src="../Images/bc79a830cba64496831a07e1d7fe8afc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7AH3t8VBi9_0DY1BODdkgg.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Bot service deployed</figcaption></figure><p id="6e21" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">部署完成后，转到 azure portal 中的 webapp bot。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ng"><img src="../Images/2a1104e69226d259002dd72f20d5a4f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4hhNj7vLBzJMsDMk0jxawQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Web App Bot</figcaption></figure><p id="25f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，让我们在网络聊天中测试我们的机器人:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nh"><img src="../Images/8ce5feb6fc702671ee58ca215ca33368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4U3G61aFci6cvQTZndzkBw.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Test in Web Chat</figcaption></figure><p id="73ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">奖励环节:</strong>你可以把你的机器人连接到不同的频道。</p><p id="85dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通道是机器人和通信应用程序之间的连接。您可以配置一个 bot 来连接到您希望它可用的频道。通过 Azure 门户配置的 bot 框架服务将您的 bot 连接到这些通道，并促进您的 Bot 和用户之间的通信。你可以连接到许多流行的服务，如 Cortana，Facebook Messenger，Kik，Skype，脸书，Telegram，Twilio，Slack 以及其他一些服务。网络聊天频道是为您预先配置的。更多信息可以在这里找到:<a class="ae lb" href="https://docs.microsoft.com/en-us/azure/bot-service/bot-service-manage-channels?view=azure-bot-service-4.0" rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/bot-service/bot-service-manage-channels？view=azure-bot-service-4.0 </a></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ni"><img src="../Images/be7ec471d42cf25c5a5c5379601fbf3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*verrIWrHGvoHu8DUBiKeYQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><strong class="bd mj">Connect bot to channels</strong></figcaption></figure><p id="7462" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你已经成功地做到了这一步，我肯定会认为你未来探索人工智能机器人开发的旅程将会更有收获，更顺利。请让我知道你的任何问题或意见。</p><p id="2eed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">参考文献</strong></p><p id="5fb1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">[1]</p><p id="f5ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“QnAMaker”，2019 年 4 月 4 日。【在线】。可用:<a class="ae lb" href="https://docs.microsoft.com/en-us/azure/cognitive-services/QnAMaker/overview/overview." rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/cognitive-services/qna maker/overview/overview。</a></p><p id="c980" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">[2]</p><p id="acf7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“资源组”，[在线]。可用:<a class="ae lb" href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-overview#resource-groups." rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/azure-resource-manager/resource-group-overview # resource-groups。</a></p><p id="b6b3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">[3]</p><p id="a5c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“模板-部署”，[在线]。可用:<a class="ae lb" href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-overview#template-deployment." rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/azure-resource-manager/resource-group-overview # template-deployment。</a></p><p id="4bc6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">[4]</p><p id="257a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“知识库”，2019 年 6 月 4 日。【在线】。可用:<a class="ae lb" href="https://docs.microsoft.com/en-us/azure/cognitive-services/QnAMaker/concepts/knowledge-base." rel="noopener ugc nofollow" target="_blank">https://docs . Microsoft . com/en-us/azure/cognitive-services/qna maker/concepts/knowledge-base。</a></p></div></div>    
</body>
</html>