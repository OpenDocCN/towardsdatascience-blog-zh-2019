<html>
<head>
<title>4 Awesome Ways Of Loading ML Data In Google Colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">4 种在 Google Colab 中加载 ML 数据的好方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-awesome-ways-of-loading-ml-data-in-google-colab-9a5264c61966?source=collection_archive---------9-----------------------#2019-10-18">https://towardsdatascience.com/4-awesome-ways-of-loading-ml-data-in-google-colab-9a5264c61966?source=collection_archive---------9-----------------------#2019-10-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1663" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">🤖<a class="ae ep" href="https://equipintelligence.medium.com/list/deep-learning-techniques-methods-and-how-tos-01015cf5f917" rel="noopener">深度学习</a></h2><div class=""/><div class=""><h2 id="b253" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">用各种 API 和包在 Google Colab 中加载数据。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/dbb2ba95e558224c6ace8b513f912007.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P6JdPnxC9wWkERFr9aphfQ.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">The ocean of data! <a class="ae lh" href="https://www.google.com/url?sa=i&amp;source=images&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwi35JXb8qXlAhWDmuYKHVEpCFQQjB16BAgBEAM&amp;url=https%3A%2F%2Fwww.vertical-leap.uk%2Fblog%2Fwhat-is-data-storytelling%2F&amp;psig=AOvVaw2ObcN8JEZJLtppSE56RBAA&amp;ust=1571490805719285" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="3ab3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Google Colaboratory 或 Colab 已经成为 ML 初学者和研究人员最喜欢的开发环境之一。这是一款基于云的笔记本电脑，一定有什么很棒的方法可以将机器学习数据从你的本地机器上传到云端。</p><p id="7be8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们将讨论一些避免你直接点击“上传”按钮的方法！</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="6952" class="mg mh it bd mi mj mk ml mm mn mo mp mq ki mr kj ms kl mt km mu ko mv kp mw mx bi translated">1)从 GitHub repo 获取数据</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi my"><img src="../Images/b689d82fe8409461a465a20f8b293795.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*H78e62IgOKHqLmIDbTN4ig.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk"><a class="ae lh" href="https://www.google.com/url?sa=i&amp;source=images&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwiq_9f38aXlAhXQ7XMBHWy_CIMQjB16BAgBEAM&amp;url=https%3A%2F%2Fgithub.com%2Flogos&amp;psig=AOvVaw2FW5Y05GULPwHRFIrdFF5W&amp;ust=1571490895792248" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="310f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你正在做一个项目，它有自己的数据集，如任何对象检测模型，分类模型等。然后我们将直接从<a class="ae lh" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中提取数据集。</p><p id="18cd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果数据集在存档文件中(。拉链还是。焦油)，我们可以把它记在我们的笔记本上，</p><ol class=""><li id="825f" class="mz na it lk b ll lm lo lp lr nb lv nc lz nd md ne nf ng nh bi translated">打开 GitHub repo，从“查看原始数据”文本中复制 URL。</li></ol><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ni"><img src="../Images/06341993a2ec9691399cb9dcf0ac2d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JWO_a1RJHkjNXPicn3zQ1g.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">The “View Raw” option gives us a downloadable link to the file.</figcaption></figure><p id="8281" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">注意:您复制的 URL 应该以<code class="fe nj nk nl nm b">?raw=true</code>标签结尾。只有这样,<code class="fe nj nk nl nm b">requests</code>模块才会提取 ZIP 文件。</p><p id="1d89" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">此外，您可以随时克隆整个回购协议，</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="d501" class="nr mh it nm b gy ns nt l nu nv">!git clone &lt;repo_url&gt;</span></pre><p id="06b7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">2.仅此而已！现在使用<code class="fe nj nk nl nm b">requests</code>和<code class="fe nj nk nl nm b">zipfile</code>软件包，我们可以将数据直接下载到笔记本电脑中。</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="36fc" class="nr mh it nm b gy ns nt l nu nv">import requests, zipfile, io</span><span id="d0ad" class="nr mh it nm b gy nw nt l nu nv">#The copied URL goes here -&gt;<br/>r = requests.get( 'https://www.github.com/shubham0204/...' ) </span><span id="43b2" class="nr mh it nm b gy nw nt l nu nv">z = zipfile.ZipFile(io.BytesIO(r.content))<br/>z.extractall()</span></pre><blockquote class="nx"><p id="7467" class="ny nz it bd oa ob oc od oe of og md dk translated">这种方法会有一些<a class="ae lh" href="https://help.github.com/en/articles/conditions-for-large-files" rel="noopener ugc nofollow" target="_blank">限制</a>。我们不能在 GitHub 上推送任何大于 100 MB 的文件。因此，对于较小的自定义数据集，这种方法可能是一种变通方法。</p></blockquote><h1 id="5a9e" class="mg mh it bd mi mj mk ml mm mn mo mp mq ki oh kj ms kl oi km mu ko oj kp mw mx bi translated">2)直接使用 wget Linux 命令</h1><p id="75d4" class="pw-post-body-paragraph li lj it lk b ll ok kd ln lo ol kg lq lr om lt lu lv on lx ly lz oo mb mc md im bi translated">Google Colab 运行在基于 Linux 的主机上。所以我们可以直接在上面运行 Linux 命令。这很简单，而且降低了下载速度。</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="7035" class="nr mh it nm b gy ns nt l nu nv">!wget &lt;dataset_url&gt;</span></pre><p id="0f37" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果是 ZIP 文件，我们可以用<code class="fe nj nk nl nm b">unzip</code>命令解压，</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="a1fa" class="nr mh it nm b gy ns nt l nu nv">!unzip images.zip /content/images/</span></pre><p id="7249" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">详细用法见<a class="ae lh" href="https://shapeshed.com/unix-wget/#targetText=What%20is%20the%20wget%20command,for%20downloads%20and%20viewing%20headers." rel="noopener ugc nofollow" target="_blank">此处</a>。</p><h1 id="91a2" class="mg mh it bd mi mj mk ml mm mn mo mp mq ki mr kj ms kl mt km mu ko mv kp mw mx bi translated">3)安装你的谷歌硬盘</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/5c13f2811df7b1b62cff82d75da026be.png" data-original-src="https://miro.medium.com/v2/resize:fit:358/format:webp/1*1V9E1qNjYRKVwDh1miErMA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk"><a class="ae lh" href="https://www.google.com/url?sa=i&amp;source=images&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwipj5uX8qXlAhXFlOYKHc1UDoEQjB16BAgBEAM&amp;url=https%3A%2F%2Fwww.google.com%2Fdrive%2F&amp;psig=AOvVaw2D6loUSz1ETDrbelu2nwCL&amp;ust=1571490962931298" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="18ac" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你正在做一个个人项目，并且在 Google Drive 上存储文件对你来说并不乏味，那么我们总是可以安装<a class="ae lh" href="https://www.google.com/drive/" rel="noopener ugc nofollow" target="_blank"> Google Drive </a>。</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="c945" class="nr mh it nm b gy ns nt l nu nv">from google.colab import drive</span><span id="2954" class="nr mh it nm b gy nw nt l nu nv">drive.mount('/gdrive')</span></pre><p id="69ae" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一个好处是，如果我们正在训练一个像预训练 VGG 或盗梦空间这样的大型模型，保存的 Keras 模型(. h5)的大小会达到大约 500 MB，甚至权重也有大约 100–200 MB 的大小。当我们挂载 Google Drive 时，模型可以直接保存在你的云存储桶中。</p><p id="a331" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当运行时重新启动或修改时，您不需要上传/下载已训练的模型。</p><h1 id="1583" class="mg mh it bd mi mj mk ml mm mn mo mp mq ki mr kj ms kl mt km mu ko mv kp mw mx bi translated">4)将数据集上传到 Kaggle</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/85dc16334001488333bf43f158b8f284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*A6F1FuQRwjHN9kmL2VY2sw.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk"><a class="ae lh" href="https://www.google.com/url?sa=i&amp;source=images&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwi3zYOi8qXlAhU14nMBHVxqCLsQjB16BAgBEAM&amp;url=https%3A%2F%2Ftowardsdatascience.com%2Fhow-to-begin-competing-on-kaggle-bd9b5f32dbbc&amp;psig=AOvVaw2r-m4PgZy8nbdnB1_OF7yH&amp;ust=1571490975754898" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="c4fb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可以上传非常大的数据集到 Kaggle.com。我们可以启用“<em class="or">私有数据集</em>选项来保护隐私。Kaggle 提供了大量现成的数据集，所以你应该考虑使用<a class="ae lh" href="https://github.com/Kaggle/kaggle-api" rel="noopener ugc nofollow" target="_blank"> Kaggle API </a>。</p><p id="098b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以使用 Colab 中的 API，</p><pre class="ks kt ku kv gt nn nm no np aw nq bi"><span id="6354" class="nr mh it nm b gy ns nt l nu nv">!echo '{"username":"&lt;username_here&gt;","key":"&lt;key_goes_here&gt;"}' &gt; /root/.kaggle/kaggle.json</span><span id="04e7" class="nr mh it nm b gy nw nt l nu nv">!kaggle datasets download -d nltkdata/movie-review</span><span id="cf42" class="nr mh it nm b gy nw nt l nu nv">!unzip /content/movie-review.zip -d review</span></pre><p id="ada8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">从<em class="or">我的帐户生成 API 令牌- &gt; API </em></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi os"><img src="../Images/8d41b9198455f2ce90a397ca5f7442a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dUdpTZgjxc45oYgEjISESA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Click “Create New API Token”.</figcaption></figure><p id="6471" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">将下载一个包含用户名和令牌密钥的文本文件。将它们复制到上面的代码中。然后你就可以在 Google Colab 中使用 Kaggle 了！</p><h1 id="821d" class="mg mh it bd mi mj mk ml mm mn mo mp mq ki mr kj ms kl mt km mu ko mv kp mw mx bi translated">等等，还有…</h1><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="me mf l"/></div></figure><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="me mf l"/></div></figure><h1 id="970b" class="mg mh it bd mi mj mk ml mm mn mo mp mq ki mr kj ms kl mt km mu ko mv kp mw mx bi translated">就这样</h1><p id="0d03" class="pw-post-body-paragraph li lj it lk b ll ok kd ln lo ol kg lq lr om lt lu lv on lx ly lz oo mb mc md im bi translated">希望这些方法有助于将您的数据加载到 Google Colab。在你的脑海中有不同的方式？在评论中分享它们，让它们被添加到这里！</p></div></div>    
</body>
</html>