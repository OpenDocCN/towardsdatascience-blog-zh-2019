# ä½¿ç”¨å…ˆè¿›çš„â€œæ™ºèƒ½â€åˆ†ææé«˜å¾ªç¯åŒ–å­¦å·¥è‰ºçš„ç›ˆåˆ©èƒ½åŠ›

> åŸæ–‡ï¼š<https://towardsdatascience.com/using-advanced-and-smart-analytics-to-boost-profitability-in-the-cyclic-chemical-process-21dffe586d82?source=collection_archive---------21----------------------->

> **ç›®çš„:**é’ˆå¯¹å…¸å‹çš„æ¶‰åŠå¾ªç¯è¿‡ç¨‹çš„åŒ–å·¥è¡Œä¸šï¼Œé€šè¿‡ä¼˜åŒ–å¯æ§å‚æ•°æ¥æé«˜äº§é‡ï¼Œä»è€Œå¢åŠ åˆ©æ¶¦ã€‚

# èƒŒæ™¯

æˆ‘è®¤ä¸ºï¼Œåˆ†æå°†å¯¹åŒ–å­¦å·¥ä¸šçš„è®¸å¤šé¢†åŸŸäº§ç”Ÿé‡å¤§å½±å“ï¼Œä¸»è¦æ˜¯åœ¨åˆ¶é€ ç»©æ•ˆæ–¹é¢ã€‚åŒ–å­¦å·¥ä¸šå·²ç»åœ¨ IT ç³»ç»Ÿå’ŒåŸºç¡€è®¾æ–½æ–¹é¢è¿›è¡Œäº†æŠ•èµ„ï¼Œè¿™äº›ç³»ç»Ÿå’ŒåŸºç¡€è®¾æ–½å¯ä»¥é«˜é€Ÿç”Ÿæˆå’Œè·Ÿè¸ªå¤§é‡æ•°æ®ã€‚ç„¶è€Œï¼Œä»–ä»¬ç¼ºä¹åˆ©ç”¨è¿™ç§æ½œåœ¨æ™ºèƒ½çš„è¿œè§å’Œèƒ½åŠ›ã€‚å€ŸåŠ©å¸‚åœºä¸Šæ›´ä¾¿å®œã€æ›´å…ˆè¿›çš„åˆ†æå·¥å…·ï¼Œäººä»¬å¯ä»¥åˆ©ç”¨æœºå™¨å­¦ä¹ &å¯è§†åŒ–æ¥ä¼˜åŒ–å·¥å‚å‚æ•°ï¼Œä»¥æé«˜å…¶ç›ˆåˆ©èƒ½åŠ›ã€‚

é«˜çº§åˆ†æå¯ä»¥å¸®åŠ©ä»–ä»¬äº†è§£åŒ–å­¦è¿‡ç¨‹ä¸­å‘ç”Ÿçš„äº‹æƒ…ï¼Œè¿™å¯èƒ½æ˜¯è®¸å¤šåŒ–å­¦å·¥ç¨‹å¸ˆä¸çŸ¥é“çš„ã€‚è¿™åè¿‡æ¥æœ‰åŠ©äºä»–ä»¬å…‹æœå„ç§ç“¶é¢ˆï¼Œæ‰“ç ´æµç¨‹ç›‘æ§å’Œè¿ä½œä¸­çš„ä¸€äº›åˆ»æ¿å°è±¡(ä¼ ç»Ÿæ€ç»´)ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è°ˆè®ºä¸‰ä¸ªä¸»è¦çš„æ™ºèƒ½å’Œé«˜çº§åˆ†ææŠ€å·§ï¼Œå®ƒä»¬å¸®åŠ©æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç¨³å®šçš„æ¨¡å‹ï¼Œè¯¥æ¨¡å‹åè¿‡æ¥è¢«è¡Œä¸šç”¨æ¥å®ç°åˆ©æ¶¦æœ€å¤§åŒ–ã€‚

1.  **æ”¹å˜æ—¶é—´åºåˆ—æ•°æ®çš„å»ºæ¨¡**â€”â€”æœ‰æ—¶æ•°æ®è¡¨ç°å‡ºä¸€ç§å†…åœ¨è¶‹åŠ¿(å¦‚æ”¶ç›Šç‡æŒç»­ä¸‹é™)ï¼Œè¿™ä½¿å¾—æ¨¡å‹å­¦ä¹ è¿™äº›è¶‹åŠ¿éå¸¸å›°éš¾ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨è¶…æ—¶æµ‹è¯•æ•°æ®ä¸­è§‚å¯Ÿåˆ°éå¸¸å·®çš„æ€§èƒ½ã€‚ä¸ºäº†å…‹æœè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬é¢„æµ‹äº†äº§é‡çš„å˜åŒ–ï¼Œè€Œä¸æ˜¯äº§é‡çš„ç»å¯¹å€¼ã€‚è¿™äº›å€¼çš„å˜åŒ–æœ‰äº›ç¨³å®šï¼Œå› æ­¤æ¨¡å‹ç›¸å¯¹å®¹æ˜“å­¦ä¹ ã€‚
2.  **æ™ºèƒ½ç‰¹å¾å·¥ç¨‹** â€”ç‰¹å¾å·¥ç¨‹æ˜¯ä»»ä½•é¢„æµ‹æ¨¡å‹ä¸­æœ€é‡è¦çš„ä¸€æ­¥ã€‚è¿™æ˜¯çœŸæ­£çš„æ•°æ®ç§‘å­¦å®¶èŠ±è´¹å¤§éƒ¨åˆ†ç²¾åŠ›çš„åœ°æ–¹ã€‚åœ¨è¡Œä¸šä¸“å®¶å’ŒåŸºç¡€æ•°å­¦çš„å¸®åŠ©ä¸‹ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ç»„æ™ºèƒ½(ä½†ä¸æ˜¯ç›´è§‚çš„)ç‰¹å¾ï¼Œè¿™äº›ç‰¹å¾è¢«è¯æ˜åœ¨é¢„æµ‹äº§é‡æ–¹é¢éå¸¸é‡è¦ã€‚æ­¤å¤–ï¼ŒåŒæ—¶å¸®åŠ©åŒ–å­¦å·¥ç¨‹å¸ˆäº†è§£å·¥å‚çš„åŠŸèƒ½ã€‚
3.  **åœ¨è§£å†³åŸºäºæ—¶é—´åºåˆ—çš„å»ºæ¨¡æ—¶å¯ä»¥æ´¾ä¸Šç”¨åœºçš„ç‰¹æ®Šæˆ–éä¼ ç»ŸæŠ€æœ¯** -åœ¨å»ºç«‹é¢„æµ‹æ¨¡å‹æœŸé—´ï¼Œæˆ‘ä»¬éœ€è¦å¤šæ¬¡æ‰§è¡Œç‰¹å®šçš„åˆ†æï¼Œä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£æ•°æ®å’Œè¿‡æ¸¡è¿‡ç¨‹ã€‚åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œæˆ‘å°†è®¨è®ºä¸€äº›éä¼ ç»Ÿçš„æ–¹æ³•æˆ–æŠ€æœ¯ï¼Œè¿™äº›æ–¹æ³•æˆ–æŠ€æœ¯å¯èƒ½æœ‰åŠ©äºç†è§£æ•°æ®ï¼Œä»è€Œæœ‰åŠ©äºæ„å»ºä¸€ä¸ªç¨³å®šè€Œç¨³å¥çš„æ¨¡å‹ã€‚

è®©æˆ‘ä»¬æ·±å…¥ç ”ç©¶ç¬¬ä¸€éƒ¨åˆ†ï¼Œå³æ”¹å˜å»ºæ¨¡ï¼Œå¹¶äº†è§£å®ƒå¦‚ä½•ä¼˜äºä¼ ç»Ÿçš„æ—¶é—´åºåˆ—å»ºæ¨¡ã€‚

# æ”¹å˜å»ºæ¨¡

å¯¹äºæ¶‰åŠæ•°æ®è¶‹åŠ¿çš„æƒ…å†µï¼Œåœ¨æ²¡æœ‰ä»»ä½•èƒ½å¤Ÿæ•æ‰è¯¥è¶‹åŠ¿çš„åŠŸèƒ½çš„æƒ…å†µä¸‹ï¼Œè®­ç»ƒæ¨¡å‹å˜å¾—æå…¶å›°éš¾ã€‚è¶‹åŠ¿ä¸­çš„æ¯æ—¥ç‰¹å¾å°†å˜æˆæ¨¡å‹ä»æœªè§è¿‡çš„å€¼ï¼Œå› æ­¤å¢åŠ äº†ä»»ä½• ML æ¨¡å‹ä¸­çš„å™ªå£°å’Œä¸å‡†ç¡®æ€§ã€‚ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µï¼Œæ•°æ®ç§‘å­¦å®¶é€šå¸¸ä¼šåˆ›å»ºä¸€ä¸ªåˆæˆå˜é‡æ¥æ•æ‰è¶‹åŠ¿ï¼Œå¦‚ä¸€å¹´ä¸­çš„æœˆä»½ã€ç»è¿‡çš„æ—¶é—´æˆ–ç®€å•çš„è¡Œå·ã€‚åœ¨æ¶‰åŠè¡°å‡å±æ€§æˆ–æœªçŸ¥é€Ÿç‡çš„è‡ªå›å½’å±æ€§çš„æƒ…å†µä¸‹ï¼Œè¿™ç§ç­–ç•¥å¾€å¾€ä¼šå¤±è´¥ã€‚ä¸ºäº†å…‹æœè¿™ä¸ªè¶‹åŠ¿é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†å˜åŒ–å»ºæ¨¡ã€‚æˆ‘ä»¬é¢„æµ‹ç»™å®šæ—¶é—´é—´éš”å†…äº§é‡çš„å˜åŒ–ã€‚åˆ©ç”¨å˜åŒ–å»ºæ¨¡ï¼Œæˆ‘ä»¬å¯¹ x å’Œ y ç‰¹å¾ç›¸å¯¹äºæ—¶é—´è¿›è¡Œæ±‚å¯¼ï¼Œä»¥å¹³æ»‘è¶‹åŠ¿ã€‚è¿™ç§æ–¹æ³•ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ˜¾è‘—æé«˜æ¨¡å‹çš„é¢„æµ‹èƒ½åŠ›ã€‚

```
â–³ P(time = t) = P(time = t) - P(time = t-1)P is the distribution which is dependent on time.
```

è¯·æ³¨æ„ï¼Œç¦»ç¾¤å€¼å¤„ç†å’Œç¼ºå¤±å€¼æ’è¡¥ç°åœ¨åº”è¯¥åº”ç”¨äºè¿™äº›è¡ç”Ÿäº§å“ã€‚

![](img/7127afcb4bf045b7e90d20b8c3e46f4b.png)

A graph showing a declining yield of a plant over the course of 2 years. It is called as â€˜non-stationaryâ€™ behavior i.e. changing mean & variance which is not ideal for the time series modeling.

å½“æˆ‘ä»¬å¯¹è¿™ç§è¶‹åŠ¿æ±‚å¯¼æ—¶ï¼Œç»“æœçœ‹èµ·æ¥æ›´ç¨³å®šï¼Œæ›´é€‚åˆæ—¶é—´åºåˆ—å»ºæ¨¡ã€‚

![](img/fe61fa3c443fff43238e1a1bcee511ad.png)

Constant mean and variance over time and mitigate the noises due to any reasons in data collection.

# æ™ºèƒ½ç‰¹å¾å·¥ç¨‹

æˆ‘å°†è°ˆè®ºä¸‰ç§ä¸åŒäºä¼ ç»Ÿçš„å¹¿æ³›ç‰¹å¾-

1.  **ç”±äºå»ºæ¨¡å˜åŒ–è€Œå®šä¹‰å‘ç”Ÿå˜åŒ–çš„ç‰¹æ€§:**å½“ä½ å¯¹ x å’Œ y æ±‚å¯¼æ—¶ï¼Œç‰¹æ€§ä¼šå‘ç”Ÿä¸€äº›ç–¯ç‹‚çš„äº‹æƒ…ã€‚
    é€šè¿‡ç ”ç©¶äºŒå…ƒå…³ç³»å’Œå’¨è¯¢è¡Œä¸šä¸“å®¶ï¼Œå¾ˆå¤šæ—¶å€™æ•°æ®ç§‘å­¦å®¶éœ€è¦åˆ›å»ºä¸€äº›ç‰¹å¾è½¬æ¢ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç‰¹å¾çš„å¯¹æ•°ï¼Œä¹˜ä»¥äºŒï¼Œå–ä¸€çš„å¹³æ–¹ç­‰ç­‰ã€‚ç°åœ¨ï¼Œæ ¹æ®å˜æ›´å»ºæ¨¡ï¼Œè¿™ç§è½¬æ¢å°†ä¼šå®Œå…¨æ”¹å˜ã€‚è¿™æ˜¯å˜åŒ–-

```
y = log (x)                        ||          â–³y = â–³x / x
y = xÂ²                             ||          â–³y = x â–³x
y = p X q                          ||          â–³y = p â–³q + q â–³p
y = 1 / x                          ||          â–³y = -â–³x / xÂ²
```

2.**ä»å•†ä¸šå’Œæ•°æ®ç§‘å­¦çš„è§’åº¦æ¥çœ‹ï¼Œå…¶ä»–ä¸€äº›å¾ˆé…·çš„åŠŸèƒ½å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©:**ä¸€äº›åŠŸèƒ½ï¼Œå¦‚å˜åŒ–å˜é‡çš„æ»åï¼Œé‡‡ç”¨äºŒæ¬¡å¾®åˆ†æ¥æ•æ‰å˜åŒ–ç‡ä»¥åŠç»å¯¹å˜é‡çš„æ»åã€‚è¾“å…¥æ‰€æœ‰è¿™äº›å˜é‡æœ‰æ—¶ä¼šè®©æ‚¨å¯¹æ¨¡å‹æ€§èƒ½æ„Ÿåˆ°æƒŠè®¶ã€‚ç„¶è€Œï¼Œåœ¨æ—¶é—´åºåˆ—å»ºæ¨¡ä¸­ï¼Œæ•°æ®æ³„æ¼æ˜¯ä¸€ä¸ªéå¸¸ä¸¥é‡çš„é—®é¢˜ã€‚
**æ•°æ®æ³„æ¼**æ˜¯æŒ‡æ¥è‡ªè®­ç»ƒæ•°æ®é›†ä¹‹å¤–çš„ä¿¡æ¯è¢«ç”¨äºåˆ›å»ºæ¨¡å‹ã€‚è¿™äº›é¢å¤–çš„ä¿¡æ¯å¯ä»¥è®©æ¨¡å‹å­¦ä¹ æˆ–çŸ¥é“ä¸€äº›å®ƒæœ¬æ¥ä¸çŸ¥é“çš„ä¸œè¥¿ï¼Œä»è€Œä½¿æ­£åœ¨æ„å»ºçš„æ¨¡å¼çš„ä¼°è®¡æ€§èƒ½æ— æ•ˆã€‚å±¡è¯•ä¸çˆ½çš„é˜²æ­¢æ•°æ®æ³„éœ²çš„æ–¹æ³•æ˜¯é—®é—®ä½ è‡ªå·±

> *å¦‚æœåœ¨æ‚¨å¸Œæœ›ä½¿ç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹æ—¶ï¼Œä»»ä½•å…¶ä»–ç‰¹æ€§çš„å€¼å®é™…ä¸Šä¸å¯ç”¨ï¼Œåˆ™è¯¥ç‰¹æ€§ä¼šç»™æ‚¨çš„æ¨¡å‹å¸¦æ¥æ³„æ¼*

3.**åˆ©ç”¨é«˜çº§ç®—æ³•è·å–åˆ›æ–°ç‰¹å¾ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹æ—¶é—´åºåˆ—å»ºæ¨¡:**åœ¨ç‰¹å¾å·¥ç¨‹è‡ªåŠ¨ç¼–ç æ¨¡å—ä¸­æ€»æ˜¯æœ‰æ–°çš„è¿›æ­¥ï¼Œè¿™äº›æ¨¡å—å¯ä»¥æ•è·æ—¶é—´åºåˆ—æ•°æ®çš„ç‰¹æ®Šç‰¹å¾ã€‚å…¶ä¸­ä¸€ä¸ªæ¨¡å—æ˜¯â€œ *tsfresh* â€ï¼Œå®ƒåœ¨ *Python* ä¸­å¯ç”¨ã€‚
è‡ªåŠ¨è®¡ç®—å¤§é‡æ—¶é—´åºåˆ—ç‰¹å¾ã€‚æ­¤å¤–ï¼Œè¯¥è½¯ä»¶åŒ…åŒ…å«è¯„ä¼°å›å½’æˆ–åˆ†ç±»ä»»åŠ¡çš„è¿™äº›ç‰¹å¾çš„è§£é‡Šèƒ½åŠ›å’Œé‡è¦æ€§çš„æ–¹æ³•ã€‚è¦è¯¦ç»†äº†è§£è¯¥åŒ…çš„å·¥ä½œå’Œå®ç°ï¼Œè¯·å‚è€ƒä¸‹ä¸€é¡µã€‚
éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯:åœ¨ä½¿ç”¨è¿™æ ·çš„åŒ…æ—¶ï¼Œä¼ä¸šå¾ˆéš¾è§£é‡Šè¿™ä¸ªç‰¹æ€§åŠå…¶åœ¨ç°å®ä¸–ç•Œä¸­çš„é‡è¦æ€§ã€‚å› æ­¤ï¼Œå½“é¢„æµ‹ä¸æ˜¯æ¨¡å‹æ„å»ºçš„å”¯ä¸€ç›®çš„ï¼Œè€Œæ˜¯æ¶‰åŠåˆ°é¢„æµ‹çš„é©±åŠ¨å› ç´ æ—¶ï¼Œæˆ‘ä»¬ä¸åº”è¯¥ä½¿ç”¨è¿™æ ·çš„åº“ã€‚

```
pip install tsfreshfrom tsfresh.examples.robot_execution_failures import download_robot_execution_failures, load_robot_execution_failuresdownload_robot_execution_failures()
timeseries, y = load_robot_execution_failures()
```

# æ™ºèƒ½æˆ–éä¼ ç»ŸæŠ€æœ¯ï¼Œåœ¨è§£å†³åŸºäºæ—¶é—´åºåˆ—çš„å»ºæ¨¡æ—¶å¯ä»¥æ´¾ä¸Šç”¨åœº

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†è®¨è®ºæˆ‘åœ¨å„ç§æ—¶é—´åºåˆ—é—®é¢˜ä¸­å­¦ä¹ å’Œå®ç°çš„ä¸€äº›æŠ€æœ¯ã€‚è¿™äº›æŠ€æœ¯æ˜¯éä¼ ç»Ÿçš„ï¼Œå¾ˆéš¾åœ¨ç½‘ä¸Šæ‰¾åˆ°ä»»ä½•æœ‰ç”¨çš„å†…å®¹ã€‚ç„¶è€Œï¼Œåœ¨å›ç­”æ¶‰åŠåŒ–å­¦è¿‡ç¨‹çš„å¤æ‚é—®é¢˜æ—¶ï¼Œå°¤å…¶æ˜¯å¾ªç¯é—®é¢˜æ—¶ï¼Œå®ƒä»¬è¢«è¯æ˜æ˜¯è¶…çº§æ–¹ä¾¿çš„ã€‚

1.  **è„‰å†²å“åº”å‡½æ•°**:äº†è§£å½“å¦ä¸€ä¸ªä¸åŒçš„å˜é‡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸€ä¸ªå˜é‡å‘ç”Ÿå˜åŒ–æ‰€éœ€çš„æ—¶é—´ã€‚æ ¹æ®è¿™ä¸€åˆ†æï¼Œæ‚¨å¯ä»¥å›ç­”ä»¥ä¸‹ç±»å‹çš„é—®é¢˜â€”
    a .å¦‚æœæˆ‘å¯¹æ¸©åº¦ç¨ä½œæ”¹å˜ï¼Œç¨³å®šäº§é‡éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ
    b .ç³»ç»Ÿæ„è¯†åˆ°æ°¯å«é‡å˜åŒ–çš„å½±å“éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ

![](img/a6949319f76d93037ac586f88e9f98c5.png)

The y-axis shows the change in selectivity given a change in chlorine level is initiated at t= 0 hours. The x-axis shows the time from the change in chlorine levels. Grey region is the confidence interval of changes recorded in selectivity at t = T hours after the change in chlorines. This graph shows that the selectivity levels effect recorded after 8 hours of the change in chlorine and it finally stabilized after 12 hours.

åœ¨ R ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåº“â€œ*VARSâ€*ï¼Œå®ƒæœ‰ä¸€ä¸ªå‡½æ•° *irf* (è„‰å†²ååº”å‡½æ•°)ï¼Œåšçš„å·¥ä½œå’Œä¸Šé¢æåˆ°çš„ä¸€æ ·ã€‚ä¸‹é¢æ˜¯æ‰€ç”¨ä»£ç ( *Rï¼Œtidyverse* )çš„å›¾ç¤ºâ€”

```
library(vars)# p represents the lag order. This have 17 orders of all lag variables.
m.var <- df.reg %>% 
  VAR(p = 17, type = "const") irf.var.cum.ccf <- irf(m.var, 
                       n.ahead = 12, # No of Steps
                       runs = 1000, #Runs for the bootstrapping
                       impulse = "d_ccf", #Variable which changes
                       response = "d_S44" #Variable wohse effect is recorded)# Generates the plot
irf.var.cum.ccf %>% 
  plot()
```

**2ã€‚åŸºç¡€æ‰©å±•:**å®ƒæ˜¯ä¸€ç§æŠ€æœ¯ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡åœ¨çº¿æ€§æ¨¡å‹ä¸­ä¿æŒå…¶ä»–å˜é‡çš„é•¿æœŸå½±å“æ¥æ•æ‰ä¸€ä¸ªå˜é‡çš„è¿‘æœŸå½±å“ã€‚åœ¨æ—¶é—´åºåˆ—æ¨¡å‹ä¸­ï¼Œå½“æ‚¨å¸Œæœ›ä¸€ä¸ªå˜é‡çš„ç³»æ•°æ•è·æ›´è¿‘æœŸçš„æ ·æœ¬å’Œæ¥è‡ªé•¿æœŸæ ·æœ¬çš„å…¶ä»–ç³»æ•°æ—¶ã€‚ä½ ä¹Ÿå¯ä»¥å°è¯•å…¶ä»–ä¼ ç»ŸæŠ€æœ¯â€”â€”

*   **å¯¹æ ·æœ¬é›†**è¿›è¡ŒåŠ æƒï¼Œä»¥ä¾¿æœ€è¿‘çš„æ—¶é—´æ®µå…·æœ‰æ›´é«˜çš„æƒé‡(å¯èƒ½ä¼šå¯¼è‡´æ•´ä½“é¢„æµ‹èƒ½åŠ›çš„æŸå¤±)
*   **åˆ›é€ ç‰¹å¾**æˆ–è¯•å›¾ç†è§£ä¸ºä»€ä¹ˆè¿™ç§ç§¯æå’Œæ¶ˆæçš„è¡Œä¸ºä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œæ”¹å˜(éå¸¸å›°éš¾ä¸”ä¾èµ–äºæ•°æ®)
*   **æ”¹å˜è®­ç»ƒå‘¨æœŸçš„é•¿åº¦**(å¯èƒ½ä¸ä¼šäº§ç”ŸæœŸæœ›çš„ç»“æœï¼Œå¦‚ç³»æ•°è¶‹äºé›¶ç­‰ã€‚)

æœ‰æ—¶ï¼Œä¸€ä¸ª X å˜é‡å¯¹ Y çš„å½±å“éšç€æ—¶é—´çš„æ¨ç§»è€Œå˜åŒ–ã€‚ä¾‹å¦‚ï¼Œåœ¨ 6 ä¸ªæœˆä¸­ï¼Œå®ƒå¯¹ Y å˜é‡æœ‰ç§¯æçš„å½±å“ï¼Œè€Œåœ¨æ¥ä¸‹æ¥çš„ 4 ä¸ªæœˆä¸­ï¼Œè¿™ç§å½±å“æ˜¯æ¶ˆæçš„ã€‚ä½ åº”è¯¥ç¡®ä¿**å…¶ä»–å˜é‡å¿…é¡»ä¸ Y å˜é‡æœ‰ç¨³å®šçš„å…³ç³»ã€‚**

ä¸€ä¸ªç®€å•çš„çº¿æ€§æ¨¡å‹åº”è¯¥æ˜¯è¿™æ ·çš„â€”

```
ğ‘¦(ğ‘¡)=ğ›½ğ‘‹(ğ‘¡)+ğœ–
Where y(t) is some output (yield) that changes over time, t
```

å¯ä»¥æœ‰è®¸å¤šå…¶ä»–æ—¶å˜ä¿¡å·ï¼Œä½†ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å‡è®¾åªæœ‰ä¸€ä¸ª:X(t)ã€‚ä½ åœ¨å°è¯•æ ¹æ®æŸä¸ªæœ‰è¯¯å·®çš„çº¿æ€§æ¨¡å‹ï¼Œå­¦ä¹  X(t)å’Œ Y(t)ä¹‹é—´çš„å…³ç³»ï¼ŒÎµã€‚è¿™ç§å…³ç³»ç”±ç³»æ•°Î²æ¥æè¿°ã€‚

**å¤æ‚:**æ ¹æ®ä½ ä½¿ç”¨çš„æ•°æ®å‘¨æœŸï¼ŒÎ²å€¼ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿™è¡¨æ˜ X å’Œ y ä¹‹é—´çš„å…³ç³»å®é™…ä¸Šå¯èƒ½ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œå˜åŒ–ã€‚

**è§£æ:**åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªå«åšâ€œæŒ‡æ ‡å‡½æ•°â€çš„æ–°å‡½æ•°ã€‚æŒ‡ç¤ºå™¨å‡½æ•°æ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œå½“æ»¡è¶³æŸäº›æ¡ä»¶æ—¶ä¸ºâ€œ1â€ï¼Œå¦åˆ™ä¸ºâ€œ0â€ã€‚

![](img/3f26835f052620609121994c0d8d7e2f.png)

Mathematical representations of the equations mentioned to the right of the image

è®©æˆ‘ä»¬æŠŠä¸€æœˆåˆ°å…­æœˆçš„æœˆä»½é›†åˆç§°ä¸ºâ€œAâ€ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæŒ‡æ ‡å‡½æ•°æ¥æè¿°è¿™ä¸€ç‚¹ï¼Œå¦‚å³å›¾æ‰€ç¤ºã€‚
ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç±»ä¼¼çš„å‡½æ•°æ¥æè¿° 7 æœˆåˆ° 12 æœˆè¿™å‡ ä¸ªæœˆçš„é›†åˆï¼Œç§°è¿™äº›é›†åˆä¸ºâ€œBâ€ã€‚
ç°åœ¨ï¼Œä½¿ç”¨è¿™äº›æŒ‡æ ‡å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡å†™æˆ‘ä»¬çš„æ–¹ç¨‹æ¥è¯´æ˜éšæ—¶é—´å˜åŒ–çš„å…³ç³»(Î²)ã€‚

ä¸ºäº†åœ¨å®è·µä¸­å®ç°è¿™ä¸€ç‚¹ï¼Œæ‚¨å°†æŒ‰ç…§å‰é¢çš„æè¿°è®¾è®¡ç‰¹æ€§ï¼Œåˆ›å»º X çš„ä¸¤ä¸ªå‰¯æœ¬ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶é—´å°†å€¼æ¸…é›¶ã€‚

ç„¶åï¼Œæ‚¨å¯ä»¥åƒå¾€å¸¸ä¸€æ ·æ‹Ÿåˆæ¨¡å‹ã€‚

**æ–°çš„å¤æ‚å› ç´ :**ä½ çš„å›å½’æ¨¡å‹ä¸­ä¸ä»…ä»…åªæœ‰ä¸€ä¸ªå•ä¸€ç‰¹å¾ã€‚ä½ çš„å›å½’æ–¹ç¨‹å®é™…ä¸Šæ›´åƒè¿™æ ·(å°½ç®¡æ›´å¤æ‚):

```
ğ‘¦=ğ›½_1*ğ‘‹_1(ğ‘¡) + ğ›½_2*ğ‘‹_2(ğ‘¡) + ğ›½_3*ğ‘“(ğ‘‹_1(ğ‘¡), ğ‘‹_2(ğ‘¡)) + ğœ–
```

å®ƒè¢«ç®€åŒ–ä¸ºåªæœ‰ä¸¤ä¸ªç‹¬ç«‹å˜é‡ï¼Œå‡è®¾ x1 æ˜¯æˆ‘ä»¬ç›®å‰è®¨è®ºçš„å˜é‡ã€‚X_2 æ˜¯æ¤ç‰©å‘å‡ºçš„å…¶ä»–ä¿¡å·ï¼Œf(X_1ï¼ŒX_2)æ˜¯ä½ æ ¹æ® X_1 å’Œ X_2 çš„ç›¸äº’ä½œç”¨è®¾è®¡çš„ç‰¹å¾ã€‚

å¦‚æœæˆ‘ä»¬å®ç°ä¸Šé¢å»ºè®®çš„æ›´æ”¹ï¼Œå¹¶å°† X_1 çš„å½±å“åˆ†æˆä¸¤ä¸ªç‰¹æ€§ï¼Œæ‚¨å°†å¾—åˆ°:

```
ğ‘¦(ğ‘¡) = ğ›½_ğ´1*(ğ‘‹_1(ğ‘¡)âˆ—ğ•€_ğ´(ğ‘¡)) + ğ›½_ğµ1*(ğ‘‹_1(ğ‘¡)âˆ—ğ•€_ğµ (ğ‘¡)) + ğ›½_2*ğ‘‹_2(ğ‘¡) + 
ğ›½_3*ğ‘“(ğ‘‹_1(ğ‘¡),ğ‘‹_2(ğ‘¡)) + ğœ–
```

> **â€œå¦‚æœæˆ‘ä»¬ç›¸ä¿¡ X_1 å’Œ y ä¹‹é—´çš„å…³ç³»éšæ—¶é—´å˜åŒ–ï¼Œæˆ‘ä»¬æ˜¯å¦ä¹Ÿéœ€è¦é‡æ–°è¯„ä¼° X_1 å’Œ X_2 éšæ—¶é—´å˜åŒ–çš„å…³ç³»ï¼Ÿâ€**

**æ–°å†³å¿ƒ:**ç­”æ¡ˆæ˜¯ï¼Œè¦çœ‹ä½ è‡ªå·±ææ¸…æ¥šæ˜¯å¦æœ‰å¿…è¦æ”¹å˜è¿™ä¸€ç‚¹ã€‚æ²¡æœ‰å¿«é€Ÿçš„ç­”æ¡ˆï¼Œä½†æ˜¯ä½ å¯ä»¥å°è¯•ä¸€äº›äº‹æƒ…:

*   ä»…æ›´æ”¹å•ä¸ªæœ‰é—®é¢˜çš„ç‰¹å¾(X _ 1)-ä¿æŒå…¶ä»–å·¥ç¨‹ç‰¹å¾ä¸å˜
*   æ”¹å˜ä½ å•ä¸€çš„æœ‰é—®é¢˜çš„ç‰¹æ€§(x1)å’Œä¸€äº›åŒ…å« x1 çš„å½±å“æ›´å¤§çš„å·¥ç¨‹ç‰¹æ€§
*   æ”¹å˜æ‰€æœ‰ä¾èµ–äº X_1 çš„ç‰¹æ€§

æ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æ˜¯å®Œå…¨åˆç†çš„ï¼Œå¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šæé«˜ä½ çš„æ¨¡å‹çš„æ‹Ÿåˆåº¦ã€‚å½“ç„¶ï¼Œä½ çš„è§£é‡Šä¼šéšç€ä½ é‡‡å–çš„æ–¹æ³•è€Œæ”¹å˜ã€‚

å¦‚æœä½ åªå®ç°äº† X_1 ä¸Šæè¿°çš„å•åŸºå‡½æ•°ï¼Œä½ å®é™…ä¸Šæ˜¯åœ¨è¯´:â€œæˆ‘ä»¬ç›¸ä¿¡ X_1 å¯¹æ”¶ç›Šç‡çš„å½±å“ä¼šéšç€æ—¶é—´è€Œå˜åŒ–â€”â€”æˆ‘ä»¬å¯ä»¥è¯æ˜è¿™ä¸€ç‚¹ã€‚ç„¶è€Œï¼Œå— X_1 å½±å“çš„å…¶å®ƒè¿‡ç¨‹ï¼Œä¾‹å¦‚ f(X_1ï¼ŒX_2)ï¼Œå…·æœ‰éšæ—¶é—´çš„æ’å®šå…³ç³»ï¼Œå¹¶ä¸”å®ƒä»¬ä¸äº§é‡çš„å…³ç³»ä¸éšæ—¶é—´æ”¹å˜ã€‚â€

ä½ éœ€è¦è¿ç”¨ä½ å¯¹æ•°æ®å’Œè¿‡ç¨‹çš„äº†è§£æ¥åˆ¤æ–­è¿™æ ·çš„ç»“è®ºæ˜¯å¦åˆç†ã€‚

**3ã€‚åˆ†ä½æ•°å›å½’:**è¿™ç§æŠ€æœ¯å¹¶ä¸å¸¸ç”¨ï¼Œä½†å®ƒæ¯”ä¼ ç»Ÿçš„çº¿æ€§å›å½’æœ‰è‡ªå·±çš„ä¼˜åŠ¿ã€‚ç›¸å¯¹äºæ™®é€šçš„æœ€å°äºŒä¹˜å›å½’ï¼Œåˆ†ä½æ•°å›å½’çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œåˆ†ä½æ•°å›å½’ä¼°è®¡å¯¹å“åº”æµ‹é‡ä¸­çš„å¼‚å¸¸å€¼æ›´ç¨³å¥ã€‚

åˆ†ä½æ•°å›å½’å·²ç”±å¤šä½ç»Ÿè®¡å­¦å®¶æå‡ºï¼Œå¹¶è¢«ç”¨ä½œåœ¨å˜é‡çš„å‡å€¼ä¹‹é—´æ²¡æœ‰å…³ç³»æˆ–åªæœ‰å¼±å…³ç³»çš„æƒ…å†µä¸‹å‘ç°å˜é‡ä¹‹é—´æ›´æœ‰ç”¨çš„é¢„æµ‹å…³ç³»çš„æ–¹æ³•ã€‚

Python ä¸­çš„åˆ†ä½æ•°å›å½’å®ç°

```
# Quantile regression package
import statsmodels.formula.api as smf# Building the formula
formula = 'Conversion_Change ~ ' + ' + '.join(X_columns)# Training the model
mod = smf.quantreg(formula, df_train)
res = mod.fit(q=.5)# Evaluation metrics on test dataset
r2_test = r2_score(y_test, res.predict(df_test))
```

# å‚è€ƒ

[1]h[ttps://en . Wikipedia . org/wiki/Quantile _ regression # Advantages _ and _ applications](https://en.wikipedia.org/wiki/Quantile_regression#Advantages_and_applications)

[2]https://web.stanford.edu/~hastie/Papers/ESLII.pdf

[3][https://en.wikipedia.org/wiki/Indicator_function](https://en.wikipedia.org/wiki/Indicator_function)

[4][https://machine learning mastery . com/data-leakage-machine-learning/](https://machinelearningmastery.com/data-leakage-machine-learning/)

[https://tsfresh.readthedocs.io/en/latest/](https://tsfresh.readthedocs.io/en/latest/)