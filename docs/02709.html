<html>
<head>
<title>Bring your Jupyter Notebook to life with interactive widgets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用交互式小部件，让您的 Jupyter 笔记本栩栩如生</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/bring-your-jupyter-notebook-to-life-with-interactive-widgets-bc12e03f0916?source=collection_archive---------0-----------------------#2019-05-03">https://towardsdatascience.com/bring-your-jupyter-notebook-to-life-with-interactive-widgets-bc12e03f0916?source=collection_archive---------0-----------------------#2019-05-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="7cd9" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://medium.com/towards-data-science/data-science-in-the-real-world/home" rel="noopener">现实世界中的数据科学</a></h2><div class=""/><div class=""><h2 id="3d3c" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">如何使用 ipywidgets 创建动态仪表板</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/8e6880a71e3d184ec080c6be7002d32d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ujLy_6suF5uw2Lm5TW7pcA.png"/></div></div></figure><h1 id="4621" class="ld le it bd lf lg lh li lj lk ll lm ln ki lo kj lp kl lq km lr ko ls kp lt lu bi translated">扩展 Jupyter 的用户界面</h1><p id="1c81" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">传统上，每次需要修改笔记本单元格的输出时，都需要更改代码并重新运行受影响的单元格。这可能是麻烦的、低效的和容易出错的，并且在非技术用户的情况下，这甚至是不可行的。这就是<a class="ae mr" href="https://ipywidgets.readthedocs.io/en/stable/user_guide.html" rel="noopener ugc nofollow" target="_blank"> ipywidgets </a>发挥作用的地方:它们可以嵌入到笔记本中，并提供一个<strong class="lx jd">用户友好的</strong>界面来收集用户输入，并查看更改对数据/结果的影响，而不必与代码进行交互；您的笔记本可以从静态文档转变为动态仪表盘，非常适合展示您的数据故事！</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><blockquote class="mz na nb"><p id="8b37" class="lv lw nc lx b ly nd kd ma mb ne kg md nf ng mg mh nh ni mk ml nj nk mo mp mq im bi translated"><strong class="lx jd"> ⚠️范围:</strong>ipywidgets 上的资源是有限的，现有的极少数教程要么不完整，要么专注于<code class="fe nl nm nn no b">interact</code>函数/装饰器。这是一个<strong class="lx jd">完整的教程</strong>，告诉你如何完全控制小部件来创建强大的仪表板。</p><p id="ec72" class="lv lw nc lx b ly nd kd ma mb ne kg md nf ng mg mh nh ni mk ml nj nk mo mp mq im bi translated">我们将从基础开始:添加一个小部件并解释事件如何工作，我们将逐步开发一个仪表板。<br/>我将一步一步地指导你，在我们进行的过程中，以示例为基础。</p></blockquote></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h2 id="d741" class="np le it bd lf nq nr dn lj ns nt dp ln me nu nv lp mi nw nx lr mm ny nz lt iz bi translated">什么是 widget？</h2><p id="d308" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">如果你曾经创建过<strong class="lx jd">图形用户界面</strong> (GUI)，那么你就已经知道什么是小部件了。但是让我们快速定义一下:<br/>widget 是一个 GUI 元素，比如按钮、下拉菜单或文本框，它驻留在浏览器中，允许我们通过响应事件和调用指定的处理程序来控制代码和数据。</p><p id="f65e" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">这些 GUI 元素可以被组装和定制以创建复杂的仪表板。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oa"><img src="../Images/0e04b3f537f222cfc37d11c73abf194f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*i7rKCOZrrFXT9WkTt4BTiw.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Demo: A few of the most popular widgets</figcaption></figure><p id="10b8" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">在整篇文章中，我们将看到它们中的一些在起作用。</p><blockquote class="of"><p id="76e1" class="og oh it bd oi oj ok ol om on oo mq dk translated"><strong class="ak"> <em class="op">准备好了吗？🏁</em>T19】</strong></p></blockquote></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="e706" class="ld le it bd lf lg oq li lj lk or lm ln ki os kj lp kl ot km lr ko ou kp lt lu bi translated">❶入门</h1><p id="8345" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">要开始使用这个库，我们需要安装<strong class="lx jd"> ipywidgets </strong>扩展。如果使用 conda，我们在终端中键入以下命令:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="1d7b" class="np le it no b gy oz pa l pb pc">conda install -c conda-forge ipywidgets</span></pre><p id="42b9" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">对于 pip，这将是一个两步过程:1 .安装和 2。启用:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="4d36" class="np le it no b gy oz pa l pb pc">pip install ipywidgets</span><span id="714a" class="np le it no b gy pd pa l pb pc">jupyter nbextension enable --py widgetsnbextension</span></pre><h2 id="124c" class="np le it bd lf nq nr dn lj ns nt dp ln me nu nv lp mi nw nx lr mm ny nz lt iz bi translated">添加小部件</h2><p id="5a00" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">为了将小部件合并到笔记本中，我们必须导入模块，如下所示:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="3ca0" class="np le it no b gy oz pa l pb pc">import ipywidgets as widgets</span></pre><p id="fb45" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">要添加滑块，我们可以定义最小值和最大值、间隔大小(步长)、描述和初始值:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="170b" class="np le it no b gy oz pa l pb pc">widgets.IntSlider(<br/>    min=0,<br/>    max=10,<br/>    step=1,<br/>    description='Slider:',<br/>    value=3<br/>)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pe"><img src="../Images/d205e71739e2efe391e024566e87a6fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*8Q5ihS21Tp6u-2YuRlXAIw.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Demo: Slider</figcaption></figure><h2 id="d05d" class="np le it bd lf nq nr dn lj ns nt dp ln me nu nv lp mi nw nx lr mm ny nz lt iz bi translated">展示它</h2><p id="e979" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated"><code class="fe nl nm nn no b">display()</code>函数在输入单元格中呈现一个小部件对象。<br/>首次导入:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="5ca5" class="np le it no b gy oz pa l pb pc">from IPython.display import display</span></pre><p id="0b2d" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">然后在 display()函数中将小部件作为参数传递:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="b314" class="np le it no b gy oz pa l pb pc">slider = widgets.IntSlider()<br/>display(slider)</span></pre><h2 id="7152" class="np le it bd lf nq nr dn lj ns nt dp ln me nu nv lp mi nw nx lr mm ny nz lt iz bi translated">获取/设置其值</h2><p id="fa07" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">为了读取小部件的值，我们将查询它的<code class="fe nl nm nn no b">value</code>属性。类似地，我们可以设置小部件的值:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pf"><img src="../Images/02ef51789845e80459f80d9bb2679f97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WI_hprPdBQ-wyyPyXDZE-Q.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Demo: Value</figcaption></figure><h2 id="6606" class="np le it bd lf nq nr dn lj ns nt dp ln me nu nv lp mi nw nx lr mm ny nz lt iz bi translated">链接两个小部件</h2><p id="2ec1" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">我们可以通过使用<code class="fe nl nm nn no b">jslink()</code>函数来同步两个小部件的值。</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="a7eb" class="np le it no b gy oz pa l pb pc">slider = widgets.IntSlider()<br/>text = widgets.IntText()<br/>display(slider, text)</span><span id="eb70" class="np le it no b gy pd pa l pb pc">widgets.jslink((slider, 'value'), (text, 'value'))</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pf"><img src="../Images/2a5a259dd2fd49327f1eba29b2b5b87b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*orDcZc6aXwvb8Q_1JNBqww.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Demo: Linking</figcaption></figure><h2 id="efdb" class="np le it bd lf nq nr dn lj ns nt dp ln me nu nv lp mi nw nx lr mm ny nz lt iz bi translated">小组件列表</h2><p id="21e8" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">要获得小部件的完整列表，您可以查看<a class="ae mr" href="https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20List.html" rel="noopener ugc nofollow" target="_blank">文档</a>，或者运行以下命令:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="7cc9" class="np le it no b gy oz pa l pb pc">print(dir(widgets))</span></pre></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="15e2" class="ld le it bd lf lg oq li lj lk or lm ln ki os kj lp kl ot km lr ko ou kp lt lu bi translated">❷处理窗口小部件事件</h1><p id="c69e" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">小部件可以响应事件，这些事件是在用户与它们交互时引发的。一个简单的例子是点击一个按钮——我们期待一个动作发生。</p><p id="ca2f" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">让我们看看这是如何工作的…</p><p id="5088" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">根据其具体特性，每个小部件公开不同的事件。每次触发事件时，都会执行一个<strong class="lx jd">事件处理程序</strong>。</p><blockquote class="mz na nb"><p id="55e5" class="lv lw nc lx b ly nd kd ma mb ne kg md nf ng mg mh nh ni mk ml nj nk mo mp mq im bi translated">事件处理程序是响应事件的回调函数，它异步运行并处理接收到的输入。</p></blockquote><p id="215c" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">这里我们将创建一个简单的按钮，名为<code class="fe nl nm nn no b">btn</code>。点击按钮时会调用<code class="fe nl nm nn no b">on_click</code>方法。</p><p id="2911" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">我们的事件处理程序<code class="fe nl nm nn no b">btn_eventhandler</code>将打印一条带有按钮标题的短消息——注意处理程序的输入参数<code class="fe nl nm nn no b">obj</code>是按钮对象本身，它允许我们访问它的属性。</p><p id="c4a6" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">为了将事件与处理程序绑定，我们将后者分配给按钮的<code class="fe nl nm nn no b">on_click</code>方法。</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="a6f6" class="np le it no b gy oz pa l pb pc">btn = widgets.Button(description='Medium')<br/>display(btn)</span><span id="69e1" class="np le it no b gy pd pa l pb pc">def btn_eventhandler(obj):<br/>    print('Hello from the {} button!'.format(obj.description))</span><span id="7209" class="np le it no b gy pd pa l pb pc">btn.on_click(btn_eventhandler)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pg"><img src="../Images/54fdfd4d6114e0a69b7f0ec6932602c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qlJgVsVxq2WbJDo67ERPLQ.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Demo: Button Event Handler</figcaption></figure><p id="b17a" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">让我们进入下一部分的是，输出出现在按钮本身所在的<strong class="lx jd">单元格</strong>中。因此，让我们继续看看如何为我们的笔记本电脑增加更多的灵活性！</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="8920" class="ld le it bd lf lg oq li lj lk or lm ln ki os kj lp kl ot km lr ko ou kp lt lu bi translated">❸控制小部件输出</h1><p id="f247" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">在这一节中，我们将探索如何使用小部件来控制数据帧。我选择的样本数据集是“<a class="ae mr" href="https://data.london.gov.uk/dataset/number-international-visitors-london" rel="noopener ugc nofollow" target="_blank">伦敦国际游客数量</a>”，它显示了伦敦游客在住宿、参观和消费方面的总数，按年份、季度、目的、持续时间、方式和国家细分。</p><p id="8eb7" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">最初，我们将获取数据并将其加载到数据帧中:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="d26d" class="np le it no b gy oz pa l pb pc">import pandas as pd<br/>import numpy as np</span><span id="7b6f" class="np le it no b gy pd pa l pb pc">url = "<a class="ae mr" href="https://data.london.gov.uk/download/number-international-visitors-london/b1e0f953-4c8a-4b45-95f5-e0d143d5641e/international-visitors-london-raw.csv" rel="noopener ugc nofollow" target="_blank">https://data.london.gov.uk/download/number-international-visitors-london/b1e0f953-4c8a-4b45-95f5-e0d143d5641e/international-visitors-london-raw.csv</a>"</span><span id="70e1" class="np le it no b gy pd pa l pb pc">df_london = pd.read_csv(url)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ph"><img src="../Images/91a1bfb3d5025dfef421841a977c1d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NgwfkuOb7U72zdsuiz17cw.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">df_london.sample(5)</figcaption></figure><p id="cd83" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">假设我们想按<em class="nc">年</em>过滤数据帧。我们将首先定义一个下拉列表，并用唯一年份值的列表填充它。</p><p id="6e7f" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">为了做到这一点，我们将创建一个通用函数<code class="fe nl nm nn no b">unique_sorted_values_plus_ALL</code>，它将找到唯一的值，对它们进行排序，然后在开头添加<code class="fe nl nm nn no b">ALL</code>项，这样用户就可以删除过滤器。</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="c4b1" class="np le it no b gy oz pa l pb pc">ALL = 'ALL'</span><span id="8e55" class="np le it no b gy pd pa l pb pc">def unique_sorted_values_plus_ALL(array):<br/>    unique = array.unique().tolist()<br/>    unique.sort()<br/>    unique.insert(0, ALL)<br/>    return unique</span></pre><p id="83e4" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">现在我们将初始化下拉菜单:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="3f75" class="np le it no b gy oz pa l pb pc">dropdown_year = widgets.Dropdown(options =    unique_sorted_values_plus_ALL(df_london.year))</span></pre><p id="5361" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">dropdown 小部件公开了<code class="fe nl nm nn no b">observe</code>方法，该方法采用一个函数，当 dropdown 的值改变时，该函数将被调用。因此，我们接下来将创建 observer 处理程序，通过所选的值来过滤数据帧——注意，处理程序的输入参数<code class="fe nl nm nn no b">change</code>包含关于所发生的更改的信息，这允许我们访问<code class="fe nl nm nn no b">new</code>值(<code class="fe nl nm nn no b">change.new</code>)。<br/>如果新值是<code class="fe nl nm nn no b">ALL</code>，我们移除过滤器，否则我们应用它:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="a009" class="np le it no b gy oz pa l pb pc">def dropdown_year_eventhandler(change):<br/>    if (change.new == ALL):<br/>        display(df_london)<br/>    else:<br/>        display(df_london[df_london.year == change.new])</span></pre><p id="19b2" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">然后，我们将处理程序绑定到下拉列表:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="2541" class="np le it no b gy oz pa l pb pc">dropdown_year.observe(dropdown_year_eventhandler, names='value')</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pi"><img src="../Images/2d8a7c9058709d76d0bf9b880cdd8be1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u54X2ZHeELH-vEgqFPHjIA.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Using a dropdown to filter a dataframe</figcaption></figure><p id="ac50" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">到目前为止还不错，但是所有查询的输出都是<em class="nc">在同一个单元格中累积</em>；也就是说，如果我们从下拉列表中选择一个新的年份，一个新的数据框架将呈现在第一个数据框架的下面，在同一个单元格中。<br/>理想的行为是<strong class="lx jd">每次刷新</strong>数据帧的内容。</p><h2 id="153a" class="np le it bd lf nq nr dn lj ns nt dp ln me nu nv lp mi nw nx lr mm ny nz lt iz bi translated">捕获小部件输出</h2><p id="523f" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">对此的解决方案是在一种特殊的小部件中捕获单元格输出，即<code class="fe nl nm nn no b">Output</code>，然后在另一个单元格中显示它。</p><p id="54f0" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">我们将稍微调整一下代码:</p><ul class=""><li id="12b8" class="pj pk it lx b ly nd mb ne me pl mi pm mm pn mq po pp pq pr bi translated">创建一个新的<code class="fe nl nm nn no b">Output</code>实例</li></ul><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="5fb3" class="np le it no b gy oz pa l pb pc">output_year = widgets.Output()</span></pre><ul class=""><li id="76c5" class="pj pk it lx b ly nd mb ne me pl mi pm mm pn mq po pp pq pr bi translated">调用事件处理程序中的<code class="fe nl nm nn no b">clear_output</code>方法来清除每次迭代中的前一个选择，并在<code class="fe nl nm nn no b">with</code>块中捕获 dataframe 的输出。</li></ul><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="5764" class="np le it no b gy oz pa l pb pc">def dropdown_year_eventhandler(change):<br/>    output_year.clear_output()<br/>    with output_year:<br/>        display(df_london[df_london.year == change.new])</span></pre><p id="f3e4" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">然后，我们将在新的单元格中显示输出:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="fd9a" class="np le it no b gy oz pa l pb pc">display(output_year)</span></pre><p id="eaf1" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">它是这样工作的:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ps"><img src="../Images/02ba8d125db62e7735a0bb83d68abc9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*F0vgrAB_qnZL93E4eKNCKQ.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Demo: Capturing output in a new cell</figcaption></figure><p id="3c4c" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">正如您所看到的，输出呈现在一个新的单元格中，过滤工作正常！👍</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="1eb5" class="ld le it bd lf lg oq li lj lk or lm ln ki os kj lp kl ot km lr ko ou kp lt lu bi translated">❹链接小部件输出</h1><p id="cf78" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">继续前面的例子，让我们假设我们也想通过<em class="nc">目的</em>进行过滤。</p><p id="cbe9" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">如果我们继续添加另一个下拉列表，我们将很快意识到数据帧只响应最近更改的下拉列表的过滤器。我们需要做的是<strong class="lx jd">将两者</strong>链接在一起，这样它就可以同时处理两个值(即年份和目的)。</p><p id="305c" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">让我们看看它应该如何工作:</p><p id="181b" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">首先，我们需要两个下拉菜单的公共输出:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="92b3" class="np le it no b gy oz pa l pb pc">output = widgets.Output()</span></pre><p id="adc5" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">这是两个下拉菜单:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="2679" class="np le it no b gy oz pa l pb pc">dropdown_year = widgets.Dropdown(options =    unique_sorted_values_plus_ALL(df_london.year))</span><span id="ade9" class="np le it no b gy pd pa l pb pc">dropdown_purpose = widgets.Dropdown(options = unique_sorted_values_plus_ALL(df_london.purpose))</span></pre><p id="8e51" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">然后我们创建一个新函数<code class="fe nl nm nn no b">common_filtering</code>，它将被两个事件处理程序调用。该函数将对两年的数据帧应用过滤器<code class="fe nl nm nn no b"><em class="nc">AND</em></code>目的:<br/>我们正在清除输出，然后我们检查是否有任何值为<code class="fe nl nm nn no b">ALL</code>，在这种情况下，我们认为相应的过滤器已被移除。当两个过滤器都存在时，在<code class="fe nl nm nn no b">else</code>语句中，我们在两个过滤器中应用<code class="fe nl nm nn no b">&amp;</code>操作。最后，我们捕获输出:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="bec1" class="np le it no b gy oz pa l pb pc">def common_filtering(year, purpose):<br/>    output.clear_output()<br/>    <br/>    if (year == ALL) &amp; (purpose == ALL):<br/>        common_filter = df_london<br/>    elif (year == ALL):<br/>        common_filter = df_london[df_london.purpose == purpose]<br/>    elif (purpose == ALL):<br/>        common_filter = df_london[df_london.year == year]<br/>    else:<br/>        common_filter = df_london[(df_london.year == year) &amp; <br/>                                  (df_london.purpose == purpose)]<br/>    <br/>    with output:<br/>        display(common_filter)</span></pre><p id="c1b9" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">我们修改事件处理程序来调用<code class="fe nl nm nn no b">common_filtering</code>函数并传递<code class="fe nl nm nn no b">change.new</code>值以及另一个下拉菜单的当前<code class="fe nl nm nn no b">value</code>:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="65a8" class="np le it no b gy oz pa l pb pc">def dropdown_year_eventhandler(change):<br/>    common_filtering(change.new, dropdown_purpose.value)</span><span id="9d24" class="np le it no b gy pd pa l pb pc">def dropdown_purpose_eventhandler(change):<br/>    common_filtering(dropdown_year.value, change.new)</span></pre><p id="19b3" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">我们将处理程序绑定到下拉菜单，就这样！</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="9678" class="np le it no b gy oz pa l pb pc">dropdown_year.observe(<br/>dropdown_year_eventhandler, names='value')</span><span id="6497" class="np le it no b gy pd pa l pb pc">dropdown_purpose.observe(<br/>dropdown_purpose_eventhandler, names='value')</span></pre><p id="24fa" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">代码片段:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pt"><img src="../Images/7ccceea0c61c59721fa6732b35a265bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2OAKHOR9UBHfDG45Z-RUiw.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Filter a dataframe based on two values</figcaption></figure><p id="f2ae" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">这是演示:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ps"><img src="../Images/aeffd79151f450038aeb68ff2b622614.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*mxWYK6_cwVH1wejGuP-llw.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Demo: Filter a dataframe based on two values</figcaption></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="9246" class="ld le it bd lf lg oq li lj lk or lm ln ki os kj lp kl ot km lr ko ou kp lt lu bi translated">❺创建仪表板</h1><p id="e23e" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">到目前为止，我们已经通过过滤和显示伦敦数据集的数据为我们的仪表板奠定了基础。我们将继续根据用户选择的值对数值进行着色。</p><p id="62d5" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">一个有用的数字小部件是<code class="fe nl nm nn no b">BoundedFloatText</code>；我们将赋予它一个<code class="fe nl nm nn no b">min</code>、<code class="fe nl nm nn no b">max</code>和初始<code class="fe nl nm nn no b">value</code>，以及增量<code class="fe nl nm nn no b">step</code>。</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="0eea" class="np le it no b gy oz pa l pb pc">bounded_num = widgets.BoundedFloatText(<br/>min=0, max=100000, value=5, step=1)</span></pre><p id="cfe8" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">为了给数据框单元格着色，我们将定义此函数:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="deb3" class="np le it no b gy oz pa l pb pc">def colour_ge_value(value, comparison):<br/>    if value &gt;= comparison:<br/>        return 'color: red'<br/>    else:<br/>        return 'color: black'</span></pre><p id="fa8e" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">现在我们将最低限度地修改<code class="fe nl nm nn no b">common_filtering</code>函数为:</p><ul class=""><li id="b8aa" class="pj pk it lx b ly nd mb ne me pl mi pm mm pn mq po pp pq pr bi translated">添加新的<code class="fe nl nm nn no b">num</code>输入参数:</li></ul><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="3c05" class="np le it no b gy oz pa l pb pc">def common_filtering(year, purpose, num):</span></pre><ul class=""><li id="d18b" class="pj pk it lx b ly nd mb ne me pl mi pm mm pn mq po pp pq pr bi translated">通过为三个数字列调用<code class="fe nl nm nn no b">colour_ge_value</code>函数来应用样式:</li></ul><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="469a" class="np le it no b gy oz pa l pb pc">with output:<br/>        display(common_filter<br/>                .style.applymap(<br/>                    lambda x: colour_ge_value(x, num),<br/>                    subset=['visits','spend', 'nights']))</span></pre><p id="dffd" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">需要调整现有的事件处理程序以通过<code class="fe nl nm nn no b">bounded_num.value</code>:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="e6af" class="np le it no b gy oz pa l pb pc">def dropdown_year_eventhandler(change):<br/>    common_filtering(change.new, dropdown_purpose.value,<br/>                     bounded_num.value)</span><span id="8763" class="np le it no b gy pd pa l pb pc">def dropdown_purpose_eventhandler(change):<br/>    common_filtering(dropdown_year.value, change.new, <br/>                     bounded_num.value)</span></pre><p id="2c80" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">最后，我们将插入新部件的事件处理程序:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="7d82" class="np le it no b gy oz pa l pb pc">def bounded_num_eventhandler(change):<br/>    common_filtering(dropdown_year.value, dropdown_purpose.value, <br/>                     change.new)</span><span id="586c" class="np le it no b gy pd pa l pb pc">bounded_num.observe(bounded_num_eventhandler, names='value')</span></pre><p id="191d" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">代码片段:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pt"><img src="../Images/befa06a301cae8f66dd2c5ebd80d5653.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*npzrlDPHyuJgi5kY2b-hbQ.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Colour dataframe values</figcaption></figure><p id="6b61" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">这是演示:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pu"><img src="../Images/dd22c712be762b0c2e9011543ea2526b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*DxjZQO6J-HvD2c0GbNtXzA.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Demo: Colour dataframe values</figcaption></figure><h2 id="1768" class="np le it bd lf nq nr dn lj ns nt dp ln me nu nv lp mi nw nx lr mm ny nz lt iz bi translated">测绘</h2><p id="a624" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">接下来，我们将添加一个新的图表来绘制访问次数的基本单变量密度(KDE →核密度估计)。我们将使用 seaborn，所以让我们导入库:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="5bce" class="np le it no b gy oz pa l pb pc">import seaborn as sns<br/>import matplotlib.pyplot as plt</span></pre><p id="bda1" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">继续之前的用例，我们将在一个新的输出变量中捕获图形:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="c47a" class="np le it no b gy oz pa l pb pc">plot_output = widgets.Output()</span></pre><p id="7bfc" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">我们现在将修改<code class="fe nl nm nn no b">common_filtering</code>函数来绘制新图表:</p><ul class=""><li id="8839" class="pj pk it lx b ly nd mb ne me pl mi pm mm pn mq po pp pq pr bi translated">首先，我们清除输出:</li></ul><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="6bb6" class="np le it no b gy oz pa l pb pc">plot_output.clear_output()</span></pre><ul class=""><li id="d02f" class="pj pk it lx b ly nd mb ne me pl mi pm mm pn mq po pp pq pr bi translated">然后我们通过传递访问次数来调用 seaborn 的<code class="fe nl nm nn no b">kdeplot</code>方法:</li></ul><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="e808" class="np le it no b gy oz pa l pb pc">with plot_output:<br/>    sns.kdeplot(common_filter['visits'], shade=True)<br/>    plt.show()</span></pre><p id="1ae9" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">最后，我们需要做的唯一一件事是在一个新的单元格中显示输出:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="d040" class="np le it no b gy oz pa l pb pc">display(output)<br/>display(plot_output)</span></pre><p id="2035" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">代码片段:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pv"><img src="../Images/9d619d20a13a0cf11dfb5a72b26431ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ETpFnpw9sxHazrYqRpFt_w.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Controlling a graph</figcaption></figure><p id="4092" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">这是演示:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pw"><img src="../Images/51ca8a876d5e050f654b2a6aebf55c59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*lgFbd0OROIySFEb3VtMDKw.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Demo: Controlling a graph</figcaption></figure><h1 id="ea54" class="ld le it bd lf lg lh li lj lk ll lm ln ki lo kj lp kl lq km lr ko ls kp lt lu bi translated">❻仪表板布局</h1><p id="09af" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">到目前为止，我们的用户界面是功能性的，但是占用了很多空间。</p><p id="dcbe" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">我们将首先<strong class="lx jd">水平排列</strong>输入部件。<code class="fe nl nm nn no b">HBox</code>将从左到右一次添加一个小部件:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="d5fd" class="np le it no b gy oz pa l pb pc">input_widgets = widgets.HBox(<br/>[dropdown_year, dropdown_purpose, bounded_num])</span><span id="7c85" class="np le it no b gy pd pa l pb pc">display(input_widgets)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi px"><img src="../Images/9408d0728aae15ca003d9ee90ab19ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uHLX00NDzwpfnXlPa9Pmtw.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">HBox</figcaption></figure><p id="3128" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">接下来我们将为输出创建一个<strong class="lx jd">容器</strong>。<code class="fe nl nm nn no b">Tab</code>对此大有裨益。第一个选项卡将存放数据框架，第二个选项卡将存放图表。</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="d888" class="np le it no b gy oz pa l pb pc">tab = widgets.Tab([output, plot_output])<br/>tab.set_title(0, 'Dataset Exploration')<br/>tab.set_title(1, 'KDE Plot')</span><span id="6e17" class="np le it no b gy pd pa l pb pc">display(tab)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi py"><img src="../Images/319867e642ad2fa923e73af11255c551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QF80EkaNHH_4Y_S0u_X8mw.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Tab</figcaption></figure><p id="6407" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">最后，我们将用一个<code class="fe nl nm nn no b">VBox</code>将输入部件和选项卡堆叠在一起。</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="b437" class="np le it no b gy oz pa l pb pc">dashboard = widgets.VBox([input_widgets, tab])</span><span id="1f61" class="np le it no b gy pd pa l pb pc">display(dashboard)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pz"><img src="../Images/712d2a3b718484198c12c17ac5623459.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TrBf3aTjGOh2TPlWPAUlWg.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">VBox</figcaption></figure><p id="5452" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">感觉有点“拥挤”,所以作为最后一步，我们将<strong class="lx jd">通过添加一些空间来打磨</strong>我们的仪表板。我们将定义一个<code class="fe nl nm nn no b">Layout</code>，在项目之间给出 50px 的边距。</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="971d" class="np le it no b gy oz pa l pb pc">item_layout = widgets.Layout(margin='0 0 50px 0')</span></pre><p id="9840" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">我们将每个项目的布局称为:</p><pre class="ks kt ku kv gt ov no ow ox aw oy bi"><span id="8f46" class="np le it no b gy oz pa l pb pc">input_widgets = widgets.HBox(<br/>[dropdown_year, dropdown_purpose, bounded_num],<br/>layout=item_layout)</span><span id="7ec3" class="np le it no b gy pd pa l pb pc">tab = widgets.Tab([output, plot_output],<br/>layout=item_layout)</span></pre><p id="1910" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">还有哒哒…我们的成品仪表板:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qa"><img src="../Images/4af5181f4a3b682fde65ec6b3a789d77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qh1TdL6SV9NFQkTzUETysw.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Dashboard</figcaption></figure><h2 id="3902" class="np le it bd lf nq nr dn lj ns nt dp ln me nu nv lp mi nw nx lr mm ny nz lt iz bi translated">最终演示</h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pw"><img src="../Images/6694e91cc946532ad935e995ed981674.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qToszOQLSxhkBHjisN6p1Q.gif"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Demo: Final Dashboard</figcaption></figure></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><blockquote class="mz na nb"><p id="b63f" class="lv lw nc lx b ly nd kd ma mb ne kg md nf ng mg mh nh ni mk ml nj nk mo mp mq im bi translated"><strong class="lx jd"> PS </strong>:出于演示的目的，在一些演示中，我使用了数据集的一个子集，即:<code class="fe nl nm nn no b">df_london = <em class="it">df_london</em>.sample(250)</code>。</p></blockquote></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><h1 id="7207" class="ld le it bd lf lg oq li lj lk or lm ln ki os kj lp kl ot km lr ko ou kp lt lu bi translated">更进一步</h1><p id="7bfd" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">您也可以使用一些第三方小部件，其中最流行的是:<br/>二维图表:<a class="ae mr" href="https://github.com/bloomberg/bqplot" rel="noopener ugc nofollow" target="_blank"> bqplot </a> <br/>三维可视化:<a class="ae mr" href="https://github.com/jupyter-widgets/pythreejs" rel="noopener ugc nofollow" target="_blank">pytreejs</a>和<a class="ae mr" href="https://github.com/maartenbreddels/ipyvolume" rel="noopener ugc nofollow" target="_blank"> ipyvolume </a> <br/>映射:<a class="ae mr" href="https://github.com/jupyter-widgets/ipyleaflet" rel="noopener ugc nofollow" target="_blank"> ipyleaflet </a>和<a class="ae mr" href="https://github.com/pbugnion/gmaps" rel="noopener ugc nofollow" target="_blank"> gmaps </a>。</p><p id="c94f" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">您还可以构建自己的自定义小部件！欲了解更多信息，请点击查看<a class="ae mr" href="https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Custom.html" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi gj"><img src="../Images/042fa118967ca5cfb420eac31fef5a75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qUlFa3diK_KJ9IxL17j2Yg.png"/></div></div></figure><h1 id="0fa5" class="ld le it bd lf lg lh li lj lk ll lm ln ki lo kj lp kl lq km lr ko ls kp lt lu bi translated">概述</h1><p id="3259" class="pw-post-body-paragraph lv lw it lx b ly lz kd ma mb mc kg md me mf mg mh mi mj mk ml mm mn mo mp mq im bi translated">我们看到了各种各样的小部件，但是我们仍然只是触及了表面——我们可以使用 ipywidgets 构建非常复杂和广泛的 GUI。我希望你们都同意，它们应该在任何数据科学家的工具箱中占有一席之地，因为它们提高了我们的生产力，并在数据探索过程中增加了很多价值。</p><p id="afd7" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated">感谢阅读！</p></div><div class="ab cl ms mt hx mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="im in io ip iq"><p id="7f31" class="pw-post-body-paragraph lv lw it lx b ly nd kd ma mb ne kg md me ng mg mh mi ni mk ml mm nk mo mp mq im bi translated"><em class="nc">我定期在媒体上写关于技术的&amp;数据——如果你想阅读我未来的帖子，请</em><a class="ae mr" href="https://medium.com/@semika" rel="noopener"><em class="nc">‘关注’我</em> </a> <em class="nc">！</em></p></div></div>    
</body>
</html>