<html>
<head>
<title>Discovering Spotify Wrapped with Python — An Extended Data Exploration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">发现用 Python 包装的 Spotify 扩展的数据探索</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/discovering-spotify-wrapped-an-extended-data-exploration-1975a8b7af29?source=collection_archive---------17-----------------------#2019-12-29">https://towardsdatascience.com/discovering-spotify-wrapped-an-extended-data-exploration-1975a8b7af29?source=collection_archive---------17-----------------------#2019-12-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7e7e" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">2017、2018、2019 和十年；不仅仅是流计数，以交互方式呈现。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b943c2e7510020d07ed419714a7e4cea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HNMcZ4PuIAa2u50HJcaTog.png"/></div></div></figure><h1 id="7e7b" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">序</h1><p id="67dd" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi mf translated">2010 年已经结束，除非你一直生活在岩石下，最近几天你很可能会遇到一个人全年收听历史的个性化视觉呈现；正式名称为<a class="ae mo" href="https://www.spotify.com/ca-en/wrapped/" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> Spotify 裹</strong> </a>。虽然一些数据人员可能认为它本质上只是 SQL 查询中的 COUNT、SUM、WHERE 和 GROUP BY 的输出，但<strong class="ll ir">美观的可视化列表</strong>在上线当天成功地导致<a class="ae mo" href="https://www.standard.co.uk/tech/spotify-wrapped-2019-not-working-a4305311.html" rel="noopener ugc nofollow" target="_blank">服务器因突发流量而停机</a>，并通过大量的社交媒体分享将其订户转化为免费的品牌大使；由于 FOMO 综合症，我们大多数人都有。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/7c8af3f41c82b6089de0c7682c55b021.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*YMG6nWB-gGzP7wIIlT_GMQ.gif"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Originally by <a class="mu mv ep" href="https://medium.com/u/739fe8b15412?source=post_page-----1975a8b7af29--------------------------------" rel="noopener" target="_blank">Erik Herrström</a></figcaption></figure><p id="539a" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">看看下面的链接(如果你还没有的话),看看在各自的时间跨度内，全世界都在听些什么。</p><div class="nb nc gp gr nd ne"><a href="https://community.spotify.com/t5/Community-Blog/Your-2017-Wrapped/ba-p/3638025" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd ir gy z fp nj fr fs nk fu fw ip bi translated">你的 2017 年结束了</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">这一年即将结束。也就是说，你猜对了，是时候进行我们一年一度的音乐年活动了…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">community.spotify.com</p></div></div><div class="nn l"><div class="no l np nq nr nn ns kp ne"/></div></div></a></div><div class="nb nc gp gr nd ne"><a href="https://newsroom.spotify.com/2018-12-04/the-top-songs-artists-playlists-and-podcasts-of-2018/" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd ir gy z fp nj fr fs nk fu fw ip bi translated">2018 年热门歌曲、艺术家、播放列表和播客——Spotify</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">2018 年即将结束，但在 Spotify 上，音乐一如既往地大声播放。一年到头，我们的用户…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">newsroom.spotify.com</p></div></div><div class="nn l"><div class="nt l np nq nr nn ns kp ne"/></div></div></a></div><div class="nb nc gp gr nd ne"><a href="https://newsroom.spotify.com/2019-12-03/the-top-songs-artists-playlists-and-podcasts-of-2019-and-the-last-decade/" rel="noopener  ugc nofollow" target="_blank"><div class="nf ab fo"><div class="ng ab nh cl cj ni"><h2 class="bd ir gy z fp nj fr fs nk fu fw ip bi translated">2019 年和过去十年的顶级歌曲、艺术家、播放列表和播客- Spotify</h2><div class="nl l"><h3 class="bd b gy z fp nj fr fs nk fu fw dk translated">随着 2019 年接近尾声，Spotify 上的流媒体也将迎来辉煌的一年。你可能会回想过去的 12 年…</h3></div><div class="nm l"><p class="bd b dl z fp nj fr fs nk fu fw dk translated">newsroom.spotify.com</p></div></div><div class="nn l"><div class="nu l np nq nr nn ns kp ne"/></div></div></a></div><p id="faaf" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">这些见解点燃了我的好奇心，让我去探索 Spotify 向我们展示的东西之外的东西。所以我决定推出我的 Jupyter 笔记本，并开始摆弄 2017 年、2018 年、2019 年和十年全球排行榜上的<strong class="ll ir">曲目数据。继续向下滚动，看看我发现了什么。</strong></p><h1 id="cef1" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">获取和清洁</h1><p id="1615" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">首先，我使用<a class="ae mo" href="https://spotipy.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> Spotipy </a>(一个轻量级 Spotify Web API 库)检索了每个播放列表中每个曲目的音频特征。一个客户端 ID、一个秘密令牌、一些播放列表的唯一 ID 和几行脚本就可以完成这项工作，并将我们需要的信息编译到数据帧中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Fetch track info &amp; audio features</figcaption></figure><p id="85cb" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">在撰写本文时，2017 年版的播放列表 ID 不再公开。幸运的是，我在<a class="ae mo" href="https://www.kaggle.com/nadintamer/top-tracks-of-2017" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> Kaggle </strong> </a>中找到了数据集(功劳归于<a class="mu mv ep" href="https://medium.com/u/c11430960bdd?source=post_page-----1975a8b7af29--------------------------------" rel="noopener" target="_blank"> Nadin Tamer </a>)，并做了一些调整以使系列完整。</p><p id="6009" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">在准备数据时，我决定只包括主要的艺术家，忽略有特色的艺术家，如果有的话，以保持分析简单。此外，在 200 首曲目(每首前 50 首)中，一些曲目被证明存在于其他播放列表中；<strong class="ll ir">杜阿·利帕</strong>的<strong class="ll ir">新规则</strong> ( <strong class="ll ir"> 2017 </strong>、<strong class="ll ir">2018</strong>)<strong class="ll ir">艾德·希兰</strong> - <strong class="ll ir">外形的你</strong> ( <strong class="ll ir"> 2017 </strong>、<strong class="ll ir"> 2018 </strong>、<strong class="ll ir">十年</strong>、<strong class="ll ir">摇滚明星</strong>由<strong class="ll ir">后马龙</strong>在这种情况下，我通过按此顺序(2017 &gt; 2018 &gt; 2019 &gt;十年)排列优先级来删除重复项。下面快速浏览一下我的最终数据(172 行 x 14 列)及其描述。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/cd7972e73e21b2433eb76c1945f51c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JqAlauo3PiyzussN-CwawQ.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Final data randomly shuffled</figcaption></figure><ul class=""><li id="afea" class="ny nz iq ll b lm mw lp mx ls oa lw ob ma oc me od oe of og bi translated"><strong class="ll ir">露骨</strong>:歌词中是否包含露骨词语或表达的指标。</li><li id="c2eb" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">可跳舞性</strong>:根据速度、节奏稳定性、节拍强度和整体规律性，一首曲目适合跳舞的程度。(0~1)</li><li id="000a" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">能量</strong>:基于动态范围、感知响度、音色、开始速率和一般熵的强度感知度量。(0~1)</li><li id="a2f5" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">键</strong>:估计音轨的整体音高等级及其旋律内容来源的音阶类型。</li><li id="9a7d" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">响度</strong>:声音的质量，是以分贝为单位的振幅的主要心理相关性。(-60~0)</li><li id="0b6c" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">语速</strong>:音轨中出现的口语单词。(0~1)</li><li id="4b57" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">声学</strong>:音轨是否声学的置信度度量。(0~1)</li><li id="4baf" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">现场感</strong>:录音中有观众在场。较高的活跃度值表示音轨被现场执行的概率增加。(0~1)</li><li id="49e1" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">效价</strong>:一首曲目所传达的音乐积极性(如:快乐、愉悦、欣快)。(0~1)</li><li id="56e0" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">速度</strong>:轨道的整体估计速度，单位为每分钟节拍数(BPM)。( 50~200)</li><li id="6d03" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">时长</strong>:曲目的长度，以秒为单位。</li></ul><p id="e9d3" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">事实上，我也可以有<strong class="ll ir">乐器</strong>和<strong class="ll ir">拍号</strong>，但是大多数顶级曲目都不是乐器，只有 4 个四分音符节拍；使他们不太想被包括在内。</p><h1 id="271d" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">绘制分布图</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/94333d3adc5ed6c1584da1faea55cc18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*DZj3jLx_D6yFAjW4LewvIg.gif"/></div></figure><p id="8b16" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">我选择了<a class="ae mo" href="https://plot.ly/python-api-reference/" rel="noopener ugc nofollow" target="_blank"> Plotly </a> library 作为框架，这样你就可以四处徘徊了。右上角的工具栏也可能有助于进一步探索。建议在大屏幕上观看。</p><p id="ebd8" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated"><em class="om">*只需点击</em> <strong class="ll ir"> <em class="om">显示嵌入</em> </strong> <em class="om">如果遇到中等的 DNT 注。(见上文)</em></p><blockquote class="on oo op"><p id="b3fb" class="lj lk om ll b lm mw jr lo lp mx ju lr oq my lu lv or mz ly lz os na mc md me ij bi translated"><strong class="ll ir">显式与非显式</strong></p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot nw l"/></div></figure><ul class=""><li id="5fa9" class="ny nz iq ll b lm mw lp mx ls oa lw ob ma oc me od oe of og bi translated"><strong class="ll ir"> 2019 </strong>(播放列表)显示<strong class="ll ir">在清晰度上</strong>与<strong class="ll ir"> 2017 </strong>没有太大区别。</li><li id="a43c" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated">显式轨迹与非显式轨迹在<strong class="ll ir"> 2018 </strong>中处于<strong class="ll ir">水平</strong>。</li><li id="b230" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated">第 28 个十年是<strong class="ll ir">与其他三个十年</strong>惊人的不同。(<em class="om">往年人们更喜欢露骨的内容吗？</em>)</li></ul></div><div class="ab cl ou ov hu ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="ij ik il im in"><blockquote class="on oo op"><p id="f2f9" class="lj lk om ll b lm mw jr lo lp mx ju lr oq my lu lv or mz ly lz os na mc md me ij bi translated"><strong class="ll ir">用什么调？</strong></p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot nw l"/></div></figure><ul class=""><li id="c7cb" class="ny nz iq ll b lm mw lp mx ls oa lw ob ma oc me od oe of og bi translated">不出所料，人们就是那么喜欢初学者友好的 c 大调音阶。</li><li id="66f7" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated">从<strong class="ll ir">约翰·传奇</strong>的<strong class="ll ir">我的全部</strong>到<strong class="ll ir">阿黛尔</strong>、<strong class="ll ir">、</strong>的<strong class="ll ir">、</strong>都是在第二届最受欢迎的<strong class="ll ir"> G#大调</strong>的<strong class="ll ir">、</strong>基础上发展而来。</li><li id="7da9" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir"> B 小调</strong>代表前 3 的小调家族。</li></ul></div><div class="ab cl ou ov hu ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="ij ik il im in"><blockquote class="on oo op"><p id="a7ea" class="lj lk om ll b lm mw jr lo lp mx ju lr oq my lu lv or mz ly lz os na mc md me ij bi translated">谁的声音最大？</p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot nw l"/></div></figure><ul class=""><li id="ae1b" class="ny nz iq ll b lm mw lp mx ls oa lw ob ma oc me od oe of og bi translated">与其他播放列表相比，<strong class="ll ir">十年</strong>中的大多数歌曲<strong class="ll ir">的音量都更大</strong>。</li><li id="dd0c" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated">两条<strong class="ll ir">比莉·埃利什</strong>最响的轨道导致<strong class="ll ir"> 2019 </strong>射程更长。</li><li id="f07d" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated">在<strong class="ll ir"> 2017 </strong>中，<strong class="ll ir">哈立德</strong>的<strong class="ll ir">位置</strong>和<strong class="ll ir">百香果</strong> by <strong class="ll ir">德雷克</strong>是<em class="om">噪音</em>异常值。(双关语)</li></ul></div><div class="ab cl ou ov hu ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="ij ik il im in"><blockquote class="on oo op"><p id="bfb5" class="lj lk om ll b lm mw jr lo lp mx ju lr oq my lu lv or mz ly lz os na mc md me ij bi translated"><strong class="ll ir"/><a class="ae mo" href="https://www.washingtonpost.com/news/to-your-health/wp/2015/10/30/the-mathematical-formula-behind-feel-good-songs/" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir">116 BPM</strong></a><strong class="ll ir">还有相关性吗？</strong></p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot nw l"/></div></figure><ul class=""><li id="b8a7" class="ny nz iq ll b lm mw lp mx ls oa lw ob ma oc me od oe of og bi translated">在<strong class="ll ir"> 2017 </strong>集中在<strong class="ll ir"> 100 BPM </strong>左右。<strong class="ll ir"> Paris </strong> by <strong class="ll ir">烟瘾者</strong>坐在 99.99。</li><li id="1fee" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir"> 2 图案</strong>大致分组在<strong class="ll ir">2018</strong>；有了<strong class="ll ir"> XXXTentacion 的变化</strong>的节拍最慢。</li><li id="202a" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated">《十年》<strong class="ll ir"/>看起来更稀疏，从<strong class="ll ir">乘客</strong>的<strong class="ll ir">让她走</strong>到<strong class="ll ir">法瑞尔·威廉</strong>的<strong class="ll ir">快乐</strong>。(忽略<strong class="ll ir">好玩。</strong> - <strong class="ll ir">我们还年轻</strong>既然<strong class="ll ir"> </strong>看来只查到了第一节的轨迹)</li></ul></div><div class="ab cl ou ov hu ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="ij ik il im in"><blockquote class="on oo op"><p id="f6cb" class="lj lk om ll b lm mw jr lo lp mx ju lr oq my lu lv or mz ly lz os na mc md me ij bi translated">多长时间才算够长？</p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot nw l"/></div></figure><ul class=""><li id="ee87" class="ny nz iq ll b lm mw lp mx ls oa lw ob ma oc me od oe of og bi translated">流行歌曲<strong class="ll ir">似乎有<strong class="ll ir">变短</strong>的趋势。</strong></li><li id="dc6e" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir">皇后</strong> - <strong class="ll ir">波西米亚狂想曲</strong>令人惊讶的仅次于<strong class="ll ir">尼奥加西亚</strong>的<strong class="ll ir">特博特</strong>。</li><li id="efe8" class="ny nz iq ll b lm oh lp oi ls oj lw ok ma ol me od oe of og bi translated"><strong class="ll ir"> XXXTentacion </strong>的<strong class="ll ir"> Jocelyn Flores </strong>以不到 2 分钟的<strong class="ll ir"> 2018 </strong>版。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Histogram and violin plot</figcaption></figure></div><div class="ab cl ou ov hu ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="ij ik il im in"><h2 id="fd2d" class="pb ks iq bd kt pc pd dn kx pe pf dp lb ls pg ph ld lw pi pj lf ma pk pl lh pm bi translated">全图对比</h2><p id="7c4c" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">与上面的不同，让我们对其他特性进行另一种类型的比较。由于特征具有不同的范围，我需要使用<strong class="ll ir">最小-最大缩放器</strong>将值重新缩放到相对相似的范围。就原始数据的失真而言，这种定标器优于标准定标器。缩放后的 KDE 图如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot nw l"/></div></figure><p id="bf75" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">看起来棒极了！现在所有的数据都在 0 和 1 之间；大多数特征分布是正态分布的，而且相当偏斜。缩放后的值对以后的聚类任务也很有用。下面绘制的是比较 4 个播放列表的每个特征的平均值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot nw l"/></div></figure><p id="1140" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">一眼看去，播放列表中似乎没有明显的<strong class="ll ir"/>。仔细看，<strong class="ll ir"> 2019 </strong>中的曲目与其他版本的<strong class="ll ir"> </strong>相比<strong class="ll ir">更加声学</strong>。<strong class="ll ir">十年</strong>少了<strong class="ll ir">言论</strong>大概是因为<strong class="ll ir"> Hip Hop </strong>这几年的兴起。<strong class="ll ir"> 2019 </strong>和<strong class="ll ir"> 2018 </strong>在<strong class="ll ir">活跃度</strong>上的差距，和<strong class="ll ir"> 10% </strong>一样大。<strong class="ll ir"> 2017 </strong>的热门歌曲似乎总是在每个功能的中间左右。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">KDE and radar plot</figcaption></figure><h2 id="8988" class="pb ks iq bd kt pc pd dn kx pe pf dp lb ls pg ph ld lw pi pj lf ma pk pl lh pm bi translated">映射和聚类</h2><p id="9a70" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">在看到更大的图片后，我想知道一个特定的音轨相对于其他音轨的位置。<strong class="ll ir">主成分分析(PCA) </strong>是最常见的线性降维技术之一。它<strong class="ll ir">强调变化</strong>，并在数据集中带出<strong class="ll ir">强模式</strong>。换句话说，它接受所有变量，然后在一个更小的空间中表示它，同时尽可能保持原始数据的性质。点击<a class="ae mo" href="http://setosa.io/ev/principal-component-analysis/" rel="noopener ugc nofollow" target="_blank">此链接</a>获取 PCA 的简短直观说明。</p><p id="df23" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">因此，我尝试了一个快速的<a class="ae mo" href="https://scikit-learn.org/stable/" rel="noopener ugc nofollow" target="_blank"> Scikit-learn </a>调用，并拟合所有 9 个数字特征，以将维度减少到 3，这样它就可以被映射。预测后的<strong class="ll ir">解释方差比</strong>对于 PC1、PC2、PC3 分别为 27%、17%、15%。因为我的目的只是可视化，这些数字对我来说已经足够好了。然后，我取每个投影空间的<strong class="ll ir">特征向量</strong>相对于每个原始特征的绝对值。结果是<strong class="ll ir">价</strong>在构成<strong class="ll ir">第一主成分</strong>中具有<strong class="ll ir">最大权重</strong>(负载)。</p><p id="420a" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated"><em class="om">*为了更好地查看下面的情节，您可能想先点击</em> <strong class="ll ir"> <em class="om">缩放</em> </strong> <em class="om">工具(工具栏上左数第二个)，向前拖动直到您获得下降距离，然后返回到</em> <strong class="ll ir"> <em class="om">转盘旋转</em> </strong> <em class="om">模式来徘徊。</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot nw l"/></div></figure><p id="42ad" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">在那里，您可以看到每首歌曲的位置及其与其他歌曲的距离，这是基于已转换的音频特征。大多数点都集中在黄色区域，只有少数粉红色点被发现。该映射也证实了化合价在某种程度上确实与 PC1 相关。忧郁的<strong class="ll ir">比莉·艾利什的</strong>可爱的和派对结束时的<strong class="ll ir">与更积极的</strong>截然相反——摇摆不定的<strong class="ll ir">无法留住我们</strong>由<strong class="ll ir">麦克摩尔&amp;瑞恩·刘易斯</strong>和<strong class="ll ir">马克·朗森</strong> - <strong class="ll ir">上城放克</strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">PCA implementation</figcaption></figure></div><div class="ab cl ou ov hu ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="ij ik il im in"><p id="2b2c" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">本文的最后一部分是每个轨迹在各自簇中的投影。对于映射，我尝试了一种相对较新的非线性降维算法，称为<strong class="ll ir">均匀流形近似和投影(UMAP) </strong>。它的工作方式类似于<strong class="ll ir">t-分布式随机邻居嵌入(t-SNE) </strong>，但更具可扩展性，约束条件更少。两者都使用<strong class="ll ir">图形布局算法</strong>来构建一个高维表示，以表示其结构相似的低维表示。在<a class="ae mo" href="https://pair-code.github.io/understanding-umap/" rel="noopener ugc nofollow" target="_blank">这一页</a>中的解释或许可以帮助你理解背后的直觉。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot nw l"/></div></figure><p id="e9c5" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">由于数据集相当小，因此<strong class="ll ir">层次聚类</strong>方法足以找到聚类。它假设每个点是一个单独的聚类，然后计算它们之间的接近度。它不断地合并聚类和更新矩阵，直到形成最合适的聚类。我遵循经验法则，通过检查<strong class="ll ir">树状图</strong>来选择聚类数，最终决定选择 5 作为最佳数，并手动调整 UMAP 算法的主要参数(<em class="om"> n_neighbors </em> = 10 和<em class="om"> min_dist </em> = 0.01)。结果显示在下面的 2D 图上(* <em class="om">为了更好的视觉效果，我这次省略了歌名</em></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ot nw l"/></div></figure><p id="7f89" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated">尽管 5 个主要簇没有完全分开，但它给了我们一个大画面，即轨道及其潜在的相似邻居是如何基于接近度进行分组的。相似性可以来自任何特征；无论是速度、可跳性、艺术家名字等等。有趣的是<strong class="ll ir">我喜欢</strong>由<strong class="ll ir">卡迪 B </strong>和<strong class="ll ir">妮琪·米娜</strong>的<strong class="ll ir">星际飞船</strong>是多么的接近，<strong class="ll ir">西班牙歌曲</strong>在<strong class="ll ir">集群 4 中形成一个子集，</strong>或者来自<strong class="ll ir">同一艺术家</strong>的曲目<strong class="ll ir">被密集投射</strong>。如果你有其他有趣的观察，请随意写在评论区。</p><p id="4c4e" class="pw-post-body-paragraph lj lk iq ll b lm mw jr lo lp mx ju lr ls my lu lv lw mz ly lz ma na mc md me ij bi translated"><em class="om">*在下图中，我手动标记了在整个播放列表中拥有至少 4 首歌曲的顶级艺术家的位置。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pn"><img src="../Images/1b3eee4b53e53a29e0857e4243bf398a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kjD9-w1bLIX6mhrJ9h1E_w.png"/></div></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">UMAP implementation</figcaption></figure><h1 id="bbae" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">附言</h1><p id="51a5" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">重新发现包装是一个有趣的旅程。作为一个狂热的音乐听众，浏览音频数据并了解流计数列表之外的信息是一种满足感。这个项目确实可以通过<strong class="ll ir">将更多的变量</strong>带入表中来扩展。除了前面提到的音频特征，<strong class="ll ir">细节</strong>如小节、节拍、小节、片段和状态<strong class="ll ir">可以给每首歌更多的身份</strong>。包含<strong class="ll ir">特色和相关艺术家</strong>将导致更健壮的映射和聚类。像歌词或社交媒体情绪这样的外部变量可能会使分析更加有趣。就个人而言，在<strong class="ll ir"> 2020 Wrapped </strong>中，我认为如果<a class="mu mv ep" href="https://medium.com/u/60a317bb70e4?source=post_page-----1975a8b7af29--------------------------------" rel="noopener" target="_blank"> Spotify </a>能够<strong class="ll ir">推出一些用户能够<strong class="ll ir">自己处理数据</strong>的功能</strong>，那就太好了。让我们看看他们会提供什么。</p></div></div>    
</body>
</html>