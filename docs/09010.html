<html>
<head>
<title>Data Science as support of esports performance and strategies (I)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为电子竞技表现和策略支撑的数据科学(一)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-science-as-support-of-esports-performance-and-strategies-i-d511843b00a1?source=collection_archive---------15-----------------------#2019-12-01">https://towardsdatascience.com/data-science-as-support-of-esports-performance-and-strategies-i-d511843b00a1?source=collection_archive---------15-----------------------#2019-12-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5a88" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">第一步:关于英雄联盟世界锦标赛的一般案例研究</h2></div><h2 id="a6fe" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">在进入主题之前，这里有一些关于驱动这个项目的动机的免责声明和信息。</h2><p id="dc56" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">这篇文章的目标读者是任何想要参与数据分析的<strong class="ld ir">体育/电子竞技</strong>或<strong class="ld ir">科技爱好者</strong>。我在这里的主要目标是探索各种数据科学工具，从统计分析到机器学习技术，以便获得理解电子竞技中的性能或策略轴的新钥匙。由于它将专注于英雄联盟，所以读者最好至少对游戏规则有基本的了解。</p><p id="b581" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">本文是一个系列的第一集。作为对主题的初步了解，这里讨论的两个主要观点是:</p><ul class=""><li id="7aad" class="lz ma iq ld b le lu lh lv ko mb ks mc kw md lt me mf mg mh bi translated">如何获取数据。</li><li id="c208" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">发现未来分析的轴心。</li></ul><p id="6ec7" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">这个系列将是一个游乐场和实验场所。由于我还没有为任何运营团队工作，<strong class="ld ir">性能将不是唯一的关注点</strong>。我的动机大多是将各种机器学习技术应用到一个我很了解的话题中；我相信通过这种方式可以发现新的知识或线索(也许不会)。</p><h1 id="e89c" class="mn kg iq bd kh mo mp mq kk mr ms mt kn jw mu jx kr jz mv ka kv kc mw kd kz mx bi translated">哪些数据？</h1><p id="53df" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">在欧洲举办的第九届英雄联盟世界锦标赛以 FunPlus Phoenix 的胜利结束，这是中国队第二次背靠背。每年的世界锦标赛都是一年比赛的总结。24 支队伍从全球 13 个地区、127 名选手和一百多场比赛中脱颖而出。</p><p id="dca3" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">这个锦标赛，也称为世界锦标赛，是一个非常好的分析主题，原因有很多:</p><ul class=""><li id="48ff" class="lz ma iq ld b le lu lh lv ko mb ks mc kw md lt me mf mg mh bi translated">合理的<strong class="ld ir">数据量</strong>。</li><li id="750f" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">来自所有不同地区的玩家和策略的多样性。</li><li id="ef26" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">这是目前为止最受关注的比赛，所以我们有很多已经完成的分析、资源和材料。</li></ul><p id="f6f6" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">我们也可以添加大联盟常规赛的数据，如果我们想发现更多关于地区比赛风格，球员简介，选秀优先权的一般事情…</p><h1 id="689b" class="mn kg iq bd kh mo mp mq kk mr ms mt kn jw mu jx kr jz mv ka kv kc mw kd kz mx bi translated">怎么会？</h1><p id="bd64" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">知道分析什么是一回事，<strong class="ld ir">获取数据</strong>是另一回事。</p><p id="41fa" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">令人高兴的是，开发游戏的公司 Riot Games 提供了一些关于每个公共游戏的非常详细的数据。通过它的<strong class="ld ir">公共 API </strong>，我们可以得到很多关于比赛和球员的不同数值和指标。</p><p id="5f25" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">然而，锦标赛是在不同的服务器上运行的，而不是普通玩家使用的服务器。因此，我们不得不使用变通办法，不从公共 API 获取数据，而是从另一个提供几乎相同类型数据的服务器获取数据。我们唯一需要的是获得每个游戏的<strong class="ld ir">标识符，这可能很难找到。感谢<a class="ae my" href="https://twitter.com/TimSevenhuysen" rel="noopener ugc nofollow" target="_blank"><em class="mz">Tim Sevenhuysen</em></a><em class="mz"/>和他的项目<a class="ae my" href="https://oracleselixir.com/" rel="noopener ugc nofollow" target="_blank"> <em class="mz"> Oracle's Elixir </em> </a>，通过下载整个季节拆分的转储并选择我们想要的列，这些数据可以自由而简单地获得。<em class="mz">所以真的，对他大感恩</em>。</strong></p><figure class="nb nc nd ne gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi na"><img src="../Images/ce0f839584a1221b274d4e75b736421a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lofpcf2xp73hz-8ss18wMA.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk">Actors involved, querying architecture and steps.</figcaption></figure><p id="51f8" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">既然甲骨文的灵丹妙药已经是关于聚合大联盟的数据，那么这种工作有什么意义呢？主要目标是获得一个<strong class="ld ir">更高粒度的</strong>和<strong class="ld ir">更完整的数据</strong>，我们是否需要关注游戏的特定方面，比如玩家、冠军、团队、地域、丛林路径、玩家分项……它不应该受到架构的限制。同样，使用相同的代码，未来的扩展将有可能获得<strong class="ld ir">常规排名游戏</strong>数据。如果我们想要一个巨大的体积，更普遍的趋势或侦察工具，这将是非常有趣的。</p><h1 id="4d59" class="mn kg iq bd kh mo mp mq kk mr ms mt kn jw mu jx kr jz mv ka kv kc mw kd kz mx bi translated">涉及的技术</h1><p id="f928" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">在这样的项目中很少会用到技术。我们的目标是拥有一个有效的已经被证实的技术堆栈，而不是试验新的架构。以下是这些工具的简要概述:</p><ul class=""><li id="41be" class="lz ma iq ld b le lu lh lv ko mb ks mc kw md lt me mf mg mh bi translated">Python:如果你想学习当代数据分析或机器学习，那么 python 应该是你的主要关注点。从简短而强大的语法、解释语言的优势和大量编译库来看，python 通过像<em class="mz"> Pandas </em>、<em class="mz"> Tensorflow </em>、<em class="mz"> Scikit </em>或<em class="mz"> Seaborn </em>这样的工具，提供了一些高质量的<strong class="ld ir">数据处理</strong>、<strong class="ld ir">学习</strong>或<strong class="ld ir">可视化</strong>工具。</li><li id="53e2" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">Jupyter:由于为这一系列文章所做的工作更多的是一种探索性的工作，而不是为每个人构建一个健壮的框架，所以笔记本环境非常适合。这样，编码更加灵活，让测试和试验阶段有更多的空间。</li><li id="03dc" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">MySQL:我们需要存储的数据是明确预定义的，可能已经存储在原始数据库的关系模型中。此外，我们需要一个可以查询大量数据并汇总结果的工具。SQL 和 MySQL 实现可以免费使用，并且非常健壮。</li><li id="cd3d" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">Tableau:在未来的分析中，除了 python 中产生的可视化，我还可以使用这个软件作为补充。</li></ul><figure class="nb nc nd ne gt nf gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/ae19467db81037a40adf18e58eec44b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/1*TJ87JbTf3D5S-KCQ7N4Waw.png"/></div><figcaption class="nm nn gj gh gi no np bd b be z dk">Database relational model.</figcaption></figure><p id="c4c3" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">这个数据库模型是原始的，但是严格遵循 Riot API 返回的 JSON 结构(树结构)。此外，Oracle 的 Elixir 中的一些竞争信息存储在 GameMetadata 中。时间线信息尚未整合，因为此类数据需要更全面的关注。它们将被整合起来进行具体分析。</p><p id="f845" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">请注意，玩家和团队并不代表竞争环境中的独特实体，如 G2、Invictus Gaming 或 Doublelift。它存储了一个球员在一场比赛中的实际状态，而一个球队在这场比赛中只有 5 名球员。拥有能够跟踪球员结构和移动的实体是件好事，特别是在 T2 时代。但这样的工作需要大量的手工工作，是另一项任务，完全可以在未来的扩展中作为一个新的层添加。</p><p id="7149" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">但是，对于竞技游戏来说，我们必须认识到数据的质量。通过对游戏中的用户名进行简单的分割，我们可以以统一的方式检索团队的<strong class="ld ir">标签和<strong class="ld ir">用户名</strong>，这大大简化了未来的分析。还有玩家好像是按<strong class="ld ir">角色</strong>排序的，这也是一个真正有用的值。</strong></p><h2 id="6523" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">最后，一些分析。</h2><p id="86a0" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">作为对分析工作的第一次审视，我们必须选择一种方法。数据集提供了许多可能性，无论我们是想专注于球队、挡拆、区域打法……这篇文章已经很长了，目标主要是展示数据准备过程。我认为首先关注球员和角色之间统计数据的差异可以提供数据集的一个很好的<strong class="ld ir">概览。</strong></p><h1 id="a973" class="mn kg iq bd kh mo mp mq kk mr ms mt kn jw mu jx kr jz mv ka kv kc mw kd kz mx bi translated">面向特征的分析</h1><p id="a19b" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">在下面的分析中，数据是世界锦标赛中每个球员的汇总(平均值)。我们只选择至少打了 3 场比赛的球员，以避免有偏见的平均值。几乎每一个值(=特征)都根据比赛的持续时间进行标准化:一个玩游戏时间越长的玩家，总伤害越大。然后，我将使用一些后缀来引用规范化方法:</p><ul class=""><li id="2b21" class="lz ma iq ld b le lu lh lv ko mb ks mc kw md lt me mf mg mh bi translated">AVG / <strong class="ld ir">平均值</strong>:最简单的聚合。它使用可用游戏的平均值。</li><li id="dd5c" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">PM / <strong class="ld ir">每分钟</strong>:总值除以总时长。这种方法假设所有值都是随时间线性变化的。这并不总是正确的，例如，冠军在游戏后期比早期造成更多的伤害。但在我看来，相对于原始值，这是一个很好的权衡。</li><li id="4fda" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">部分/部分或<strong class="ld ir">百分比</strong>:该值表示为包含它的另一个值的一部分。例如，魔法、物理和真实伤害是总伤害的三个互补的子部分。</li></ul><p id="95b1" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">获得所有变量的清晰概览的一个非常实用的工具是相关矩阵。每一列都与所有其他列进行比较。无需深入定义，相关性研究两个随机变量是<strong class="ld ir">正相关</strong>(蓝色)、<strong class="ld ir">负相关</strong>(红色)还是<strong class="ld ir">独立</strong>(白色)。</p><blockquote class="nr ns nt"><p id="bf24" class="lb lc mz ld b le lu jr lg lh lv ju lj nu lw ll lm nv lx lo lp nw ly lr ls lt ij bi translated">警告:相关性不是因果关系</p></blockquote><p id="43a2" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">当列没有排序时，相关矩阵可能难以阅读。作为补充，我们可以使用<strong class="ld ir">凝聚聚类，</strong>如果我们将相关性视为相似性。这样，我们就有了一棵相关变量在更近的叶子上的树。</p><figure class="nb nc nd ne gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi nx"><img src="../Images/a66aead90b43e5b8e163c39b9a34e9b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gN4Hw-vUETylbCAy3ZQahg.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk">Correlation matrix, with scale, agglomerative tree and clusters.</figcaption></figure><p id="e7bf" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">解释视觉矩阵和树的每一个结论都会适得其反。然而，有趣的是至少有几条线索可供未来分析:</p><ul class=""><li id="55db" class="lz ma iq ld b le lu lh lv ko mb ks mc kw md lt me mf mg mh bi translated">在以绩效为导向的工作中，主要目标是最大化胜率。我们可以观察到<strong class="ld ir">大部分量化指标都与</strong>和<strong class="ld ir"> </strong> it 相关，其中参与杀伤和助攻的数值较高。作为第一种解释:玩家在有组织的/集体的战斗中取得胜利的队伍会得到更好的奖励。</li><li id="75b5" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">我们还可以观察到一些与胜率反相关的数值。显然，我们在这里检索死亡和损失。但是有些价值并不是那么明显:游戏持续时间、物理伤害和人群控制也是反相关的。这些指标可以给我们关于元游戏的提示，并且可以进行更深入的研究。</li><li id="a59e" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">与支援角色相关联的视野、守卫和辅助与诸如耕作、获得的黄金或伤害输出等附带价值有很大区别。</li><li id="011c" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">炮塔上的伤害与丛林农场高度相关，这突出了这个角色对车道压力和目标恢复的作用。</li><li id="8bee" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated">第一滴血的出现与胜率只有轻微的关联，似乎并不显著。它不应被视为期货分析的主要特征。</li></ul><h1 id="cd27" class="mn kg iq bd kh mo mp mq kk mr ms mt kn jw mu jx kr jz mv ka kv kc mw kd kz mx bi translated">面向角色的分析</h1><p id="e526" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">我们看到一些功能可以被聚集并与特定的游戏角色相关联。我们可以根据角色查看这些变量的分布和预测，看看我们是否真的可以<strong class="ld ir"> </strong>更深入地关注一些特定的任务(丛林、广告宣传、单飞、中层或高层以及支持)。</p><figure class="nb nc nd ne gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="ng nh di ni bf nj"><div class="gh gi ny"><img src="../Images/43ebe04efc71d66bd3bd5df7dbc956ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FrRXMxl6rNleX4C-XkiGUQ.png"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk">Pair-plot of selected variables : scatter-plots and distributions highlighted by roles.</figcaption></figure><figure class="nb nc nd ne gt nf gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/16dbcf2390d57cd2d3d70bc03e67deb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*6YiC1V6gtY4xE7vG3A1KjQ.png"/></div><figcaption class="nm nn gj gh gi no np bd b be z dk">Decision tree with role as target.</figcaption></figure><p id="894d" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">我们可以在投影上观察到，丛林和支援角色实际上是分开的，可以很容易地聚集在一起。为了证实这个假设，我们可以对我们的类应用决策树。</p><p id="2652" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">这里的目标不是能够真正预测一个玩家的角色，而是对职业的重叠有一个概念。</p><p id="f5e2" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">通过视觉分析得出结论，丛林和支援都可以用<strong class="ld ir">非常简单的规则</strong>分开，这要归功于每分钟分别应用的丛林农场和视觉。</p><p id="5763" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">我们可以观察到进位(Solo laner:Top 和 Mid，Botlaner : ADC)具有更多相似的轮廓，并且更难分离。在未来的分析中，我们可以将重点放在<strong class="ld ir"> 3 个不同角色</strong>的个人资料上:丛林、支持和运输。</p><figure class="nb nc nd ne gt nf gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/f7b0b839ec33519f1679dd7a89a7d7be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*CCqDAf0Pk-5rMZGVeGjZCg.png"/></div><figcaption class="nm nn gj gh gi no np bd b be z dk">Principal Component Analysis, with roles, axis representation and some player labels.</figcaption></figure><p id="bb52" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">作为第三项检查，我们还可以对数据集应用降维算法，以仅在 2 个轴上表示变量的最大方差。</p><p id="d9bd" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">我们再次检索我们的 3 个集群。此外，通过观察空间中的球员，我们感觉这可能与表现出色的球队的球员有关。这是第一个线索，但一个主要目标是观察<strong class="ld ir">的表演和每个角色的打法。</strong></p><h1 id="3de7" class="mn kg iq bd kh mo mp mq kk mr ms mt kn jw mu jx kr jz mv ka kv kc mw kd kz mx bi translated">结论</h1><p id="74bf" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">在这篇文章中，我们已经看到了两个主要步骤 t <strong class="ld ir">走向更专业的分析</strong>:</p><ul class=""><li id="b019" class="lz ma iq ld b le lu lh lv ko mb ks mc kw md lt me mf mg mh bi translated"><strong class="ld ir">数据准备</strong>步骤，包括查询架构、涉及的技术和关系模型。</li><li id="723d" class="lz ma iq ld b le mi lh mj ko mk ks ml kw mm lt me mf mg mh bi translated"><strong class="ld ir">概述</strong>关注玩家的不同变量及其与游戏角色的关系。</li></ul><p id="812f" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">下一篇文章可能会关注世界锦标赛期间的丛林者或支持者，试图了解不同比赛风格的效率。</p><blockquote class="ob"><p id="bd70" class="oc od iq bd oe of og oh oi oj ok lt dk translated">欢迎任何关于技术、方法、动机或结论的评论或问题。欢迎通过我的推特账号@swnw_dev 联系我。</p><p id="1bac" class="oc od iq bd oe of og oh oi oj ok lt dk translated">这里有一个包含笔记本和 SQL 文件的存储库:<a class="ae my" href="https://github.com/Hugoswnw/league-analysis" rel="noopener ugc nofollow" target="_blank">https://github.com/Hugoswnw/league-analysis</a>。原始数据不公开。</p></blockquote><p id="5ae1" class="pw-post-body-paragraph lb lc iq ld b le ol jr lg lh om ju lj ko on ll lm ks oo lo lp kw op lr ls lt ij bi translated">谢谢你的时间。</p></div></div>    
</body>
</html>