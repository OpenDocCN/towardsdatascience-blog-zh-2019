<html>
<head>
<title>Impress Onlookers with your newly acquired Shell Skills</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用你新获得的壳技能打动旁观者</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/impress-onlookers-with-your-newly-acquired-shell-skills-a02effb420c2?source=collection_archive---------9-----------------------#2019-06-29">https://towardsdatascience.com/impress-onlookers-with-your-newly-acquired-shell-skills-a02effb420c2?source=collection_archive---------9-----------------------#2019-06-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ec2d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">数据科学家的 10 分钟外壳/终端技能</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9c0c743a46167247aa0f507e0570e12c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J-QJE6xuovnbkbfu"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@adamlittmandavis?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Adam Littman Davis</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a46b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我敢打赌，我们大多数人都见过有人坐在咖啡馆里对着黑/绿屏幕乱砍一气。</p><p id="7931" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每当这种情况发生时，我第一个想到的就是——“这看起来太酷了。”</p><p id="8766" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有图形用户界面。这就像你在玩你的操作系统的内部。</p><p id="abf1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">你要去的地方是和汇编语言一样接近的地方。</em>T3】</strong></p><p id="89d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://amzn.to/2YkjHbS" rel="noopener ugc nofollow" target="_blank">外壳命令</a>功能强大。它们看起来也很酷。</p><p id="35db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我想给他们一个尝试。我意识到，它们也可能是我数据科学工作流程的重要组成部分。</p><p id="9cf1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">这篇文章是关于我在使用 shell/terminal 时发现的最有用的命令，主要关注数据科学。</em>T9】</strong></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="53c4" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">您何时会使用 shell/terminal 进行数据分析？</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/f5c36a8ee34e1d9bb046735e8bb409c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o_OSb7l64t6Pvm7M"/></div></div></figure><p id="0eaf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有一件事我们都认为是理所当然的——您不会一直拥有 Python。</p><p id="59cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可能是新公司的 Linux 服务器没有安装 python。</p><p id="c086" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者您想对大文件进行一些检查，而不真正将它们加载到内存中。</p><p id="ca4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑这样一种情况，当您的笔记本电脑/服务器上有一个 6 GB 管道分隔的文件，并且您想要找出某一特定列中不同值的计数。</p><p id="de4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能有不止一种方法可以做到这一点。您可以将该文件放入数据库并运行 SQL 命令，或者您可以编写一个 Python/Perl 脚本。</p><p id="8e57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果服务器上没有安装 SQL/Python 呢？或者，如果你想在黑屏上看起来很酷呢？</p><p id="e26a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论如何，<strong class="lb iu"> <em class="lv">无论你做什么，都不会比这个更简单/耗时更少:</em> </strong></p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="d8a4" class="nb me it mx b gy nc nd l ne nf">cat data.txt | cut -d "|" -f 1 | sort -u | wc -l<br/>-------------------------------------------------<br/>30</span></pre><p id="b05c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将比你用 Perl/Python 脚本做的任何事情运行得更快。</p><p id="0f27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们稍微违背这个命令。这个命令说:</p><ul class=""><li id="4114" class="ng nh it lb b lc ld lf lg li ni lm nj lq nk lu nl nm nn no bi translated">使用<strong class="lb iu"> cat </strong>命令将文件内容打印/流式输出到标准输出。</li><li id="7899" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated">使用|命令将流内容从我们的 cat 命令传输到下一个命令<strong class="lb iu"> cut </strong>。</li><li id="b1b6" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated">在<strong class="lb iu"> cut </strong>命令中，通过参数<strong class="lb iu"> -d </strong>指定分隔符“|”(注意管道周围的分号，因为我们不想将管道用作流)，并通过参数<strong class="lb iu"> -f. </strong>选择第一列</li><li id="0ffa" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated">将流内容传输到对输入进行排序的<strong class="lb iu">排序</strong>命令。它采用参数<strong class="lb iu"> -u </strong>来指定我们需要唯一的值。</li><li id="9da6" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated">通过管道将输出传递给 wc -l 命令，该命令计算输入中的行数。</li></ul><p id="7e45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">也许你还不明白。但是不要担心，我保证你在文章结束时会明白的。</em> </strong>我还会在本帖结束前尝试解释比上述命令更高级的概念。</p><p id="1aa3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我在工作中广泛使用 shell 命令。作为一名数据科学家，我将根据我在日常工作中几乎每天都会遇到的用例来解释每个命令的用法。</p><p id="c207" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用来自 Lahman Baseball 数据库的 Salaries.csv 数据来说明不同的 shell 函数。你可能想要<a class="ae ky" href="https://www.kaggle.com/freshrenzo/lahmanbaseballdatabase" rel="noopener ugc nofollow" target="_blank">下载数据</a>来配合你自己的文章。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="c5b6" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">从基本命令开始</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/b59fa1f9629ffc27160134021cb607a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r0JuqSaQv9H0H5Qv9NRBZg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Think of every command as a color in your palette</figcaption></figure><p id="0764" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每当试图学习一门新语言时，从基础开始总是有帮助的。shell 是一种新语言。我们将逐一讲解一些基本命令。</p><h2 id="a05b" class="nb me it bd mf nv nw dn mj nx ny dp mn li nz oa mp lm ob oc mr lq od oe mt of bi translated">1.猫:</h2><p id="3bd6" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">有很多时候你需要看到你的数据。一种方法是在记事本中打开 txt/CSV 文件。对于小文件来说，这可能是最好的方法。</p><p id="ae64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是大数据是个问题。有时文件会非常大，以至于你无法在 sublime 或任何其他软件工具中打开它们，在那里我们可以使用 cat 命令。</p><p id="195d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能需要等一会儿。gif 文件来显示。 </p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="9c92" class="nb me it mx b gy nc nd l ne nf">cat salaries.csv</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/af2efbca157e6be8f61939983f8ed743.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*P4Ypqt3Y5eK9U3h48OXeAw.gif"/></div></div></figure><h2 id="da3a" class="nb me it bd mf nv nw dn mj nx ny dp mn li nz oa mp lm ob oc mr lq od oe mt of bi translated">2.头部和尾部:</h2><p id="759f" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">现在你可能会问我为什么要在终端上打印整个文件？一般不会。但我只想告诉你关于猫的命令。</p><p id="a53d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于用例，当您只需要数据的顶部/底部 n 行时，您通常会使用<a class="ae ky" href="https://en.wikipedia.org/wiki/Head_%28Unix%29" rel="noopener ugc nofollow" target="_blank"> head </a> / <a class="ae ky" href="https://en.wikipedia.org/wiki/Tail_%28Unix%29" rel="noopener ugc nofollow" target="_blank"> tail </a>命令。你可以如下使用它们。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="994d" class="nb me it mx b gy nc nd l ne nf">head Salaries.csv<br/>tail Salaries.csv<br/>head -n 3 Salaries.csv<br/>tail -n 3 Salaries.csv</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/77ba135f4e6d821553ea2e293ca9b5e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1UhHaiLMW-Llhqq5pPGZ4g.gif"/></div></div></figure><p id="3d16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意这里的 shell 命令的结构:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="a2dd" class="nb me it mx b gy nc nd l ne nf">CommandName [-arg1name] [arg1value] [-arg2name] [arg2value] filename</span></pre><p id="c0be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它是<code class="fe om on oo mx b">CommandName</code>，后跟几个<code class="fe om on oo mx b">argnames</code>和<code class="fe om on oo mx b">argvalues</code>，最后是文件名。通常，shell 命令有很多参数。您可以通过使用<code class="fe om on oo mx b">man</code>命令来查看命令支持的所有参数的列表。你可以把<code class="fe om on oo mx b">man</code>看作是帮助。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="685a" class="nb me it mx b gy nc nd l ne nf">man cat</span></pre><h2 id="4ab7" class="nb me it bd mf nv nw dn mj nx ny dp mn li nz oa mp lm ob oc mr lq od oe mt of bi translated">3.wc:</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/53760e8677d84df60c6f861cef1aa1a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_5YcDmUOMqLUSjGx"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Count the Lines</figcaption></figure><p id="9280" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Wc_%28Unix%29" rel="noopener ugc nofollow" target="_blank"> wc </a>是一个相当有用的 shell 实用程序/命令，它让我们<strong class="lb iu">计算给定文件中的行数(-l) </strong>、<strong class="lb iu">字数(-w) </strong>或<strong class="lb iu">字符(-c) </strong>。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="3e91" class="nb me it mx b gy nc nd l ne nf">wc -l Salaries.csv<br/>wc -w Salaries.csv<br/>wc -c Salaries.csv</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/44e5c0c3e8dc7a3239d5ef465163acd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*R19_5QXNhIDKLbR_SqJ3wg.gif"/></div></div></figure><h2 id="24ff" class="nb me it bd mf nv nw dn mj nx ny dp mn li nz oa mp lm ob oc mr lq od oe mt of bi translated">4.grep:</h2><p id="809c" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">有时，您可能希望在文件中查找特定的行。或者您可能希望打印文件中包含特定单词的所有行。</p><p id="a7c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者你可能想看看 2000 年球队的薪水。</p><p id="9fff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">grep 是你的朋友。</p><p id="1f04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本例中，我们打印了文件中包含“2000，BAL”的所有行。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="0f39" class="nb me it mx b gy nc nd l ne nf">grep "2000,BAL" Salaries.csv| head</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/97f95800e68fcd25cd25f0c0ae3f0978.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*87cdwj-VRNlP1JpJnbCIkg.gif"/></div></div></figure><p id="9427" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也可以在 grep 中使用正则表达式。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="b655" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">管道——这使得外壳很有用</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/1b9d28f59da0b965bcb626a14df211a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PffPvKXceGryIg9z"/></div></div></figure><p id="7849" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然我们现在知道了 shell 的基本命令，我现在可以谈谈 Shell 用法的基本概念之一— <a class="ae ky" href="https://en.wikipedia.org/wiki/Pipeline_%28Unix%29" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">管道</strong> </a>。</p><p id="6d43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果不使用这个概念，您将无法利用 shell 提供的全部功能。</p><p id="3e26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个想法很简单。</p><p id="d1a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还记得我们之前如何使用 head 命令查看文件的前几行吗？</p><p id="f1f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您也可以编写如下的<code class="fe om on oo mx b">head</code>命令:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="4a04" class="nb me it mx b gy nc nd l ne nf">cat Salaries.csv | head</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/6c37ae23b58007d281208508f328fc0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JqdTtjQgOlvsAnhXMckCwA.gif"/></div></div></figure><p id="c4e6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">我的建议:</em> </strong> <em class="lv">把命令里的“|”读成“把数据传到”</em></p><p id="fb91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以我会把上面的命令理解为:</p><p id="dc68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv"> cat </em>(打印)整个数据流，<strong class="lb iu">将数据传递给</strong> <em class="lv"> head </em>，这样它就可以只给我前几行。</p><p id="51c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你知道管道的作用吗？</p><p id="2335" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它为我们提供了一种连续使用基本命令的方法。有许多命令都是相对基本的，它让我们可以按顺序使用这些基本命令来做一些相当重要的事情。</p><p id="a8ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我告诉你几个不那么基本的命令，然后我会向你展示我们如何<strong class="lb iu">链接</strong>它们来完成相当高级的任务。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="7a7b" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">一些中间命令</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/c5a21dab76272d7076e3608b799df445.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Dc-uIjsWbQCwnm9Q"/></div></div></figure><h2 id="aaf8" class="nb me it bd mf nv nw dn mj nx ny dp mn li nz oa mp lm ob oc mr lq od oe mt of bi translated">1.排序:</h2><p id="71c4" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">你可能想在特定的列上对你的数据集进行排序。<code class="fe om on oo mx b">sort</code>是你的朋友。</p><p id="3fc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您想找出数据集中任何球员的前 10 名最高工资。我们可以如下使用排序。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="f41e" class="nb me it mx b gy nc nd l ne nf">sort -t "," -k 5 -r -n Salaries.csv | head -10</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/9f57ec5138687cc58141ec61b4e321a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*L__ytfjzQLxA2hjg-TwyEw.gif"/></div></div></figure><p id="1051" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以这个命令中确实有很多选项。让我们一个一个地看。</p><ul class=""><li id="093e" class="ng nh it lb b lc ld lf lg li ni lm nj lq nk lu nl nm nn no bi translated"><strong class="lb iu"> -t </strong>:使用哪个分隔符？","</li><li id="f8ce" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><strong class="lb iu"> -k </strong>:按哪一列排序？5</li><li id="8165" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><strong class="lb iu"> -n </strong>:如果要数值排序。如果您希望进行字母排序，请不要使用此选项。</li><li id="0077" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><strong class="lb iu"> -r </strong>:我想降序排序。默认情况下，升序排序。</li></ul><p id="c8c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后显然是管道——或者把数据传递给<code class="fe om on oo mx b">head</code>指挥部。</p><h2 id="fa67" class="nb me it bd mf nv nw dn mj nx ny dp mn li nz oa mp lm ob oc mr lq od oe mt of bi translated">2.剪切:</h2><p id="dc25" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">此命令允许您从数据中选择特定的列。有时，您可能希望只查看数据中的某些列。</p><p id="35de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，您可能只想查看年份、团队和薪水，而不想查看其他列。<a class="ae ky" href="https://en.wikipedia.org/wiki/Cut_(Unix)" rel="noopener ugc nofollow" target="_blank">切割</a>是要使用的命令。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="eff8" class="nb me it mx b gy nc nd l ne nf">cut -d "," -f 1,2,5 Salaries.csv | head</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/64066304f88458336967544ac9d3ee07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*F5nWFgqEUccGfoWBAy-9Ew.gif"/></div></div></figure><p id="1cda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些选项包括:</p><ul class=""><li id="4797" class="ng nh it lb b lc ld lf lg li ni lm nj lq nk lu nl nm nn no bi translated"><strong class="lb iu"> -d </strong>:使用哪个分隔符？","</li><li id="de95" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><strong class="lb iu"> -f </strong>:剪切哪一列/哪些列？1,2,5</li></ul><p id="b085" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，显然是管道——或者将数据传递给<code class="fe om on oo mx b">head</code>命令。</p><h2 id="4eaa" class="nb me it bd mf nv nw dn mj nx ny dp mn li nz oa mp lm ob oc mr lq od oe mt of bi translated">3.uniq:</h2><p id="f60a" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Uniq" rel="noopener ugc nofollow" target="_blank"> uniq </a>有一点棘手，因为你可能想在排序中使用这个命令。</p><p id="3cdc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此命令删除连续的重复项。比如:1，1，2 会转换成 1，2。</p><p id="7b92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以结合 sort，它可以用来获得数据中的不同值。</p><p id="f324" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果我想在数据中找出十个不同的团队，我会使用:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="08bd" class="nb me it mx b gy nc nd l ne nf">cat Salaries.csv| cut -d "," -f 2 | sort | uniq | head</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/374b8b97c3c4e371b2cbb3303ab79197.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*o1B5gSczzSwHcjneQJ2zwA.gif"/></div></div></figure><p id="8515" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该命令也可以与参数<strong class="lb iu"> -c </strong>一起使用，以计算这些不同值的出现次数。</p><p id="649d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">类似于<strong class="lb iu">的东西算不同的</strong>。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="aa8a" class="nb me it mx b gy nc nd l ne nf">cat Salaries.csv | cut -d "," -f 2 | sort | uniq -c | head</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/5627485d2c0ae485cbbf7a629d83d065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IZjkFxDbQrxUbab1LYS7xw.gif"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="c9ec" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">其他一些实用程序命令</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/0ea8708eb6e7cf6647e16e8a32326d46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PZng8zgxiKmNhE0vtTPC4Q.png"/></div></div></figure><p id="6e58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一些其他的命令行工具，你可以不用深入细节就可以使用，因为细节很难。<strong class="lb iu"> <em class="lv">就把这个帖子收藏起来吧。</em>T11】</strong></p><h2 id="934b" class="nb me it bd mf nv nw dn mj nx ny dp mn li nz oa mp lm ob oc mr lq od oe mt of bi translated">1.更改文件中的分隔符:</h2><p id="d38f" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">有时您可能需要更改文件中的分隔符，因为某个应用程序可能需要特定的分隔符才能工作。Excel 需要“，”作为分隔符。</p><p id="10ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">寻找并替换魔法。</strong>:您可能想使用<code class="fe om on oo mx b"><a class="ae ky" href="https://en.wikipedia.org/wiki/Tr_%28Unix%29" rel="noopener ugc nofollow" target="_blank">tr</a></code>命令将文件中的某些字符替换为其他字符。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/8ab4a85b3f682408f207ff954fc4b497.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*QniG2BriihmxfiDDVAtSQw.gif"/></div></div></figure><h2 id="60fc" class="nb me it bd mf nv nw dn mj nx ny dp mn li nz oa mp lm ob oc mr lq od oe mt of bi translated">2.文件中一列的总和:</h2><p id="a403" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">使用<a class="ae ky" href="https://en.wikipedia.org/wiki/AWK" rel="noopener ugc nofollow" target="_blank"> awk </a>命令，您可以找到文件中一列的总和。除以行数(<code class="fe om on oo mx b">wc -l</code>)，就可以得到平均值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/a7f6899a8293ff804b4f62d55f53fcdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Lh8PvjwIUJkqIRWc4BNV8g.gif"/></div></div></figure><p id="8890" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">awk 是一个强大的命令，它本身就是一门完整的语言。请务必查看 awk 的 wiki 页面，其中有很多关于 awk 的好的用例。</p><h2 id="7473" class="nb me it bd mf nv nw dn mj nx ny dp mn li nz oa mp lm ob oc mr lq od oe mt of bi translated">3.在目录中查找满足特定条件的文件:</h2><p id="c835" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">有时，您需要在包含大量文件的目录中找到一个文件。您可以使用 find 命令来完成此操作。假设您想要<strong class="lb iu">找到所有的。当前工作目录中的 txt 文件</strong>即<strong class="lb iu">以</strong>开头。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/3d109085889a9bba290fad048c083add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pwxNLcXVboW-JLtKbkwK_Q.gif"/></div></div></figure><p id="303d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">去找<strong class="lb iu">所有人。以 A 或 B 开头的 txt 文件</strong>我们可以使用 regex。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4493" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">最后&gt;和&gt;&gt;</h1><p id="8e24" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">有时，您希望通过命令行实用程序(Shell 命令/ Python 脚本)获得的数据不显示在 stdout 上，而是存储在文本文件中。</p><p id="2b4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以使用<strong class="lb iu"> " &gt; " </strong>操作符。例如，您可以在将上一个示例中的分隔符替换到另一个名为 newdata.txt 的文件中后存储该文件，如下所示:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="0b24" class="nb me it mx b gy nc nd l ne nf">cat data.txt | tr ',' '|' &gt; newdata.txt</span></pre><p id="2c9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">开始的时候，我经常搞不清<strong class="lb iu"> "|" </strong>(管道)和<strong class="lb iu"> " &gt; " </strong> (to_file)操作。</p><p id="f38c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住的一个方法是，当你想写一些东西到一个文件时，你应该只使用<strong class="lb iu">&gt;</strong>。</p><p id="9dea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">“|”不能用于写入文件。</strong>另一个你应该知道的操作是<strong class="lb iu">&gt;&gt;</strong>操作。它类似于<strong class="lb iu"> " &gt; " </strong>，但它附加到一个现有的文件，而不是替换文件和重写。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="ecf5" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">结论</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/50e4913608a23047316abe7b44696d09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Dfl9MAPHYrbOz_EB"/></div></div></figure><p id="e2be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这只是冰山一角。</p><p id="fb64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然我不是 shell 使用方面的专家，但是这些命令在很大程度上减少了我的工作量。</p><p id="65ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">试着将它们融入你的工作流程。我通常在 jupyter 笔记本中使用它们(如果您以<code class="fe om on oo mx b">!</code>开始命令，您可以在 jupyter 代码块中编写 shell 命令)。永远记住:</p><blockquote class="ot"><p id="7159" class="ou ov it bd ow ox oy oz pa pb pc lu dk translated">技工要完善他的工作，必须先磨利他的工具。——孔子</p></blockquote><p id="8959" class="pw-post-body-paragraph kz la it lb b lc pd ju le lf pe jx lh li pf lk ll lm pg lo lp lq ph ls lt lu im bi translated">所以，现在给一些人留下深刻印象。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="6745" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想了解更多关于命令行的知识，我想你会的，Coursera 上有<a class="ae ky" href="https://www.coursera.org/learn/unix?ranMID=40328&amp;ranEAID=lVarvwc5BD0&amp;ranSiteID=lVarvwc5BD0-EK0XnncSGKDui6jU1GFilw&amp;siteID=lVarvwc5BD0-EK0XnncSGKDui6jU1GFilw&amp;utm_content=2&amp;utm_medium=partners&amp;utm_source=linkshare&amp;utm_campaign=lVarvwc5BD0" rel="noopener ugc nofollow" target="_blank">UNIX 工作台</a>课程，你可以试试。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="a1a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我以后也会写更多这样的帖子。让我知道你对这个系列的看法。在<a class="ae ky" href="https://medium.com/@rahul_agarwal" rel="noopener"> <strong class="lb iu">媒体</strong> </a>关注我或者订阅我的<a class="ae ky" href="http://eepurl.com/dbQnuX" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">博客</strong> </a>了解他们。一如既往，我欢迎反馈和建设性的批评，可以通过 Twitter <a class="ae ky" href="https://twitter.com/MLWhiz" rel="noopener ugc nofollow" target="_blank"> @mlwhiz </a>联系到我。</p></div></div>    
</body>
</html>