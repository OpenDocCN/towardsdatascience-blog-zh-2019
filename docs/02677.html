<html>
<head>
<title>When Birthdays Collide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">当生日冲突时</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/when-birthdays-collide-6e8a17b422e7?source=collection_archive---------24-----------------------#2019-05-01">https://towardsdatascience.com/when-birthdays-collide-6e8a17b422e7?source=collection_archive---------24-----------------------#2019-05-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/7c2e26bd4659dbedd0c41e6a886f146f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MFFATYiSAOxkq1H0BwhQGw.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Happy birthday! Photo by <a class="ae kc" href="https://www.pexels.com/@marina-utrabo-390305" rel="noopener ugc nofollow" target="_blank">Marina Utrabo</a> on <a class="ae kc" href="https://www.pexels.com/photo/person-lighting-the-sparklers-1729797/" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="7b8b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">想象一个挤满了人的房间——准确地说是 23 个人。也许你在一个高中班级，也许你正在参加一个低调的社交活动。这两个人同一天生日的几率有多大？(为了简单起见，假装闰年不存在，所以没有人在 2 月 29 日出生。)</p><p id="b9ae" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你的第一个假设可能是这些人的生日在一年中均匀分布。或许你可以推断出，平均来说，一年的 12 个月中每个月都有两个人出生(除了一个月)，所以对于每个月来说，这两个人中的任何一个在某一天出生的概率大约是 1/30。因此，这 23 人中有两人在同一天出生的可能性一定非常非常低。对吗？</p><p id="974d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">错了！</strong>在 23 人的小组中，有<a class="ae kc" href="http://www.efgh.com/math/birthday.htm" rel="noopener ugc nofollow" target="_blank"> 50%的几率两人同一天生日</a>。当人数增加到 80 人时，赔率跃升到惊人的<a class="ae kc" href="http://shanky.org/2018/11/08/understanding-the-birthday-paradox/" rel="noopener ugc nofollow" target="_blank"> 99.98% </a>！</p><p id="97f5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果这看起来令人困惑，那只是因为它确实如此。生日悖论感觉非常违反直觉，直到你看到背后的逻辑。我们就这么做吧！</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="bba2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了更好的理解这个问题，我们先从数学上来分解一下。</p><p id="2262" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于任何两个随机选择的人来说，他们有 1/365 的机会在同一天出生(假设他们不是在闰年出生)。因此，这两个人在不同的日子出生的概率是 364/365。</p><p id="43b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了找出一个组中所有个体都有唯一生日的概率，我们将 364/365 提升到组中有对的<strong class="kf ir">次方。使用 23 人小组的介绍性示例，这意味着我们想要确定我们可以将这 23 个人分成两个小组的方法的数量。</strong></p><figure class="lk ll lm ln gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lj"><img src="../Images/400eeb0356301e99b643da6d5e7df1f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PJURdfWBahGUxcnEJVyhxQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/photos/vVIwtmqsIuk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Curtis MacNewton</a> on <a class="ae kc" href="https://unsplash.com/search/photos/calendar?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0e32" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从数量为<em class="lb"> n </em>的项目中挑选数量为<em class="lb"> k </em>的项目的公式如下:<strong class="kf ir">n！/ ( <em class="lb"> k </em>！* ( <em class="lb"> n </em> — <em class="lb"> k </em>)！)</strong>当我们为<em class="lb"> k </em>插上 2，为<em class="lb"> n </em>插上 23，我们的结果就是 253。因此，在我们 23 个样本中有 253 个可能的配对。当我们取 364/365 并将其提升到 253 次方时，结果是~0.4995，表明 23 个陌生人没有一个出生在同一天的概率为 49.95%。通过从 100.00%中减去这个结果，我们能够最终获得至少一对<em class="lb">与</em>拥有相同出生日期的概率:~50.05%。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="e057" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">生日悖论令人着迷的原因有很多。对于程序员来说，理解生日悖论很有用，因为它解释了<strong class="kf ir">哈希冲突</strong>的概念。</p><p id="11a2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们深入探讨碰撞之前，我们先来讨论一下<strong class="kf ir">哈希表</strong>(也称为<strong class="kf ir">哈希表</strong>)。哈希表是一种以随机顺序存储项目的数据结构。这些项目存储在<strong class="kf ir">桶</strong>中，其数量由程序员决定。一个<strong class="kf ir">散列函数</strong>(Python 中的一个内置函数)负责将每一项分配给一个特定的桶索引号。</p><figure class="lk ll lm ln gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lo"><img src="../Images/53b7dad301d539e400a4bf1e3e96a6c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HFg49FAQUeCz45NDHdyTrQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Look, it’s a bucket. Photo by <a class="ae kc" href="https://unsplash.com/photos/COovdd_3gzI?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Gregory Culmer</a> on <a class="ae kc" href="https://unsplash.com/search/photos/bucket?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c673" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了完成这个重要的任务，hash 函数为您想要存储的内容分配一个随机生成的数字。然后，它将这个随机数除以哈希表中有多少个存储桶。这个除法的余数是桶索引，然后内容被放在相应的桶中。</p><p id="001f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可能会认为散列会导致项目在桶中的平均分布，就像你可能会推断 23 个陌生人的生日可能分布在日历年中一样。但是我们从数学上观察到，有大约 50%的可能性两个陌生人同一天过生日。我们还观察到，当这个小组只有区区 80 个人时，这种可能性会跃升至近 100%。</p><p id="e974" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们把每个日历日想象成散列表中的一个桶。当其中一个陌生人发现他们的出生日期与一个小组成员的出生日期一致时，这就相当于一个新项目被分配到一个已经包含一个项目的桶中。这个事件被称为<strong class="kf ir">哈希冲突</strong>。你不需要在哈希冲突发生之前拥有大量的条目——毕竟，我们只需要一小群人来解释生日悖论。</p><figure class="lk ll lm ln gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lp"><img src="../Images/71ce15912fe8e8f22c9b0a66ce72ca3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0n0NX3rgHf2bzldy1uvmiQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Chaining! Photo by <a class="ae kc" href="https://unsplash.com/photos/PDxYfXVlK2M?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">JJ Ying</a> on <a class="ae kc" href="https://unsplash.com/search/photos/link?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="5564" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有两种主要的方法来处理哈希表中的冲突。第一个是<strong class="kf ir">线性探测</strong>，它通过将新项目分配给下一个桶来处理冲突。第二个是<strong class="kf ir">链接</strong>，这需要将新的项目插入到桶中，即使那里已经有一个项目。哈希表通常用<strong class="kf ir">链表</strong>实现，这是一种线性数据结构。这意味着，除非是空的，否则每个桶都包含一个项目链表。因此，当一个条目被添加到一个已经包含某些内容的桶中时，这个新条目只是被添加到链表的末尾。</p><p id="3c5d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">生日悖论就像一个哈希冲突解决方案。显然，在任何一天都有可能有不止一个人出生在 T21。因此，可以说真实世界的生日哈希表解决了它与<strong class="kf ir">链接</strong>的冲突！</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h1 id="b219" class="lq lr iq bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">参考资料和进一步阅读</h1><ul class=""><li id="f0c3" class="mo mp iq kf b kg mq kk mr ko ms ks mt kw mu la mv mw mx my bi translated">“<a class="ae kc" href="http://www.efgh.com/math/birthday.htm" rel="noopener ugc nofollow" target="_blank">生日悖论</a>”，菲利普·j·埃尔德尔斯基</li><li id="c469" class="mo mp iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">”<a class="ae kc" href="https://www.scientificamerican.com/article/bring-science-home-probability-birthday-paradox/" rel="noopener ugc nofollow" target="_blank">概率和生日悖论</a>，《科学美国人》</li><li id="4a14" class="mo mp iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">”<a class="ae kc" href="https://betterexplained.com/articles/understanding-the-birthday-paradox/" rel="noopener ugc nofollow" target="_blank">理解生日悖论</a>，更好解释</li><li id="5042" class="mo mp iq kf b kg mz kk na ko nb ks nc kw nd la mv mw mx my bi translated">"<a class="ae kc" href="http://shanky.org/2018/11/08/understanding-the-birthday-paradox/" rel="noopener ugc nofollow" target="_blank">理解生日悖论</a>"，Shashank Tiwari</li></ul></div></div>    
</body>
</html>