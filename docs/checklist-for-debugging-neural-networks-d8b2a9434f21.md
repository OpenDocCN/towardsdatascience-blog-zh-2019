# è°ƒè¯•ç¥ç»ç½‘ç»œçš„æ¸…å•

> åŸæ–‡ï¼š<https://towardsdatascience.com/checklist-for-debugging-neural-networks-d8b2a9434f21?source=collection_archive---------2----------------------->

## æ‚¨å¯ä»¥é‡‡å–åˆ‡å®å¯è¡Œçš„æ­¥éª¤æ¥è¯†åˆ«å’Œè§£å†³æœºå™¨å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒã€æ³›åŒ–å’Œä¼˜åŒ–é—®é¢˜

![](img/e5e4aaf8e7851ca5ba655bcc9b121cb9.png)

Photo by [Glenn Carstens-Peters](https://unsplash.com/photos/RLw-UC03Gwc?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/search/photos/list?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

ä¼—æ‰€å‘¨çŸ¥ï¼Œæœºå™¨å­¦ä¹ ä»£ç å¾ˆéš¾è°ƒè¯•ï¼Œå› ä¸ºå¯»æ‰¾é”™è¯¯çš„ä»£ä»·å¾ˆé«˜ã€‚å³ä½¿å¯¹äºç®€å•çš„[å‰é¦ˆç¥ç»ç½‘ç»œ](https://cs.stanford.edu/people/eroberts/courses/soco/projects/neural-networks/Architecture/feedforward.html)ï¼Œä½ ä¹Ÿç»å¸¸ä¸å¾—ä¸å›´ç»•ç½‘ç»œæ¶æ„ã€æƒé‡åˆå§‹åŒ–å’Œç½‘ç»œä¼˜åŒ–åšå‡ºå‡ ä¸ªå†³å®šâ€”â€”æ‰€æœ‰è¿™äº›éƒ½å¯èƒ½å¯¼è‡´ä½ çš„æœºå™¨å­¦ä¹ ä»£ç ä¸­æ½œåœ¨çš„é”™è¯¯ã€‚

æ­£å¦‚ Chase Roberts åœ¨ä¸€ç¯‡å…³äºâ€œ[å¦‚ä½•å¯¹æœºå™¨å­¦ä¹ ä»£ç ](https://medium.com/@keeper6928/how-to-unit-test-machine-learning-code-57cf6fd81765)è¿›è¡Œå•å…ƒæµ‹è¯•â€çš„ä¼˜ç§€æ–‡ç« ä¸­æ‰€å†™çš„é‚£æ ·ï¼Œä»–çš„æŒ«æŠ˜æºäºå¸¸è§çš„é™·é˜±ï¼Œæ¯”å¦‚:

1.  ä»£ç ä¸ä¼šå´©æºƒï¼Œä¸ä¼šå¼•å‘å¼‚å¸¸ï¼Œç”šè‡³ä¸ä¼šå˜æ…¢ã€‚
2.  ç½‘ç»œä»åœ¨è®­ç»ƒï¼ŒæŸå¤±ä»ä¼šä¸‹é™ã€‚
3.  å‡ ä¸ªå°æ—¶åï¼Œè¿™äº›å€¼æ”¶æ•›ï¼Œä½†ç»“æœå¾ˆå·®

é‚£ä¹ˆï¼Œå¯¹æ­¤åº”è¯¥åšäº›ä»€ä¹ˆå‘¢ï¼Ÿ

![](img/6c86994b5e6f39c07d6982dcdc4a7d15.png)

æœ¬æ–‡å°†æä¾›ä¸€ä¸ªæ¡†æ¶æ¥å¸®åŠ©æ‚¨è°ƒè¯•æ‚¨çš„ç¥ç»ç½‘ç»œ:

1.  **å¼€å§‹ç®€å•**
2.  **ç¡®è®¤ä½ çš„æŸå¤±**
3.  **æ£€æŸ¥ä¸­é—´è¾“å‡ºå’Œè¿æ¥**
4.  **è¯Šæ–­å‚æ•°**
5.  **è·Ÿè¸ªä½ çš„å·¥ä½œ**

è¯·éšæ„è·³åˆ°ç‰¹å®šéƒ¨åˆ†æˆ–é€šè¯»ä¸‹é¢çš„å†…å®¹ï¼è¯·æ³¨æ„:æˆ‘ä»¬ä¸æ¶‰åŠæ•°æ®é¢„å¤„ç†æˆ–å…·ä½“çš„æ¨¡å‹ç®—æ³•é€‰æ‹©ã€‚ç½‘ä¸Šæœ‰å¾ˆå¤šå…³äºè¿™äº›ä¸»é¢˜çš„èµ„æº(ä¾‹å¦‚ï¼ŒæŸ¥çœ‹[â€˜é€‰æ‹©æ­£ç¡®çš„æœºå™¨å­¦ä¹ ç®—æ³•â€™](https://hackernoon.com/choosing-the-right-machine-learning-algorithm-68126944ce1f))ã€‚

# 1.ä»ç®€å•å¼€å§‹

å…·æœ‰å¸¦æ­£åˆ™åŒ–å’Œå­¦ä¹ ç‡è°ƒåº¦å™¨çš„å¤æ‚æ¶æ„çš„ç¥ç»ç½‘ç»œå°†æ¯”ç®€å•ç½‘ç»œæ›´éš¾è°ƒè¯•ã€‚æˆ‘ä»¬åœ¨ç¬¬ä¸€ç‚¹ä¸Šæœ‰ç‚¹æ¬ºéª—ï¼Œå› ä¸ºå®ƒä¸è°ƒè¯•ä½ å·²ç»å»ºç«‹çš„ç½‘ç»œå¹¶ä¸çœŸæ­£ç›¸å…³ï¼Œä½†å®ƒä»ç„¶æ˜¯ä¸€ä¸ªé‡è¦çš„å»ºè®®ï¼

ä»ç®€å•å¼€å§‹:

*   é¦–å…ˆæ„å»ºä¸€ä¸ªæ›´ç®€å•çš„æ¨¡å‹
*   åœ¨å•ä¸ªæ•°æ®ç‚¹ä¸Šè®­ç»ƒæ‚¨çš„æ¨¡å‹

## **å…ˆå»ºç«‹ä¸€ä¸ªæ›´ç®€å•çš„æ¨¡å‹**

é¦–å…ˆï¼Œæ„å»ºä¸€ä¸ªåªæœ‰ä¸€ä¸ªéšè—å±‚çš„å°å‹ç½‘ç»œï¼Œå¹¶éªŒè¯ä¸€åˆ‡éƒ½æ­£å¸¸å·¥ä½œã€‚ç„¶åé€æ¸å¢åŠ æ¨¡å‹çš„å¤æ‚æ€§ï¼ŒåŒæ—¶æ£€æŸ¥æ¨¡å‹ç»“æ„çš„æ¯ä¸ªæ–¹é¢(é™„åŠ å±‚ã€å‚æ•°ç­‰)..)åœ¨ç»§ç»­å‰è¿›ä¹‹å‰èµ·ä½œç”¨ã€‚

## åœ¨å•ä¸ªæ•°æ®ç‚¹ä¸Šè®­ç»ƒæ‚¨çš„æ¨¡å‹

ä½œä¸ºå¿«é€Ÿçš„å¥å…¨æ€§æ£€æŸ¥ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸¤ä¸ªè®­ç»ƒæ•°æ®ç‚¹æ¥ç¡®è®¤æ‚¨çš„æ¨¡å‹æ˜¯å¦èƒ½å¤Ÿè¿‡åº¦æ‹Ÿåˆã€‚ç¥ç»ç½‘ç»œåº”è¯¥ç«‹å³ä»¥ 100%çš„è®­ç»ƒç²¾åº¦å’Œä¸ä½ çš„æ¨¡å‹éšæœºçŒœæµ‹ç›¸ç§°çš„éªŒè¯ç²¾åº¦è¿‡åº¦æ‹Ÿåˆã€‚å¦‚æœä½ çš„æ¨¡å‹ä¸èƒ½é€‚åº”è¿™äº›æ•°æ®ç‚¹ï¼Œé‚£ä¹ˆè¦ä¹ˆå®ƒå¤ªå°ï¼Œè¦ä¹ˆæœ‰ä¸€ä¸ªé”™è¯¯ã€‚

å³ä½¿ä½ å·²ç»éªŒè¯äº†ä½ çš„æ¨¡å‹æ˜¯æœ‰æ•ˆçš„ï¼Œåœ¨ç»§ç»­ä¹‹å‰å°è¯•è®­ç»ƒä¸€ä¸ª(æˆ–å‡ ä¸ª)æ—¶æœŸã€‚

# 2.ç¡®è®¤ä½ çš„æŸå¤±

æ¨¡å‹çš„æŸå¤±æ˜¯è¯„ä¼°æ¨¡å‹æ€§èƒ½çš„ä¸»è¦æ–¹å¼ï¼Œä¹Ÿæ˜¯æ¨¡å‹è¯„ä¼°ä»¥è®¾ç½®é‡è¦å‚æ•°çš„å†…å®¹ï¼Œå› æ­¤æ‚¨éœ€è¦ç¡®ä¿:

*   æŸå¤±é€‚åˆäºä»»åŠ¡(å¯¹äºå¤šåˆ†ç±»é—®é¢˜ä½¿ç”¨ç±»åˆ«äº¤å‰ç†µæŸå¤±ï¼Œæˆ–è€…ä½¿ç”¨ç„¦ç‚¹æŸå¤±æ¥è§£å†³ç±»åˆ«ä¸å¹³è¡¡)
*   ä½ çš„[æŸå¤±å‡½æ•°](https://blog.algorithmia.com/introduction-to-loss-functions/)æ­£åœ¨æ­£ç¡®çš„å°ºåº¦ä¸Šè¢«æµ‹é‡ã€‚å¦‚æœæ‚¨åœ¨ç½‘ç»œä¸­ä½¿ç”¨äº†ä¸€ç§ä»¥ä¸Šçš„æŸå¤±ç±»å‹ï¼Œå¦‚ MSEã€å¯¹æŠ—æ€§ã€L1ã€[ç‰¹å¾æŸå¤±](https://arxiv.org/pdf/1603.08155.pdf)ï¼Œé‚£ä¹ˆè¯·ç¡®ä¿æ‰€æœ‰æŸå¤±éƒ½è¢«é€‚å½“åœ°ç¼©æ”¾åˆ°ç›¸åŒçš„æ•°é‡çº§

æ³¨æ„ä½ æœ€åˆçš„æŸå¤±ä¹Ÿå¾ˆé‡è¦ã€‚å¦‚æœä½ çš„æ¨¡å‹æ˜¯é€šè¿‡éšæœºçŒœæµ‹å¼€å§‹çš„ï¼Œæ£€æŸ¥åˆå§‹æŸå¤±æ˜¯å¦æ¥è¿‘ä½ çš„é¢„æœŸæŸå¤±ã€‚åœ¨[çš„æ–¯å¦ç¦ CS231n è¯¾ç¨‹ä½œä¸š](http://cs231n.github.io/neural-networks-3/#baby)ä¸­ï¼Œå®‰å¾·çƒˆÂ·å¡å¸•è¥¿æå‡ºäº†ä»¥ä¸‹å»ºè®®:

> å¯»æ‰¾æ­£ç¡®çš„æœºä¼šè¡¨ç°æŸå¤±ã€‚å½“ä½ ç”¨å°å‚æ•°åˆå§‹åŒ–æ—¶ï¼Œç¡®ä¿ä½ å¾—åˆ°äº†ä½ æœŸæœ›çš„æŸå¤±ã€‚æœ€å¥½å…ˆå•ç‹¬æ£€æŸ¥æ•°æ®ä¸¢å¤±(æ‰€ä»¥æŠŠæ­£åˆ™åŒ–å¼ºåº¦è®¾ç½®ä¸ºé›¶)ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå…·æœ‰ Softmax åˆ†ç±»å™¨çš„ CIFAR-10ï¼Œæˆ‘ä»¬é¢„è®¡åˆå§‹æŸå¤±ä¸º 2.302ï¼Œå› ä¸ºæˆ‘ä»¬é¢„è®¡æ¯ä¸ªç±»åˆ«çš„æ‰©æ•£æ¦‚ç‡ä¸º 0.1(å› ä¸ºæœ‰ 10 ä¸ªç±»åˆ«)ï¼ŒSoftmax æŸå¤±æ˜¯æ­£ç¡®ç±»åˆ«çš„è´Ÿå¯¹æ•°æ¦‚ç‡ï¼Œå› æ­¤:-ln(0.1) = 2.302ã€‚

å¯¹äºä¸€ä¸ªäºŒè¿›åˆ¶çš„ä¾‹å­ï¼Œä½ å¯ä»¥ç®€å•åœ°ä¸ºä½ çš„æ¯ä¸ªç±»åšä¸€ä¸ªç›¸ä¼¼çš„è®¡ç®—ã€‚å‡è®¾æ‚¨çš„æ•°æ®ä¸­æœ‰ 20%ä¸º 0ï¼Œ80%ä¸º 1ï¼Œé‚£ä¹ˆæ‚¨çš„é¢„æœŸåˆå§‹æŸè€—å°†ä¸º 0.2 ln(0.5)0.8 ln(0.5)= 0.693147ã€‚å¦‚æœæ‚¨çš„åˆå§‹æŸå¤±è¿œå¤§äº 1ï¼Œè¿™å¯èƒ½è¡¨æ˜æ‚¨çš„ç¥ç»ç½‘ç»œæƒé‡æ²¡æœ‰æ­£ç¡®å¹³è¡¡(å³ï¼Œæ‚¨çš„åˆå§‹åŒ–å¾ˆå·®)æˆ–æ‚¨çš„æ•°æ®æ²¡æœ‰æ ‡å‡†åŒ–ã€‚

# 3.æ£€æŸ¥ä¸­é—´è¾“å‡ºå’Œè¿æ¥

è‹¥è¦ä¾¦é”™ç±»ç¥ç»ç½‘è·¯ï¼Œç­è§£ç±»ç¥ç»ç½‘è·¯å†…éƒ¨çš„åŠ¨æ€ã€ä¸ªåˆ«ä¸­é—´å±‚æ‰€æ‰®æ¼”çš„è§’è‰²ï¼Œä»¥åŠå„å±‚ä¹‹é—´çš„è¿æ¥æ–¹å¼ï¼Œé€šå¸¸ä¼šå¾ˆæœ‰ç”¨ã€‚æ‚¨å¯èƒ½ä¼šåœ¨ä»¥ä¸‹æ–¹é¢é‡åˆ°é”™è¯¯:

*   æ¢¯åº¦æ›´æ–°çš„è¡¨è¾¾å¼ä¸æ­£ç¡®
*   æœªåº”ç”¨æƒé‡æ›´æ–°
*   æ¶ˆå¤±æˆ–çˆ†ç‚¸æ¸å˜

å¦‚æœæ‚¨çš„æ¢¯åº¦å€¼ä¸ºé›¶ï¼Œè¿™å¯èƒ½æ„å‘³ç€ä¼˜åŒ–å™¨ä¸­çš„å­¦ä¹ ç‡å¤ªå°ï¼Œæˆ–è€…æ‚¨é‡åˆ°äº†ä¸Šé¢çš„é”™è¯¯#1ï¼Œæ¢¯åº¦æ›´æ–°çš„è¡¨è¾¾å¼ä¸æ­£ç¡®ã€‚

é™¤äº†æŸ¥çœ‹æ¢¯åº¦æ›´æ–°çš„ç»å¯¹å€¼ä¹‹å¤–ï¼Œç¡®ä¿ç›‘æ§æ¯ä¸ªå±‚åŒ¹é…çš„æ¿€æ´»ã€æƒé‡å’Œæ›´æ–°çš„å¹…åº¦ã€‚ä¾‹å¦‚ï¼Œå‚æ•°(æƒé‡å’Œåå·®)[çš„æ›´æ–°å¹…åº¦åº”è¯¥æ˜¯ 1-e3](https://cs231n.github.io/neural-networks-3/#summary) ã€‚

æœ‰ä¸€ç§ç°è±¡ç§°ä¸ºâ€œæ­»äº¡ ReLUâ€æˆ–â€œæ¶ˆå¤±æ¢¯åº¦é—®é¢˜â€,å…¶ä¸­ ReLU ç¥ç»å…ƒåœ¨å­¦ä¹ äº†å…¶æƒé‡çš„å¤§çš„è´Ÿåå·®é¡¹åå°†è¾“å‡ºé›¶ã€‚è¿™äº›ç¥ç»å…ƒå†ä¹Ÿä¸ä¼šåœ¨ä»»ä½•æ•°æ®ç‚¹æ¿€æ´»ã€‚

æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨æ•°å€¼æ–¹æ³•è¿‘ä¼¼æ¢¯åº¦ï¼Œä½¿ç”¨æ¢¯åº¦æ£€æŸ¥æ¥æ£€æŸ¥è¿™äº›é”™è¯¯ã€‚å¦‚æœå®ƒæ¥è¿‘è®¡ç®—çš„æ¢¯åº¦ï¼Œåˆ™åå‘ä¼ æ’­è¢«æ­£ç¡®åœ°æ‰§è¡Œã€‚è¦å®ç°æ¸å˜æ£€æŸ¥ï¼Œè¯·æŸ¥çœ‹ CS231 [è¿™é‡Œ](http://cs231n.github.io/neural-networks-3/#gradcheck)å’Œ[è¿™é‡Œ](http://cs231n.github.io/optimization-1/#gradcompute)ä»¥åŠå´æ©è¾¾[å…³äºè¯¥ä¸»é¢˜çš„å…·ä½“è¯¾ç¨‹](https://www.youtube.com/watch?v=P6EtCVrvYPU)ä¸­çš„è¿™äº›ä¼Ÿå¤§èµ„æºã€‚

[Faizan Shaikh](https://www.linkedin.com/in/faizankshaikh/) è®²è¿°äº†å¯è§†åŒ–ç¥ç»ç½‘ç»œçš„ä¸‰ç§ä¸»è¦æ–¹æ³•:

*   **åˆæ­¥æ–¹æ³•** â€”ç®€å•çš„æ–¹æ³•ï¼Œå‘æˆ‘ä»¬å±•ç¤ºä¸€ä¸ªè®­ç»ƒå¥½çš„æ¨¡å‹çš„æ•´ä½“ç»“æ„ã€‚è¿™äº›æ–¹æ³•åŒ…æ‹¬æ‰“å°å‡ºç¥ç»ç½‘ç»œå„å±‚çš„å½¢çŠ¶æˆ–è¿‡æ»¤å™¨ä»¥åŠæ¯å±‚ä¸­çš„å‚æ•°ã€‚
*   **åŸºäºæ¿€æ´»çš„æ–¹æ³•** â€”åœ¨è¿™äº›æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ç ´è¯‘å•ä¸ªç¥ç»å…ƒæˆ–ä¸€ç»„ç¥ç»å…ƒçš„æ¿€æ´»ï¼Œä»¥è·å¾—å®ƒä»¬æ­£åœ¨åšä»€ä¹ˆçš„ç›´è§‰
*   **åŸºäºæ¢¯åº¦çš„æ–¹æ³•â€”** è¿™äº›æ–¹æ³•å€¾å‘äºåœ¨è®­ç»ƒæ¨¡å‹(åŒ…æ‹¬æ˜¾è‘—æ€§å›¾å’Œç±»åˆ«æ¿€æ´»å›¾)æ—¶æ“çºµç”±æ­£å‘å’Œåå‘ä¼ é€’å½¢æˆçš„æ¢¯åº¦ã€‚

æœ‰è®¸å¤šæœ‰ç”¨çš„å·¥å…·ç”¨äºå¯è§†åŒ–å„ä¸ªå±‚çš„æ¿€æ´»å’Œè¿æ¥ï¼Œå¦‚ [ConX](https://conx.readthedocs.io/en/latest/Getting%20Started%20with%20conx.html#What-is-ConX?) å’Œ [Tensorboard](https://www.tensorflow.org/guide/tensorboard_histograms) ã€‚

![](img/ba76b48f475f4d02d5a3373d0d2a4a43.png)

A sample dynamic, rendered visualization made with [ConX](https://conx.readthedocs.io/en/latest/README.html)

> å¤„ç†å›¾åƒæ•°æ®ï¼ŸErik Rippel åœ¨[â€œä½¿ç”¨ Keras å’Œ Cats å¯è§†åŒ–éƒ¨åˆ†å·ç§¯ç¥ç»ç½‘ç»œâ€](https://hackernoon.com/visualizing-parts-of-convolutional-neural-networks-using-keras-and-cats-5cc01b214e59)ä¸Šå‘è¡¨äº†ä¸€ç¯‡ç²¾å½©å¤šå½©çš„æ–‡ç« 

# **4ã€‚è¯Šæ–­å‚æ•°**

ç¥ç»ç½‘ç»œæœ‰å¤§é‡ç›¸äº’å½±å“çš„å‚æ•°ï¼Œä½¿å¾—ä¼˜åŒ–å˜å¾—å›°éš¾ã€‚è¯·æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªæ´»è·ƒçš„ç ”ç©¶é¢†åŸŸï¼Œæ‰€ä»¥ä¸‹é¢çš„å»ºè®®åªæ˜¯ä¸€ä¸ªèµ·ç‚¹ã€‚

*   **æ‰¹é‡**(æŠ€æœ¯ä¸Šç§°ä¸ºå°æ‰¹é‡)â€”æ‚¨å¸Œæœ›æ‰¹é‡è¶³å¤Ÿå¤§ï¼Œä»¥è·å¾—å‡†ç¡®çš„è¯¯å·®æ¢¯åº¦ä¼°è®¡ï¼Œä½†åˆè¶³å¤Ÿå°ï¼Œä»¥ä½¿å°æ‰¹é‡éšæœºæ¢¯åº¦ä¸‹é™(SGD)å¯ä»¥è°ƒæ•´æ‚¨çš„ç½‘ç»œã€‚å°æ‰¹é‡å°†å¯¼è‡´å­¦ä¹ è¿‡ç¨‹ä»¥è®­ç»ƒè¿‡ç¨‹ä¸­çš„å™ªéŸ³ä¸ºä»£ä»·å¿«é€Ÿæ”¶æ•›ï¼Œå¹¶ä¸”*å¯èƒ½*å¯¼è‡´ä¼˜åŒ–å›°éš¾ã€‚è®ºæ–‡[â€˜å…³äºæ·±åº¦å­¦ä¹ çš„å¤§æ‰¹é‡è®­ç»ƒ:æ³›åŒ–å·®è·å’Œå°–é”æå°â€™](https://arxiv.org/abs/1609.04836)æè¿°äº†å¦‚ä½•:

> åœ¨å®è·µä¸­å·²ç»è§‚å¯Ÿåˆ°ï¼Œå½“ä½¿ç”¨è¾ƒå¤§æ‰¹é‡æ—¶ï¼Œæ¨¡å‹çš„è´¨é‡ä¼šä¸‹é™ï¼Œè¿™é€šè¿‡å…¶æ¦‚æ‹¬èƒ½åŠ›æ¥è¡¡é‡ã€‚æˆ‘ä»¬è°ƒæŸ¥äº†å¤§æ‰¹é‡æ¨¡å¼ä¸­è¿™ç§æ³›åŒ–èƒ½åŠ›ä¸‹é™çš„åŸå› ï¼Œå¹¶æä¾›äº†æ”¯æŒä»¥ä¸‹è§‚ç‚¹çš„æ•°å­—è¯æ®:l **å¤§æ‰¹é‡æ–¹æ³•å€¾å‘äºæ”¶æ•›åˆ°è®­ç»ƒå’Œæµ‹è¯•å‡½æ•°çš„å°–é”æå°å€¼ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œå°–é”æå°å€¼å¯¼è‡´è¾ƒå·®çš„æ³›åŒ–èƒ½åŠ›**ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå°æ‰¹é‡æ–¹æ³•å§‹ç»ˆæ”¶æ•›äºå¹³å¦æå°å€¼ï¼Œæˆ‘ä»¬çš„å®éªŒæ”¯æŒä¸€ä¸ªæ™®éæŒæœ‰çš„è§‚ç‚¹ï¼Œå³è¿™æ˜¯ç”±äºæ¢¯åº¦ä¼°è®¡ä¸­çš„å›ºæœ‰å™ªå£°ã€‚

*   **å­¦ä¹ ç‡**â€”å­¦ä¹ ç‡å¤ªä½ä¼šå¯¼è‡´æ”¶æ•›ç¼“æ…¢æˆ–é™·å…¥å±€éƒ¨æœ€å°å€¼çš„é£é™©ï¼Œè€Œå­¦ä¹ ç‡å¤ªå¤§ä¼šå¯¼è‡´ä¼˜åŒ–å‘æ•£ï¼Œå› ä¸ºä½ æœ‰è·³è¿‡æŸå¤±å‡½æ•°æ›´æ·±ä½†æ›´çª„éƒ¨åˆ†çš„é£é™©ã€‚è€ƒè™‘çº³å…¥å­¦ä¹ ç‡è®¡åˆ’ï¼Œä»¥éšç€åŸ¹è®­çš„è¿›å±•é™ä½å­¦ä¹ ç‡ã€‚CS231n è¯¾ç¨‹æœ‰å¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯å…³äº[å®ç°é€€ç«å­¦ä¹ ç‡çš„ä¸åŒæŠ€æœ¯](http://cs231n.github.io/neural-networks-3/)ã€‚

> Kerasã€Tensorflowã€PyTorchã€MXNet ç­‰æœºå™¨å­¦ä¹ æ¡†æ¶ç°åœ¨éƒ½æœ‰å…³äºä½¿ç”¨å­¦ä¹ ç‡è°ƒåº¦å™¨/decay çš„æ–‡æ¡£æˆ–ç¤ºä¾‹:
> 
> https://keras.io/callbacks/#learningratescheduler
> 
> tensor flowâ€”[https://www . tensor flow . org/API _ docs/python/TF/train/exponential _ decay](https://www.tensorflow.org/api_docs/python/tf/train/exponential_decay)
> 
> py torchâ€”[https://py torch . org/docs/stable/_ modules/torch/optim/lr _ scheduler . html](https://pytorch.org/docs/stable/_modules/torch/optim/lr_scheduler.html)
> 
> MXNetâ€”[https://MXNet . incubator . Apache . org/versions/master/tutorials/gluon/learning _ rate _ schedules . html](https://mxnet.incubator.apache.org/versions/master/tutorials/gluon/learning_rate_schedules.html)

*   **æ¢¯åº¦å‰ªè¾‘** â€”è¿™å°†åœ¨åå‘ä¼ æ’­è¿‡ç¨‹ä¸­ä»¥æœ€å¤§å€¼æˆ–æœ€å¤§èŒƒæ•°å‰ªè¾‘å‚æ•°çš„æ¢¯åº¦ã€‚æœ‰åŠ©äºè§£å†³æ‚¨åœ¨ä¸Šè¿°æ­¥éª¤ 3 ä¸­å¯èƒ½é‡åˆ°çš„ä»»ä½•çˆ†ç‚¸æ¸å˜
*   **æ‰¹é‡æ ‡å‡†åŒ–**â€”æ‰¹é‡æ ‡å‡†åŒ–ç”¨äºæ ‡å‡†åŒ–æ¯ä¸€å±‚çš„è¾“å…¥ï¼Œä»¥å¯¹æŠ—å†…éƒ¨åå˜é‡åç§»é—®é¢˜ã€‚*å¦‚æœæ‚¨åŒæ—¶ä½¿ç”¨ Dropout å’Œ Batch Normaï¼Œè¯·åŠ¡å¿…é˜…è¯»ä»¥ä¸‹å…³äº Dropout çš„è¦ç‚¹ã€‚*

> è¿™ç¯‡æ–‡ç« æ¥è‡ª[di shank Bansal](https://towardsdatascience.com/@theshank)'[tensor flow ä¸­æ‰¹å¤„ç†è§„èŒƒçš„ç¼ºé™·å’Œè®­ç»ƒç½‘ç»œçš„å¥å…¨æ€§æ£€æŸ¥](/pitfalls-of-batch-norm-in-tensorflow-and-sanity-checks-for-training-networks-e86c207548c8)'ï¼Œæ˜¯æ‰¹å¤„ç†è§„èŒƒåŒ–å¸¸è§é”™è¯¯çš„é‡è¦èµ„æºã€‚

*   **éšæœºæ¢¯åº¦ä¸‹é™(SGD)** â€”æœ‰å‡ ç§é£æ ¼çš„ SGD ä½¿ç”¨åŠ¨é‡ã€è‡ªé€‚åº”å­¦ä¹ ç‡å’Œå†…æ–¯ç‰¹ç½—å¤«æ›´æ–°ï¼Œåœ¨è®­ç»ƒæ€§èƒ½å’Œæ³›åŒ–èƒ½åŠ›æ–¹é¢æ²¡æœ‰æ˜æ˜¾çš„èµ¢å®¶(å‚è§ Sebastian Ruder çš„ç²¾å½©æ–‡ç« [â€˜æ¢¯åº¦ä¸‹é™ä¼˜åŒ–ç®—æ³•æ¦‚è¿°â€™](http://ruder.io/optimizing-gradient-descent/)å’Œè¿™ä¸ªæœ‰è¶£çš„å®éªŒâ€™[SGD>äºšå½“](https://shaoanlu.wordpress.com/2017/05/29/sgd-all-which-one-is-the-best-optimizer-dogs-vs-cats-toy-experiment/)ï¼Ÿ))ä¸€ä¸ªæ¨èçš„èµ·ç‚¹æ˜¯å…·æœ‰å†…æ–¯ç‰¹ç½—å¤«åŠ¨é‡çš„äºšå½“æˆ–æ™®é€šæ–°å¸ã€‚
*   **æ­£åˆ™åŒ–**-æ­£åˆ™åŒ–å¯¹äºæ„å»ºæ¦‚åŒ–æ¨¡å‹è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒä¼šå¢åŠ æ¨¡å‹å¤æ‚æ€§æˆ–æç«¯å‚æ•°å€¼çš„æŸå¤±ã€‚å®ƒæ˜¾è‘—é™ä½äº†æ¨¡å‹çš„æ–¹å·®ï¼Œè€Œæ²¡æœ‰æ˜¾è‘—å¢åŠ å…¶åå·®ã€‚å¦‚[cs 231n è¯¾ç¨‹](http://cs231n.github.io/neural-networks-3/#ratio)æ‰€è¿°:

> é€šå¸¸æƒ…å†µä¸‹ï¼ŒæŸå¤±å‡½æ•°æ˜¯æ•°æ®æŸå¤±å’Œæ­£åˆ™åŒ–æŸå¤±ä¹‹å’Œ(ä¾‹å¦‚ï¼ŒL2 æƒé‡ç½š)ã€‚éœ€è¦æ³¨æ„çš„ä¸€ä¸ªå±é™©æ˜¯ï¼Œæ­£åˆ™åŒ–æŸå¤±å¯èƒ½ä¼šè¶…è¿‡æ•°æ®æŸå¤±ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¢¯åº¦å°†ä¸»è¦æ¥è‡ªæ­£åˆ™åŒ–é¡¹(é€šå¸¸å…·æœ‰ç®€å•å¾—å¤šçš„æ¢¯åº¦è¡¨è¾¾å¼)ã€‚è¿™å¯ä»¥æ©ç›–æ•°æ®ä¸¢å¤±æ¢¯åº¦çš„ä¸æ­£ç¡®å®ç°ã€‚

è¦å¯¹æ­¤è¿›è¡Œå®¡æ ¸ï¼Œæ‚¨åº”è¯¥å…³é—­æ­£åˆ™åŒ–å¹¶ç‹¬ç«‹æ£€æŸ¥æ‚¨çš„æ•°æ®ä¸¢å¤±æ¢¯åº¦ã€‚

*   **è¾å­¦**â€”â€”è¾å­¦æ˜¯å¦ä¸€ç§è§„èŒƒä½ çš„äººé™…ç½‘ç»œä»¥é˜²æ­¢è¿‡åº¦é€‚åº”çš„æ–¹æ³•ã€‚åœ¨è®­ç»ƒæ—¶ï¼Œä»…é€šè¿‡ä»¥æŸä¸ªæ¦‚ç‡ p(è¶…å‚æ•°)ä¿æŒç¥ç»å…ƒæ´»åŠ¨æ¥å®ç°é€€å‡ºï¼Œå¦åˆ™å°†å…¶è®¾ç½®ä¸ºé›¶ã€‚ç»“æœï¼Œç½‘ç»œå¿…é¡»åœ¨æ¯ä¸ªè®­ç»ƒæ‰¹æ¬¡ä¸­ä½¿ç”¨ä¸åŒçš„å‚æ•°å­é›†ï¼Œè¿™å‡å°‘äº†ç‰¹å®šå‚æ•°çš„å˜åŒ–ç›¸å¯¹äºå…¶ä»–å‚æ•°å˜å¾—å ä¼˜åŠ¿ã€‚
*   è¿™é‡Œé‡è¦çš„ä¸€ç‚¹æ˜¯:å¦‚æœä½ åŒæ—¶ä½¿ç”¨ä¸¢å¼ƒå’Œæ‰¹å¤„ç†è§„èŒƒåŒ–(æ‰¹å¤„ç†è§„èŒƒ),è¦æ³¨æ„è¿™äº›æ“ä½œçš„é¡ºåºï¼Œç”šè‡³æ˜¯åŒæ—¶ä½¿ç”¨å®ƒä»¬ã€‚è¿™ä»ç„¶æ˜¯ä¸€ä¸ªæ´»è·ƒçš„ç ”ç©¶é¢†åŸŸï¼Œä½†ä½ å¯ä»¥çœ‹åˆ°æœ€æ–°çš„è®¨è®º:

> [**From Stackoverflow ç”¨æˆ·**](https://stackoverflow.com/questions/39691902/ordering-of-batch-normalization-and-dropout)`MiloMinderBinder`:â€œDropout æ˜¯æŒ‡å®Œå…¨é˜»æ–­æŸäº›ç¥ç»å…ƒçš„ä¿¡æ¯ï¼Œä»¥ç¡®ä¿ç¥ç»å…ƒä¸ååŒé€‚åº”ã€‚å› æ­¤ï¼Œæ‰¹å¤„ç†è§„èŒƒåŒ–å¿…é¡»åœ¨ä¸¢å¤±ä¹‹åè¿›è¡Œï¼Œå¦åˆ™æ‚¨å°†é€šè¿‡è§„èŒƒåŒ–ç»Ÿè®¡ä¼ é€’ä¿¡æ¯ã€‚â€
> 
> [**From arXiv**](https://arxiv.org/abs/1801.05134) : *é€šè¿‡æ–¹å·®ç§»ä½ç†è§£ä¸¢å¤±å’Œæ‰¹é‡å½’ä¸€åŒ–ä¹‹é—´çš„ä¸åè°ƒ(* [æç¿”](https://arxiv.org/search/cs?searchtype=author&query=Li%2C+X)ï¼Œ[ç¡•è¾°](https://arxiv.org/search/cs?searchtype=author&query=Chen%2C+S)ï¼Œ[èƒ¡å°æ—](https://arxiv.org/search/cs?searchtype=author&query=Hu%2C+X)ï¼Œ[æ¨åš](https://arxiv.org/search/cs?searchtype=author&query=Yang%2C+J))â€”â€”â€œç†è®ºä¸Šï¼Œæˆ‘ä»¬å‘ç°å½“æˆ‘ä»¬å°†é‚£ä¸ªç½‘ç»œçš„çŠ¶æ€ä»è®­ç»ƒè½¬ç§»åˆ°æµ‹è¯•æ—¶ï¼Œä¸¢å¤±ä¼šä½¿ç‰¹å®šç¥ç»å•å…ƒçš„æ–¹å·®å‘ç”Ÿç§»ä½ã€‚ç„¶è€Œï¼Œåœ¨æµ‹è¯•é˜¶æ®µï¼ŒBN å°†ä¿æŒå…¶ä»æ•´ä¸ªå­¦ä¹ è¿‡ç¨‹ä¸­ç§¯ç´¯çš„ç»Ÿè®¡æ–¹å·®ã€‚æ–¹å·®ä¸ä¸€è‡´æ€§(æˆ‘ä»¬ç§°æ­¤æ–¹æ¡ˆä¸ºâ€œæ–¹å·®ç§»ä½â€)å¯¼è‡´æ¨ç†ä¸­ä¸ç¨³å®šçš„æ•°å€¼è¡Œä¸ºï¼Œå½“åœ¨ BN ä¹‹å‰åº”ç”¨ä¸¢å¤±æ—¶ï¼Œæœ€ç»ˆå¯¼è‡´æ›´å¤šçš„é”™è¯¯é¢„æµ‹

# 5.è·Ÿè¸ªæ‚¨çš„å·¥ä½œ

äººä»¬å¾ˆå®¹æ˜“å¿½è§†è®°å½•å®éªŒçš„é‡è¦æ€§ï¼Œç›´åˆ°ä½ å¿˜è®°äº†ä½ ä½¿ç”¨çš„å­¦ä¹ ç‡æˆ–ç­çº§æƒé‡ã€‚æœ‰äº†æ›´å¥½çš„è·Ÿè¸ªï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°å›é¡¾å’Œé‡ç°ä»¥å‰çš„å®éªŒï¼Œä»¥å‡å°‘é‡å¤å·¥ä½œ(ä¹Ÿå°±æ˜¯é‡åˆ°åŒæ ·çš„é”™è¯¯)ã€‚

ç„¶è€Œï¼Œæ‰‹åŠ¨è®°å½•ä¿¡æ¯å¯èƒ½å¾ˆéš¾åšåˆ°ï¼Œä¹Ÿå¾ˆéš¾æ‰©å±•åˆ°å¤šä¸ªå®éªŒã€‚**åƒ**[**comet . ml**](http://bit.ly/2J6dxWA)**è¿™æ ·çš„å·¥å…·å¯ä»¥å¸®åŠ©è‡ªåŠ¨è·Ÿè¸ªæ•°æ®é›†ã€ä»£ç å˜æ›´ã€å®éªŒå†å²å’Œç”Ÿäº§æ¨¡å‹**(è¿™åŒ…æ‹¬å…³äºæ‚¨çš„æ¨¡å‹çš„å…³é”®ä¿¡æ¯ï¼Œå¦‚è¶…å‚æ•°ã€æ¨¡å‹æ€§èƒ½æŒ‡æ ‡å’Œç¯å¢ƒç»†èŠ‚)ã€‚

æ‚¨çš„ç¥ç»ç½‘ç»œå¯èƒ½å¯¹æ•°æ®ã€å‚æ•°ç”šè‡³åŒ…ç‰ˆæœ¬çš„å¾®å°å˜åŒ–éå¸¸æ•æ„Ÿï¼Œä»è€Œå¯¼è‡´æ¨¡å‹æ€§èƒ½ä¸‹é™ã€‚è·Ÿè¸ªæ‚¨çš„å·¥ä½œæ˜¯å¼€å§‹æ ‡å‡†åŒ–æ‚¨çš„ç¯å¢ƒå’Œå»ºæ¨¡å·¥ä½œæµçš„ç¬¬ä¸€æ­¥ã€‚

![](img/9588d43a1df0209d1d1cee47c90f267f.png)

Check out model performance metrics and retrieve the code used to train the model from within [Comet.ml](http://bit.ly/2J6dxWA). Thereâ€™s an example of Cometâ€™s automatic experiment tracking [here](https://www.youtube.com/watch?v=xaybRkapeNE&t=5s).

# å¿«é€Ÿå›é¡¾

æˆ‘ä»¬å¸Œæœ›è¿™ç¯‡æ–‡ç« ä¸ºè°ƒè¯•ä½ çš„ç¥ç»ç½‘ç»œæä¾›ä¸€ä¸ªåšå®çš„èµ·ç‚¹ã€‚ä¸ºäº†æ€»ç»“è¦ç‚¹ï¼Œæ‚¨åº”è¯¥:

1.  **ä»ç®€å•å¼€å§‹â€”** é¦–å…ˆæ„å»ºä¸€ä¸ªæ›´ç®€å•çš„æ¨¡å‹ï¼Œé€šè¿‡è®­ç»ƒå‡ ä¸ªæ•°æ®ç‚¹è¿›è¡Œæµ‹è¯•
2.  ç¡®è®¤ä½ çš„æŸå¤±â€”â€”æ£€æŸ¥ä½ æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡®çš„æŸå¤±ï¼Œå¹¶å›é¡¾ä½ çš„åˆå§‹æŸå¤±
3.  **æ£€æŸ¥ä¸­é—´è¾“å‡ºå’Œè¿æ¥â€”** ä½¿ç”¨æ¢¯åº¦æ£€æŸ¥å’Œå¯è§†åŒ–æ¥æ£€æŸ¥æ‚¨çš„å±‚æ˜¯å¦æ­£ç¡®è¿æ¥ï¼Œä»¥åŠæ‚¨çš„æ¢¯åº¦æ˜¯å¦æŒ‰é¢„æœŸæ›´æ–°
4.  **è¯Šæ–­å‚æ•°** â€”ä» SGD åˆ°å­¦ä¹ ç‡ï¼Œè¯†åˆ«æ­£ç¡®çš„ç»„åˆ(æˆ–æ‰¾å‡ºé”™è¯¯çš„ç»„åˆ)ğŸ˜…
5.  **è·Ÿè¸ªä½ çš„å·¥ä½œ**â€”â€”ä½œä¸ºåŸºçº¿ï¼Œè·Ÿè¸ªä½ çš„å®éªŒè¿‡ç¨‹å’Œå…³é”®çš„å»ºæ¨¡å·¥ä»¶

# *è§‰å¾—è¿™ä¸ªå¸–å­æœ‰ç”¨ï¼Ÿè§‰å¾—å®ƒå°‘äº†ç‚¹ä»€ä¹ˆï¼Ÿè¯·åœ¨ä¸‹é¢è¯„è®ºæ‚¨çš„åé¦ˆå’Œé—®é¢˜ï¼ğŸ‘©ğŸ»â€ğŸ“*

> [å…³æ³¨é»‘å®¢æ–°é—»](https://news.ycombinator.com/item?id=19392173)ä¸Šçš„è®¨è®ºï¼