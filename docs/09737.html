<html>
<head>
<title>The Top Five Most Useful Commands in Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫中最有用的五个命令</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-top-five-most-useful-commands-in-pandas-4390d4e165a5?source=collection_archive---------11-----------------------#2019-12-21">https://towardsdatascience.com/the-top-five-most-useful-commands-in-pandas-4390d4e165a5?source=collection_archive---------11-----------------------#2019-12-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3e2a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">我每天都在用</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0e2e14560b87ddfd15ca1db1980cb7ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GlVFX07y0RG1Aeq7"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@fznn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jason ZZ</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4892" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您刚刚开始学习数据科学，您已经将数据放在一个数据框架中，<strong class="lb iu">现在什么是</strong>？</p><p id="8af3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我很乐意向您介绍我在 Pandas 中使用最多的命令，以帮助您更快地发现数据中的见解。我假设你的代码中有一个名为<strong class="lb iu"> df </strong>的数据帧。</p><h1 id="9f58" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">头</h1><p id="3c53" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">每次我将数据读入 Pandas 时，我做的第一件事就是使用 head 命令查看前 5 行数据。这将产生类似于以下内容的输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/b1f841aedea39ffd9370748fe91a16cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H8iUHUsZCMxnKORhf8nj2Q.png"/></div></div></figure><p id="24fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你用<strong class="lb iu"> df.head() </strong>运行这个命令。</p><p id="d4ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我发现这非常有价值，因为它允许我检查数据是否被正确读入，查看我有哪些列，并快速了解各个列的值。这个命令的缺点是它不能很好地适应包含许多列的数据集。</p><h1 id="de29" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">形容</h1><p id="2148" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">使用 head 命令后，我要使用的下一个命令是 describe。Describe 将给出所有数字列的平均值、标准偏差和各种百分位数。下面是一个输出示例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/3c02b61fecf47f97b054ec757a98b54e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XrZZdqUYcXxgww0Bfws1uQ.png"/></div></div></figure><p id="ff1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像 head 命令一样，用<strong class="lb iu"> df.describe() </strong>运行这个命令。</p><p id="57f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是了解所有数值数据分布的快速方法。这通常也会使任何严重的异常值或数据问题变得明显。例如，如果我们的最大年龄大于 125，那么我们就会知道我们有某种类型的数据问题。</p><h1 id="55d0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">值计数</h1><p id="3b36" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">因为 describe 只适用于数值数据，所以我通常使用 value_counts 命令来更好地理解分类列。如果有一个名为“relationship”的列，可以使用以下命令获得值计数:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="b8d9" class="mz lw it mv b gy na nb l nc nd">df['relationship'].value_counts()</span></pre><p id="b545" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它会产生如下输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/a39ae89bf91b487e45c6d42b55abd774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*z-a9eTxFFYJbDtT9I_LMMQ.png"/></div></figure><p id="72c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由此，我们可以看到我们的关系列的值的计数。我们有许多丈夫的亲戚，但很少有其他亲戚。这不仅有助于我们理智地检查我们的数据，而且有助于理解我们所拥有的数据。</p><h1 id="d0d1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">Corr</h1><p id="5df7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在我对我的数据有了一个概念，我通常转向 corr 命令来理解我有什么相关性。在数据框中包含您试图预测的值尤其有用，这样您就可以看到潜在要素与标注之间的相关性。</p><p id="bbbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当运行<strong class="lb iu"> df.corr() </strong>时，您会得到数据帧中所有列之间的相关性，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/aa4f36653086a3184ca1373eb4bff0b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*35NTWxQrLbt20JPlR2ae4A.png"/></div></div></figure><p id="a20c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的输出示例中，我们的标签是“label_int”我们可以看到“educationnum”是最正相关的变量，因此可能会成为一个很好的特征。另一方面，“Fnlwgt”与我们的标签几乎没有关联。</p><h1 id="2223" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">分组依据</h1><p id="9f4d" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">最后，我倾向于发现使用 groupby 命令按组分割数据非常有用。例如，如果我想按工作类别查看每周平均工作时间，我可以运行以下命令:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="4643" class="mz lw it mv b gy na nb l nc nd">train_df.groupby(['workclass'])['hoursperweek'].mean()</span></pre><p id="c159" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将产生:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/0959ef3a8eb22cb5959cf1e4d4cc7fd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*BorpCDowrpDJZJvH8XNHug.png"/></div></figure><p id="88af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到，“自我雇佣”组平均工作时间最长，而“从不工作”组工作时间最少。我不知道一个从未工作过的小组是如何工作的，但这是以后的讨论了。</p><h1 id="22b9" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">去探索你的数据</h1><p id="1cf8" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我希望这篇文章已经帮助你理解了我最常用的熊猫指令，以及我为什么这么经常使用它们。如果你想了解更多关于这些命令或其他命令的信息，请务必查看熊猫的<a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/index.html" rel="noopener ugc nofollow" target="_blank">文档</a>！</p><p id="dcc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章也可以在<a class="ae ky" href="https://learningwithdata.com/posts/tylerfolkman/the-top-five-most-useful-commands-in-pandas-4390d4e165a5/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="8412" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">加入我的</strong> <a class="ae ky" href="https://mailchi.mp/86690f2e72bb/tyler_folkman" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">邮箱列表</strong> </a> <strong class="lb iu">保持联系。</strong></p></div></div>    
</body>
</html>