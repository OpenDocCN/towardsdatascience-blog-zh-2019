<html>
<head>
<title>6 ways to test for a Normal Distribution — which one to use?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">检验正态分布的 6 种方法——使用哪一种？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/6-ways-to-test-for-a-normal-distribution-which-one-to-use-9dcf47d8fa93?source=collection_archive---------0-----------------------#2019-12-13">https://towardsdatascience.com/6-ways-to-test-for-a-normal-distribution-which-one-to-use-9dcf47d8fa93?source=collection_archive---------0-----------------------#2019-12-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e55f" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">有许多方法可以检验一个变量是否呈正态分布。在这篇文章中，你会发现使用哪一个！</h2></div><h1 id="f97b" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">1.柱状图</h1><h2 id="082b" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">1.1.介绍</h2><p id="9490" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">第一个几乎所有人都知道的方法是直方图。直方图是显示变量分布的数据可视化。它给出了数据集中每个值出现的频率，这就是分布的意义所在。</p><blockquote class="mi"><p id="7e6f" class="mj mk it bd ml mm mn mo mp mq mr mh dk translated">直方图是快速直观显示单个变量分布的好方法。</p></blockquote><h2 id="e38f" class="la kj it bd kk lb ms dn ko ld mt dp ks lf mu lh ku li mv lk kw ll mw ln ky lo bi translated">1.2.解释</h2><p id="990c" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">在下图中，两个直方图显示了正态分布和非正态分布。</p><ul class=""><li id="56fe" class="mx my it lr b ls mz lv na lf nb li nc ll nd mh ne nf ng nh bi translated">在左边，样本分布(灰色)与理论钟形曲线分布(红线)的偏差非常小。</li><li id="9c59" class="mx my it lr b ls ni lv nj lf nk li nl ll nm mh ne nf ng nh bi translated">在右边，我们看到直方图中完全不同的形状，直接告诉我们这不是正态分布。</li></ul><figure class="no np nq nr gt ns gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/688a00ac0e7b2f69afb93a1a7fa8efc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*cYsTolafUgOQQcUsohXo3g.png"/></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Sometimes the deviation from a normal distribution is so obvious that it can be detected visually.</figcaption></figure><h2 id="3fb6" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">1.3.履行</h2><p id="b088" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">使用 python 可以轻松创建直方图，如下所示:</p><figure class="no np nq nr gt ns"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Creating a histogram using pandas in python</figcaption></figure><h2 id="7e4d" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">1.4.结论</h2><p id="d26e" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">直方图是快速直观显示单个变量分布的好方法。</p><h1 id="7d41" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">2.箱形图</h1><h2 id="5353" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">2.1.介绍</h2><p id="beaf" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">箱线图是另一种可用于检测非正常样品的可视化技术。箱形图绘制了一个变量的 5 个数字汇总:最小值、第一个四分位数、中值、第三个四分位数和最大值。</p><blockquote class="mi"><p id="be16" class="mj mk it bd ml mm mn mo mp mq mr mh dk translated">箱线图是同时可视化多个变量分布的好方法。</p></blockquote><h2 id="d4e1" class="la kj it bd kk lb ms dn ko ld mt dp ks lf mu lh ku li mv lk kw ll mw ln ky lo bi translated">2.2 解释</h2><p id="48a2" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">箱线图是一种很好的可视化技术，因为它允许绘制许多相邻的箱线图。对变量的快速概述让我们对分布有了一个概念，作为“额外收获”，我们得到了完整的 5 个数字的摘要，这将有助于我们进一步的分析。</p><p id="8923" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">你应该注意两件事:</p><ul class=""><li id="f197" class="mx my it lr b ls mz lv na lf nb li nc ll nd mh ne nf ng nh bi translated">分布是否对称(正态分布也是如此)？</li><li id="b0b7" class="mx my it lr b ls ni lv nj lf nk li nl ll nm mh ne nf ng nh bi translated">宽度(尖度的反义词)对应正态分布的宽度吗？这在箱线图上很难看到。</li></ul><figure class="no np nq nr gt ns gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi oe"><img src="../Images/e34212e5eb3f070663705dcf26185942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2CoMOD0xcyv1SxcGM-AwdQ.png"/></div></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Normal (left), Uniform (middle) and exponential (right) boxplots vs normal bell curve</figcaption></figure><h2 id="330a" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">2.3.履行</h2><p id="177d" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">箱线图可以很容易地用 python 实现，如下所示:</p><figure class="no np nq nr gt ns"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Creating a boxplot using pandas in python</figcaption></figure><h2 id="96b2" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">2.4.结论</h2><p id="89ff" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">箱线图是同时可视化多个变量分布的好方法，但是<strong class="lr iu">使用箱线图</strong>很难识别宽度/尖度的偏差。</p><h1 id="fbde" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">3.QQ 情节</h1><h2 id="4cd9" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">3.1.介绍</h2><p id="b6f0" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">有了 QQ plots，我们开始进入更严肃的内容，因为这比前面描述的方法需要更多的理解。</p><p id="dc28" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">QQ 图代表分位数与分位数图，这正是它所做的:绘制理论分位数与变量的实际分位数。</p><blockquote class="mi"><p id="1a9e" class="mj mk it bd ml mm mn mo mp mq mr mh dk translated">QQ 图比柱状图或箱线图更能让我们看到正态分布的偏差。</p></blockquote><h2 id="78f2" class="la kj it bd kk lb ms dn ko ld mt dp ks lf mu lh ku li mv lk kw ll mw ln ky lo bi translated">3.2.解释</h2><p id="0b1f" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">如果我们的变量遵循正态分布，我们的变量的分位数必须完全符合“理论”正态分位数:QQ 图上的直线告诉我们我们有一个正态分布。</p><figure class="no np nq nr gt ns gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi oj"><img src="../Images/0d508c7e83728c71a78f1198ef3f1437.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7qWrZnXdsiO_CpJq51n8Pg.png"/></div></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Normal (left), uniform (middle) and exponential (right) QQ Plots</figcaption></figure><p id="17b6" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">如图所示，正常 QQ 图上的点遵循一条直线，而其他分布严重偏离。</p><ul class=""><li id="48e9" class="mx my it lr b ls mz lv na lf nb li nc ll nd mh ne nf ng nh bi translated">均匀分布在两端有太多的观察值(非常高和非常低的值)。</li><li id="521f" class="mx my it lr b ls ni lv nj lf nk li nl ll nm mh ne nf ng nh bi translated">指数分布对较低的值有太多的观察，但对较高的值观察太少。</li></ul><p id="c701" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">在实践中，我们经常看到一些不太明显但形状相似的东西。尾部的过多或过少都应该引起对正态性的怀疑，在这种情况下，你应该使用下面描述的假设检验之一。</p><h2 id="9151" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">3.3.履行</h2><p id="5966" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">可以使用 python 中的 statsmodels api 实现 QQ 图，如下所示:</p><figure class="no np nq nr gt ns"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Creating a QQ Plot using statsmodels</figcaption></figure><h2 id="9ea9" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">3.4.结论</h2><p id="d8bc" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">QQ 图比柱状图或箱线图更能让我们看到正态分布的偏差。</p><h1 id="2257" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">4.科尔莫戈罗夫斯米尔诺夫试验</h1><h2 id="21aa" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">4.1.介绍</h2><p id="e43a" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">如果 QQ 图和其他可视化技术不能得出结论，那么统计推断(假设检验)可以对我们的变量是否显著偏离正态分布给出更客观的答案。</p><p id="39ea" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">如果你对如何以及何时使用假设检验有疑问，这里有一篇<strong class="lr iu"> </strong>给<a class="ae ok" rel="noopener" target="_blank" href="/an-intuitive-explanation-of-hypothesis-testing-and-p-values-8391db2c90f"> <strong class="lr iu">对假设检验</strong> </a> <strong class="lr iu">的直观解释的文章。</strong></p><p id="61f3" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">Kolmogorov Smirnov 检验计算经验分布和理论分布之间的距离，并将检验统计量定义为这些距离集合的上确界。</p><p id="e7db" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">这样做的好处是，同样的方法可以用来比较任何分布，而不一定只是正态分布。</p><blockquote class="mi"><p id="2c91" class="mj mk it bd ml mm mn mo mp mq mr mh dk translated">KS 测试是众所周知的，但它没有太大的权力。它可以用于除正常分布之外的其他分布。</p></blockquote><h2 id="209c" class="la kj it bd kk lb ms dn ko ld mt dp ks lf mu lh ku li mv lk kw ll mw ln ky lo bi translated">4.2.解释</h2><p id="ed36" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">KS 检验的检验统计量是<strong class="lr iu"> Kolmogorov Smirnov 统计量</strong>，如果零假设为真，则该统计量遵循<strong class="lr iu"> Kolmogorov 分布</strong>。</p><p id="9eb2" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">如果观察到的数据完全符合正态分布，KS 统计值将为 0。P 值用于决定差异是否大到足以拒绝零假设:</p><ul class=""><li id="68c7" class="mx my it lr b ls mz lv na lf nb li nc ll nd mh ne nf ng nh bi translated">如果 KS 检验的 P 值大于 0.05，我们假设正态分布</li><li id="74a8" class="mx my it lr b ls ni lv nj lf nk li nl ll nm mh ne nf ng nh bi translated">如果 KS 检验的 P 值小于 0.05，我们不假设正态分布</li></ul><h2 id="be45" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">4.3.履行</h2><p id="73a0" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">使用 Scipy 的 Python 中的 KS 测试可以如下实现。它返回 KS 统计数据及其 P 值。</p><figure class="no np nq nr gt ns"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Applying the KS Test in Python using Scipy</figcaption></figure><h2 id="3bc2" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">4.4.结论</h2><p id="52de" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">KS 测试是众所周知的，但它没有太大的权力。这意味着需要大量的观察来拒绝零假设。它对异常值也很敏感。另一方面，它可以用于其他类型的分布。</p><h1 id="2639" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">5.利利佛斯试验</h1><h2 id="332c" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">5.1.介绍</h2><p id="b707" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">Lilliefors 测试在很大程度上基于 KS 测试。不同之处在于，在 Lilliefors 检验中，接受的是总体分布的均值和方差是估计的，而不是用户预先指定的。</p><p id="0366" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">因此，Lilliefors 测试使用 Lilliefors 分布，而不是 Kolmogorov 分布。</p><blockquote class="mi"><p id="1f19" class="mj mk it bd ml mm mn mo mp mq mr mh dk translated">不幸的是，对于 Lilliefors 来说，它的能力仍然低于夏皮罗维尔克测试。</p></blockquote><h2 id="9cdb" class="la kj it bd kk lb ms dn ko ld mt dp ks lf mu lh ku li mv lk kw ll mw ln ky lo bi translated">5.2.解释</h2><ul class=""><li id="e16a" class="mx my it lr b ls lt lv lw lf ol li om ll on mh ne nf ng nh bi translated">如果 Lilliefors 检验的 P 值大于 0.05，我们假设正态分布</li><li id="aa1f" class="mx my it lr b ls ni lv nj lf nk li nl ll nm mh ne nf ng nh bi translated">如果 Lilliefors 检验的 P 值小于 0.05，我们不假设正态分布</li></ul><h2 id="fd2f" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">5.3.履行</h2><p id="f059" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">statsmodels 中的 Lilliefors 测试实现将返回 Lilliefors 测试统计值和 P 值，如下所示。</p><p id="ce50" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">注意:在 statsmodels 实现中，低于 0.001 的 P 值被报告为 0.001，高于 0.2 的 P 值被报告为 0.2。</p><figure class="no np nq nr gt ns"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Applying the Lilliefors test using statsmodels</figcaption></figure><h2 id="b69f" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">5.4.结论</h2><p id="fa8b" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">虽然 Lilliefors 是对 KS 测试的改进，但它的功效仍然低于夏皮罗维尔克测试。</p><h1 id="2c77" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">6.夏皮罗维尔克试验</h1><h2 id="c1b2" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">6.1.介绍</h2><p id="37cb" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">夏皮罗维尔克检验是检验正态分布时最有效的检验。它是专门为正态分布开发的，不能用于测试其他分布，例如 KS 测试。</p><blockquote class="mi"><p id="e0a1" class="mj mk it bd ml mm mn mo mp mq mr mh dk translated">夏皮罗维尔克检验是检验正态分布时最有效的检验。</p></blockquote><h2 id="2efb" class="la kj it bd kk lb ms dn ko ld mt dp ks lf mu lh ku li mv lk kw ll mw ln ky lo bi translated">6.2.解释</h2><ul class=""><li id="c964" class="mx my it lr b ls lt lv lw lf ol li om ll on mh ne nf ng nh bi translated">如果夏皮罗维尔克检验的 P 值大于 0.05，我们假设正态分布</li><li id="634e" class="mx my it lr b ls ni lv nj lf nk li nl ll nm mh ne nf ng nh bi translated">如果夏皮罗维尔克检验的 P 值小于 0.05，我们不假设正态分布</li></ul><h2 id="85b0" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">6.3.履行</h2><p id="09da" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">夏皮罗·维尔克测试可以如下实现。它将返回名为<em class="oo"> W </em>的测试统计数据和 P 值。</p><p id="d721" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">注意:对于 N &gt; 5000，W 检验统计是准确的，但 p 值可能不准确。</p><figure class="no np nq nr gt ns"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="nv nw gj gh gi nx ny bd b be z dk">Applying the Shapiro Wilk test using statsmodels in Python</figcaption></figure><h2 id="8d50" class="la kj it bd kk lb lc dn ko ld le dp ks lf lg lh ku li lj lk kw ll lm ln ky lo bi translated">6.4.结论</h2><p id="cebb" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">夏皮罗维尔克检验是检验正态分布时最有效的检验。你一定要用这个测试。</p><h1 id="1233" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">7.结论—使用哪种方法！</h1><p id="41a0" class="pw-post-body-paragraph lp lq it lr b ls lt ju lu lv lw jx lx lf ly lz ma li mb mc md ll me mf mg mh im bi translated">对于正态分布的<strong class="lr iu">快速和视觉识别</strong>，如果你只有一个变量需要查看，使用<strong class="lr iu"> QQ 图</strong>，如果你有多个变量，使用方框图。如果您需要向非统计公众展示您的结果，请使用直方图。</p><p id="b658" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">作为一个统计测试来确认你的假设，使用夏皮罗维尔克测试。这是最有力的考验，应该是决定性的论点。</p><p id="d517" class="pw-post-body-paragraph lp lq it lr b ls mz ju lu lv na jx lx lf ob lz ma li oc mc md ll od mf mg mh im bi translated">当测试其他分布时，你不能使用夏皮罗·维尔克，而应该使用安德森-达令测试或 KS 测试。</p></div></div>    
</body>
</html>