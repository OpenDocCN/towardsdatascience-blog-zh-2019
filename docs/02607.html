<html>
<head>
<title>Getting Census Data in 5 Easy Steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过 5 个简单的步骤获得人口普查数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/getting-census-data-in-5-easy-steps-a08eeb63995d?source=collection_archive---------4-----------------------#2019-04-29">https://towardsdatascience.com/getting-census-data-in-5-easy-steps-a08eeb63995d?source=collection_archive---------4-----------------------#2019-04-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/b70e346af6fd0d1f0c3e741b5a107ebe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*klCzXOKf8R2ONW_YitzKKQ.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Photo by <a class="ae kf" href="https://unsplash.com/photos/Fcopy8szaoM?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Ishan @seefromthesky</a> on <a class="ae kf" href="https://unsplash.com/search/photos/population?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9d4a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">早在 2016 年，在与辛辛那提市合作帮助优化其紧急医疗服务的项目中，我的团队意识到我们需要获得关于该市的详细人口普查数据。我们需要测量，比如按年龄、种族、性别等细分的每个邮政编码的人口。</p><p id="f1ca" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">和<em class="le">真的很难得到</em>。我清楚地记得这个过程需要大量的研究、数据搜集和令人头疼的<strong class="ki iu"/>。</p><p id="9a7a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为我目前正在撰写的另一篇文章的一部分，我再次发现需要获得人口普查数据，这一次是关于洛杉矶县的邮政编码<strong class="ki iu">人口。“又来了”……我想。</strong></p><p id="f282" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，事实证明，在过去的几年里，获取人口普查数据的过程变得极其简单，而且相对来说也不那么痛苦。这里有一个快速的 5 步指南，让你自己得到它。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="f71a" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">1.向美国人口普查局请求密钥</h2><p id="2efc" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld im bi translated">为了进行 API 调用(只是一个要求特定数据的 web 请求的花哨名称)，您需要从美国人口普查局请求一个<strong class="ki iu">密钥</strong>。导航到人口普查<a class="ae kf" href="https://www.census.gov/developers/" rel="noopener ugc nofollow" target="_blank">开发者页面</a>，您应该会看到“<em class="le">请求一个密钥</em>”。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mk"><img src="../Images/5abb6713812e7c4a27bda466f0eafadd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JqH-OWSQr3rTuyOiAVURFA.png"/></div></div></figure><p id="9dd4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您将被重定向到一个页面，要求输入您的组织名称(我刚刚输入了我的姓名)和您的电子邮件地址。很快，你会收到一封电子邮件，里面有一长串字母和数字，这就是你的<strong class="ki iu"> API 密匙。</strong></p><blockquote class="mp mq mr"><p id="6a9d" class="kg kh le ki b kj kk kl km kn ko kp kq ms ks kt ku mt kw kx ky mu la lb lc ld im bi translated">非常重要:保持这个密钥的秘密。  <em class="it">否则，别人可以以你的名义提出数据请求，而你不一定想要那样。</em></p></blockquote></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="4915" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">2.找到正确的数据集</h2><p id="8220" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld im bi translated">人口普查局有几个数据集，有些可能适合您的项目，有些则不适合。例如，在光谱的一端，我们有<strong class="ki iu">美国社区(ACS)调查 1 年数据</strong>，它每年都发生，但只针对人口超过 65，000 的地区。</p><p id="9966" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在光谱的另一端，我们有大多数人认为的“人口普查”，官方称为<strong class="ki iu">十年一次的人口普查</strong>，每 10 年一次，但包括非常详细的地理区域。而且，中间还有几个层次。你可以在这里找到完整的列表<a class="ae kf" href="https://www.census.gov/data/developers/data-sets.html" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="e62f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章的其余部分，让我们使用一个具体的例子，假设我们正在试图寻找加利福尼亚州美丽的长滩的邮政编码为 90807 的最近人口统计。</p><p id="7a6c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为此，我们将使用<strong class="ki iu"> ACS 5 年期数据</strong>，其中包括有关小型地理区域的汇总数据，以提高统计可靠性，而不是 1 年期指标(非常适合我们所追求的邮政编码指标)。我们将尽可能使用最新的数据集，来自<strong class="ki iu"> 2017 </strong>。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/d72c52cce7c6f8bcf4858c5a43e74647.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZKML2YOerd8ZurRHc21o-Q.png"/></div></div></figure><p id="fb55" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">导航到 ACS 5 年数据的<a class="ae kf" href="https://www.census.gov/data/developers/data-sets/acs-5year.html" rel="noopener ugc nofollow" target="_blank">网页</a>，我们看到我们的 API 调用将以:</p><blockquote class="mp mq mr"><p id="2286" class="kg kh le ki b kj kk kl km kn ko kp kq ms ks kt ku mt kw kx ky mu la lb lc ld im bi translated"><a class="ae kf" href="https://api.census.gov/data/2017/acs/acs5?key=[YOUR_API_KEY]" rel="noopener ugc nofollow" target="_blank"><em class="it">https://api.census.gov/data/2017/acs/acs5?key=[YOUR_API_KEY] </em> </a></p></blockquote></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="2334" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">3.找到正确的变量</h2><p id="46e9" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld im bi translated">好了，我们有了正确的数据集。现在，我们需要考虑从数据集中需要哪些变量。你可以用你的变量得到相当一般或相当具体的东西。变量的一些例子包括:</p><ul class=""><li id="57cc" class="mw mx it ki b kj kk kn ko kr my kv mz kz na ld nb nc nd ne bi translated">总人口</li><li id="f6c0" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">申报加拿大血统的总人数</li><li id="5c05" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">与祖父母同住的 18 岁以下孙辈总数</li></ul><p id="8e37" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">而且……这还只是皮毛。ACS 5 年评估的<strong class="ki iu">完整变量列表</strong>可在<a class="ae kf" href="https://api.census.gov/data/2017/acs/acs5/variables.html" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="2033" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对我们来说，我们将保持它的基本性，使用总人口数。我们可以导航到变量网页，Ctrl-F 表示“总人口”，并获得变量名<strong class="ki iu"> B01003_001E。</strong></p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nk"><img src="../Images/e85b792ffcd8d0cdf46dee8e9ebe05d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t6fJVr2mVkYmpnt6fc84lA.png"/></div></div></figure><p id="dd89" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">酷！到目前为止，我们的 API 调用如下所示:</p><blockquote class="mp mq mr"><p id="35be" class="kg kh le ki b kj kk kl km kn ko kp kq ms ks kt ku mt kw kx ky mu la lb lc ld im bi translated"><em class="it">https://api.census.gov/data/2017/acs/acs5?KEY =[YOUR _ API _ KEY]&amp;get = b 01003 _ 001 e</em></p></blockquote><p id="de71" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">上面写着“从 ACS 的 5 年数据中，我想要总人口”。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="f9cb" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">4.找到正确的地理位置</h2><p id="a780" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld im bi translated">最后一步是问<strong class="ki iu">“哪里”</strong>的问题。到目前为止，我们已经从 ACS 5 年的数据中请求了总人口，但是还没有指定我们想要邮政编码为 90807 的这个值。</p><p id="c294" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">实现这个结果就像<strong class="ki iu">稍微修改一下 API 调用一样简单</strong>:</p><blockquote class="mp mq mr"><p id="49a2" class="kg kh le ki b kj kk kl km kn ko kp kq ms ks kt ku mt kw kx ky mu la lb lc ld im bi translated"><em class="it">https://api.census.gov/data/2017/acs/acs5?KEY =[YOUR _ API _ KEY]&amp;get = b 01003 _ 001 e&amp;for = zip % 20 code % 20 tabulation % 20 area:90807</em></p></blockquote><p id="065b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想知道，<strong class="ki iu"> "%20" </strong>只是空格的代码，因为我们不允许在 URL 中放真正的空格。</p><p id="ed0e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另请注意，<strong class="ki iu">你不仅仅局限于邮政编码</strong>作为你的地理位置。你可以用州、县等来代替。您只需要相应地修改 API 调用。我发现找出正确的 API 调用的最好方法是查看人口普查局提供的一些<a class="ae kf" href="https://www.census.gov/data/developers/guidance/api-user-guide/query-examples.html" rel="noopener ugc nofollow" target="_blank">例子</a>，然后<strong class="ki iu">修改它们以满足你的需求</strong>。</p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="cc7d" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">5.进行 API 调用</h2><p id="6e05" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld im bi translated">所有艰苦的工作都完成了！</p><p id="9e05" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们将 API 调用复制/粘贴到浏览器中，看看会得到什么。</p><figure class="ml mm mn mo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/c385efc512f42ce2eceebcc8278fa1c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K9mAYFFmXxV4_1XT0UKk0g.png"/></div></div></figure><p id="7be1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这告诉我们 2017 年邮政编码 90807 的总人口是<strong class="ki iu"> 32395 </strong>。</p><p id="5e91" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">相当酷！</strong></p></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><h2 id="e8be" class="lm ln it bd lo lp lq dn lr ls lt dp lu kr lv lw lx kv ly lz ma kz mb mc md me bi translated">(6.)可选:将结果存储在电子表格中</h2><p id="19d4" class="pw-post-body-paragraph kg kh it ki b kj mf kl km kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld im bi translated">您可能想要<strong class="ki iu">将您的结果存储在某个地方</strong>，这一步将带您通过一个示例了解如何使用 python 来做到这一点。以下脚本将<strong class="ki iu">使用包含这些邮政编码列表的 txt 文件(在 my GitHub <a class="ae kf" href="https://github.com/ritvikmath/StarbucksStoreScraping/blob/master/laZips.txt" rel="noopener ugc nofollow" target="_blank">这里</a>找到)生成一个 CSV 电子表格</strong>，其中包含洛杉矶县内所有邮政编码的人口。</p><figure class="ml mm mn mo gt ju"><div class="bz fp l di"><div class="nm nn l"/></div></figure></div><div class="ab cl lf lg hx lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="im in io ip iq"><p id="42b3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">感谢阅读</strong>，我希望这篇文章能让你更容易收集自己的人口普查数据！</p></div></div>    
</body>
</html>