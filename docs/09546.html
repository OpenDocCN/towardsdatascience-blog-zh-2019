<html>
<head>
<title>My Top 3 SQL Interview Questions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我的前 3 个 SQL 面试问题</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/my-top-3-sql-interview-questions-8a42597e8505?source=collection_archive---------2-----------------------#2019-12-16">https://towardsdatascience.com/my-top-3-sql-interview-questions-8a42597e8505?source=collection_archive---------2-----------------------#2019-12-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="bb9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我经常面试数据分析师、数据工程师和数据架构师职位的候选人，有时也会参加应用服务器/微服务开发人员的面试。</p><p id="f99c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我开始面试之前，我总是会想起一个朋友关于面试的名言<strong class="jp ir"> <em class="kl">“一个傻瓜能问的问题比一个聪明人能回答的还要多”</em>。他在我参加第一次面试前告诉我这件事，我以为他是为了让我放松。随着时间的推移，我意识到他的意思更多。现在，回过头来看，我认为有朋友向你灌输让你永远脚踏实地的道理肯定是有帮助的！</strong></p><p id="b4df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">参加面试时，面试官试图用边缘案例或经验教训来迷惑和掩盖候选人，这让我经常摇头，思考面试的真正意图是如何被挫败的。面试官处于权力地位的观念是非常错误的。</p><p id="4a62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对我来说，面试与其说是关于具体的语法，不如说是关于评估候选人对概念的理解、问题解决方法的应用、从错误中学习的能力、测试和验证的方法，以及这个人在多大程度上是一个团队成员。</p><p id="edc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">TL:DR 版本:前 3 个 SQL 面试问题(初级、中级、有经验)</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/3f2a2663398dd25d51c6d00ae185c2a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NsEUgMA1Sy8gkTA-SDQ6Rg.jpeg"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Interview stock image (Photo by <a class="ae lc" href="https://unsplash.com/@amyhirschi?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Amy Hirschi</a> on <a class="ae lc" href="https://unsplash.com/s/photos/interview?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a>)</figcaption></figure><h1 id="f998" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Q1:如果你在 SQL 查询的每一个子句中都打了一个错别字，那么第一个错误会是什么？</h1><p id="400f" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">这个问题适用于初学者，或者那些将 SQL 作为第二语言的人，通常是 Java、JS 或 dotNET 开发人员。</p><p id="bb15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是一个查询示例(每行加 1 表示输入错误)</p><p id="c0b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b">SELECT count(e.empno1) count_emp, d.dname</code></p><p id="5e65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b">FROM emp1 e</code></p><p id="35eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b">INNER JOIN dept d on e.deptno = d.deptno</code></p><p id="f59d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b">WHERE e.sal1 &gt; 2000</code></p><p id="762f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b">GROUP BY d.dname1</code></p><p id="1c55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe mg mh mi mj b">ORDER BY count_emp1;</code></p><p id="3569" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">问题的答案总是 FROM 子句。为什么？因为 SQL 是关于集合的。以下是用简单英语写的查询。</p><p id="d959" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">根据部门名称匹配到部门的员工集，</em></p><p id="36b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">筛选薪资大于 2000 的，</em></p><p id="2921" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">按部门名称分组，并统计每个部门的员工数，</em></p><p id="8e37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">选择员工人数和部门名称</em></p><p id="d102" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">根据员工人数对结果进行排序。</em></p><p id="7d4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">理解这个流程让我确信候选人了解足够多的 SQL 概念，并且知道 SQL 来自集合论。</p><p id="d895" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从选择开始不是正确的方法。</p><p id="d5e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总的来说，考生思考集合和关系理论是很重要的。</p><h1 id="4895" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Q2。可以使用 IN 或 EXISTS 将 SQL 查询重写为连接查询吗？它如何影响性能？</h1><p id="f4a5" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">这个问题的目标是中级经验丰富的数据库专业人员或那些在数据处理应用程序中工作过一段时间的人。</p><p id="2b67" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个问题的关键是查询重写。当您重构查询或者从一个数据库平台迁移到另一个数据库平台时，查询等价和重写非常重要。它展示了你对 SQL 的理解，你将被认为是一个独立的数据库开发人员。</p><p id="87d1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">IN、EXISTS 可以用内部联接代替，但有一些注意事项。</p><ol class=""><li id="e703" class="mk ml iq jp b jq jr ju jv jy mm kc mn kg mo kk mp mq mr ms bi translated">如果 in 或 EXISTS 中的数据集有多行，则联接将导致比预期更多的行。</li><li id="2701" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">IN 或 EXISTS 的处理方式会有所不同。IN 和 EXISTS 有时可能会被查询优化器重写为一个连接。在某些情况下，In 或 EXISTS 子查询将被具体化。但如果不是，它将在外部查询的每一行中被处理。</li><li id="6303" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">在这两种情况下，索引和数据存储位置将在处理方式上扮演重要角色。</li></ol><p id="2a35" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望人们从他们所工作的数据库的经验谈起，他们在每个数据库平台和配置方面的经验——索引、物化视图、Vertica 投影、SQL Server Columnstore 索引、Oracle 中的混合列存储、红移排序键、Teradata MPP 处理——对了解候选人很有价值。</p><h1 id="3283" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Q3。解释并讨论散列连接和排序合并连接之间的区别，以及您所使用的数据库是如何处理它们的。</h1><p id="a487" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">这一个是针对稍微更有经验的数据库专业人员。</p><p id="8b9c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">理解查询中的连接是如何处理的，阅读查询计划，试图弄清楚数据库是如何处理查询的，总是有经验的工程师应该关注的事情。后续问题可以是检查之前和之后的表现。建立了什么样的测试或验证框架来衡量绩效？如果涉及到查询重写，那么确保数据正确性的验证机制是什么？</p><p id="677e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谈论经历过的情况，从这种情况中学到的东西，如何处理这种情况，有助于更好地了解候选人。</p><p id="c866" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">像以前一样，每个数据库和查询处理引擎都有自己的挑战和选项。一个能够深入讨论问题，并展示出系统思考方法的候选人显然会受到青睐。</p><h1 id="6df7" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">结论</h1><p id="3730" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">有人会说，写下这些问题，我已经亮出了我的底牌。然而，同样的概念可以用其他问题来检验。字面上的问题无关紧要。</p><p id="be79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我觉得有必要提出这些问题，因为网上大多数 SQL 面试问题的范围从“解释第三范式”到“查找重复记录”。网上的这些问题没有一个真正涉及查询处理的概念，理解数据库技术，或者检查从业者的理解深度。</p><h1 id="9597" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">参考资料和进一步阅读</h1><ol class=""><li id="21e5" class="mk ml iq jp b jq mb ju mc jy my kc mz kg na kk mp mq mr ms bi translated">Faroult，s .和 Robson，P. (2006 年)。<em class="kl">SQL 的艺术</em>。奥莱利媒体公司。</li><li id="8a2d" class="mk ml iq jp b jq mt ju mu jy mv kc mw kg mx kk mp mq mr ms bi translated">埃文斯朱莉娅。<em class="kl"> SQL 查询不以 SELECT 开头— Julia Evans </em>，jvns . ca/blog/2019/10/03/SQL-Queries-Don-t-Start-with-SELECT/。</li></ol></div></div>    
</body>
</html>