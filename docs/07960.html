<html>
<head>
<title>Exploratory Data Analysis using Python: A Beef Jerky Dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 进行探索性数据分析:牛肉干数据集</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/exploring-beef-jerky-data-using-python-115054741608?source=collection_archive---------30-----------------------#2019-11-02">https://towardsdatascience.com/exploring-beef-jerky-data-using-python-115054741608?source=collection_archive---------30-----------------------#2019-11-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/d815fedfa1fc236f3a6c359d6be38c9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Fx58Cdt9UDPOUtRg8s9jg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Kilishi (Spicy Beef Jerky)</figcaption></figure><h1 id="9602" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">为什么是牛肉干？</h1><p id="0067" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">在我进入编码领域之前，我尝试过联盟营销。我决定回顾牛肉干，并试图把它卖给志同道合的消费者。我喜欢牛肉干，也喜欢收集数据，所以我觉得把我的兴趣结合起来，为我吃过的牛肉干创建一个数据集会很有趣。我从制造商的网站或肉干包装上收集数据。本文涵盖了使用 python 库<a class="ae mb" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/index.html" rel="noopener ugc nofollow" target="_blank"> Pandas </a>、Matplotlib 和<a class="ae mb" href="https://amueller.github.io/word_cloud/" rel="noopener ugc nofollow" target="_blank"> WordCloud </a>进行基本的数据清理和探索。</p><p id="221e" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated"><a class="ae mb" href="https://www.kaggle.com/bendgame/beef-jerky" rel="noopener ugc nofollow" target="_blank">你可以在这里</a>下载 kaggle 的数据。</p><p id="b26c" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">你可以从我的 github 下载这个笔记本。</p><h1 id="f11d" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">导入、检查、清理</h1><h2 id="106a" class="mh kg it bd kh mi mj dn kl mk ml dp kp lo mm mn kt ls mo mp kx lw mq mr lb ms bi translated">导入依赖项和数据:</h2><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="abdc" class="mh kg it my b gy nc nd l ne nf">import numpy as np <br/>import pandas as pd</span><span id="a658" class="mh kg it my b gy ng nd l ne nf">import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="b404" class="mh kg it my b gy ng nd l ne nf">import re<br/>from wordcloud import WordCloud, STOPWORDS</span><span id="41cb" class="mh kg it my b gy ng nd l ne nf">jerky_df = pd.read_csv(r"C:\Users\Admin\Downloads\jerky.csv")<br/>jerky_df.head(3)</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nh"><img src="../Images/d80c66850de311d2841764d283048e26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nmP2o1p89QrKD0q-x6RX4w.png"/></div></div></figure><h2 id="8359" class="mh kg it bd kh mi mj dn kl mk ml dp kp lo mm mn kt ls mo mp kx lw mq mr lb ms bi translated">创建一个<a class="ae mb" href="https://seaborn.pydata.org/generated/seaborn.heatmap.html" rel="noopener ugc nofollow" target="_blank">热图</a>来发现具有空值的列:</h2><p id="d9bd" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">热图是可视化数据的一种流行方式，因为它们使用从暖到冷的色谱将单个数据值转换为矩阵中的颜色。<strong class="lf iu">下面是一个热图，将非空值显示为黑色，空值显示为白色</strong>:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="83e0" class="mh kg it my b gy nc nd l ne nf">plt.figure(figsize=(8,6))<br/>sns.heatmap(jerky_df.isnull(),cbar=True);</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/26a025eb86fc57d8a23f0faf734843bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*E3G2bFohdGorWlcLQpIttg.png"/></div></figure><h2 id="1e8f" class="mh kg it bd kh mi mj dn kl mk ml dp kp lo mm mn kt ls mo mp kx lw mq mr lb ms bi translated">检查“品牌”和“口味”列的唯一值</h2><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="bae0" class="mh kg it my b gy nc nd l ne nf">print(jerky_df['brand'].unique())<br/>print(len(jerky_df['brand'].unique()))<br/>print(jerky_df['flavor'].unique())<br/>print(len(jerky_df['flavor'].unique()))</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/c2ab37ab202456953a4261c590094e3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*ZdDbnTv7jPBQAaW_VOaqng.png"/></div></figure><p id="d10a" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">注意数据有点乱。例如，由于大小写不同，品牌“Jack Links”出现了两次。同样，一些味道也可以被清除。特别是因为我们将制作一个单词云，将所有单词都设置为小写是有意义的。</p><h2 id="623a" class="mh kg it bd kh mi mj dn kl mk ml dp kp lo mm mn kt ls mo mp kx lw mq mr lb ms bi translated">创建新列来存储修改后的数据:</h2><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="7f0d" class="mh kg it my b gy nc nd l ne nf">jerky_df['norm_brand'] = [brand.lower() for brand in jerky_df['brand']]<br/>jerky_df['norm_flav'] = [flavor.lower() for flavor in jerky_df['flavor']]<br/>jerky_df['norm_desc'] = [manufactureDescription.lower() for manufactureDescription in jerky_df['manufactureDescription']]</span><span id="de84" class="mh kg it my b gy ng nd l ne nf">print(jerky_df['norm_brand'].unique())<br/>print(len(jerky_df['norm_brand'].unique()))<br/>print(jerky_df['norm_flav'].unique())<br/>print(len(jerky_df['norm_flav'].unique()))</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/09ed1c085250c51ddee0b2efea0469f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*uTAJpzMHMw39wCc0JS44LQ.png"/></div></figure><p id="61ff" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated">将值设置为小写会将品牌减少到 10 个，口味减少到 23 个。</p><h2 id="dded" class="mh kg it bd kh mi mj dn kl mk ml dp kp lo mm mn kt ls mo mp kx lw mq mr lb ms bi translated">计算一些统计数据</h2><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="20e0" class="mh kg it my b gy nc nd l ne nf">print("Sodium Per Serving Mean: " + str(jerky_df['sodium'].mean()))<br/>print("Calories Per Serving Mean: " + str(jerky_df['calories'].mean()))<br/>print("Protein Per Serving Mean: " + str(jerky_df['protein'].mean()))</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/4faca762433d99516156806473b8f7f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:762/format:webp/1*PMZmljulIsPnQ_VuYnTMrA.png"/></div></figure><h1 id="fe3b" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">探索营养信息</h1><p id="f016" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">我们可以使用 pandas、matplotlib 和 seaborn 来创建可视化，让我们探索口味、品牌和营养信息之间的关系。</p><blockquote class="nm"><p id="107d" class="nn no it bd np nq nr ns nt nu nv ma dk translated">某些品牌每份比其他品牌含有更多的钠或卡路里吗？</p></blockquote><h2 id="a759" class="mh kg it bd kh mi nw dn kl mk nx dp kp lo ny mn kt ls nz mp kx lw oa mr lb ms bi translated">想象钠、卡路里和蛋白质</h2><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="9167" class="mh kg it my b gy nc nd l ne nf">jerky_df[["sodium", "calories", "protein"]].plot.bar(label = 'Nutrition',figsize=(12,8),subplots = True, title = 'Nutrition Information Per Serving')<br/>plt.show()</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ob"><img src="../Images/ad184354eee576a99f9bc5bee428d091.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XBdBror-dY8E0tTNZoyu5g.png"/></div></div></figure><blockquote class="nm"><p id="1a66" class="nn no it bd np nq oc od oe of og ma dk translated">看起来钠含量有很大差异，但卡路里和蛋白质含量相当稳定。</p></blockquote></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><h2 id="2ca6" class="mh kg it bd kh mi mj dn kl mk ml dp kp lo mm mn kt ls mo mp kx lw mq mr lb ms bi translated">根据品牌和味道来想象钠</h2><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="c121" class="mh kg it my b gy nc nd l ne nf">#Create new data frame<br/>brand_flav = jerky_df[['norm_brand', 'norm_flav', 'sodium', 'calories', 'protein']]</span><span id="b3a9" class="mh kg it my b gy ng nd l ne nf">#Group the data<br/>brand_flavg = brand_flav.groupby(['norm_brand']).mean().sort_values(by = 'sodium', ascending=False)<br/>brand_flavg.head()</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oo"><img src="../Images/bb254d4b740e791a2965451c4f5ae82a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*tgjm8P4ZvRO5xxMF-R4wog.png"/></div></div></figure><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="1f6d" class="mh kg it my b gy nc nd l ne nf">#Group the data by brand and flavor<br/>brand_flavg = brand_flav.groupby(['norm_brand', 'norm_flav']).mean().sort_values(by = 'sodium', ascending=False)<br/>brand_flavg.head()</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div class="gh gi op"><img src="../Images/9460ed73bacdebdb120d83199f1c300e.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*J_d0l62UxWjc7A3Y23-P_Q.png"/></div></figure><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="09a4" class="mh kg it my b gy nc nd l ne nf">#plot the heatmap<br/>plt.figure(figsize=(8,6))<br/>sns.heatmap(brand_flavg[['sodium']],cbar=True, cmap='viridis')</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oq"><img src="../Images/5ce52176004d5865175bc51581d0ca8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3b1UwxNdWPODRTpCtGeReg.png"/></div></div></figure><h2 id="5bcd" class="mh kg it bd kh mi mj dn kl mk ml dp kp lo mm mn kt ls mo mp kx lw mq mr lb ms bi translated">根据品牌和口味直观显示卡路里</h2><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="c6f6" class="mh kg it my b gy nc nd l ne nf">brand_calg = brand_flav.groupby(['norm_brand', 'norm_flav']).mean().sort_values(by = 'calories', ascending=False)</span><span id="7a12" class="mh kg it my b gy ng nd l ne nf">plt.figure(figsize=(8,6))<br/>sns.heatmap(brand_calg[['calories']],cbar=True, cmap='viridis')</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi or"><img src="../Images/bc42936f6449f8bb75a2ff17f859fe1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VqE9usgQNTgElvOfaJOIxg.png"/></div></div></figure><h1 id="7b49" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">用词云分析描述</h1><p id="a801" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">词云是可视化文本数据的一种有用方式，因为它们使理解词频变得更容易。在葡萄酒描述中出现频率更高的词在云中会显得更大。这是一种提取和可视化关键词的方法。</p><h2 id="6196" class="mh kg it bd kh mi mj dn kl mk ml dp kp lo mm mn kt ls mo mp kx lw mq mr lb ms bi translated">清除描述并检查最高频率</h2><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="25a1" class="mh kg it my b gy nc nd l ne nf">clean_desc = []<br/>for w in range(len(jerky_df.norm_desc)):<br/>   #Remove punctuation<br/>    desc = re.sub('[^a-zA-Z]', ' ', jerky_df['norm_desc'][w])<br/>    <br/>    #remove tags<br/>    desc = re.sub("&amp;lt;/?.*?&amp;gt;"," &amp;lt;&amp;gt; ",desc)<br/>    <br/>    # remove special characters and digits<br/>    desc = re.sub("(\\d|\\W)+"," ",desc)<br/>    <br/>    clean_desc.append(desc)<br/>    <br/>jerky_df['clean_desc'] = clean_desc</span><span id="b315" class="mh kg it my b gy ng nd l ne nf">word_frequency = pd.Series(' '.join(jerky_df['clean_desc']).split()).value_counts()[:20]<br/>word_frequency</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div class="gh gi os"><img src="../Images/a7d8742f952b2757d94fa9f1ad957d92.png" data-original-src="https://miro.medium.com/v2/resize:fit:236/format:webp/1*awY3jF33tCcka9Vt2Opszg.png"/></div></figure><h2 id="a3e1" class="mh kg it bd kh mi mj dn kl mk ml dp kp lo mm mn kt ls mo mp kx lw mq mr lb ms bi translated">拆分文本并删除停用词</h2><p id="4534" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">停用字词是最常见的字词列表，如“the”和“of”将它们从描述中移除可以突出更相关的常用词。此外，在本文中创建单词云之前，我没有对单词使用词干化或词汇化技术。如果对更高级的自然语言分析感兴趣，<a class="ae mb" rel="noopener" target="_blank" href="/analyzing-wine-descriptions-using-the-natural-language-toolkit-in-python-497ac1e228d5">可以看看 t </a>我的这篇文章。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="1bb9" class="mh kg it my b gy nc nd l ne nf">#load stopwords<br/>stop_words = set(STOPWORDS)</span><span id="e087" class="mh kg it my b gy ng nd l ne nf">#add additional stopwords to the set<br/>add_stopwords = ["beef", "jerky", "flavor"]<br/>stop_words = stop_words.union(add_stopwords)</span><span id="6e55" class="mh kg it my b gy ng nd l ne nf">#create list of split words<br/>split = []</span><span id="8e37" class="mh kg it my b gy ng nd l ne nf">#iterate through using for loop<br/>for w in range(len(jerky_df['clean_desc'])):</span><span id="d245" class="mh kg it my b gy ng nd l ne nf">split_text = jerky_df['clean_desc'][w].split()<br/>    split_text = [word for word in split_text if not word in stop_words] <br/>    split_text = " ".join(split_text)<br/>    split.append(split_text)</span></pre><h2 id="9296" class="mh kg it bd kh mi mj dn kl mk ml dp kp lo mm mn kt ls mo mp kx lw mq mr lb ms bi translated">生成<a class="ae mb" href="https://amueller.github.io/word_cloud/" rel="noopener ugc nofollow" target="_blank">字云</a></h2><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="66ae" class="mh kg it my b gy nc nd l ne nf">Generate the wordclould<br/>wordcloud = WordCloud(width = 800, height = 800, background_color = 'black',<br/>                          stopwords = stop_words,<br/>                          max_words = 1000,<br/>                          min_font_size = 20 <br/>                          ).generate(str(split))<br/>#print(wordcloud)<br/>fig = plt.figure(figsize = (8,8), facecolor = None)<br/>plt.imshow(wordcloud)<br/>plt.axis('off')<br/>plt.show()<br/>#fig.savefig("wordcloud.png")</span></pre><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/4939f14f3562a4c311ec2a82ea2f5b08.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*IPKod8I97eHWQma5ZeHrnw.png"/></div></figure></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><h1 id="d4f7" class="kf kg it bd kh ki ou kk kl km ov ko kp kq ow ks kt ku ox kw kx ky oy la lb lc bi translated">最后的想法</h1><p id="68c8" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">使用正确的包，在 Python 中探索和可视化数据是很容易的！Pandas 和 matplotlib 使可视化数据变得容易，WordCloud 简化了识别自然语言中的关键字。使用这些工具，我们能够对牛肉干的营养和风味进行基本的数据分析。</p><h1 id="abbb" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">谢谢大家！</h1><ul class=""><li id="02e8" class="oz pa it lf b lg lh lk ll lo pb ls pc lw pd ma pe pf pg ph bi translated"><em class="pi">如果你喜欢这个，</em> <a class="ae mb" href="https://medium.com/@erickleppen" rel="noopener"> <em class="pi">跟我上 Medium </em> </a> <em class="pi">了解更多</em></li><li id="c014" class="oz pa it lf b lg pj lk pk lo pl ls pm lw pn ma pe pf pg ph bi translated"><a class="ae mb" href="https://erickleppen.medium.com/membership" rel="noopener"> <em class="pi">通过订阅</em> </a>获得完全访问权限并帮助支持我的内容</li><li id="2410" class="oz pa it lf b lg pj lk pk lo pl ls pm lw pn ma pe pf pg ph bi translated"><em class="pi">我们连线上</em><a class="ae mb" href="https://www.linkedin.com/in/erickleppen01/" rel="noopener ugc nofollow" target="_blank"><em class="pi">LinkedIn</em></a></li><li id="f648" class="oz pa it lf b lg pj lk pk lo pl ls pm lw pn ma pe pf pg ph bi translated"><em class="pi">用 Python 分析数据？查看我的</em> <a class="ae mb" href="https://pythondashboards.com/" rel="noopener ugc nofollow" target="_blank"> <em class="pi">网站</em> </a></li></ul><p id="c441" class="pw-post-body-paragraph ld le it lf b lg mc li lj lk md lm ln lo me lq lr ls mf lu lv lw mg ly lz ma im bi translated"><a class="ae mb" href="http://pythondashboards.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lf iu"> —埃里克·克莱本</strong> </a></p></div></div>    
</body>
</html>