<html>
<head>
<title>How to Automatically Import Your Favorite Libraries into IPython or a Jupyter Notebook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何自动将您喜欢的库导入 IPython 或 Jupyter 笔记本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-automatically-import-your-favorite-libraries-into-ipython-or-a-jupyter-notebook-9c69d89aa343?source=collection_archive---------1-----------------------#2019-02-14">https://towardsdatascience.com/how-to-automatically-import-your-favorite-libraries-into-ipython-or-a-jupyter-notebook-9c69d89aa343?source=collection_archive---------1-----------------------#2019-02-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/8534f79e8e90b19bcd964b949fc30013.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ksJRrucXsh9xer-3Rg94Lw.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><a class="ae jd" href="https://www.pexels.com/photo/ocean-water-wave-photo-1295138/" rel="noopener ugc nofollow" target="_blank">(Source)</a></figcaption></figure><div class=""/><div class=""><h2 id="79b7" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">不再需要每天十次输入“进口熊猫作为 pd”</h2></div><p id="edf3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您经常使用交互式 IPython 会话或 Jupyter 笔记本，并且厌倦了一遍又一遍地导入相同的库，请尝试以下方法:</p><ol class=""><li id="7b08" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">导航至<code class="fe ma mb mc md b">~/.ipython/profile_default</code></li><li id="6c94" class="lr ls jg kx b ky me lb mf le mg li mh lm mi lq lw lx ly lz bi translated">创建一个名为<code class="fe ma mb mc md b">startup</code>的文件夹(如果它还不存在的话)</li><li id="814f" class="lr ls jg kx b ky me lb mf le mg li mh lm mi lq lw lx ly lz bi translated">添加一个名为<code class="fe ma mb mc md b">start.py</code>的新 Python 文件</li><li id="94e0" class="lr ls jg kx b ky me lb mf le mg li mh lm mi lq lw lx ly lz bi translated">把你喜欢的进口货放在这个文件里</li><li id="4ee2" class="lr ls jg kx b ky me lb mf le mg li mh lm mi lq lw lx ly lz bi translated">启动 IPython 或 Jupyter 笔记本，您喜欢的库每次都会自动加载！</li></ol><p id="4e15" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下是可视化的步骤。一、<code class="fe ma mb mc md b">start.py</code>的位置:</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mj"><img src="../Images/1e1834381514ea63f7673a39ae01cd40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mCOwMZe1DGX-JK8rNZjZaQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Full path of Python script is ~/.ipython/profile_default/startup/start.py</figcaption></figure><p id="e6df" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下是我的<code class="fe ma mb mc md b">start.py</code>的内容:</p><figure class="mk ml mm mn gt is"><div class="bz fp l di"><div class="mo mp l"/></div></figure><p id="3851" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，当我启动一个 IPython 会话时，我会看到:</p><figure class="mk ml mm mn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mq"><img src="../Images/2990dee5393f4fa23311703552c9b899.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4ZFOcm9dpVghaLogOa-d-A.png"/></div></div></figure><p id="7ca1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们可以通过检查<code class="fe ma mb mc md b">globals()</code>来确认库已经加载:</p><pre class="mk ml mm mn gt mr md ms mt aw mu bi"><span id="3389" class="mv mw jg md b gy mx my l mz na">globals()['pd']</span><span id="5113" class="mv mw jg md b gy nb my l mz na"><strong class="md jh">&lt;module 'pandas' from '/usr/local/lib/python3.6/site-packages/pandas/__init__.py'&gt;</strong></span><span id="b277" class="mv mw jg md b gy nb my l mz na">globals()['np']<br/><strong class="md jh">&lt;module 'numpy' from '/usr/local/lib/python3.6/site-packages/numpy/__init__.py'&gt;</strong></span></pre><p id="dff4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们现在都可以很好地使用我们的交互式会话，而不必键入命令来加载这些库！这也适用于 Jupyter 笔记本。</p><h2 id="e518" class="mv mw jg bd nc nd ne dn nf ng nh dp ni le nj nk nl li nm nn no lm np nq nr ns bi translated">笔记</h2><ul class=""><li id="e117" class="lr ls jg kx b ky nt lb nu le nv li nw lm nx lq ny lx ly lz bi translated">该文件可以命名为任何名称(<code class="fe ma mb mc md b">start.py</code>很容易记住)，并且在<code class="fe ma mb mc md b">startup/</code>中可以有多个文件。当 IPython 启动时，它们按照<a class="ae jd" href="https://stackoverflow.com/questions/45950646/what-is-lexicographical-order" rel="noopener ugc nofollow" target="_blank">字典顺序</a>执行。</li><li id="d588" class="lr ls jg kx b ky me lb mf le mg li mh lm mi lq ny lx ly lz bi translated">如果你在 Jupyter 笔记本中运行这个，你不会得到一个带有导入的单元格，所以当你共享笔记本时，确保将<code class="fe ma mb mc md b">start.py</code>内容复制到第一个单元格中。这将让人们知道你在使用什么库。(作为替代，你可以使用我写的<code class="fe ma mb mc md b">default_cell</code> <a class="ae jd" rel="noopener" target="_blank" href="/how-to-write-a-jupyter-notebook-extension-a63f9578a38c"> Jupyter 笔记本扩展。</a>)</li><li id="2929" class="lr ls jg kx b ky me lb mf le mg li mh lm mi lq ny lx ly lz bi translated">如果您在多台计算机上工作，您将不得不重复这些步骤。确保使用相同的<code class="fe ma mb mc md b">start.py</code>脚本，以便获得相同的导入！</li><li id="6d88" class="lr ls jg kx b ky me lb mf le mg li mh lm mi lq ny lx ly lz bi translated">感谢这个<a class="ae jd" href="https://stackoverflow.com/a/11124846/5755357" rel="noopener ugc nofollow" target="_blank">栈溢出回答</a>和<a class="ae jd" href="https://ipython.readthedocs.io/en/stable/interactive/tutorial.html#startup-files" rel="noopener ugc nofollow" target="_blank">官方文档</a></li></ul></div><div class="ab cl nz oa hu ob" role="separator"><span class="oc bw bk od oe of"/><span class="oc bw bk od oe of"/><span class="oc bw bk od oe"/></div><div class="ij ik il im in"><p id="f317" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这当然不会<a class="ae jd" rel="noopener" target="_blank" href="/what-i-learned-from-writing-a-data-science-article-every-week-for-a-year-201c0357e0ce">改变生活(不像写数据科学)</a>，但每次你启动 IPython 时，它都会为你节省几秒钟。这也是一个有用的演示，展示了如何定制您的工作环境，以尽可能提高效率。你可以通过阅读文档(比如关于<a class="ae jd" href="https://ipython.readthedocs.io/en/stable/interactive/magics.html" rel="noopener ugc nofollow" target="_blank"> IPython magic commands </a>)找到许多其他的技巧，自己尝试，甚至关注有用的 Twitter 账户。如果你发现自己对一天打十次键盘这样的低效率感到沮丧，不要只是接受，要找到更好的工作方式。</p><p id="d827" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一如既往，我欢迎反馈和建设性的批评。可以在推特上找到我<a class="ae jd" href="http://twitter.com/@koehrsen_will" rel="noopener ugc nofollow" target="_blank"> @koehrsen_will </a>。</p></div></div>    
</body>
</html>