<html>
<head>
<title>Fitting Linear Regression Models on Counts Based Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于计数的数据拟合线性回归模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/fitting-linear-regression-models-on-counts-based-data-ba1f6c11b6e1?source=collection_archive---------6-----------------------#2019-12-08">https://towardsdatascience.com/fitting-linear-regression-models-on-counts-based-data-ba1f6c11b6e1?source=collection_archive---------6-----------------------#2019-12-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a79900f04625118acb4c5729d16f088e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*td1mgcUd2CEJd62oUguigg.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><a class="ae jg" href="http://pxhere.com" rel="noopener ugc nofollow" target="_blank">pxhere.com</a></figcaption></figure><div class=""/><div class=""><h2 id="f5bc" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">Python 中的实践者指南和分步教程</h2></div></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="858d" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">本文的重点</h2><p id="8773" class="pw-post-body-paragraph mb mc jj md b me mf kk mg mh mi kn mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">我们将讨论三个主题:</p><ul class=""><li id="e6e4" class="mu mv jj md b me mw mh mx lo my ls mz lw na mt nb nc nd ne bi translated">拟合一个线性回归模型，特别是一个基于计数的数据的线性回归模型，是明智的吗？</li><li id="d8f6" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated">如何在基于计数的真实数据集上配置和拟合 OLS 模型。</li><li id="2581" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated">与主流回归模型相比，OLS 的表现如何，比如<strong class="md jk">泊松</strong>和<strong class="md jk">负二项分布</strong>？</li></ul></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="0411" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">什么是基于计数的数据？</h2><p id="0d2b" class="pw-post-body-paragraph mb mc jj md b me mf kk mg mh mi kn mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">基于计数的数据集包含一些事件的发生，如在英仙座流星雨事件中你发现流星的所有时间，或更实际的事情，如汽车在加油站停下的时间。</p><p id="2dda" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">基于计数的数据集出现在各种领域，例如:</p><ul class=""><li id="5eb1" class="mu mv jj md b me mw mh mx lo my ls mz lw na mt nb nc nd ne bi translated"><strong class="md jk">人类行为和心理:</strong>例如，一个时间序列的数据点(每小时捕获一次)，包含我每小时查看电子邮件的次数。</li><li id="1c7c" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated"><strong class="md jk">制造和零售:</strong>每小时的时间序列，包含该小时制造或销售的小部件数量。</li><li id="5fb7" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated"><strong class="md jk">餐饮服务:</strong>一个日期的时间序列，其中每个数据点包含<a class="ae jg" href="https://www.papayaking.com/" rel="noopener ugc nofollow" target="_blank">木瓜大王</a>当天提供的热狗数量。</li><li id="dc09" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated"><strong class="md jk">云基础设施:</strong>你的电子商务网站宕机的所有时间。</li><li id="c098" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated">科学:自 1988 年以来发现系外行星的所有日期。</li></ul><p id="2274" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">关于 counts 数据集，我们马上就能看到三件事:</p><ol class=""><li id="f2e4" class="mu mv jj md b me mw mh mx lo my ls mz lw na mt nn nc nd ne bi translated">数据是整数，即没有负数。</li><li id="41f9" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nn nc nd ne bi translated">它经常是偏斜的，因此不是正态分布的，而且</li><li id="44fe" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nn nc nd ne bi translated">它可以非常稀少。</li></ol><p id="af87" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">这种数据集通常需要特殊的处理和专门的回归技术。</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi no"><img src="../Images/75933a17cbbb8998b4bf1ce4640e1361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OAhHRPlrtnSJR0b-AOlIFg.jpeg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">The Perseids radiating from the constellation Perseus (<a class="ae jg" href="https://www.nps.gov/whsa/learn/news/nr08072019.htm" rel="noopener ugc nofollow" target="_blank">US National Park Service</a>)</figcaption></figure><h2 id="0e5e" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">关于 OLS 的快速复习</h2><blockquote class="nt nu nv"><p id="0ecc" class="mb mc nw md b me mw kk mg mh mx kn mj nx nk ml mm ny nl mo mp nz nm mr ms mt im bi translated"><strong class="md jk">O</strong>d<strong class="md jk">L</strong>东<strong class="md jk"> S </strong>方(<strong class="md jk"> OLS </strong>)线性回归模型的工作原理是将一个 n 维线性函数拟合到 n 维数据上，使拟合值与实际值之间的平方和最小化。</p></blockquote><p id="eb13" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">由于数据的偏斜度和稀疏度，以及回归误差的异方差性，即误差的方差不是常数，而是相关计数变量的函数，基于 OLS 的线性回归模型在基于计数的数据上可能会失败。</p><p id="30c6" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">此外，OLS 生成负预测和分数预测的倾向会导致数据计数的预测看起来很尴尬。</p><p id="5e1b" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">那么，为什么要为这些数据费心摆弄线性回归模型呢？我们很快就会看到，这样做有一些强有力的理由。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="11ff" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">为计数数据建立使用 OLS 回归的案例</h2><p id="c8ea" class="pw-post-body-paragraph mb mc jj md b me mf kk mg mh mi kn mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">在之前的一组文章中，我展示了如何为基于计数的数据集训练以下两个常用的回归模型:</p><ul class=""><li id="722f" class="mu mv jj md b me mw mh mx lo my ls mz lw na mt nb nc nd ne bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/an-illustrated-guide-to-the-poisson-regression-model-50cccba15958"> <strong class="md jk">泊松回归模型</strong> </a></li><li id="bd5f" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/negative-binomial-regression-f99031bb25b4"> <strong class="md jk">负二项回归模型</strong> </a></li></ul><p id="670e" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">在这些文章中，我们根据布鲁克林大桥上骑自行车的人的真实数据来训练和测试这些模型:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oa"><img src="../Images/d86a63fcd37e49240927208abed6a8eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*e7gR0_uqkdbth8_O.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Source: <a class="ae jg" href="https://data.cityofnewyork.us/Transportation/Bicycle-Counts-for-East-River-Bridges/gua4-p9wg" rel="noopener ugc nofollow" target="_blank">Bicycle Counts for East River Bridges</a> (NYC OpenData) (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="b12a" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">尽管泊松和 NB 模型表现得“如广告所说”:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ob"><img src="../Images/a3771f1b66988486e3970de1943e818e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*svJw5ifs6Id4_dTrWLE5Ew.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Negative Binomial regression model’s predictions (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="0c93" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">…我们还想知道以下内容:</p><ul class=""><li id="7d8f" class="mu mv jj md b me mw mh mx lo my ls mz lw na mt nb nc nd ne bi translated">是否有可能使用<strong class="md jk">O</strong>r<strong class="md jk">L</strong>东<strong class="md jk"> S </strong>方回归技术成功地对基于计数的数据进行建模？</li><li id="3569" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated">如何判断对给定的基于计数的数据集使用 OLS 回归的适当性？如何在这样的数据集上测量 OLS 回归的性能？</li><li id="5f89" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated"><strong class="md jk">在拟合优度和预测能力方面，不起眼的 OLS 模型如何与更复杂的模型相媲美，如</strong> <a class="ae jg" rel="noopener" target="_blank" href="/an-illustrated-guide-to-the-poisson-regression-model-50cccba15958"> <strong class="md jk">泊松</strong> </a> <strong class="md jk">和</strong> <a class="ae jg" rel="noopener" target="_blank" href="/negative-binomial-regression-f99031bb25b4"> <strong class="md jk"> NB </strong> </a> <strong class="md jk">？</strong></li></ul><p id="5492" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">我们将在本文中回答这些问题。</p><p id="bcae" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">总的来说，我们会看到两件事:</p><ul class=""><li id="19e8" class="mu mv jj md b me mw mh mx lo my ls mz lw na mt nb nc nd ne bi translated">OLS 模型可以作为一个好的快速基线模型，同时为计数数据集建立更复杂的回归模型。</li><li id="240c" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated">我们还将看到，对于此类数据集，OLS 模型中最具统计意义的回归参数也是泊松和 NB 模型中最具统计意义的回归参数。卡梅伦和特里维迪在他们被大量引用的著作《计数数据回归分析》中对这一发现背后的数学原理做了精彩的解释。</li></ul><p id="0225" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">在整篇文章中，我们将使用纽约自行车数据集，以便我们可以对 OLS 与<a class="ae jg" rel="noopener" target="_blank" href="/an-illustrated-guide-to-the-poisson-regression-model-50cccba15958">泊松</a>和<a class="ae jg" rel="noopener" target="_blank" href="/negative-binomial-regression-f99031bb25b4"> NB </a>车型进行比较。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="afcd" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">文章的布局</h2><ol class=""><li id="5111" class="mu mv jj md b me mf mh mi lo oc ls od lw oe mt nn nc nd ne bi translated">我们将对自行车统计数据集进行<strong class="md jk"> E </strong>探索<strong class="md jk"> D </strong> ata <strong class="md jk"> A </strong>分析(<strong class="md jk"> EDA </strong>)，以判断 OLS 的适用性，并查看是否需要进行任何数据转换。</li><li id="f5e8" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nn nc nd ne bi translated">使用<em class="nw"> Python </em>、<em class="nw"> Pandas </em>和<em class="nw"> statsmodels </em>，我们将在这个数据集上构建、训练和测试一个 OLS 模型。</li><li id="a91a" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nn nc nd ne bi translated">我们将比较 OLS 回归模型与泊松和 NB 模型的性能。</li></ol></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="be24" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">建议(但非必需)阅读</h2><p id="d491" class="pw-post-body-paragraph mb mc jj md b me mf kk mg mh mi kn mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/an-illustrated-guide-to-the-poisson-regression-model-50cccba15958">泊松回归模型图解指南</a></p><p id="b677" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><a class="ae jg" rel="noopener" target="_blank" href="/negative-binomial-regression-f99031bb25b4">负二项式回归:逐步指南</a></p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="a0f6" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">骑自行车者计数数据集的探索性数据分析</h2><p id="7440" class="pw-post-body-paragraph mb mc jj md b me mf kk mg mh mi kn mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">下表包含了骑自行车的人在纽约市各种桥梁上行驶的次数。从 2017 年 4 月 1 日到 2017 年 10 月 31 日每天测量计数。我们会集中在布鲁克林大桥上。</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oa"><img src="../Images/d86a63fcd37e49240927208abed6a8eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*e7gR0_uqkdbth8_O.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Source: <a class="ae jg" href="https://data.cityofnewyork.us/Transportation/Bicycle-Counts-for-East-River-Bridges/gua4-p9wg" rel="noopener ugc nofollow" target="_blank">Bicycle Counts for East River Bridges</a> (NYC OpenData) (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="bd89" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><code class="fe of og oh oi b">I have cut out the Brooklyn Bridge counts into a separate data set. This data set is available for download <a class="ae jg" href="https://gist.github.com/sachinsdate/c17931a3f000492c1c42cf78bf4ce9fe" rel="noopener ugc nofollow" target="_blank"><strong class="md jk">over here</strong></a>.</code></p><p id="69e7" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">以下是该数据集的前几行:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/2e1d8df43ca647010acec38f41d9a912.png" data-original-src="https://miro.medium.com/v2/resize:fit:1126/format:webp/1*Q3ZAm0bIVzUasiKXFNrjig.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">(Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="aa87" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们将数据加载到一个<em class="nw"> pandas </em>数据框中，并绘制 BB_COUNT 变量:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="4f38" class="lf lg jj oi b gy oo op l oq or">import pandas as pd</span><span id="5764" class="lf lg jj oi b gy os op l oq or">from matplotlib import pyplot as plt</span><span id="4fc8" class="lf lg jj oi b gy os op l oq or">df = pd.read_csv('nyc_bb_bicyclist_counts.csv', header=0, infer_datetime_format=True, parse_dates=[0], index_col=[0])</span><span id="715c" class="lf lg jj oi b gy os op l oq or">fig = plt.figure()</span><span id="6e0e" class="lf lg jj oi b gy os op l oq or">fig.suptitle('Bicyclist counts on the Brooklyn bridge')</span><span id="7e8a" class="lf lg jj oi b gy os op l oq or">plt.xlabel('Date')</span><span id="a4b6" class="lf lg jj oi b gy os op l oq or">plt.ylabel('Count')</span><span id="51e6" class="lf lg jj oi b gy os op l oq or">actual, = plt.plot(df.index, df['BB_COUNT'], 'go-', label='Count of bicyclists')</span><span id="0ce5" class="lf lg jj oi b gy os op l oq or">plt.legend(handles=[actual])</span><span id="fcea" class="lf lg jj oi b gy os op l oq or">plt.show()</span></pre><p id="2664" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">时间序列图如下所示:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ot"><img src="../Images/a4a9e0fec1636da27ab81dccbf9f2b35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3f4QfL21zJomouRtBwugpQ.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Time series plot of the number of bicyclists on the Brooklyn bridge (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="e2b4" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们也创建一个直方图，看看这个数据集是如何正态分布的:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="3345" class="lf lg jj oi b gy oo op l oq or">plt.hist(df['BB_COUNT'], bins=20)</span><span id="0632" class="lf lg jj oi b gy os op l oq or">plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ou"><img src="../Images/14aa99e0cb8d07aa73a009b70c072b52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cFXswQyogJNxUWbiXHtRiA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Histogram of counts (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="d6b8" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">不出所料，骑自行车的人的统计数据是有偏差的。让我们打印出一些描述性的统计数据:平均值、中位数、<a class="ae jg" href="https://en.wikipedia.org/wiki/Skewness" rel="noopener ugc nofollow" target="_blank">偏斜度</a>和<a class="ae jg" href="https://en.wikipedia.org/wiki/Kurtosis" rel="noopener ugc nofollow" target="_blank">峰度</a>。</p><p id="e8ba" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">对于偏度和峰度，我们将对 BB_COUNT 变量运行<a class="ae jg" rel="noopener" target="_blank" href="/testing-for-normality-using-skewness-and-kurtosis-afd61be860"> <strong class="md jk"> Jarque-Bera 正态性测试</strong> </a> <strong class="md jk"> </strong>。</p><blockquote class="nt nu nv"><p id="4273" class="mb mc nw md b me mw kk mg mh mx kn mj nx nk ml mm ny nl mo mp nz nm mr ms mt im bi translated"><strong class="md jk"> <em class="jj">相关帖子:</em> </strong> <a class="ae jg" rel="noopener" target="_blank" href="/testing-for-normality-using-skewness-and-kurtosis-afd61be860"> <em class="jj">使用偏度和峰度测试正态性</em> </a></p></blockquote><p id="199e" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">JB 检验不仅会给出偏度和峰度，还会检验偏离正态性是否具有统计显著性。</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="86b6" class="lf lg jj oi b gy oo op l oq or"><strong class="oi jk">from </strong>statsmodels.stats.stattools <strong class="oi jk">import </strong>jarque_bera <strong class="oi jk">as </strong>jb</span><span id="b223" class="lf lg jj oi b gy os op l oq or"><strong class="oi jk">from </strong>statsmodels.stats.stattools <strong class="oi jk">import </strong>omni_normtest <strong class="oi jk">as </strong>omb</span><span id="a056" class="lf lg jj oi b gy os op l oq or"><strong class="oi jk">from</strong> statsmodels.compat <strong class="oi jk">import</strong> lzip</span><span id="bee9" class="lf lg jj oi b gy os op l oq or">print('<strong class="oi jk">Mean</strong>='+str(round(df['BB_COUNT'].<strong class="oi jk">mean</strong>(), 2)))</span><span id="ac70" class="lf lg jj oi b gy os op l oq or">print('<strong class="oi jk">Median</strong>='+str(round(df['BB_COUNT'].<strong class="oi jk">median</strong>(), 2)))</span><span id="ccb3" class="lf lg jj oi b gy os op l oq or">name = ['Jarque-Bera', 'Chi^2 two-tail probability', 'Skewness', 'Kurtosis']</span><span id="0aa4" class="lf lg jj oi b gy os op l oq or">test_results = jb(df['<strong class="oi jk">BB_COUNT</strong>'])</span><span id="5ee0" class="lf lg jj oi b gy os op l oq or">lzip(name, test_results)</span></pre><p id="6d9c" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">这会产生以下输出:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="1fa6" class="lf lg jj oi b gy oo op l oq or">Mean=2680.04</span><span id="81d0" class="lf lg jj oi b gy os op l oq or">Median=2857.0</span><span id="edc0" class="lf lg jj oi b gy os op l oq or">[('<strong class="oi jk">Jarque-Bera</strong>', 30.572383357990116), ('<strong class="oi jk">Chi^2 two-tail probability</strong>', 2.2976893142533207e-07), ('<strong class="oi jk">Skewness</strong>', -0.8746427375174667), ('<strong class="oi jk">Kurtosis</strong>', 3.6071892903122973)]</span></pre><blockquote class="nt nu nv"><p id="4dd0" class="mb mc nw md b me mw kk mg mh mx kn mj nx nk ml mm ny nl mo mp nz nm mr ms mt im bi translated">平均值和中间值没有很大的不同，这表明分布不是很不平衡。</p></blockquote><p id="0d80" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">正如所料，测试报告的偏斜度是负的，而且很小。相比之下，正态分布的偏斜度为零。测试报告的过度峰度(=峰度-3.0)也非常小。相比之下，正态分布的峰度为 3.0，而<strong class="md jk">过度</strong>峰度为零。</p><p id="15d9" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">另一方面，Jarque-Bera 测试的 t 统计值 30.57 将其置于卡方(2)的 PDF 的<strong class="md jk">正态性拒绝区</strong>(见下图)。</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ov"><img src="../Images/2cc63ddd07dbb62faac53758fff9bbbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MEvUuR3bZ0GZkR_iXUdWgw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Acceptance and rejection zones for the Null hypothesis in the Chi-squared(2) PDF for two-tailed α=0.05 (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><blockquote class="nt nu nv"><p id="ea91" class="mb mc nw md b me mw kk mg mh mx kn mj nx nk ml mm ny nl mo mp nz nm mr ms mt im bi translated">因此我们<strong class="md jk">拒绝</strong>数据正态分布的零假设 h0，而<strong class="md jk">接受</strong>数据不正态分布<strong class="md jk"/>。</p></blockquote><p id="8e7b" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">在这一点上，我们可以接受少量的偏斜，并在其上拟合一个 OLS 模型，或者我们可以尝试修复偏斜。后者可以通过对因变量 BB_COUNT 进行对数变换或平方根变换来尝试。</p><p id="5d49" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">我们将尝试这两种转换方法，看看是否会产生预期的结果。</p><p id="8955" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">我们将向数据框添加两个新列:一个 LOG(BB_COUNT)列和一个 SQRT(BB_COUNT):</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="0578" class="lf lg jj oi b gy oo op l oq or">import numpy as np</span><span id="b33d" class="lf lg jj oi b gy os op l oq or">#Add a column to the Data Frame that contains log(BB_COUNT):<br/>df['LOG_BB_COUNT'] = np.log(df['BB_COUNT'])</span><span id="1cb0" class="lf lg jj oi b gy os op l oq or">#All another column containing sqrt(BB_COUNT)<br/>df['SQRT_BB_COUNT'] = np.sqrt(df['BB_COUNT'])</span></pre><p id="5120" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们对 LOG 和 SQRT 列再次运行 Jarque-Bera:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="a761" class="lf lg jj oi b gy oo op l oq or">name = ['<strong class="oi jk">Jarque-Bera</strong>', '<strong class="oi jk">Chi^2 two-tail probability</strong>', '<strong class="oi jk">Skewness</strong>', '<strong class="oi jk">Kurtosis</strong>']</span><span id="127c" class="lf lg jj oi b gy os op l oq or">test_results = omb(df['LOG_BB_COUNT'])</span><span id="97d1" class="lf lg jj oi b gy os op l oq or">lzip(name, test_results)</span><span id="dd0e" class="lf lg jj oi b gy os op l oq or">test_results = omb(df['SQRT_BB_COUNT'])</span><span id="e613" class="lf lg jj oi b gy os op l oq or">lzip(name, test_results)</span></pre><p id="4483" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">这会打印出以下内容:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="c4ac" class="lf lg jj oi b gy oo op l oq or">[('<strong class="oi jk">Jarque-Bera</strong>', 888.0352308852536), ('<strong class="oi jk">Chi^2 two-tail probability</strong>', 1.4641977846577634e-193), ('<strong class="oi jk">Skewness</strong>', -2.5832340081063463), ('<strong class="oi jk">Kurtosis</strong>', 11.538169851408346)]</span><span id="18e3" class="lf lg jj oi b gy os op l oq or">[('<strong class="oi jk">Jarque-Bera</strong>', 135.86010800784334), ('<strong class="oi jk">Chi^2 two-tail probability</strong>', 3.15030346376236e-30), ('<strong class="oi jk">Skewness</strong>', -1.5270456576564704), ('<strong class="oi jk">Kurtosis</strong>', 5.430879236979477)]</span></pre><p id="96c7" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们将这些发现与未转换的 BB_COUNT 的正态性度量进行比较:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="5ec0" class="lf lg jj oi b gy oo op l oq or">[('<strong class="oi jk">Jarque-Bera</strong>', 30.572383357990116), ('<strong class="oi jk">Chi^2 two-tail probability</strong>', 2.2976893142533207e-07), ('<strong class="oi jk">Skewness</strong>', -0.8746427375174667), ('<strong class="oi jk">Kurtosis</strong>', 3.6071892903122973)]</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/357902b8f01858aed3bce5d95ac860d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*AkuoJFqDrBqimik0TUQToA.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">(Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="74a4" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">似乎不太顺利，是吧？！转换 BB_COUNT 不仅没有修复偏斜，实际上<strong class="md jk">使数据更加偏斜！</strong>从这次转型事故中可以学到一些东西:</p><blockquote class="ox"><p id="02f7" class="oy oz jj bd pa pb pc pd pe pf pg mt dk translated">人们应该抵制诱惑，不仔细检查数据转换对数据的影响，就盲目接受任何数据转换的结果。</p></blockquote></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="f2ac" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">我们又回到起点了吗？</h2><p id="692d" class="pw-post-body-paragraph mb mc jj md b me mf kk mg mh mi kn mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">事实上，恰恰相反。我们从对数据进行 ed a 中获益良多。我们最大的收获是认识到我们不应该再花更多的时间去尝试修复数据集中存在的少量偏度和峰度。</p><p id="a876" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">此外，因变量的正态性不是进行 OLS 回归的先决条件。过度偏离因变量的正态性只会使 OLS 估计量有可能(但不一定)产生有偏拟合。</p><p id="46be" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">因此，让我们承担接受偏态的计算风险，并在原始的、未转换的骑自行车者计数数据上拟合 OLS 回归模型。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="8bd2" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">我们的回归目标和回归策略</h2><blockquote class="ox"><p id="1f9d" class="oy oz jj bd pa pb pc pd pe pf pg mt dk translated">我们的回归目标是预测任何一天有多少骑自行车的人穿过布鲁克林大桥。</p></blockquote><p id="f83a" class="pw-post-body-paragraph mb mc jj md b me ph kk mg mh pi kn mj lo pj ml mm ls pk mo mp lw pl mr ms mt im bi translated">我们的<strong class="md jk">回归策略</strong>将是建立和训练一个 OLS 回归模型，其中:</p><ol class=""><li id="8f7e" class="mu mv jj md b me mw mh mx lo my ls mz lw na mt nn nc nd ne bi translated"><strong class="md jk">回归变量</strong>将是<strong class="md jk"> <em class="nw"> X </em> </strong>矩阵中的变量(见下图)，加上一些额外的派生变量，我们将把它们添加到<strong class="md jk"> <em class="nw"> X </em> </strong>(我们将在几秒钟后看到如何做)。</li><li id="c142" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nn nc nd ne bi translated">回归的因变量<strong class="md jk"> <em class="nw"> y </em> </strong>将是骑自行车的人数(我们数据集中的 BB_COUNT 列)。</li></ol><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/ffb14b0341feedba44946fa697c92be4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/0*sGOGWu17iC83wFtO.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">The slice of the bicyclist counts data set showing the regression variables matrix <strong class="bd pn">X</strong> and the vector of counts <strong class="bd pn">y </strong>(Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="dea8" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">一旦模型经过训练，我们将在维持测试数据集上测试其性能，该数据集是模型在训练期间未显示的数据。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="2e06" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">使用 Python、Pandas 和 Statsmodels 将 OLS 回归模型拟合到 counts 数据集的分步指南</h2><p id="3527" class="pw-post-body-paragraph mb mc jj md b me mf kk mg mh mi kn mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">我们将从导入所有需要的包开始。</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="e048" class="lf lg jj oi b gy oo op l oq or"><strong class="oi jk">import </strong>pandas as pd</span><span id="623a" class="lf lg jj oi b gy os op l oq or"><strong class="oi jk">from </strong>patsy <strong class="oi jk">import </strong>dmatrices</span><span id="0591" class="lf lg jj oi b gy os op l oq or"><strong class="oi jk">import </strong>numpy <strong class="oi jk">as </strong>np</span><span id="273f" class="lf lg jj oi b gy os op l oq or"><strong class="oi jk">import </strong>statsmodels.api <strong class="oi jk">as </strong>sm</span><span id="b764" class="lf lg jj oi b gy os op l oq or"><strong class="oi jk">import </strong>statsmodels.formula.api <strong class="oi jk">as </strong>smf</span><span id="a9e9" class="lf lg jj oi b gy os op l oq or"><strong class="oi jk">import </strong>matplotlib.pyplot <strong class="oi jk">as </strong>plt</span></pre><p id="e1d2" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们将数据集读入熊猫数据帧:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="b74e" class="lf lg jj oi b gy oo op l oq or">df = pd.read_csv('nyc_bb_bicyclist_counts.csv', header=0, infer_datetime_format=True, parse_dates=[0], index_col=[0])</span></pre><p id="f5f2" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">我们将向<strong class="md jk"> X </strong>矩阵添加一些派生的回归变量。</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="6de0" class="lf lg jj oi b gy oo op l oq or">ds = df.index.to_series()</span><span id="801b" class="lf lg jj oi b gy os op l oq or">df['MONTH'] = ds.dt.month</span><span id="8771" class="lf lg jj oi b gy os op l oq or">df['DAY_OF_WEEK'] = ds.dt.dayofweek</span><span id="09a2" class="lf lg jj oi b gy os op l oq or">df['DAY'] = ds.dt.day</span></pre><p id="cbc2" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">以下是熊猫数据框的前几行，左侧显示了回归变量和 BB_COUNT 因变量:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi po"><img src="../Images/b8a5fbd626f9f0e12924e4831faff503.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pg5IuU16QlnLMDuXHWw6DA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Pandas Data Frame (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="2c8a" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们创建训练和测试数据集。</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="a712" class="lf lg jj oi b gy oo op l oq or">mask = np.random.rand(len(df)) &lt; 0.8</span><span id="1661" class="lf lg jj oi b gy os op l oq or">df_train = df[mask]</span><span id="7e67" class="lf lg jj oi b gy os op l oq or">df_test = df[~mask]</span><span id="01b4" class="lf lg jj oi b gy os op l oq or">print('Training data set length='+str(len(df_train)))</span><span id="933e" class="lf lg jj oi b gy os op l oq or">print('Testing data set length='+str(len(df_test)))</span></pre><p id="6b2c" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">在<a class="ae jg" href="https://patsy.readthedocs.io/en/latest/quickstart.html" rel="noopener ugc nofollow" target="_blank"> patsy </a>符号中设置回归表达式。我们告诉 patsy，BB_COUNT 是我们的因变量，它取决于回归变量:DAY、DAY_OF_WEEK、MONTH、HIGH_T、LOW_T 和 PRECIP:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="b24a" class="lf lg jj oi b gy oo op l oq or">expr = 'BB_COUNT ~ DAY  + DAY_OF_WEEK + MONTH + HIGH_T + LOW_T + PRECIP'</span></pre><p id="7cb4" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">为训练和测试数据集设置<strong class="md jk"> X </strong>和<strong class="md jk"> y </strong>矩阵。patsy 让这变得非常简单:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="5512" class="lf lg jj oi b gy oo op l oq or">y_train, X_train = dmatrices(expr, df_train, return_type='dataframe')</span><span id="4329" class="lf lg jj oi b gy os op l oq or">y_test, X_test = dmatrices(expr, df_test, return_type='dataframe')</span></pre><p id="b9ad" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">配置并适应 OLSR 模型。在<em class="nw"> statsmodels </em>中，这是一行代码:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="182b" class="lf lg jj oi b gy oo op l oq or">olsr_results = smf.ols(expr, df_train).fit()</span></pre><p id="b520" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">打印回归输出:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="a948" class="lf lg jj oi b gy oo op l oq or">print(olsr_results.summary())</span></pre><p id="5d86" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">它打印出以下内容:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pp"><img src="../Images/d1cebe58ed4d4bbc5bd475558610b55f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dc0wBMSI5diaLdsfYJ6Bfg.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Summary of the fitted OLSR model (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="ea1a" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">我们稍后将检查回归输出的单个元素。同时，让我们根据测试数据生成模型的预测:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="43df" class="lf lg jj oi b gy oo op l oq or">olsr_predictions = olsr_results.get_prediction(X_test)</span></pre><p id="3acd" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们把它们打印出来:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="320d" class="lf lg jj oi b gy oo op l oq or">predictions_summary_frame = olsr_predictions.summary_frame()</span><span id="3634" class="lf lg jj oi b gy os op l oq or">print(predictions_summary_frame)</span></pre><p id="cabb" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">以下是最初的几个预测计数:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pq"><img src="../Images/521f5a1aadb70628c83c8f2e6cd5a901.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1gpfDpPXilx5sCHxgZV1uQ.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Predicted values (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="a333" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">注意<strong class="md jk">预测计数不是整数</strong>，这是将线性回归模型应用于基于计数的数据的典型缺点。在这种情况下，我们可以通过向上舍入或向下舍入预测来解决这个缺点。</p><p id="a090" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们也画出预测值和实际值。</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="6934" class="lf lg jj oi b gy oo op l oq or">predicted_counts=predictions_summary_frame['mean']</span><span id="4ef5" class="lf lg jj oi b gy os op l oq or">actual_counts = y_test['BB_COUNT']</span><span id="3bd4" class="lf lg jj oi b gy os op l oq or">fig = plt.figure()</span><span id="6f16" class="lf lg jj oi b gy os op l oq or">fig.suptitle('Predicted versus actual bicyclist counts on the Brooklyn bridge')</span><span id="ede8" class="lf lg jj oi b gy os op l oq or">predicted, = plt.plot(X_test.index, predicted_counts, 'go-', label='Predicted counts')</span><span id="1d6a" class="lf lg jj oi b gy os op l oq or">actual, = plt.plot(X_test.index, actual_counts, 'ro-', label='Actual counts')</span><span id="182d" class="lf lg jj oi b gy os op l oq or">plt.legend(handles=[predicted, actual])</span><span id="630b" class="lf lg jj oi b gy os op l oq or">plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pr"><img src="../Images/f482dbf464e96b8e64a0b79893730c01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JHze7s9GOYd1FTvHvvTCKg.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">The plot of actual versus predicted counts (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="155c" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">注意<strong class="md jk">一个预测的骑自行车的人数是负的</strong>。当应用于基于计数的数据时，这是线性回归模型的另一个经典缺点。在某些情况下，我们可以通过简单地将负值四舍五入为零来解决这个缺点。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="78e8" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">解读 OLSR 模型的结果</h2><p id="5e7e" class="pw-post-body-paragraph mb mc jj md b me mf kk mg mh mi kn mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">抛开产生分数计数和负数计数的倾向，让我们客观地评估一下我们的 OLS 回归模型在自行车计数数据集上的表现。</p><p id="8978" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><strong class="md jk">检验回归参数的显著性:</strong></p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/90fdf6c2cab164a0462344f19d90f4a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*Er79nGtQX6vJREVwNm5DTw.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><em class="pt">Parameter significance using the two-tailed t-test </em>(Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="b097" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><strong class="md jk"> t 检验</strong>显示<strong class="md jk">所有回归参数分别<em class="nw">和</em>统计显著</strong>。在双尾<a class="ae jg" href="https://en.wikipedia.org/wiki/Student%27s_t-test" rel="noopener ugc nofollow" target="_blank"> t 检验</a>中，每个参数的 t 统计的绝对值在 95%显著性水平上大于指定的阈值 t 值。</p><p id="7c57" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">接下来，让我们检查 F 统计量:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/2505d36b0213cf7355fcbdb4fdb11064.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/format:webp/1*EuiwisEzq5VWIJIazUQ6_A.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">The F-test for regression analysis (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="d866" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">F-stat 的 p 值 3.26E-26 远小于具有 6 个自由度的卡方分布的 0.025 误差阈值，表明<strong class="md jk">所有回归参数都<em class="nw">共同</em>显著</strong>。</p><blockquote class="nt nu nv"><p id="471f" class="mb mc nw md b me mw kk mg mh mx kn mj nx nk ml mm ny nl mo mp nz nm mr ms mt im bi translated"><strong class="md jk"> <em class="jj">相关帖子:</em> </strong> <a class="ae jg" rel="noopener" target="_blank" href="/fisher-test-for-regression-analysis-1e1687867259"> <em class="jj">回归分析的 f 检验</em> </a></p></blockquote><p id="6279" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><strong class="md jk">最重要的 R 平方值:</strong></p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/7455e67271eeea74bc4985bf79b291d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*k1QAHKPwCMO_YOEgNlYr4Q.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">R-squared (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="3b60" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><strong class="md jk"> Adjusted-R </strong>是对<strong class="md jk"> R </strong>的一个小修正，以说明在进行估算时损失了 7 个自由度，即 6 个回归变量+截距)。</p><blockquote class="nt nu nv"><p id="4f37" class="mb mc nw md b me mw kk mg mh mx kn mj nx nk ml mm ny nl mo mp nz nm mr ms mt im bi translated"><strong class="md jk"> 0.530 </strong>的调整后 R 告诉我们，OLSR 模型能够解释骑自行车者数量因变量中超过 50%的方差。</p></blockquote><p id="1953" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">顺便说一句，如果我们对模型本身的选择是错误的，那么 R 的值就没有意义了！但到目前为止，我们还没有看到 OLS 出现这种情况的任何迹象。</p><p id="e8cf" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们再检查一下 OLS 回归模型的两件事:</p><ol class=""><li id="ba6d" class="mu mv jj md b me mw mh mx lo my ls mz lw na mt nn nc nd ne bi translated"><strong class="md jk">残差的正态性:</strong>如果我们发现模型的残差不是正态分布的，我们就不能相信模型预测的 F 统计量或置信区间。</li><li id="7fc1" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nn nc nd ne bi translated"><strong class="md jk">残差间的自相关:</strong>时间序列中的自相关是指时间序列中的值与同一时间序列中的先前值相关。如果我们在模型的残差中发现显著的自相关，这表明我们遗漏了重要的回归变量，导致相关计数变量中的一些“信号”泄漏到残差中。这是一个严重指定的 OLSR 模型的迹象。</li></ol><p id="a8f0" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">为了检查回归的残差是否是正态分布的，并且它们不是自相关的，我们需要查看 OLS 模型摘要的页脚部分。页脚部分显示了回归残差的正态性检验和自相关性检验的结果。</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pw"><img src="../Images/31519d969d721a7e273d13c3759ab676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPmUfR5gS6cDeoj4C4b_5Q.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">(Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="072c" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><strong class="md jk">残差的正态性:</strong></p><p id="b2c6" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">Jarque-Bera 的残差正态性检验统计量为 11.917，将其置于卡方(2) PDF 的<strong class="md jk">正态性拒绝区域</strong>。综合 K 平方检验的统计值 7.347 刚好跨越了正态性拒绝区的边界。见下图:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ov"><img src="../Images/2cc63ddd07dbb62faac53758fff9bbbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MEvUuR3bZ0GZkR_iXUdWgw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Acceptance and rejection zones for the Null hypothesis in the Chi-squared(2) PDF for two-tailed α=0.05 (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="3586" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">JB 和正态性综合检验告诉我们的是 OLSR 残差不是正态分布的。同时，残差的极低偏斜度(0.147)以及综合统计量处于卡方(2) PDF 的正态/非正态边界意味着误差接近正态分布。残余误差的直方图直观地证实了这一判断:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="b434" class="lf lg jj oi b gy oo op l oq or">plt.hist(olsr_results.resid, bins=20)</span><span id="698c" class="lf lg jj oi b gy os op l oq or">plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi px"><img src="../Images/52841b90337f1bffcee4211571eac96d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1188/format:webp/1*SSBb5x1K1Z1IOwsdTue9DA.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Histogram of residual errors (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="f475" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">请注意误差在零均值附近或多或少呈正态分布。</p><p id="700b" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">这是残差的 Q-Q 图，在很大程度上看起来也是线性的:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="5a52" class="lf lg jj oi b gy oo op l oq or">fig = sm.qqplot(olsr_results.resid)</span><span id="0c5c" class="lf lg jj oi b gy os op l oq or">plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi py"><img src="../Images/224137578bea6b62b7f689de856d5346.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*ED7tWOCukxXnWyjbTpMTXA.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Q-Q plot of the residual errors of OLSR (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="a2d6" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">总之，我们的结论是，OLS 回归模型的残差大体上正态分布在一个零均值附近。</p><p id="9a9b" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><strong class="md jk">残差的自相关:</strong></p><p id="ee6f" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">Durbin-Watson 检验让我们了解了残差是否是自相关的。显著小于 2 的 DW 测试值表示显著的自相关。在这种情况下，DW 检验的值是 1.772，这意味着在回归的残差中没有强自相关的证据。</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pw"><img src="../Images/31519d969d721a7e273d13c3759ab676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPmUfR5gS6cDeoj4C4b_5Q.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">(Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="1a29" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">我们还可以通过绘制残差的 ACF 图来验证自相关的缺失:</p><pre class="np nq nr ns gt ok oi ol om aw on bi"><span id="8d1c" class="lf lg jj oi b gy oo op l oq or"><strong class="oi jk">from </strong>statsmodels.graphics.tsaplots <strong class="oi jk">import </strong>plot_acf</span><span id="d193" class="lf lg jj oi b gy os op l oq or">plot_acf(olsr_results.resid, title='ACF of residual errors')</span><span id="b5ab" class="lf lg jj oi b gy os op l oq or">plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pr"><img src="../Images/e6d7065788a916981ef9a5e8c188dcaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BmbIbG0BkUdFGVXaaKgPPQ.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Auto-correlation plot of residual errors of the OLSR model (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="d3ba" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">正如所料，ACF 图显示残差之间没有显著的自相关</p><blockquote class="nt nu nv"><p id="7044" class="mb mc nw md b me mw kk mg mh mx kn mj nx nk ml mm ny nl mo mp nz nm mr ms mt im bi translated">总而言之，OLS 模型似乎已经最佳地拟合了数据，没有系统性的信息泄漏到模型的误差中。</p></blockquote><p id="f44e" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">最后，让我们比较一下 OLSR 模型与泊松和 NB 回归模型的性能，这两个模型在我之前的两篇关于基于计数的数据的回归模型的文章中都有涉及。</p><h2 id="7f7c" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated"><strong class="ak">OLSR 与泊松和负二项模型的比较</strong></h2><p id="7940" class="pw-post-body-paragraph mb mc jj md b me mf kk mg mh mi kn mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">如果我们对所有三个模型的回归参数——OLS、泊松、负二项式——在相同的自行车计数数据集上进行并排比较，我们会看到<em class="nw">OLSR 发现的最重要的参数(从参数的 t 统计的绝对值来看)也是其他两个模型确定的最重要的参数</em>。</p><p id="90d3" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">见下图。我根据 T 值注释了前三个重要参数:PRECIP、HIGH_T 和 LOW_T。它们在所有三个模型中都是相同的:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pz"><img src="../Images/3d18e2ac5f04a34f926b42db6ff49cc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EghzBfe7ycnQdr-sLb9E0g.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">A comparison of parameter significance among OLS, Poisson and NB models (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="87eb" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><strong class="md jk">OLSR、泊松和 NB 模型的拟合优度比较:</strong></p><p id="6cbb" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们来看看 OLSR 模型与泊松和 NB 模型相比，对骑自行车者计数数据的拟合程度如何。</p><p id="2782" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">让我们再一次将 OLS 结果与泊松和 NB 回归结果放在一起。(你可能想参考我关于<a class="ae jg" rel="noopener" target="_blank" href="/an-illustrated-guide-to-the-poisson-regression-model-50cccba15958">泊松</a>和<a class="ae jg" rel="noopener" target="_blank" href="/negative-binomial-regression-f99031bb25b4"> NB 回归</a>模型的文章，了解如何使用 statsmodels 得到泊松和 NB 回归模型的结果)。</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qa"><img src="../Images/9dcb279c621660867abe4a5e1bbb3da4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gb-32ZaK7bUPzrszDzslNg.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">(Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="a3cd" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">使用最大对数似然作为拟合优度的卷尺<strong class="md jk">，</strong>我们看到:</p><ul class=""><li id="9d11" class="mu mv jj md b me mw mh mx lo my ls mz lw na mt nb nc nd ne bi translated"><strong class="md jk">NB 车型排名第一</strong>最高最大 LL-1309.6，</li><li id="e87b" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated"><strong class="md jk">OLSR 车型以-1339.4 的最高 LL 值意外获得第二名</strong>。</li><li id="b4e3" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated"><strong class="md jk">泊松回归模型以-12616.0 的成绩远远排在第三位</strong>。</li></ul><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi qb"><img src="../Images/dece98350cf9f0bb288744d84589068d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nzDwc9HyVYwzTwBGFTNZFg.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Goodness-of-fit rankings as per Maximum Log-Likelihood (Image by <a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener">Author</a>)</figcaption></figure><p id="5bd0" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">这就完成了我们对符合骑自行车者计数数据集的 OLSR 模型的分析，以及它与泊松和负二项式回归模型的性能比较。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><p id="9061" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated">以下是本文中使用的完整 Python 源代码:</p><figure class="np nq nr ns gt iv"><div class="bz fp l di"><div class="qc qd l"/></div></figure><figure class="np nq nr ns gt iv"><div class="bz fp l di"><div class="qc qd l"/></div></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="41b8" class="lf lg jj bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">四个关键要点</h2><ul class=""><li id="051c" class="mu mv jj md b me mf mh mi lo oc ls od lw oe mt nb nc nd ne bi translated">尽管计数数据存在偏斜，且 OLSR 模型有产生负数和小数计数的倾向，<em class="nw">对于基于计数的数据集而言，OLSR 模型可能是一个可行的回归模型</em>。</li><li id="67fc" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated">仅仅因为 OLSR 模型在自行车计数数据集上表现良好，<em class="nw">OLSR 模型并不总是在所有计数数据集上都表现得很好</em>。OLS 回归在计数数据上的固有弱点必然会在更具“挑战性”的数据集上显现出来。</li><li id="1aaa" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated">然而，<em class="nw">OLSR 模型可以作为基于计数的数据</em>的合理基线模型，它可以为我们<em class="nw">提供一种方法，快速测试哪些模型参数对基于计数的数据建模最具统计意义</em>。</li><li id="ae07" class="mu mv jj md b me nf mh ng lo nh ls ni lw nj mt nb nc nd ne bi translated">OLSR 模型也给了我们一种客观地比较好(或坏)多少的方法。)是一种复杂的基于计数的模型，如泊松模型、负二项式模型、梯度推进决策树模型或基于计数数据集的递归神经网络模型，有时会产生令人惊讶的结果。</li></ul></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><p id="763b" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><em class="nw">感谢阅读！我撰写关于数据科学的主题，重点是时间序列分析和预测。</em></p><p id="0f01" class="pw-post-body-paragraph mb mc jj md b me mw kk mg mh mx kn mj lo nk ml mm ls nl mo mp lw nm mr ms mt im bi translated"><em class="nw">如果你喜欢这篇文章，请关注我的</em><a class="ae jg" href="https://timeseriesreasoning.medium.com" rel="noopener"><strong class="md jk"><em class="nw">Sachin Date</em></strong></a><em class="nw">获取关于如何使用 Python 进行时间序列分析和预测的技巧、操作方法和编程建议。</em></p></div></div>    
</body>
</html>