<html>
<head>
<title>How to build a non-geographical map #2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å¦‚ä½•æ„å»ºéåœ°ç†åœ°å›¾#2</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/how-to-build-a-non-geographical-map-2-340256ad9f16?source=collection_archive---------14-----------------------#2019-01-11">https://towardsdatascience.com/how-to-build-a-non-geographical-map-2-340256ad9f16?source=collection_archive---------14-----------------------#2019-01-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8edd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">æˆ–è€…å¦‚ä½•å°†æ•£ç‚¹å›¾å˜æˆäº¤äº’å¼åœ°å›¾(ä½¿ç”¨ä¼ å•å’Œ JavaScript)</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/28ee6db8dfff15aa648264b29b2efa7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OyDngHAOswm4ogMq8xI-IA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">This guyâ€™s body may seem odd and his chair disproportionate, but arenâ€™t maps a distortion of reality, anyway? :)</figcaption></figure><p id="9465" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ°å›¾æ˜¯æ•°æ®å¯è§†åŒ–çš„å¼ºå¤§è®¾è®¡å¯¹è±¡ã€‚ä»–ä»¬å¼ºè°ƒå…ƒç´ ä¹‹é—´çš„ç©ºé—´å…³ç³»å’Œå˜é‡çš„æ¯”è¾ƒã€‚åœ¨éåœ°ç†æ•°æ®çš„èƒŒæ™¯ä¸‹ï¼Œweb åœ°å›¾å¯ä»¥å¢å¼ºä¼ ç»Ÿçš„æ•£ç‚¹å›¾ã€‚</p><p id="18c0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="lr">ğŸ”—é“¾æ¥åˆ°</em><a class="ae ls" rel="noopener" target="_blank" href="/how-to-build-a-non-geographical-map-1-8d3373e83d6c"><em class="lr">#ç¬¬ 1 éƒ¨åˆ†:å¦‚ä½•ç”¨é™ç»´æ˜ å°„ç›¸ä¼¼æ€§</em> </a></p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="c740" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">#ç¬¬ 2 éƒ¨åˆ†:ä»æ•£ç‚¹å›¾åˆ°äº¤äº’å¼åœ°å›¾</h1><p id="1d87" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">æ•°æ®å¯è§†åŒ–çš„æ ¸å¿ƒæ˜¯é€šä¿¡ã€‚å°†å“äººçš„æ¡Œå­å˜æˆå¼•äººå…¥èƒœçš„æ•…äº‹çš„èƒ½åŠ›ã€‚é€šå¸¸ï¼Œæœ€ç»ˆç›®æ ‡æ˜¯æ¨åŠ¨è§£å†³é—®é¢˜æˆ–å†³ç­–çš„æ´å¯ŸåŠ›ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç”¨æˆ·ä¸ä¼šç©å¼„æ•°æ®ï¼Œè€Œæ˜¯é‡‡å–è¢«åŠ¨çš„æ€åº¦ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³æˆæƒç»™ä½ çš„è§‚ä¼—ï¼Œæ¿€å‘ä»–ä»¬çš„å¥½å¥‡å¿ƒï¼Œå¹¶å…è®¸ä»–ä»¬æ¢ç´¢æ•°æ®å‘¢ï¼Ÿ</p><p id="fb37" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘ä»¬ç”¨åœ°å›¾æ¥æ¢ç´¢æœªçŸ¥ã€‚ä»–ä»¬ç»™äº†æˆ‘ä»¬èµ°å‡ºäººè¿¹ç½•è‡³çš„é“è·¯çš„ä¿¡å¿ƒã€‚æˆ‘ä»¬åç¦»äº†æœ€åˆçš„è·¯çº¿ï¼Œåœ¨ä¸€å®¶å’–å•¡é¦†åœä¸‹æ¥ï¼Œæˆ–è€…ç»•é“ç»è¿‡ä¸€ä¸ªåšç‰©é¦†ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä½¿ç”¨ç½‘ç»œçš„æ–¹å¼ã€‚æˆ‘ä»¬è¿›è¡Œæœç´¢ï¼Œä¸€ä¸ªé“¾æ¥æŒ‡å‘å¦ä¸€ä¸ªï¼Œæœ€ç»ˆæˆ‘ä»¬å¯¹ä¸€äº›æˆ‘ä»¬ç‚¹å‡»å‡ ä¸‹ä¹‹å‰ç”šè‡³ä¸çŸ¥é“å­˜åœ¨çš„ä¸œè¥¿äº§ç”Ÿäº†å…´è¶£ã€‚</p><p id="e77e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘ä»¬èƒ½ä»¥åŒæ ·å¶ç„¶çš„æ–¹å¼ä¼ é€’æ•°æ®å—ï¼ŸT11ã€‘</p><p id="cb67" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨æœ¬ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†<a class="ae ls" rel="noopener" target="_blank" href="/how-to-build-a-non-geographical-map-1-8d3373e83d6c">ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†é™ç»´æŠ€æœ¯æ¥ç»˜åˆ¶ 2D ç©ºé—´ä¸­çš„ç›¸ä¼¼æ€§ã€‚æˆ‘ä»¬æœ€ç»ˆå¾—åˆ°äº†ä¸€ä¸ªæ–°çš„åæ ‡ç³»ç»Ÿï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨æ•£ç‚¹å›¾ä¸­å¯è§†åŒ–æˆ‘ä»¬çš„æ•°æ®(è§</a><a class="ae ls" href="https://plot.ly/~fanny_kassapian/1/#/" rel="noopener ugc nofollow" target="_blank">å›¾(Plotly) </a>)ã€‚</p><p id="b77f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠå®ƒè½¬æ¢æˆä¸€ä¸ªäº¤äº’å¼åœ°å›¾ï¼ŒåŒ…æ‹¬ä¸€ä¸ªæœç´¢æ å’Œä¸€ä¸ªä¾§é¢æ¿ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¼ å•å’Œä¸€äº›é¢å¤–çš„ JavaScriptã€‚</p><blockquote class="mx my mz"><p id="4fcd" class="kv kw lr kx b ky kz jr la lb lc ju ld na lf lg lh nb lj lk ll nc ln lo lp lq ij bi translated"><strong class="kx ir">æ— è®ºæ•°æ®ç±»å‹å¦‚ä½•ï¼Œæœ¬æ–‡å¯èƒ½å¯¹ä»»ä½•æƒ³è¦æ„å»º web åœ°å›¾çš„äººéƒ½æœ‰ç”¨ã€‚å¦‚æœæ˜¯è¿™ç§æƒ…å†µï¼Œè¯·è·³åˆ°ç¬¬ 2 æ­¥ã€‚</strong></p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/bf4e3ff587f2b33cc20e899b73ad8d59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/1*Rt0GmMiIffHocHiqFEKM8Q.gif"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">&gt;&gt; <a class="ae ls" href="https://codepen.io/fannykassapian/pen/qJOvbB" rel="noopener ugc nofollow" target="_blank">See code &amp; end result (CodePen)</a></figcaption></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="b310" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">ç¬¬ä¸€æ­¥ã€‚å»ºç«‹ä¸€ä¸ªåæ ‡çš„ JSON</h1><p id="01c2" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">å¦‚æœæ‚¨éµå¾ªéåœ°ç†æ•°æ®æ˜ å°„çš„<a class="ae ls" rel="noopener" target="_blank" href="/how-to-build-a-non-geographical-map-1-8d3373e83d6c"/>ï¼Œæ‚¨ç°åœ¨æœ‰ä¸€ä¸ªåµŒå…¥â€”â€”ä¸€ä¸ª(éå¸¸éå¸¸é•¿çš„)Numpy åæ ‡æ•°ç»„ï¼Œä»£è¡¨æ‚¨åœ¨ 2D çš„æ•°æ®ã€‚</p><p id="52d2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> <em class="lr">ä¸ºäº†åœ¨ä¼ å•åœ°å›¾ä¸Šç»˜åˆ¶æ‰€æœ‰è¿™äº›æ•°æ®ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒä»¬å­˜å‚¨åˆ°ä¸€ä¸ª JavaScript å¯¹è±¡ä¸­ã€‚</em> </strong></p><p id="f360" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°† DataFrame è½¬æ¢æˆ JSON å­—ç¬¦ä¸²ï¼Œå¹¶ç”¨ JavaScript å¤„ç†å®ƒã€‚</p><p id="2489" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¦‚æœæ‚¨åªæœ‰å‡ ä¸ªæ•°æ®ç‚¹è¦ç»˜åˆ¶ï¼Œé‚£ä¹ˆæ‚¨å¯èƒ½æƒ³è·³è¿‡è¿™ä¸€æ­¥ï¼Œæ‰‹åŠ¨å°†å®ƒä»¬å­˜å‚¨åœ¨æ‚¨çš„ JavaScript ä¸­ã€‚</p><p id="5eec" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å¦å¤–ï¼Œè¯·è®°ä½ï¼Œæ¯ä¸ªç”¨æˆ·æ¯æ¬¡æ‰“å¼€é¡µé¢æ—¶éƒ½ä¼šâ€œåŠ è½½â€æ•´ä¸ª JSONã€‚è¿™ä¼šå½±å“ä½ ç½‘ç«™çš„è¡¨ç°ã€‚æ ¹æ®æ‚¨æ‹¥æœ‰çš„æ•°æ®é‡å’Œæµé‡ï¼Œæ‚¨å¯èƒ½æ›´å–œæ¬¢ä»æ•°æ®åº“ä¸­åŠ¨æ€åŠ è½½å†…å®¹ã€‚</p><p id="36ba" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> 1/åˆ›å»ºä¸€ä¸ªæ•°æ®å¸§</strong></p><p id="981f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨:</p><ul class=""><li id="0258" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">åŸºäºæŠ€èƒ½å’ŒçŸ¥è¯†ç›¸ä¼¼æ€§çš„èŒä¸šæ˜ å°„äº§ç”Ÿçš„<a class="ae ls" rel="noopener" target="_blank" href="/how-to-build-a-non-geographical-map-1-8d3373e83d6c">åµŒå…¥</a>å’Œ</li><li id="bb45" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated"><a class="ae ls" href="https://www.onetcenter.org/database.html" rel="noopener ugc nofollow" target="_blank"> ONET å¼€æ”¾æ•°æ®åº“</a>ã€‚</li></ul><p id="cd5c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘ä»¬çš„ JSON å¿…é¡»åŒ…å«æ¯ä¸ªæ ‡è®°çš„åæ ‡å’Œä¸€äº›æ•°æ®ï¼Œæ¯”å¦‚å®ƒçš„æ ‡é¢˜å’Œæè¿°ï¼Œæˆ‘ä»¬å°†ç”¨å®ƒä»¬æ¥æ›´æ–°é¢æ¿çš„å†…å®¹ã€‚</p><p id="c745" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¸‹é¢æ˜¯æˆ‘åˆ›å»ºæ•°æ®æ¡†æ‰€éµå¾ªçš„æ­¥éª¤çš„ç®€è¦æè¿°ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°<a class="ae ls" href="https://github.com/fannykassapian/python_json_coordinates/blob/master/UMAP.ipynb" rel="noopener ugc nofollow" target="_blank">å®Œæ•´ç¬”è®°æœ¬(Github) </a>:</p><ul class=""><li id="19fa" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">ä» O*NET åŠ è½½äº†<a class="ae ls" href="https://www.onetcenter.org/dictionary/23.1/excel/occupation_data.html" rel="noopener ugc nofollow" target="_blank"> Occupation Data.xlsx </a>æ–‡ä»¶åï¼Œæˆ‘åˆ›å»ºäº†ä¸¤ä¸ªç³»åˆ—ã€‚æˆ‘ä½¿ç”¨ O*NET SOC ä»£ç ä½œä¸ºä»–ä»¬çš„å…¬å…±ç´¢å¼•ï¼Œä½¿ç”¨èŒä¸šå¤´è¡”å’Œæè¿°ä½œä¸ºä»–ä»¬å„è‡ªçš„å€¼ã€‚ç„¶åï¼Œæˆ‘å°†å®ƒä»¬ç»„åˆæˆä¸€ä¸ªå•ä¸€çš„æ•°æ®å¸§ã€‚</li><li id="ed30" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">æœ€åï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ‰€æœ‰èŒä¸šæ ‡é¢˜åŠå…¶å„è‡ªåæ ‡æ•°ç»„çš„å­—å…¸(åŸºäº UMAP åµŒå…¥)ï¼Œå¹¶å°†å…¶æ˜ å°„åˆ°æ•°æ®æ¡†çš„æ ‡é¢˜åˆ—ã€‚</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/c20e76b2a9c6415d8684b8d80c8a2440.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sETEjB0itnSiELpy1Icyjw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">This is what your DataFrame should look like.</figcaption></figure><p id="eddf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> 2/è½¬æ¢æˆ JSON </strong></p><ul class=""><li id="3105" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">Pandas æœ‰ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œå¯ä»¥å°†å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="43a9" class="ny mb iq nu b gy nz oa l ob oc">yourdataframe.to_json('newfile.json', orient='index')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/188b9fe6baa82a8b4e510b6ae4c30f63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QyVignTJ8Lr2uc5VlM7saw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">This is what the JSON looks like.</figcaption></figure><p id="96d3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æ›´å¤šè¯¦æƒ…å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°<a class="ae ls" href="https://github.com/fannykassapian/python_json_coordinates/blob/master/UMAP.ipynb" rel="noopener ugc nofollow" target="_blank">å®Œæ•´ç¬”è®°æœ¬(Github) </a>ã€‚</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="8a67" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">ç¬¬äºŒæ­¥ã€‚ç”¨ä¼ å•åˆ›å»ºåœ°å›¾</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oe"><img src="../Images/650c4d0220804c28e2d101f62066fa81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oCnDlju_lObf4u21VYteIQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae ls" href="https://leafletjs.com/" rel="noopener ugc nofollow" target="_blank">Leaflet.js</a> is an open-source JavaScript library for responsive &amp; interactive maps. It offers wonderful features and a beautiful default design.</figcaption></figure><p id="b672" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åˆ›å»ºè¿™å¼ åœ°å›¾éœ€è¦<a class="ae ls" href="https://leafletjs.com/download.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir">ä¼ å•</strong> </a> <strong class="kx ir">ï¼Œ</strong> <a class="ae ls" href="https://getbootstrap.com/docs/4.1/getting-started/introduction/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir">è‡ªä¸¾</strong> </a> <strong class="kx ir">ï¼Œ</strong><a class="ae ls" href="https://code.jquery.com/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">jQuery</strong></a><strong class="kx ir">å’Œ</strong><a class="ae ls" href="https://cdnjs.com/libraries/jqueryui" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">jQuery-ui</strong></a>ã€‚ç¡®ä¿åœ¨æ‚¨çš„ä»£ç ä¸­åŒ…å«æŒ‡å‘å®ƒä»¬çš„ CSS å’Œ JS åº“çš„é“¾æ¥ã€‚</p><p id="5a34" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> 1/åˆ›å»ºåœ°å›¾</strong></p><p id="0eb5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†åªä½¿ç”¨éå¸¸åŸºæœ¬çš„ä¼ å•è®¾ç½®ï¼Œå¹¶ä¾§é‡äºé¢æ¿ä¸åœ°å›¾çš„äº¤äº’æ€§ã€‚ç„¶è€Œï¼Œä½ å¯ä»¥ç”¨ä¼ å•åšå¾ˆå¤šä»¤äººæƒŠå¥‡çš„äº‹æƒ…ï¼Œå€¼å¾—ä¸€çœ‹ã€‚</p><p id="a2f5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¸‹é¢æ˜¯ä¸€ä¸ªå¿«é€Ÿè®¾ç½®ã€‚æˆ–è€…ï¼Œä½ å¯ä»¥éµå¾ªä»–ä»¬çš„<a class="ae ls" href="https://leafletjs.com/examples/quick-start/" rel="noopener ugc nofollow" target="_blank">å¿«é€Ÿå…¥é—¨æŒ‡å—</a>ã€‚</p><ul class=""><li id="e898" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">åœ¨æ‚¨çš„ HTML ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªç©ºå®¹å™¨:<code class="fe of og oh nu b">&lt;div id="mapDemo"&gt; &lt;/div&gt;</code></li><li id="280e" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">åœ°å›¾å®¹å™¨å¿…é¡»å…·æœ‰å®šä¹‰çš„é«˜åº¦ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†å…¶è®¾ç½®ä¸º 100%çš„æŸ¥çœ‹å™¨å±å¹•:<code class="fe of og oh nu b">#mapDemo {width: 100vw; height: 100vh;}</code></li><li id="ec4f" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">åœ¨ä½ çš„ JS ä¸­ï¼Œåˆ›å»ºåœ°å›¾:<code class="fe of og oh nu b">map = L.map('mapDemo');</code>ã€‚å› ä¸ºæˆ‘ä»¬åœ¨å·¦è¾¹æœ‰ä¸€ä¸ªé¢æ¿ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠç¼©æ”¾æ§ä»¶æ”¾åœ¨å±å¹•çš„å³ä¸‹è§’:<code class="fe of og oh nu b">map.zoomControl.setPosition('bottomright');</code></li></ul><p id="2fcf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> 2/åœ°å—æ ‡è®°</strong></p><p id="84ae" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ª JSON æ–‡ä»¶ä¸­ï¼Œå…¶ç»“æ„ä¸ JavaScript å­—å…¸ç›¸åŒã€‚è¯·æ³¨æ„ï¼Œæˆ‘çš„<a class="ae ls" href="https://codepen.io/fannykassapian/pen/qJOvbB" rel="noopener ugc nofollow" target="_blank"> codePen ç¤ºä¾‹</a>åŸºäºä¸€ä¸ªåªæœ‰ 3 ä¸ªå…ƒç´ å’Œ 3 ä¸ªç‰¹æ€§(â€œæ ‡é¢˜â€ã€â€œåæ ‡â€å’Œâ€œæè¿°â€)çš„ JavaScript å­—å…¸ã€‚</p><ul class=""><li id="037d" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">é¦–å…ˆï¼Œå°† JSON æ–‡ä»¶å­˜å‚¨åœ¨ JavaScript å­—å…¸<code class="fe of og oh nu b">var markers = {}</code>ä¸­:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="6d7c" class="ny mb iq nu b gy nz oa l ob oc">var markers = $.getJSON("map_data.json");</span></pre><ul class=""><li id="8f3b" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">ç„¶åï¼Œéå†å­—å…¸ï¼Œå°†æ¯ä¸ªæ ‡è®°çš„ç‰¹å¾å­˜å‚¨åœ¨<code class="fe of og oh nu b">markerOptions</code>ä¸‹ã€‚ç”¨<code class="fe of og oh nu b">addTo(map)</code>ç»˜åˆ¶å®ƒä»¬:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="af2b" class="ny mb iq nu b gy nz oa l ob oc">$.each(markers, function(key, val) {<br/>  var markerOptions = {markerId: key,<br/>                       markerTitle: val['title'],<br/>                       markerText: val['description']};</span><span id="ba58" class="ny mb iq nu b gy oi oa l ob oc">  var marker = L.marker(val['coords'], markerOptions).addTo(map);<br/>});</span></pre><ul class=""><li id="bb4b" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">è¦æŸ¥çœ‹æ ‡è®°ï¼Œè¯·åœ¨æ•°æ®åæ ‡èŒƒå›´å†…è®¾ç½®åœ°å›¾è§†å›¾:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="9b74" class="ny mb iq nu b gy nz oa l ob oc">var bounds = [[-10,-10], [10,10]];<br/>map.fitBounds(bounds);</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="f6e3" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">ç¬¬ä¸‰æ­¥ã€‚å¥ å®šåŸºç¡€</h1><p id="85d4" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">åœ¨å¤„ç†äº¤äº’æ€§ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæŠŠ HTML å’Œ CSS æ”¾åœ¨ä¸€è¾¹ã€‚</p><p id="ceb2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> 1/ HTML </strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/53ecded51570499d8bb1aa4c232abed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e2BvYmZOiNyQ9d5_kAFK4g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Main elements and their ids. &gt;&gt; <a class="ae ls" href="https://codepen.io/fannykassapian/pen/qJOvbB" rel="noopener ugc nofollow" target="_blank">See CodePen</a></figcaption></figure><ul class=""><li id="416e" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">åœ¨ HTML çš„<code class="fe of og oh nu b">&lt;body&gt;</code>ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªå¸¦æœ‰è¡¨å•æ§ä»¶(<code class="fe of og oh nu b">#searchTerm</code>)å’ŒæŒ‰é’®(<code class="fe of og oh nu b">#searchBtn</code>)çš„è¾“å…¥ç»„ã€‚</li><li id="9eab" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">ä¸‹é¢ï¼Œæ·»åŠ ä¸€ä¸ªæŒ‰é’®(<code class="fe of og oh nu b">#panelBtn</code>)ã€‚å®ƒå°†å…è®¸ç”¨æˆ·éšæ—¶æ‰“å¼€/å…³é—­é¢æ¿ã€‚</li><li id="c489" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">å¯¹äºé¢æ¿ï¼Œæ·»åŠ ä¸€ä¸ªå¸¦æœ‰å…³é—­æŒ‰é’®(<code class="fe of og oh nu b">#closeBtn</code>)çš„<code class="fe of og oh nu b">&lt;div&gt;</code>å’Œå°†ç”¨æ ‡è®°æ•°æ®æ›´æ–°çš„å†…å®¹(å¦‚æ ‡é¢˜å’Œæ®µè½)ã€‚</li></ul><p id="aad2" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> 2/ CSS </strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/79ef3bf73c07a600624b77ac4987550b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zdmn2n5kDpE8a8MiB4Ql0w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">This map is mobile first. I only included a media query for screens that are 500px wide and above, but you may want to refine that.</figcaption></figure><ul class=""><li id="280c" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">åœ¨ä½ çš„ CSS ä¸­ï¼Œç¡®ä¿æ‰€æœ‰åº”è¯¥ä½äºåœ°å›¾é¡¶éƒ¨çš„å…ƒç´ éƒ½æœ‰ä¸€ä¸ªå¤§äº 400 çš„<code class="fe of og oh nu b">z-index</code>(400 æ˜¯åœ°å›¾çš„<code class="fe of og oh nu b">z-index</code>)ã€‚</li><li id="c502" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code class="fe of og oh nu b">#panel</code>æ˜¯éšè—çš„ï¼Œåªæœ‰åœ¨<code class="fe of og oh nu b">.active</code>æ—¶æ‰æ˜¾ç¤ºã€‚å°†<code class="fe of og oh nu b">left</code>å±æ€§è®¾ç½®ä¸ºä¸<code class="fe of og oh nu b">#panel</code>å…ƒç´ å®½åº¦ç›¸åŒçš„å¤§å°ä»¥éšè—å®ƒï¼Œå½“<code class="fe of og oh nu b">#panel.active</code>æ—¶åˆ‡æ¢ä¸º 0(æ˜¾ç¤ºå®ƒ)ã€‚</li><li id="12e1" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">å¯¹äºé¢æ¿é«˜åº¦ï¼Œä½¿ç”¨<code class="fe of og oh nu b">top</code>å’Œ<code class="fe of og oh nu b">bottom</code>å±æ€§å®šä¹‰å…ƒç´ çš„å¼€å§‹å’Œç»“æŸä½ç½®ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨æ²¡æœ‰è®¾ç½®<code class="fe of og oh nu b">bottom</code>ï¼Œè€Œæ˜¯å®šä¹‰äº†ä¸€ä¸ª<code class="fe of og oh nu b">height</code>ï¼Œæ»šåŠ¨å°†ä¸ä¼šåƒæ‚¨é¢„æœŸçš„é‚£æ ·å·¥ä½œã€‚<code class="fe of og oh nu b">#panel</code>å°†ç»§ç»­ä½äºå¯è§å±å¹•çš„â€œå¤–éƒ¨â€(å°½ç®¡æœ‰<code class="fe of og oh nu b">overflow-y:scroll;</code>)ã€‚</li><li id="48a2" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">åœ¨ç§»åŠ¨å’Œå°å±å¹•ä¸Šï¼Œé¢æ¿å’Œè¾“å…¥ç»„å æ®æ•´ä¸ªå®½åº¦ã€‚æ‰€ä»¥ï¼Œæˆ‘è®¾ç½®äº†<code class="fe of og oh nu b">width:100vw;</code>ï¼Œä½†æ˜¯å¯¹äºè¶…è¿‡ 500 åƒç´ å®½çš„å±å¹•ï¼Œæˆ‘æŠŠå®ƒæ”¹æˆäº†<code class="fe of og oh nu b">width:500px;</code>ã€‚</li></ul><p id="7962" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°<a class="ae ls" href="https://codepen.io/fannykassapian/pen/qJOvbB" rel="noopener ugc nofollow" target="_blank">å®Œæ•´ä»£ç (codePen) </a>ã€‚</p><p id="2f16" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">3/æ•°æ®ç»“æ„</p><p id="6a11" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘ä»¬å¿…é¡»å‘å‰è·³ä¸€ç‚¹ï¼Œè€ƒè™‘æˆ‘ä»¬éœ€è¦è®¿é—®å“ªäº›æ•°æ®æ¥æ˜¾ç¤ºæ­£ç¡®çš„è¾“å‡ºã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/6fd41a996227a31e57f0c217fa9b39f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7NPk_K_VZEYiQIY9NNdugg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Overview of the events that require access to markersâ€™ data. In blue are the functions and in turquoise their respective arguments.</figcaption></figure><h2 id="325b" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated">å­—å…¸</h2><p id="9fae" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">è®©æˆ‘ä»¬å°†ç‚¹å‡»æ ‡è®°æ—¶è°ƒç”¨çš„å‡½æ•°ç§°ä¸º<code class="fe of og oh nu b">markerOnClick()</code>ï¼Œå°†è¿›å…¥æœç´¢åè°ƒç”¨çš„å‡½æ•°ç§°ä¸º<code class="fe of og oh nu b">search()</code>(é€šè¿‡ç‚¹å‡»å»ºè®®çš„æ ‡è®°æ ‡é¢˜æˆ–ç‚¹å‡»æœç´¢æŒ‰é’®)ã€‚</p><p id="1747" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">è¿™äº›åŠŸèƒ½æœ‰è®¸å¤šå…±åŒçš„æ­¥éª¤ã€‚ä¸ºäº†é¿å…ä¸¤æ¬¡ç¼–å†™ç›¸åŒçš„ä»£ç ï¼Œæˆ‘ä»¬å°†è¿™äº›æ­¥éª¤åŒ…å«åœ¨<code class="fe of og oh nu b">updatePanel()</code>å‡½æ•°ä¸­ã€‚</p><p id="122e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¸ºäº†ç”¨é™„åŠ åˆ°æ¯ä¸ª<code class="fe of og oh nu b">markerId</code>çš„æ ‡é¢˜å’Œæ–‡æœ¬æ›´æ–°é¢æ¿ï¼Œ<code class="fe of og oh nu b">updatePanel()</code>å¿…é¡»èƒ½å¤Ÿè®¿é—®ä¸€äº›å…¶ä»–æ ‡è®°ç‰¹å¾ã€‚åŒæ ·ï¼Œ<code class="fe of og oh nu b">search()</code>æ˜¯<code class="fe of og oh nu b">markerTitle</code>çš„ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯éœ€è¦è®¿é—®<code class="fe of og oh nu b">markerId</code>æ¥è°ƒç”¨<code class="fe of og oh nu b">updatePanel()</code>ã€‚</p><p id="3e65" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¸ºäº†è®©å‡½æ•°èƒ½å¤Ÿè®¿é—®è¿™äº›ç‰¹æ€§ï¼Œæˆ‘ä»¬éœ€è¦å­—å…¸ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/62090bf45277859a4c38d1e1d21a0fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OyksBUBiQTDSxYMPxnxUdA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">These are the key-value pairs that we need.</figcaption></figure><ul class=""><li id="0222" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">åˆ›å»º 3 ä¸ªå­—å…¸:<code class="fe of og oh nu b">var titleToId = {}; var idToTitle = {}; var idToText = {};</code></li><li id="992a" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">ç„¶åï¼Œåœ¨éå†<code class="fe of og oh nu b">markers{}</code>å­—å…¸æ—¶è¿½åŠ å®ƒä»¬:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="f3a1" class="ny mb iq nu b gy nz oa l ob oc">$.each(markers, function(key, val) {<br/>...<br/>  titleToId[val['title']] = key;<br/>  idToTitle[key] = val['title'];  <br/>  idToText[key] = val['description'];<br/>...<br/>});</span></pre><h2 id="fdc2" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated">ç›®å½•</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/c20745c3c90296800d9a3f451fa59c36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2soGh0R1DLEOZUrDkNaAaw.png"/></div></div></figure><p id="ad54" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">å½“ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæœç´¢æ—¶ï¼Œå®ƒè°ƒç”¨<code class="fe of og oh nu b">autocomplete()</code>ï¼Œæ ¹æ®ç”¨æˆ·è¾“å…¥ç»™å‡ºæ‰€æœ‰å¯èƒ½çš„æ ‡è®°æ ‡é¢˜ã€‚å› æ­¤ï¼Œæ­¤å‡½æ•°çš„æ•°æ®æºå¿…é¡»æ˜¯æ ‡è®°æ ‡é¢˜åˆ—è¡¨:</p><ul class=""><li id="a103" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">åˆ›å»ºæ‚¨åœ¨æ ‡è®°å¾ªç¯ä¸­é™„åŠ çš„æ ‡è®°æ ‡é¢˜<code class="fe of og oh nu b">var titlesList =[];</code>åˆ—è¡¨:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="27d3" class="ny mb iq nu b gy nz oa l ob oc">$.each(markers, function(key, val) {<br/>...<br/>titlesList.push(val['title']);<br/>...<br/>});</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="75e1" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">ç¬¬å››æ­¥ã€‚åè°ƒäº’åŠ¨</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/b24a1361057117d70bef92f8d207a255.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IAGJ-Gx77DUrML-54ZDJ3w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Overview of the functions associated with panel interactivity.</figcaption></figure><p id="a8e8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> 1/ç‚¹å‡»æ ‡è®°</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/82f3e6066290c0adeffd1c94f92b1760.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sl1RWzvrF83yKAqMkGX0tQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">When a marker is clicked: the search bar is updated with the markerâ€™s title, the â€œopen panelâ€ button changes to â€œclose panelâ€, and the panel opens and displays some content attached to that marker.</figcaption></figure><h2 id="11d5" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated"><strong class="ak"><em class="pb"/></strong></h2><ul class=""><li id="9d38" class="ne nf iq kx b ky ms lb mt le pc li pd lm pe lq nj nk nl nm bi translated">å®šä¹‰<strong class="kx ir"> </strong> <code class="fe of og oh nu b">updatePanel()</code>:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="2a91" class="ny mb iq nu b gy nz oa l ob oc">var updatePanel = function(mId){<br/>  $('#panel').addClass('active');<br/>  $("#panelBtn").text('&lt; Close Panel');<br/>  var markerTitle = idToTitle[mId];<br/>  var markerText = idToText[mId];<br/>  $('#panelTitle').text(markerTitle);<br/>  $('#panelText').text(markerText);<br/>};</span></pre><h2 id="d385" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated"><strong class="ak"><em class="pb">marker onclick()</em></strong></h2><ul class=""><li id="f483" class="ne nf iq kx b ky ms lb mt le pc li pd lm pe lq nj nk nl nm bi translated">å¹¶åœ¨<code class="fe of og oh nu b">markerOnClik()</code>å†…å‘¼å«<code class="fe of og oh nu b">updatePanel()</code>:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="5889" class="ny mb iq nu b gy nz oa l ob oc">var markerOnClick = function(){<br/>  var mId = this.options.markerId;<br/>  var markerTitle = idToTitle[mId];<br/>  $('#searchTerm').val(markerTitle);<br/>  updatePanel(mId);<br/>};</span></pre><ul class=""><li id="5abf" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">åœ¨å¾ªç¯ä¸­ï¼Œå°† onClick äº‹ä»¶æ·»åŠ åˆ°æ‰€æœ‰æ ‡è®°ä¸­ã€‚è®¾ç½®å¼¹å‡ºé€‰é¡¹(popupContent)å¹¶å°†å¼¹å‡ºç»‘å®šåˆ°æ ‡è®°å•å‡»:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="be44" class="ny mb iq nu b gy nz oa l ob oc">$.each(markers, function(key, val) {<br/>...<br/>  marker.on('click', markerOnClick);<br/>  var popupContent = val['title'];<br/>  marker.bindPopup(popupContent);<br/>...<br/>});</span></pre><p id="97a0" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ç°åœ¨ï¼Œå½“ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªæ ‡è®°æ—¶ï¼Œç›¸åº”çš„å¼¹å‡ºçª—å£å°±ä¼šæ‰“å¼€ã€‚</p><p id="ad37" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> 2/æœç´¢è¾“å…¥</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pf"><img src="../Images/9cafda2928809caad6d67778bd0a317f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9k0wg9_Jp9RsKzXx0lKqKQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">When the user types in the search bar, the autocomplete suggests a few marker titles. From there, the user can either select one of those suggestions or confirm her search. Either way, the output is the same as when a user clicks on a marker (see 1/ Click on marker).</figcaption></figure><h2 id="5baf" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated"><strong class="ak"><em class="pb">autocomplete()</em></strong></h2><ul class=""><li id="d231" class="ne nf iq kx b ky ms lb mt le pc li pd lm pe lq nj nk nl nm bi translated">è¿™é‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº† autocomplete()çš„é€‰é¡¹ã€‚åŒæ ·ï¼Œå½“ä»è‡ªåŠ¨å®Œæˆä¸­é€‰æ‹©ä¸€ä¸ªæ¡ç›®æ—¶ï¼Œæˆ‘ä»¬å°†å…¶å€¼å­˜å‚¨åœ¨<code class="fe of og oh nu b">#searchTerm</code>ä¸­å¹¶è°ƒç”¨<code class="fe of og oh nu b">search()</code>:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="08f2" class="ny mb iq nu b gy nz oa l ob oc">$(function() {<br/>   $("#searchTerm").autocomplete({<br/>     source: titlesList,<br/>     minLength: 1,<br/>     select: function(event, ui) { <br/>       $("#searchTerm").val(ui.item.label);<br/>       console.log(ui.item.label);<br/>       search();<br/>     }<br/>   });<br/> });</span></pre><h2 id="7f49" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated"><strong class="ak"> <em class="pb">æœç´¢()</em> </strong></h2><p id="43d2" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">ç°åœ¨ï¼Œå¦‚æœç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªå»ºè®®çš„<code class="fe of og oh nu b">markerTitle</code>ï¼Œå°±ä¼šè°ƒç”¨<code class="fe of og oh nu b">search()</code>å’Œ<code class="fe of og oh nu b">updatePanel()</code>ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ²¡æœ‰å®é™…ç‚¹å‡»æ ‡è®°ï¼Œå¼¹å‡ºçª—å£å°±ä¸ä¼šæ˜¾ç¤ºã€‚</p><p id="dc8b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ç»™æ¯ä¸ªæ ‡è®°é™„åŠ ä¸åŒçš„å±‚ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥å°† fleet çš„ openPopup()æ–¹æ³•åº”ç”¨äº<code class="fe of og oh nu b">search()</code>å‡½æ•°ä¸­çš„å±‚ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/d4fbf0d925bc0ebc7d0a38d6e2b478e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iBtOAcqJvVM7dbG9TzrDKg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">LayerGroup is a method from the Layer class used to group several layers and handle them as one &gt;&gt; see <a class="ae ls" href="https://leafletjs.com/reference-1.4.0.html#layergroup" rel="noopener ugc nofollow" target="_blank">documentation</a></figcaption></figure><ul class=""><li id="0a5a" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">åˆ›å»ºä¸€ç»„å›¾å±‚<code class="fe of og oh nu b">var layers = L.layerGroup().addTo(map);</code>å¹¶åœ¨æ ‡è®°å¾ªç¯<code class="fe of og oh nu b">layers.addLayer(marker)</code>ä¸­æ›´æ–°</li><li id="420d" class="ne nf iq kx b ky nn lb no le np li nq lm nr lq nj nk nl nm bi translated">æ¯ä¸ªæ ‡è®°éƒ½æœ‰ä¸€ä¸ªå±‚ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå­—å…¸æ¥å…è®¸æˆ‘ä»¬æ ¹æ®æ ‡è®°çš„<code class="fe of og oh nu b">markerId</code> : <code class="fe of og oh nu b">var idToLayer = {};</code>æ£€ç´¢æ ‡è®°çš„å±‚:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="e2b9" class="ny mb iq nu b gy nz oa l ob oc">$.each(fgLayers._layers, function(key,val){<br/>  idToLayer[val.options.markerId] = key;<br/>});</span></pre><ul class=""><li id="4a7e" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">æˆ‘ä»¬ç»ˆäºå¯ä»¥å®šä¹‰<code class="fe of og oh nu b">search()</code>å‡½æ•°äº†ã€‚å®ƒä»æœç´¢å­—æ®µä¸­è·å–<code class="fe of og oh nu b">markerTitle</code>ï¼Œæ‰¾åˆ°å®ƒå¯¹åº”çš„æ ‡è®°ï¼Œæ‰“å¼€å®ƒçš„å¼¹å‡ºçª—å£å¹¶è°ƒç”¨<code class="fe of og oh nu b">updatePanel()</code>:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="877b" class="ny mb iq nu b gy nz oa l ob oc">var search = function(){<br/> $("#searchTerm").blur(); <br/> var markerTitle = $("#searchTerm").val();<br/> var markerId = titleToId[markerTitle];<br/> var layerId = idToLayer[markerId];<br/> var layer = layers._layers[layerId];<br/> layer.openPopup();</span><span id="c967" class="ny mb iq nu b gy oi oa l ob oc"> updatePanel(markerId);<br/>}</span></pre><p id="7274" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> 3/æ‰“å¼€-å…³é—­é¢æ¿</strong></p><p id="ae78" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">åœ¨ç”¨æˆ·è¿›è¡Œæœç´¢æˆ–ç‚¹å‡»æ ‡è®°åï¼Œæˆ‘ä»¬å¸Œæœ›ä»–ä»¬èƒ½å¤Ÿå…³é—­é¢æ¿å¹¶éšæ—¶è¿”å›åœ°å›¾ã€‚æˆ‘ä»¬è¿˜æƒ³è®©ä»–ä»¬ç›´æ¥ä»åœ°å›¾ä¸Šé‡æ–°æ‰“å¼€é¢æ¿ã€‚</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ph"><img src="../Images/f9a9026719bda1339131f17bbbd5f7da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KYNVZtyTKmTHd8a8CytONw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">To close the panel, the user can either click the close button of the panel or click the â€œclose panelâ€ button on the map.</figcaption></figure><h2 id="0bb3" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated">togglePanel()</h2><p id="e7d8" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated"><code class="fe of og oh nu b">#panelBtn</code>æŒ‰é’®å…è®¸ç”¨æˆ·è¿ç»­æ‰“å¼€æˆ–å…³é—­é¢æ¿ã€‚å®ƒçš„å†…å®¹åº”è¯¥æ ¹æ®å®ƒå…è®¸ç”¨æˆ·æ¥ä¸‹æ¥åšçš„åŠ¨ä½œ(æ‰“å¼€æˆ–å…³é—­)è€Œæ”¹å˜ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ jQuery çš„ toggleClass æ–¹æ³•æ¥å®ç°è¿™ä¸€ç‚¹ã€‚</p><ul class=""><li id="d400" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">ç»™æŒ‰é’®æ·»åŠ ä¸€ä¸ª onClick äº‹ä»¶:<code class="fe of og oh nu b">&lt;button onClick = "togglePanel()";&gt;</code>å¹¶å®šä¹‰<code class="fe of og oh nu b">togglePanel()</code>:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="cf62" class="ny mb iq nu b gy nz oa l ob oc">var togglePanel = function() {<br/>  $('#panel').toggleClass('active');             <br/>  $("#panelBtn").text(($("#panelBtn").text() == 'Open Panel &gt;') ? '&lt; Close Panel' : 'Open Panel &gt;'); <br/>}</span></pre><h2 id="f1ef" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated">å…³é—­é¢æ¿()</h2><p id="4352" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated"><code class="fe of og oh nu b">#closeBtn</code>æŒ‰é’®å…è®¸ç”¨æˆ·åœ¨é¢æ¿æ‰“å¼€æ—¶å…³é—­é¢æ¿ï¼Œå¹¶æ›´æ–°<code class="fe of og oh nu b">#panelBtn</code>å†…éƒ¨ HTMLã€‚</p><ul class=""><li id="2165" class="ne nf iq kx b ky kz lb lc le ng li nh lm ni lq nj nk nl nm bi translated">ç»™æŒ‰é’®æ·»åŠ ä¸€ä¸ª onClick äº‹ä»¶:<code class="fe of og oh nu b">&lt;button onClick = "closePanel()";&gt;</code>å¹¶å®šä¹‰<code class="fe of og oh nu b">closePanel()</code>:</li></ul><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="85f9" class="ny mb iq nu b gy nz oa l ob oc">var closePanel = function() {<br/>  $('#panel').removeClass('active');<br/>  $('#panelBtn').text('Open Panel &gt;');<br/>}</span></pre></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="62f0" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">åŒ…è£¹</h1><h2 id="e658" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ğŸ˜ƒ</h2><p id="24b5" class="pw-post-body-paragraph kv kw iq kx b ky ms jr la lb mt ju ld le mu lg lh li mv lk ll lm mw lo lp lq ij bi translated">åœ¨æœ¬ç³»åˆ—ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨é™ç»´æ¥æ„å»ºæ•£ç‚¹å›¾ï¼Œè¯¥æ•£ç‚¹å›¾ä½¿ç”¨è·ç¦»ä½œä¸ºç›¸ä¼¼æ€§çš„ä»£ç†ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºäº¤äº’å¼åœ°å›¾ã€‚</p><p id="d1c3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">æˆ‘åœ¨æ’°å†™è¿™äº›æ–‡ç« å’Œä¸ºå®ƒä»¬é…æ’å›¾çš„è¿‡ç¨‹ä¸­è·å¾—äº†å¾ˆå¤šä¹è¶£ï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ã€‚æˆ‘å¸Œæœ›ä½ å·²ç»å‘ç°å®ƒæ˜¯æœ‰ç”¨çš„ï¼Œå¹¶ä¸”æˆ‘æœŸå¾…åœ¨é‚£é‡Œçœ‹è§æ›´å¤šä»¤äººæƒŠå¥‡çš„åœ°å›¾ã€‚</p><h2 id="172e" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated">ğŸ”—é“¾æ¥åˆ°<a class="ae ls" rel="noopener" target="_blank" href="/how-to-build-a-non-geographical-map-1-8d3373e83d6c">#ç¬¬ 1 éƒ¨åˆ†:å¦‚ä½•é€šè¿‡é™ç»´æ˜ å°„ç›¸ä¼¼æ€§</a></h2><h2 id="bddb" class="ny mb iq bd mc om on dn mg oo op dp mk le oq or mm li os ot mo lm ou ov mq ow bi translated">ğŸ‘‰çœ‹çœ‹æˆ‘æ˜¯å¦‚ä½•åœ¨å®è·µä¸­ä½¿ç”¨å®ƒçš„:<a class="ae ls" href="http://www.tailoredpath.com" rel="noopener ugc nofollow" target="_blank">www.tailoredpath.com</a></h2></div></div>    
</body>
</html>