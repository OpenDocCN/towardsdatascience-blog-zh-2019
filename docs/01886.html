<html>
<head>
<title>Jupytext — Diff your Jupyter notebook as you want</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">jupytext——随心所欲地改变你的 Jupyter 笔记本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/diff-your-notebook-as-you-want-jupytext-e5df4db682f7?source=collection_archive---------13-----------------------#2019-03-28">https://towardsdatascience.com/diff-your-notebook-as-you-want-jupytext-e5df4db682f7?source=collection_archive---------13-----------------------#2019-03-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="27a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Jupyter 笔记本已经成为许多数据科学家的首选工具，由于能够逐个运行单元，它已经广泛用于教育。事实上，笔记本是一个巨大的 JSON 文件，这使得它很难与 git 等工具一起工作，如果你想看看 Jupyter 笔记本的输出，nbdime 是一个很好的替代选择，我在大约六个月前写了一篇关于 nbdime 的<a class="ae kl" href="https://codeburst.io/jupyter-notebook-tricks-for-data-science-that-enhance-your-efficiency-ii-version-control-with-c2e7942f7681" rel="noopener" target="_blank">帖子</a>。</p><p id="3305" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">nbdime 很棒，但是它不能很好地与像 VS Codes 和 PyCharm 这样的 ide 一起工作。如果有一个工具可以让你使用笔记本，但你可以像脚本一样不同，那该怎么办？有一个简单的解决方案——<a class="ae kl" href="https://github.com/mwouts/jupytext" rel="noopener ugc nofollow" target="_blank">Jupytext</a>。Jupytext 的神奇之处在于，它可以自动将您的笔记本与. py 脚本配对(您也可以与。html/。md 等……)。这是一个简单而有效的解决方案，让你享受双方的利益。这一对笔记本-脚本解锁了一些很酷的东西。</p><ol class=""><li id="dc12" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated"><em class="kv">像笔记本一样打开一个. py 脚本</em></li><li id="d4f9" class="km kn iq jp b jq kw ju kx jy ky kc kz kg la kk kr ks kt ku bi translated"><em class="kv">版本控制简单</em></li><li id="5246" class="km kn iq jp b jq kw ju kx jy ky kc kz kg la kk kr ks kt ku bi translated"><em class="kv">Jupyter 笔记本的完整 IDE 重构功能</em></li></ol></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><h1 id="5387" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">1.像打开笔记本一样打开. py 脚本</h1><p id="0ae5" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">你可以用这个命令很容易地安装 Jupytext，它会安装 Jupytext 和笔记本扩展。</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="557b" class="mu lj iq mq b gy mv mw l mx my">pip install jupytext</span></pre><figure class="ml mm mn mo gt na gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi mz"><img src="../Images/3bc736063eff32a3859cd484caf2a35e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9jf55LRbCH0vdeb8rLY2tw.png"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">You can open a py script like a .ipynb file with Jupyter notebook</figcaption></figure><p id="818d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你注意了文件名，它实际上是一个. py 文件，但是你可以把它当作一个笔记本。您可以以各种方式交互处理该文件，只是它仍然是一个. py 文件，因此输出不会缓存在脚本文件中，它只存在于您的浏览器中。</p><h2 id="7e68" class="mu lj iq bd lk nl nm dn lo nn no dp ls jy np nq lw kc nr ns ma kg nt nu me nv bi translated">将你的笔记本与脚本配对</h2><p id="b155" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">使用笔记本扩展，只需点击一下鼠标即可配对您的笔记本。在这里，我把我的笔记本和轻型脚本配对。如果你不在乎它是什么格式，就使用轻量级脚本。根据 Jupytext 文档，这些是当前支持的格式。</p><blockquote class="nw nx ny"><p id="e338" class="jn jo kv jp b jq jr js jt ju jv jw jx nz jz ka kb oa kd ke kf ob kh ki kj kk ij bi translated">Markdown 和 R Markdown 文档，Julia，Python，R，Bash，Scheme，Clojure，Matlab，Octave，C++和 q/kdb+脚本。</p></blockquote><figure class="ml mm mn mo gt na gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi oc"><img src="../Images/84d7aea64c6d8a536625a5cec06c691a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nxbeVNw3tE5oBUXb31E-XQ.png"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">File → Jupytext →Pair Notebook with script</figcaption></figure><h1 id="5df9" class="li lj iq bd lk ll od ln lo lp oe lr ls lt of lv lw lx og lz ma mb oh md me mf bi translated">2.版本控制很容易</h1><p id="7fc6" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">它将您的笔记本与脚本配对的事实意味着，嗯，<strong class="jp ir">您可以对。py 文件。</strong>笔记本不必再添加到存储库中，只要您想要显示输出。</p><figure class="ml mm mn mo gt na gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi oi"><img src="../Images/c730e0c7e0b510655cfa7b725bdaf4f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kLNI_NkVjRnOB-9d4uFOSA.png"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Simply diff the .py file instead of the .ipynb file !</figcaption></figure><h1 id="248f" class="li lj iq bd lk ll od ln lo lp oe lr ls lt of lv lw lx og lz ma mb oh md me mf bi translated"><strong class="ak"> 3。笔记本电脑的全面重构功能</strong></h1><p id="1a17" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">Jupytext 非常努力地想弄清楚你们配对的笔记本和脚本的变化。如果您在笔记本上进行更改，脚本将同时更新。</p><figure class="ml mm mn mo gt na gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi oj"><img src="../Images/38297fd55a7769bdc893f11203dd739a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*w6czW2jhyzvv8RMb-ksFSw.gif"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Sync Notebook with the script!</figcaption></figure><p id="1cf9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我正在做的事情的描述。</p><ol class=""><li id="b964" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">在 VS 代码中进行重构</li><li id="638b" class="km kn iq jp b jq kw ju kx jy ky kc kz kg la kk kr ks kt ku bi translated">保存脚本文件。</li><li id="5da5" class="km kn iq jp b jq kw ju kx jy ky kc kz kg la kk kr ks kt ku bi translated">按 F5 刷新笔记本以获取新的更改</li></ol><figure class="ml mm mn mo gt na gh gi paragraph-image"><div role="button" tabindex="0" class="nb nc di nd bf ne"><div class="gh gi oj"><img src="../Images/d96a830e1a71c3b334ace8ae36c21bcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MbCezcd71DEQwNVqb12dqQ.gif"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Refactor in IDE -&gt; Refresh in Notebook and continue</figcaption></figure><h1 id="bf62" class="li lj iq bd lk ll od ln lo lp oe lr ls lt of lv lw lx og lz ma mb oh md me mf bi translated">结论</h1><p id="0658" class="pw-post-body-paragraph jn jo iq jp b jq mg js jt ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ij bi translated">这是我使用 Jupytext 最常见的用例，但是它可以做更多的事情。请查看他们的 Github 页面，了解更多高级用法。Marc 自己也写了一篇关于<a class="ae kl" rel="noopener" target="_blank" href="/introducing-jupytext-9234fdff6c57"> Jupytext 1.0 </a>发布的博客，他在博客中详细解释了该功能。让我们对笔记本进行更多的重构。</p></div></div>    
</body>
</html>