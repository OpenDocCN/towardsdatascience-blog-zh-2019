<html>
<head>
<title>Jump Out of the Jupyter Notebook with nbconvert</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 nbconvert 跳出 Jupyter 笔记本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/jump-out-of-the-jupyter-notebook-with-nbconvert-7d4748960702?source=collection_archive---------4-----------------------#2019-02-18">https://towardsdatascience.com/jump-out-of-the-jupyter-notebook-with-nbconvert-7d4748960702?source=collection_archive---------4-----------------------#2019-02-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d1a3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">轻松将笔记本转换为 Python 脚本和可共享文件</h2></div><p id="7763" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你是一名数据科学家<em class="le">，nbconvert </em>是一个很好的工具，可以添加到你的工具箱中。使用 nbconvert，您可以从命令行轻松地将 Jupyter 笔记本转换为 Python 脚本。它还可以让你把你的 Jupyter 笔记本变成像。html and.pdf 文件。多酷啊。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/8b03954c8bca1806206bf722d0a7c396.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qIFXKFyIkca-C52vK5eaig.jpeg"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Jumping Out of a Jupyter Notebook</figcaption></figure><p id="650d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">nbconvert 是一个开源软件项目，与<a class="ae lv" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>捆绑在一起。引用<a class="ae lv" href="https://nbconvert.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> nbconvert docs </a>的话，它支持:</p><ul class=""><li id="7e8d" class="lw lx it kk b kl km ko kp kr ly kv lz kz ma ld mb mc md me bi translated"><strong class="kk iu">以熟悉的格式呈现</strong>信息，如 PDF。</li><li id="a4e7" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld mb mc md me bi translated"><strong class="kk iu">发表</strong>使用 LaTeX 的研究，为在论文中嵌入笔记本打开了大门。</li><li id="fdfa" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld mb mc md me bi translated"><strong class="kk iu">与工作中不使用笔记本的其他人合作</strong>。</li><li id="1503" class="lw lx it kk b kl mf ko mg kr mh kv mi kz mj ld mb mc md me bi translated">使用 HTML 通过网络与许多人分享内容。</li></ul><p id="2200" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本指南自 nbconvert 版本 5.4 起生效。让我们深入研究如何使用它！</p><h1 id="5651" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">安装 nbconvert 和朋友</h1><p id="4f6a" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">虽然 nbconvert 是随 Anaconda 一起安装的，但是它也可以与<a class="ae lv" href="https://pypi.org/project/nbconvert/" rel="noopener ugc nofollow" target="_blank"> pip </a>一起安装。您可以将 Jupyter 笔记本转换为一些文件格式，如 HTML，开箱即用。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nh"><img src="../Images/a35df98eac9e934fe7f67720708bb7fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:232/format:webp/1*jrlIBS0AWQbeg8kYyO2UYg.png"/></div></div></figure><p id="b9bc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，如果你想将笔记本转换成 LaTex、PDF、Ascii、reStructuredTExt 或 Markdown，你需要安装<a class="ae lv" href="https://pandoc.org/" rel="noopener ugc nofollow" target="_blank"> Pandoc </a>和<a class="ae lv" href="https://www.latex-project.org/" rel="noopener ugc nofollow" target="_blank"> LaTeX </a>。这些软件包的安装信息因您的机器而异，您可以在这里找到<a class="ae lv" href="https://nbconvert.readthedocs.io/en/latest/install.html" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="91fb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看如何从 shell 中运行 nbconvert。</p><h1 id="7f16" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">从命令行运行 nbconvert</h1><p id="f8f3" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">从您的终端 shell 中，运行<code class="fe ni nj nk nl b">jupyter nbconvert --to my_format my_notebook.ipynb</code>。</p><p id="fdde" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe ni nj nk nl b">my_format</code>是转换选项之一。</p><p id="b260" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe ni nj nk nl b">my_notebook.ipynb</code>是要转换的笔记本文件路径的名称。</p><h1 id="facf" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">信息输出公式</h1><h2 id="7995" class="nm ml it bd mm nn no dn mq np nq dp mu kr nr ns mw kv nt nu my kz nv nw na nx bi translated">超文本标记语言</h2><p id="6968" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">用<code class="fe ni nj nk nl b">jupyter nbconvert --to html my_notebook.ipynb</code>把你的 Jupyter 笔记本变成漂亮的 HTML。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/633f0fb99bce75c2ca08fe3455ce8475.png" data-original-src="https://miro.medium.com/v2/resize:fit:128/format:webp/1*msoE9Oxo-IwCZyTC_dv1Gw.png"/></div></figure><p id="ebea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">默认的输出格式是一个格式良好的 HTML 页面。如果你想要一个基本的 HTML 版本，可能对嵌入另一个 HTML 文档有用，那么把<code class="fe ni nj nk nl b">--template basic</code>作为参数传递。</p><p id="c87f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看您可以将笔记本转换成的其他格式。</p><h2 id="5f62" class="nm ml it bd mm nn no dn mq np nq dp mu kr nr ns mw kv nt nu my kz nv nw na nx bi translated">PDF、降价、重组文本、LaTeX 和 AsciiDoc</h2><p id="8a9d" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">尝试这些格式之前，请先安装 LaTeX 和 Pandoc。这里的安装信息是<a class="ae lv" href="https://nbconvert.readthedocs.io/en/latest/install.html" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="83c9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">分别是<code class="fe ni nj nk nl b">pdf</code>、<code class="fe ni nj nk nl b">markdown</code>、<code class="fe ni nj nk nl b">rst</code>、<code class="fe ni nj nk nl b">latex</code>、<code class="fe ni nj nk nl b">asciidoc</code>。</p><p id="41ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">LaTeX 文件可以在此处<a class="ae lv" href="https://nbconvert.readthedocs.io/en/latest/usage.html" rel="noopener ugc nofollow" target="_blank">描述的几种不同的报告和文章模板</a>中导出。</p><p id="3394" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">选择 Markdown，reStructuredText，LaTeX，ASCII 输出创建一个文件夹。png 图像从您的笔记本电脑的图形。</p><p id="166f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我刚刚做了一个<a class="ae lv" href="https://github.com/jupyter/nbconvert/pull/956" rel="noopener ugc nofollow" target="_blank"> PR </a>将 ASCII 转换添加到文档中，很快这个功能也将被记录下来。</p><h2 id="2090" class="nm ml it bd mm nn no dn mq np nq dp mu kr nr ns mw kv nt nu my kz nv nw na nx bi translated">运行一个或多个笔记本</h2><p id="6885" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">当然，在 Jupyter 笔记本中，你可以通过菜单或者快捷键来运行它。我提到这个特性是因为它作为 Python 脚本的一部分可能很有用。就用<code class="fe ni nj nk nl b">--to notebook</code>作为你的论据吧。如果你想尝试这个功能，有几个选项，所以我建议你参考<a class="ae lv" href="https://nbconvert.readthedocs.io/en/latest/usage.html#notebook-and-preprocessors" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><h2 id="4b03" class="nm ml it bd mm nn no dn mq np nq dp mu kr nr ns mw kv nt nu my kz nv nw na nx bi translated">Reveal.js HTML 幻灯片</h2><p id="12c0" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">用<code class="fe ni nj nk nl b">--to slides</code>将笔记本转变成幻灯片听起来很有希望，但这还不是一个平稳的过程。您需要首先手动调整 Jupyter 笔记本电池。您还需要安装 Reveal.js 软件包，或者在放映幻灯片时访问互联网。此外，您需要设置一个服务器来使用幻灯片计时。</p><p id="b955" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我个人现在不会使用幻灯片功能，但它值得在未来重新使用。如果你愿意，这方面还有开发工作要做。😄</p><p id="097a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来让我们看看在程序中运行 nbconvert。</p><h2 id="0a06" class="nm ml it bd mm nn no dn mq np nq dp mu kr nr ns mw kv nt nu my kz nv nw na nx bi translated">可执行 Python 脚本</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/c693c9cafe64e17214d86aaeed314dd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:212/format:webp/1*wjPnGl9JAofuwb9Nnzj_rg.png"/></div></figure><p id="608e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从 Jupyter 笔记本轻松转换到 Python 脚本的能力让我对尝试 nbconvert 感到兴奋。你猜怎么着？有用！</p><p id="c57b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe ni nj nk nl b">jupyter nbconvert --to script my_notebook.ipynb</code>在同一个文件夹中创建<em class="le"> my_notebook.py </em>。然后你就可以跑<code class="fe ni nj nk nl b">python my_notebook.py</code>笑了。😄</p><p id="b945" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要使用这个脚本，您当然需要确保导入的包在您的环境中可用。另外，注意以<code class="fe ni nj nk nl b">%</code>、<code class="fe ni nj nk nl b">%%</code>或<code class="fe ni nj nk nl b">!</code>开头的 Jupyter 魔法命令会让你的脚本停下来，所以你需要删除它们。</p><h1 id="b135" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">将 nbconvert 作为库运行</h1><p id="62aa" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">你可以写一个 Python 程序把 nbconvert 当库用。文档中有一个例子<a class="ae lv" href="https://nbconvert.readthedocs.io/en/latest/nbconvert_library.html" rel="noopener ugc nofollow" target="_blank"/>。警告您不完全清楚您需要什么样的文件，如何使用导出器，或者如何编写文件。</p><p id="8082" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在一个开源项目中使用了 nbconvert，以便轻松地将 Jupyter 笔记本转换为 Python 可执行文件和 HTML 文件。下面是如何使用<a class="ae lv" href="https://github.com/notebooktoall/notebooktoall" rel="noopener ugc nofollow" target="_blank"> NotebookToAll </a>包用两行代码创建这些文件。</p><p id="1763" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe ni nj nk nl b">pip install notebooktoall</code></p><pre class="lg lh li lj gt oa nl ob oc aw od bi"><span id="ead0" class="nm ml it nl b gy oe of l og oh">from notebooktoall.transform import transform_notebook</span><span id="82c0" class="nm ml it nl b gy oi of l og oh">transform_notebook(ipynb_file=”my_jupyter_notebook.ipynb”, export_list=[“html”, “py”])</span></pre><p id="2e04" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我正在完成一个使用 nbconvert 制作 OSS 软件包的经验指南。在这篇文章中，我将向您展示如何用自动化测试和部署特性创建您自己的 Python 包。跟着我，保证你不会错过！</p><h1 id="cb6f" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">Jupyter 实验室/Jupyter 笔记本内部</h1><p id="2291" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">如果你不想使用命令行或库或我的小软件包，并且你在 Jupyter 笔记本中，你可以通过查看菜单下载转换后的文件。见下图。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/cfb09426dc9dcd9e8f7d7c7678cf2a3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:634/format:webp/1*7325tHZxzWvuGG7mqfj4zg.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Time to hop</figcaption></figure><p id="e67c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与命令行相比，您失去了一点控制，但它很快。😏</p><p id="d350" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">更新 2019 年 2 月 27 日</strong>笔记本也可以从 Jupyter 实验室导出。进入<em class="le">文件- &gt;将笔记本导出为… </em>并选择您的导出格式。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/8258418ab9e84592a5d718a469bbed19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*I-fE9_OEStgahlmTtBTVRw.jpeg"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Jump out of your Jupyter Notebook</figcaption></figure><h1 id="10c1" class="mk ml it bd mm mn mo mp mq mr ms mt mu jz mv ka mw kc mx kd my kf mz kg na nb bi translated">包装</h1><p id="ee7b" class="pw-post-body-paragraph ki kj it kk b kl nc ju kn ko nd jx kq kr ne kt ku kv nf kx ky kz ng lb lc ld im bi translated">现在您已经看到了 nbconvert 的基础知识。我希望这篇文章能给你一些在工作中使用它的想法。</p><p id="1045" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你觉得这篇文章很有趣，请在你最喜欢的社交媒体渠道上分享，这样其他人也可以找到它！👏</p><p id="7831" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我撰写关于数据科学、Python、Docker 和其他技术主题的文章。如果你对此感兴趣，请点击查看。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><a href="https://dataawesome.com"><div class="ab gu cl ol"><img src="../Images/ba32af1aa267917812a85c401d1f7d29.png" data-original-src="https://miro.medium.com/v2/format:webp/1*oPkqiu1rrt-hC_lDMK-jQg.png"/></div></a></figure><p id="c33a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读！</p></div></div>    
</body>
</html>