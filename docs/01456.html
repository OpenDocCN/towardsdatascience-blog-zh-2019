<html>
<head>
<title>Developer Tips for Building Products That Last</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开发人员构建持久产品的技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/developer-tips-for-building-products-that-last-e2fab8047ad4?source=collection_archive---------17-----------------------#2019-03-07">https://towardsdatascience.com/developer-tips-for-building-products-that-last-e2fab8047ad4?source=collection_archive---------17-----------------------#2019-03-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a0fd" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你会感谢未来的自己</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/12cef3ca845ceca7bb0c9a40951450c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FQfVDA-2ChkDyrtO"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@naveen_rd?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Naveen Raj Dhanapal</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="dbfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你想到伟大的设计时，你会想到什么？是手艺吗？设计本身的某种<a class="ae ky" rel="noopener" target="_blank" href="/the-kiss-of-simplicity-b8153a69048e">优雅</a>？你欣赏设计师还是制作者？</p><p id="aaa3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不管你的答案是什么，有一件事是肯定的:你需要接触这个设计来欣赏它。</p><p id="8c7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们今天欣赏的大部分伟大作品都是为了维护而设计的。例如，想想建于中世纪的欧洲大教堂。几百年后它们并没有崩溃。相反，他们仍然巍然屹立，欢迎游客。</p><p id="cc7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如果他们的建筑师只专注于开发新的想法，很有可能，我们今天就无法访问他们。他们早就被遗忘，埋在尘土里了。</p><p id="1219" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这和<strong class="lb iu">软件架构</strong>有什么关系？挺多的，真的！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/2e34a962391d1d19ae682c6efafd6315.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Wv-_xwV0GYBM4pCg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@dutchdanny?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Danny van Dijk</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="21ad" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">你为了什么而优化？</h1><p id="b724" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">让我们停下来回答一下本节标题中的问题:开发软件时，你优化的目的是什么？是开发成本吗？基础设施成本？还是维护费用？</p><p id="c84c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据我的经验，许多公司倾向于选择前两个选项。维护很少得到优先考虑。这种做法有什么问题？好吧，即使你设法在预算内按时交付产品，很可能在它的生命周期内，它会产生巨大的成本。</p><p id="fc81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">规格变更；合规问题出现；当然，还有一些错误——一些在你的应用程序中，一些在你使用的第三方组件中。停机和崩溃也会让你的生活更加艰难。听起来很激烈？嗯，你可以为所有这些灾难做好准备！这篇文章会给你一些提示。</p><h1 id="3977" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">没人喜欢维护</h1><p id="e60f" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">库尔特·冯内古特写道，“人类性格中的另一个缺陷是，每个人都想建造，却没有人想维护。”在软件开发中尤其如此。让软件工作——即准备架构和实现——被视为一项光荣的工作。然而之后的一切——QA、部署、维护、错误修复等等。—不分享荣耀。有时这些任务甚至被认为是“肮脏的”</p><p id="eedb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是我们越不注重维护，生产系统的改变就越困难，代价也就越大。这些变化几乎肯定是必要的。世界上没有比临时解决方案更长久的了。</p><p id="b8e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我参与了维护一项服务的斗争，这项服务本应上线不超过两个月。距离最初的部署已经一年多了，我们缺少文档、工作部署脚本和一些试用期已过的外部服务。没有人关心他们，因为他们知道这个项目几周后就会失败。但事实并非如此。</p><p id="b19e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">浪费的极端案例？不得不对你的团队创建的项目进行逆向工程，因为没有人记得它应该如何工作。请不要让这种事发生。实际上可能是你在做维护工作。让未来的自己更轻松。怎么会？一会儿我给你看。</p><h1 id="c7e0" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">一些奇怪的技巧使维护变得更容易</h1><p id="36fa" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">不幸的是，没有一个完美的技巧可以让维护变得更容易。你能做的最好的事情就是遵循一些能降低未来成本的最佳实践。</p><p id="9bbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也许软件工程师最头疼的事情是调试。为了找到为什么事情没有像预期的那样工作，你可能需要测试多个假设，并仔细观察算法的流程。</p><p id="5df0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您有一个调试器连接到您的开发环境，并且您自己控制环境时，这很容易。但是在一个每分钟服务成千上万个客户机的生产系统中，仅仅为了观察而停止执行是不可取的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/872b9bc8cdbb45140165152d81ea56c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XGcG0fY7cyKtzz6E"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@stoppegp?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Martin Stoppler</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="8219" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">可观察性</h1><p id="07d4" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">确保事情按计划运行的一个流行方法是可观察性。如果你没有听说过这个术语，你可能想读一读 IOD 专家<a class="ae ky" href="https://www.iamondemand.com/blog/my-experience-as-an-enterprise-devops-engineer-and-as-a-startup-sre/" rel="noopener ugc nofollow" target="_blank">约翰·法赫尔</a>的《<a class="ae ky" href="https://logz.io/blog/what-is-observability/" rel="noopener ugc nofollow" target="_blank">那么到底什么是可观测性</a>》。简而言之，它融合了监控、日志记录、跟踪、分析和警报功能。</p><p id="acd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，拥有每一个都是不够的；他们一起工作是很重要的。这样，在任何时间点，你都可以检查事情是否按计划进行，或者是否有火开始了，你还有时间去扑灭。</p><p id="c6ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可观察性有什么了不起的？如果你有，你是第一个知道潜在问题的人，而不是客户。通常，您可以在问题变得具有破坏性之前解决它们。或者在别人注意到之前。</p><p id="62ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回到我们的大教堂类比:你可以在付费游客注意到之前修好漏水的屋顶。</p><h1 id="5585" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">自动化部署</h1><p id="00c9" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">一旦你弄清楚<em class="mu">需要做什么</em>，你也必须发货。手动部署过程存在风险，并且容易出错。您的发布过程的自动化程度越高，就越容易将必要的变更推进到生产系统中，或者在事情出错的情况下回滚它们。这就是持续集成/持续部署(CI/CD)发挥作用的地方。一个好的部署管道将在每次更新时节省您的时间，一个非常好的部署管道将在不导致停机的情况下做到这一点。</p><p id="0652" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的大教堂，这意味着在游客参观时修理漏水的屋顶——不要被打扰！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/8763e53175e0cd6e61aa19ee27cf13f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*asE6WxC7i0F0axB8"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@lanju_fotografie?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lanju Fotografie</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="ff03" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">混沌工程</h1><p id="7a95" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">这比前面的技巧更进一步。可观察性侧重于早期发现，CI/CD 侧重于不间断部署，而混沌工程侧重于问题预防。</p><p id="1a11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与我们之前的对策不同，在建筑领域没有简单的类比来解释这一点。相反，它有点像分割的军事基地。一个片段中的爆炸只会损害该特定片段的内容。它不会影响任何其他部分。人们可以在没有被击中的部分继续他们的任务。</p><p id="f3f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更妙的是，混沌工程公开寻求危险并玩弄它们。你可能听说过网飞的猿军。网飞认为，当其基础设施不断受到各种攻击时，每次事件发生时，设计都会变得更加强大。</p><p id="ea03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">混沌工程不仅需要各种级别的冗余，还需要巧妙的测试来确保每天都在实践对可能出现的最坏情况的反应。结果呢？由于网飞经常进行这种自我毁灭，到目前为止没有外部威胁能够伤害它。</p><h1 id="ce98" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">尝试适合你的方法</h1><p id="0bc6" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在本文中，我已经向您展示了为什么从第一天开始就关注维护非常重要。我还提出了一些解决方案，可以帮助你实现这个目标。但是正如我所提到的，没有一个简单的技巧每次都能奏效。</p><p id="0433" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个服务都是不同的，有不同的需求和用例。有些可以处理停机，而对其他人来说，这意味着数千美元的收入损失。当与客户讨论工作范围(外部或内部)时，确保计划适当的维护策略。毕竟，如果您的应用程序每个月要处理 100 个请求，开发一个适当的自我修复集群可能有点太多了。</p><p id="1012" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，除非你是为了好玩(也是为了学习)。</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><p id="fe6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mu">原载于 2019 年 3 月 7 日</em><a class="ae ky" href="https://www.iamondemand.com/blog/developer-tips-for-buildings-product-that-last/" rel="noopener ugc nofollow" target="_blank"><em class="mu">【https://www.iamondemand.com</em></a><em class="mu">。</em></p></div></div>    
</body>
</html>