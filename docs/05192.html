<html>
<head>
<title>Coding Interview Questions-Reservoir Sampling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编码面试问题-油藏取样</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/coding-interview-questions-reservoir-sampling-687ff5b6822b?source=collection_archive---------13-----------------------#2019-08-03">https://towardsdatascience.com/coding-interview-questions-reservoir-sampling-687ff5b6822b?source=collection_archive---------13-----------------------#2019-08-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="0875" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">储层采样是一种从数据流中采样元素的算法。假设您有一个非常大的数据元素流，例如:</p><ul class=""><li id="0e70" class="ko kp it js b jt ju jx jy kb kq kf kr kj ks kn kt ku kv kw bi translated">6 月对 DuckDuckGo 搜索的查询</li><li id="e54d" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">圣诞节期间在塞恩斯伯里购买的产品</li><li id="ae73" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">白皮书指南中的姓名。</li></ul><p id="26f1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi lc translated">让我用这些简单的词语想象一下下面的“约会”游戏节目。参赛选手是一名单身女子，她坐在一张空椅子旁。主持人介绍第一个求婚者；未婚女子不得不邀请他和她坐在一起，成为她目前的“约会对象”。接下来，主持人介绍第二位求婚者。现在女孩可以选择是继续她现在的“约会对象”还是用新的追求者取代他。她可以使用各种手段来做出决定，比如提问或者让两个追求者以某种方式竞争。之后，主持人介绍第三个追求者，女孩可以再次选择保留或替换她现在的“约会对象”以这种方式展示了<em class="ll"> n </em>个追求者后，游戏节目结束，女孩与她在最后保留的追求者，即节目的“赢家”进行真正的约会。</p><p id="c93b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">想象一下，一个参赛者仅仅通过抛硬币来决定是否交换她现在的“约会对象”。这对追求者“公平”吗，也就是说，获胜者的概率分布在所有追求者中是一致的吗？答案是否定的，因为最后几个追求者比最初几个追求者更有可能获胜。第一个求婚者是最不幸的，因为如果他想和女孩约会，他必须通过<em class="ll"> n- </em> 1 次抛硬币。最后一个求婚者的机会最大——他只需要赢得一次抛硬币的机会</p><figure class="lm ln lo lp gt lq"><div class="bz fp l di"><div class="lr ls l"/></div></figure></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><pre class="lm ln lo lp gt ma mb mc md aw me bi"><span id="7dcf" class="mf mg it mb b gy mh mi l mj mk">import random<br/><br/>def reservoir_sampling(iterator, k):<br/>    result = []<br/>    n = 0<br/>    for item in iterator:<br/>        n = n + 1<br/>        if len(result) &lt; k:<br/>            print(result)<br/>            result.append(item)<br/>        else:<br/>            j = int(random.random() * n)<br/>            if j &lt; k:<br/>                result[j] = item<br/>                print('else:', result)<br/><br/>    return result<br/><br/><br/>if __name__ == "__main__":<br/>    stream = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]<br/>    k = 5<br/>    print(reservoir_sampling(stream, k))</span></pre><p id="3e22" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">干杯，<br/> <strong class="js iu">扎伊德·阿里萨·阿尔马利基</strong></p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="d930" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在 Udemy 上用 python 查看我们的免费课程 AWS。</p><blockquote class="mm"><p id="933d" class="mn mo it bd mp mq mr ms mt mu mv kn dk translated"><em class="mw">感谢阅读。如果你喜欢这篇文章，请点击下面的按钮，这样我们就可以保持联系。</em></p></blockquote></div></div>    
</body>
</html>