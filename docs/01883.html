<html>
<head>
<title>How to load data from a pickle file in S3 using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 Python 从 S3 的 pickle 文件加载数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-load-data-from-a-pickle-file-in-s3-using-python-ffe2866b7eba?source=collection_archive---------10-----------------------#2019-03-28">https://towardsdatascience.com/how-to-load-data-from-a-pickle-file-in-s3-using-python-ffe2866b7eba?source=collection_archive---------10-----------------------#2019-03-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="8d94" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我不知道你怎么想，但我喜欢尽可能高效地钻研我的数据。从 S3 提取不同的文件格式是我每次都要查找的事情，所以这里我展示了如何将数据从存储在 S3 的 pickle 文件加载到我本地的 Jupyter 笔记本上。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/e6b9546cfc9ebd0f840759b134f6d41c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JMK6aNM2uIcNY0k5oQqxsA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">This has got to be the ugliest picture I’ve ever used for one of my blogs. Thx Google Search and Print Screen!</figcaption></figure><h2 id="e9cc" class="lb lc iq bd ld le lf dn lg lh li dp lj jy lk ll lm kc ln lo lp kg lq lr ls lt bi translated">一些注意事项:</h2><ul class=""><li id="8622" class="lu lv iq jp b jq lw ju lx jy ly kc lz kg ma kk mb mc md me bi translated">永远不要硬编码您的凭证！如果你这样做了，一定不要把代码上传到仓库，尤其是 Github。有网络爬虫寻找意外上传的密钥，你的 AWS 帐户将被危及。相反，使用<code class="fe mf mg mh mi b">boto3.Session().get_credentials()</code></li><li id="688a" class="lu lv iq jp b jq mj ju mk jy ml kc mm kg mn kk mb mc md me bi translated">在 python 的老版本中(Python 3 之前)，你将使用一个名为<code class="fe mf mg mh mi b">cPickle</code>的包而不是<code class="fe mf mg mh mi b">pickle</code>，正如<a class="ae mo" href="https://stackoverflow.com/questions/49579282/cant-find-module-cpickle-using-python-3-5-and-anaconda" rel="noopener ugc nofollow" target="_blank">这个 StackOverflow </a>所验证的。</li></ul><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mp mq l"/></div></figure><p id="b425" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">维奥拉。而从那里看，<code class="fe mf mg mh mi b">data</code>应该是一个熊猫的数据帧。</p><p id="8d22" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我发现消除数据帧中字段和列名的空白很有帮助。我不确定这是一个 pickle 文件，还是针对我的数据。如果这个问题影响到你，下面是我使用的:</p><p id="b934" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要消除列名中的空白:</p><pre class="km kn ko kp gt mr mi ms mt aw mu bi"><span id="6409" class="lb lc iq mi b gy mv mw l mx my">col_list = []<br/>for col in list(data.columns):<br/>    col_list.append(col.strip())</span><span id="9418" class="lb lc iq mi b gy mz mw l mx my">data.columns = col_list</span></pre><p id="afc6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要消除数据中的空白:</p><pre class="km kn ko kp gt mr mi ms mt aw mu bi"><span id="44e5" class="lb lc iq mi b gy mv mw l mx my">data = data.applymap(lambda x: x.strip() if type(x)==str else x)</span></pre><h2 id="d909" class="lb lc iq bd ld le lf dn lg lh li dp lj jy lk ll lm kc ln lo lp kg lq lr ls lt bi translated">资源:</h2><div class="na nb gp gr nc nd"><a href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/configuration.html" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd ir gy z fp ni fr fs nj fu fw ip bi translated">凭证- Boto 3 文档 1.9.123 文档</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">boto3 中有两种类型的配置数据:凭证和非凭证。凭据包括以下项目……</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">boto3.amazonaws.com</p></div></div></div></a></div></div></div>    
</body>
</html>