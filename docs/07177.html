<html>
<head>
<title>Installing Python 3 and Flask on GoDaddy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 GoDaddy 上安装 Python 3 和 Flask</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/installing-python-3-and-flask-on-godaddy-1635fe6f24bc?source=collection_archive---------6-----------------------#2019-10-10">https://towardsdatascience.com/installing-python-3-and-flask-on-godaddy-1635fe6f24bc?source=collection_archive---------6-----------------------#2019-10-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/e18558ca70e0bd7272f0313ce42a941f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*XzIRJGujfqAiOV2EIQgR_Q.png"/></div></figure><p id="b972" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这篇文章过时了。Flask 需要 Python 3.7 &gt;，请到<a class="ae ks" href="https://medium.com/@jordan.b.ireland/ebe764ab78a7" rel="noopener">这里</a>查看更新的指令。</p><p id="d1b3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">最近</strong>我决定在我的 GoDaddy 主机上托管我的 Python 应用程序，并花了几个小时调试，因为在 Heroku/Apache 独立服务器之外的其他服务器上安装 Python 和 Flask 的文档很难获得。我想把它放在我的托管平台上的原因是因为 Heroku 和其他人不能支持我的 web 应用程序需求。它们受限于功率和内存限制。任何复杂的应用程序都应该通过自己的平台托管，因为这样会快得多。</p><p id="4d37" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">下面的 Github 文件可以在这里找到</strong><a class="ae ks" href="https://github.com/Jordan-Ireland/articles/tree/master/Installing%20Python%20and%20Flask%20on%20GoDaddy" rel="noopener ugc nofollow" target="_blank"><strong class="jw ir"/></a></p><p id="0fab" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">在接下来的</strong>几周，我将更新这篇文章，为新用户提供每个主题的链接，并且随着新问题的出现，还将增加更多的故障诊断内容。</p></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><h2 id="99b2" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">目录:</h2><ul class=""><li id="3e67" class="lt lu iq jw b jx lv kb lw kf lx kj ly kn lz kr ma mb mc md bi translated"><a class="ae ks" href="#4a73" rel="noopener ugc nofollow">先决条件</a></li><li id="c219" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated"><a class="ae ks" href="#64ec" rel="noopener ugc nofollow">安装 Python </a></li><li id="5c4f" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated"><a class="ae ks" href="#0feb" rel="noopener ugc nofollow">安装砂箱</a></li><li id="a601" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated"><a class="ae ks" href="#5fb2" rel="noopener ugc nofollow">设置你的烧瓶应用</a></li><li id="1a7e" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated"><a class="ae ks" href="#3a5e" rel="noopener ugc nofollow">启用 SSH </a></li><li id="09df" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated"><a class="ae ks" href="#4eab" rel="noopener ugc nofollow">故障排除</a></li></ul></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><h1 id="4a73" class="mj lb iq bd lc mk ml mm lf mn mo mp li mq mr ms ll mt mu mv lo mw mx my lr mz bi translated"><strong class="ak">先决条件</strong></h1><p id="8805" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf na kh ki kj nb kl km kn nc kp kq kr ij bi translated"><a class="ae ks" href="#99b2" rel="noopener ugc nofollow"> ᴛᴏᴘ^ </a></p><p id="b775" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在开始之前，你需要下载一些东西或者做一些准备。</p><p id="95ec" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">这些</strong>指令已经在 GoDaddy Shared 和 GoDaddy Business hosting 上进行了测试。<a class="ae ks" href="#91f8" rel="noopener ugc nofollow"> </a></p><h2 id="dad5" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated">您将需要:</h2><ul class=""><li id="b898" class="lt lu iq jw b jx lv kb lw kf lx kj ly kn lz kr ma mb mc md bi translated">一个 GoDaddy 托管帐户，至少有 1 个网站托管。</li><li id="cca3" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">PuTTy 是一个免费的 SSH 控制台，用于连接 GoDaddy 服务器。这将用于安装 Python。</li><li id="eeaf" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">通过 GoDaddy 的 SSH 访问。(<a class="ae ks" href="#3a5e" rel="noopener ugc nofollow">下面的说明</a>)</li><li id="7da3" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">稳定的互联网连接。如果互联网中断，安装将会停止，您必须卸载它并重新开始。我对这个有很多问题。</li><li id="0c7e" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">编程 IDE。我用<a class="ae ks" href="https://www.jetbrains.com/pycharm/download/" rel="noopener ugc nofollow" target="_blank"> PyCharm </a>处理 Python/CGI，用<a class="ae ks" href="https://visualstudio.microsoft.com/free-developer-offers/" rel="noopener ugc nofollow" target="_blank"> Visual Studio </a>处理 HTML、CSS 和 Javascript。</li></ul></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><h1 id="64ec" class="mj lb iq bd lc mk ml mm lf mn mo mp li mq mr ms ll mt mu mv lo mw mx my lr mz bi translated">安装 Python</h1><p id="c6d8" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf na kh ki kj nb kl km kn nc kp kq kr ij bi translated"><a class="ae ks" href="#99b2" rel="noopener ugc nofollow"> ᴛᴏᴘ^ </a></p><h2 id="9b97" class="la lb iq bd lc ld le dn lf lg lh dp li kf lj lk ll kj lm ln lo kn lp lq lr ls bi translated"><strong class="ak"> <em class="nd">登录 PuTTy(或其他 SSH 终端):</em> </strong></h2><p id="b90b" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf na kh ki kj nb kl km kn nc kp kq kr ij bi translated"><strong class="jw ir">一旦</strong> PuTTy 安装完毕，就可以开始安装 Python 了。打开 PuTTy 控制台。</p><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ne"><img src="../Images/b3c134572edf15b0ce5b5a2df656ef99.png" data-original-src="https://miro.medium.com/v2/resize:fit:178/format:webp/1*aUXkPwF4ci0XxqUyPctLUQ.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk">PuTTy Icon. Don’t open PuTTyGen</figcaption></figure><p id="8cc6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae ks" href="#4e13" rel="noopener ugc nofollow"> </a> <strong class="jw ir">键入</strong>您的主机名，这将是您在 GoDaddy 上启用<a class="ae ks" href="#3a5e" rel="noopener ugc nofollow"> SSH </a>时的 IP 地址。这可以在<code class="fe nr ns nt nu b">Server</code>子菜单下的主机设置中找到。您的端口几乎总是为<code class="fe nr ns nt nu b">22</code>，但是请仔细检查以确保正确。这可以在 SSH 启用菜单中找到。点击打开，它将开始连接。</p><p id="f98b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> PuTTy </strong>将创建一个到 GoDaddy 服务器的安全连接；它会提示您输入用户名进入<strong class="jw ir">主</strong> FTP 账户。这将在您启用 SSH 的主机设置下找到。这将是一串字母字符和数字，都是小写字母。该密码将与用于登录 GoDaddy 的密码相同。</p><p id="82fe" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">一旦</strong>登录到 PuTTy，键入以下命令开始安装过程。</p><pre class="nf ng nh ni gt nv nu nw nx aw ny bi"><span id="e5b8" class="la lb iq nu b gy nz oa l ob oc"><strong class="nu ir">##</strong> <em class="od">Download Python 3.5.7 (latest version GoDaddy supports as of writing)<br/></em>$ wget <a class="ae ks" href="https://www.python.org/ftp/python/3.5.7/Python-3.5.7.tgz" rel="noopener ugc nofollow" target="_blank">https://www.python.org/ftp/python/3.5.7/Python-3.5.7.tgz</a></span><span id="af7a" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">##</strong> <em class="od">Once wget is done downloading</em> </span><span id="932a" class="la lb iq nu b gy oe oa l ob oc">$ tar xvzf Python-3.5.7.tgz</span><span id="c33e" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">##</strong> <em class="od">Once tar is done decompressing</em></span><span id="7a24" class="la lb iq nu b gy oe oa l ob oc">$ cd Python-3.5.7</span><span id="a8fe" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">##</strong> <em class="od">This should take you to the main Python Directory</em></span><span id="4723" class="la lb iq nu b gy oe oa l ob oc">$ ./configure --prefix=$HOME/.local</span><span id="bd98" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">##</strong> This step sets up your configuration and makes files</span><span id="c346" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">$ </strong>make<br/><strong class="nu ir">$ </strong>make install</span><span id="ceff" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">##</strong> <em class="od">This will create the Python files and folders, but will take a long time. The last command will install </em>pip <em class="od">and </em>setuptools <em class="od">which will be used to install any package you want</em></span></pre><p id="0af8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">上面的</strong>步骤将下载并安装 Python、pip 和设置工具。如果有任何错误，请参见下面的故障排除部分。(这将随着更多错误的发现而更新)</p><p id="ee62" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">接下来的</strong>需要完成 Python 的安装并确保环境变量已经设置好。</p><pre class="nf ng nh ni gt nv nu nw nx aw ny bi"><span id="db3e" class="la lb iq nu b gy nz oa l ob oc"><strong class="nu ir">$ </strong>cd $home<br/><strong class="nu ir">$ </strong>vi .bash_profile</span><span id="2e4c" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">## </strong>Press enter and change the file to equal this EXACTLY</span><span id="717a" class="la lb iq nu b gy oe oa l ob oc">PATH=$HOME/.local/bin:$PATH<br/>export PATH</span><span id="b7e9" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">##</strong> Once done, Type :wq and press enter. This will save your file and close it</span><span id="595a" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">$</strong> python3 -V<br/><strong class="nu ir">&gt;&gt;</strong> Python 3.5.7</span></pre><p id="2af5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">那里</strong>你去吧！如果你只是想在 GoDaddy 上安装 Python3，你可以就此打住！如果你想在 GoDaddy 上部署 Flask 或 Heroku 应用，请继续这篇文章。</p></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><h1 id="0feb" class="mj lb iq bd lc mk ml mm lf mn mo mp li mq mr ms ll mt mu mv lo mw mx my lr mz bi translated">安装烧瓶</h1><p id="a1b4" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf na kh ki kj nb kl km kn nc kp kq kr ij bi translated"><a class="ae ks" href="#99b2" rel="noopener ugc nofollow"> ᴛᴏᴘ^ </a></p><p id="0627" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="od">注意:如果你使用的是子域，确保子域文件夹在 public_html 里面，除了你需要添加</em> <code class="fe nr ns nt nu b"><em class="od">subdomain_name/</em></code> <em class="od">到这些指令之外，这些指令都是一样的。</em></p><pre class="nf ng nh ni gt nv nu nw nx aw ny bi"><span id="a9b9" class="la lb iq nu b gy nz oa l ob oc"><strong class="nu ir">##</strong> Install Virtual Environment Package<br/><strong class="nu ir">$ </strong>python3 -m pip install virtualenv</span><span id="9420" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">## </strong>Navigate to your CGI-BIN folder inside public_html<br/><strong class="nu ir">$</strong> cd $home<br/><strong class="nu ir">$</strong> cd public_html/cgi-bin</span><span id="142c" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">##</strong> Create Virtual Environment. 'venv' can be named whatever you want, but just change the other code accordingly.<br/>$ virtualenv venv</span><span id="18c2" class="la lb iq nu b gy oe oa l ob oc"><strong class="nu ir">## </strong>Activate the virtual environment<br/><strong class="nu ir">$ </strong>source venv/bin/activate<br/><strong class="nu ir">$ </strong>pip install Flask<br/><strong class="nu ir">$ </strong>deactivate</span></pre><p id="716c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> Flask </strong>现已安装，可在接下来的步骤中用于设置 Flask 应用程序以在 GoDaddy 主机上运行。</p><p id="cad5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">你</strong>也可以安装任何需要的包，就像本地机器上面的步骤一样。安装前一定要用<code class="fe nr ns nt nu b">source venv/bin/activate</code>激活虚拟环境，否则无法工作。</p></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><h1 id="5fb2" class="mj lb iq bd lc mk ml mm lf mn mo mp li mq mr ms ll mt mu mv lo mw mx my lr mz bi translated">设置您的 Flask 应用程序</h1><p id="47b8" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf na kh ki kj nb kl km kn nc kp kq kr ij bi translated"><a class="ae ks" href="#99b2" rel="noopener ugc nofollow"> ᴛᴏᴘ^ </a></p><p id="eed8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">为了发布 GoDaddy 托管的应用程序，您需要将其转换为 GoDaddy 可以使用的东西。为此，我们将不得不使用一个名为<code class="fe nr ns nt nu b">wsgiref</code>的包。不需要下载任何东西，因为这个包从 2.7 开始就包含在 Python 中了。</strong></p><p id="ee11" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一旦你完成这些说明，这个就是你最终的文件夹结构。(你可以从我的 Github 复制/粘贴源代码，但在修改任何选项之前，请确保你完全理解)。静态文件夹是可选的，它允许你在你的 Flask 应用中使用 CSS 和 Javascript，但是那是另外一篇文章。</p><pre class="nf ng nh ni gt nv nu nw nx aw ny bi"><span id="0cce" class="la lb iq nu b gy nz oa l ob oc">public_html/<br/>├── .htaccess<br/>└── cgi-bin/<br/>    ├── app.cgi<br/>    ├── app.py<br/>    ├── templates/<br/>    │   └── home.html<br/>    └── venv/</span></pre><p id="9889" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">将</strong>在<code class="fe nr ns nt nu b">cgi-bin</code>中新建一个文件，命名为<code class="fe nr ns nt nu b">app.cgi</code>。以下代码应该放在该文件中，并根据您的网站设置进行更改。<a class="ae ks" href="#e9f0" rel="noopener ugc nofollow">T25】</a></p><p id="a8ea" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">用户名将与您登录 PuTTy 或其他 SSH 终端时的用户名相同。</p><pre class="nf ng nh ni gt nv nu nw nx aw ny bi"><span id="e0bc" class="la lb iq nu b gy nz oa l ob oc">#!/home/USERNAME/.local/bin/python3<br/>import os<br/>import sys</span><span id="9d19" class="la lb iq nu b gy oe oa l ob oc">sys.path.insert(0,<br/>                '/home/USERNAME/public_html/cgi-bin/venv/lib/python3.5/site-packages')</span><span id="035c" class="la lb iq nu b gy oe oa l ob oc">from wsgiref.handlers import CGIHandler</span><span id="84ae" class="la lb iq nu b gy oe oa l ob oc">from app import app</span><span id="5986" class="la lb iq nu b gy oe oa l ob oc">class ProxyFix(object):<br/>    def __init__(self, app):<br/>        self.app = app<br/>    <br/>    def __call__(self, environ, start_response):<br/>        environ['SERVER_NAME'] = ""<br/>        environ['SERVER_PORT'] = "80"<br/>        environ['REQUEST_METHOD'] = "GET"<br/>        environ['SCRIPT_NAME'] = ""<br/>        environ['QUERY_STRING'] = ""<br/>        environ['SERVER_PROTOCOL'] = "HTTP/1.1"<br/>        return self.app(environ, start_response)</span><span id="b6a4" class="la lb iq nu b gy oe oa l ob oc">if __name__ == '__main__':<br/>    app.wsgi_app = ProxyFix(app.wsgi_app)<br/>    CGIHandler().run(app)</span><span id="9d7f" class="la lb iq nu b gy oe oa l ob oc">app.wsgi_app = ProxyFix(app.wsgi_app)<br/>CGIHandler.run(app)</span></pre><p id="3486" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们稍微分解一下代码。第一行是被称为<code class="fe nr ns nt nu b">shebang</code>的，它告诉程序使用什么 shell。在本例中，我们正在运行 python，因此我们需要将它指向 python shell，它位于<code class="fe nr ns nt nu b">/local</code>文件夹中。</p><p id="5122" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来你导入你的应用，就像一个普通的 __init__。py 文件。<code class="fe nr ns nt nu b">class ProxyFix</code>初始化应用程序，并确保设置正确的环境变量。您可以根据需要更改和删除环境变量，但是这些应该适用于大多数项目。需要改变的主要是<code class="fe nr ns nt nu b">'QUERY_STRING' &amp; 'REQUEST_METHOD'</code>。如果设置了这些，对 Flask 应用程序的所有调用都将是 GET 请求，查询字符串将是<code class="fe nr ns nt nu b">NONE</code>。</p><p id="3767" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">在<code class="fe nr ns nt nu b">cgi-bin</code>中创建</strong>另一个名为<code class="fe nr ns nt nu b">app.py</code>的新文件，并键入以下代码。这段代码设置了一个测试应用程序，所以 Flask 有一些东西要显示。</p><pre class="nf ng nh ni gt nv nu nw nx aw ny bi"><span id="33b2" class="la lb iq nu b gy nz oa l ob oc">from flask import Flask, render_template</span><span id="d5a4" class="la lb iq nu b gy oe oa l ob oc">app = Flask(__name__)</span><span id="4a3c" class="la lb iq nu b gy oe oa l ob oc">@app.route('/')<br/>def home():<br/>    return render_template('home.html')</span></pre><p id="e5cf" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">在</strong>内<code class="fe nr ns nt nu b">cgi-bin</code>创建一个名为<code class="fe nr ns nt nu b">templates</code>的文件夹，并在该文件夹内创建一个名为<code class="fe nr ns nt nu b">home.html</code>的文件</p><pre class="nf ng nh ni gt nv nu nw nx aw ny bi"><span id="ff7b" class="la lb iq nu b gy nz oa l ob oc">&lt;!DOCTYPE html&gt;<br/>&lt;html&gt;<br/>    &lt;head&gt;<br/>        &lt;title&gt;Home&lt;/title&gt;<br/>    &lt;/head&gt;<br/>    &lt;body&gt;<br/>        &lt;h2&gt;It Works! Congrats!&lt;/h2&gt;<br/>    &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="c26f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">在</strong>主<code class="fe nr ns nt nu b">public_html</code>文件夹中插入一个名为<code class="fe nr ns nt nu b">.htaccess</code>的文件。下面的代码将所有传入的请求指向你的 app.cgi 文件，并确保唯一运行的是你的 Flask 应用。将用户名更改为您用于 SSH 终端的主 FTP 帐户。</p><pre class="nf ng nh ni gt nv nu nw nx aw ny bi"><span id="e59d" class="la lb iq nu b gy nz oa l ob oc">Options +ExecCGI <br/>AddHandler cgi-script .py<br/>RewriteEngine On<br/>RewriteCond %{REQUEST_FILENAME} !-f <br/>RewriteRule ^(.*)$ /home/USERNAME/public_html/python/cgi-bin/app.cgi/$1 [L]</span></pre><p id="11d7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我在这里会完全诚实，我不是这方面的专家。htaccess 文件，但我能够得到这个工作与一些摆弄左右。确保你完全复制粘贴了这个。如果差了一个空格或一个字母，就不行了。</p><p id="328e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">那里</strong>你去吧！一旦这些都上传完成，输入你的网址并祈祷吧！您可以开始扩展并确保导入所有需要的包。您最有可能创建一个脚本来检查安装并为您安装它们，但这不是本文的内容。</p><p id="8d4c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"/>最重要的是，你的应用程序不会打印或输出任何非 HTML 格式的内容。这是在任何平台上发布任何 Flask 应用程序的一个缺点。</p><p id="71f6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">【GoDaddy 内的所有 Python 和 CGI 文件必须将权限设置为 755。请确保在尝试打开 URL 之前进行检查。</p></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><h1 id="3a5e" class="mj lb iq bd lc mk ml mm lf mn mo mp li mq mr ms ll mt mu mv lo mw mx my lr mz bi translated"><strong class="ak">如何启用 SSH </strong></h1><p id="d582" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf na kh ki kj nb kl km kn nc kp kq kr ij bi translated"><a class="ae ks" href="#99b2" rel="noopener ugc nofollow"> ᴛᴏᴘ^ </a></p><ul class=""><li id="5789" class="lt lu iq jw b jx jy kb kc kf of kj og kn oh kr ma mb mc md bi translated">登录<a class="ae ks" href="https://myh.godaddy.com/#/hosting/all" rel="noopener ugc nofollow" target="_blank"> GoDaddy 主机</a></li><li id="f2fd" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">单击您托管的网站:</li></ul><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi oi"><img src="../Images/097a611b7abf00303b64a92f20207f14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Q4bhOpKgjQuCIH6GeW84A.png"/></div></div></figure><ul class=""><li id="c80d" class="lt lu iq jw b jx jy kb kc kf of kj og kn oh kr ma mb mc md bi translated">在右边，点击<code class="fe nr ns nt nu b">Settings</code>菜单下的<code class="fe nr ns nt nu b">Server</code>按钮</li><li id="25f9" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">点击<code class="fe nr ns nt nu b">SSH Access</code>旁边的<code class="fe nr ns nt nu b">Manage</code>。</li><li id="385b" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">从那里你所要做的就是将开关拨到<code class="fe nr ns nt nu b">On</code></li></ul><figure class="nf ng nh ni gt jr gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/47a1d5b68235a3e6187102893fbe90a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*9ZaDFQLb-kSyepDMPIiEmQ.png"/></div></figure><p id="1100" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">注意:记住你的端口号(22)、用户名和 IP 地址。这将位于帐户选项卡下的设置菜单中，但我们将在 Python 安装期间使用它们。</p><p id="ec49" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">注 cPanel 密码是您登录 GoDaddy 使用的密码。</strong></p></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><h1 id="4eab" class="mj lb iq bd lc mk ml mm lf mn mo mp li mq mr ms ll mt mu mv lo mw mx my lr mz bi translated">解决纷争</h1><p id="2a11" class="pw-post-body-paragraph ju jv iq jw b jx lv jz ka kb lw kd ke kf na kh ki kj nb kl km kn nc kp kq kr ij bi translated"><a class="ae ks" href="#99b2" rel="noopener ugc nofollow"> ᴛᴏᴘ^ </a></p><p id="778d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">尝试通过 URL 打开 flask 应用程序时，我收到错误 500。</p><ul class=""><li id="a6da" class="lt lu iq jw b jx jy kb kc kf of kj og kn oh kr ma mb mc md bi translated">检查 GoDaddy cPanel 中的错误日志。它会让你很好地了解正在发生的事情。最常见的情况是没有安装软件包，或者 Python 安装失败而没有抛出错误。</li><li id="2e62" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">或者，确保您的应用程序根本不打印或试图访问控制台，这将使应用程序崩溃。</li><li id="0bf7" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">环境变量也可能不正确。最常见的是 SERVER_NAME 和 SERVER PORT，它们必须与上面脚本中的完全相同。</li></ul><p id="d06f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> Python 安装失败。是在</strong> <code class="fe nr ns nt nu b"><strong class="jw ir">make</strong></code> <strong class="jw ir">或者</strong> <code class="fe nr ns nt nu b"><strong class="jw ir">make install</strong></code> <strong class="jw ir">期间抛出错误。</strong></p><ul class=""><li id="e35e" class="lt lu iq jw b jx jy kb kc kf of kj og kn oh kr ma mb mc md bi translated">最有可能的是，由于<code class="fe nr ns nt nu b">ctypes</code>的错误，安装失败。这些都包含在 Python 2.7 中，但是 GoDaddy 没有将它们安装到他们的 Python 版本中。尝试下载旧版本或新版本的 Python。烧瓶兼容 2.7。*及以上，不包括 3.0。*–3.4.*</li><li id="3022" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">确保您对尝试安装 Python 的文件夹具有读/写权限。</li></ul><p id="1d89" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">尝试打开应用程序时，我收到一个 404 错误。</p><ul class=""><li id="3d3b" class="lt lu iq jw b jx jy kb kc kf of kj og kn oh kr ma mb mc md bi translated">检查你的。htaccess 文件，并确保它和我的完全一样。</li><li id="f50b" class="lt lu iq jw b jx me kb mf kf mg kj mh kn mi kr ma mb mc md bi translated">请确保@app.route 具有有效的端点，即:/home，/，/index</li></ul><p id="91f8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="od">这些尚未通过 GoDaddy 或 Windows 主机在 VPS 主机上进行测试。据我所知，GoDaddy Windows 不支持 Python。</em></p><p id="4e13" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="od">这段代码摘自 GoDaddy 的博客文章</em> <a class="ae ks" href="https://www.godaddy.com/garage/how-to-install-and-configure-python-on-a-hosted-server/" rel="noopener ugc nofollow" target="_blank"> <em class="od">此处</em> </a> <em class="od">，已经修改为与 Flask 一起工作，并添加了一些自定义代码。</em></p><p id="e9f0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="od">感谢 Flask 文档为用户提供了一个起点。</em> <a class="ae ks" href="https://flask.palletsprojects.com/en/1.1.x/deploying/mod_wsgi/" rel="noopener ugc nofollow" target="_blank"> <em class="od">文档链接</em> </a></p></div></div>    
</body>
</html>