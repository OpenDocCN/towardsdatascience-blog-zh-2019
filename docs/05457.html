<html>
<head>
<title>What to do when “the model doesn’t work”?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“模型不行了”怎么办？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-to-do-when-the-model-doesnt-work-5ea09ad6d423?source=collection_archive---------22-----------------------#2019-08-12">https://towardsdatascience.com/what-to-do-when-the-model-doesnt-work-5ea09ad6d423?source=collection_archive---------22-----------------------#2019-08-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/598da6ffdc3670a45b6371f145efa742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h60BQktJ6tQtUxe9"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@jeshoots?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">JESHOOTS.COM</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9ce1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你的团队已经工作了几个月来收集数据，建立预测模型，创建用户界面，并与一些早期客户一起部署新的机器学习产品。但是，你现在听到的不是庆祝胜利，而是客户经理对那些早期采用者客户的抱怨，他们对他们看到的预测准确性不满意，并开始认为“模型不起作用”。你现在做什么？</p><p id="da48" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是我们在 Pattern Labs 与在新产品中实现机器学习的组织合作时经常看到的情况。这不是一个容易迅速解决的问题。现实世界的机器学习模型的性能受大量因素的影响，其中一些因素可能在您的控制之下，而另一些因素可能不在您的控制之下。最重要的是，当试图对现实世界的现象进行建模时，每个建模问题都有内在的噪声/随机性混入信号中，这使得人们很难理解预测模型真正能够达到的准确度。再加上客户对模型准确性的期望，突然之间，您的数据科学团队陷入了一个棘手的境地，甚至想不出从哪里开始解决问题。</p><p id="7833" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 1)理解要解决的问题</strong></p><p id="b3dc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先要确保团队对他们试图用模型解决的客户问题有很好的理解。令人惊讶的是，数据科学团队对成功定义的理解经常与客户的标准不同。我们最近与一家公司合作，该公司试图预测恶劣天气对公共事业运营的影响。技术团队正绞尽脑汁试图提高他们模型的 MAPE 分数。当我们深入研究时，发现 MAPE 根本不是正确的衡量标准，他们努力追求的目标是他们自己设定的(相对于倾听客户的声音)。客户实际上最关心的是我们将风暴按照他们为其操作程序定义的 1-5 级影响严重性范围进行分类的能力。</p><p id="ed75" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">确保数据科学团队对问题有透彻的了解，最好是从客户那里听到第一手信息，这对于新计划的成功至关重要。如果您的团队陷入上述模型“不起作用”的情况，第一步是返回并确保您已经正确定义了问题，并了解您的客户如何衡量成功。</p><p id="e974" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 2)数据是否正确、完整？</strong></p><p id="1480" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下一步是回去查看您的团队收集的输入数据。在处理复杂的现实世界模型时，模型性能不足的主要原因通常是由于输入数据集和要素的问题，而不是模型本身的问题。特别是如果您正在运行多种类型的模型(我们建议您尽可能这样做)并获得相似的结果，这通常表明您的输入数据集正在阻碍您的发展。</p><p id="5971" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这一步的关键部分是确保你尽可能多地收集相关数据。现实世界中的模式往往有一些并不总是直观或明显的促成因素，因此您可以收集的数据和特征越多越好。有许多技术可供您选择来缩减特征数据，以在最相关的特征上构建模型，我们将在下一步中对此进行讨论。但对于这一步，重点是重新审视你的假设，即哪些输入驱动你试图建模的输出，并在需要时回头获取额外的数据。例如，在尝试对现实世界的现象进行建模时，通常需要考虑一些不明显的因素，因为它们会影响趋势，尤其是异常情况，如季节性、天气、日历事件，甚至地缘政治事件。</p><p id="ba3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其次，应该进行一些简单的 QA 检查，以确保输入数据得到正确的映射和处理。我们最近与一位在模型性能方面遇到困难的客户合作，最终发现问题根本不在模型上-该客户错误地处理了一些地理定位的要素数据，这使得他们运行的模型无法识别正确的模式。</p><figure class="lc ld le lf gt jr gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/2485b537a8322203cbe63aef83c9ca71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*bY6G91CNzhJBXXuM-wXukA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">CRISP-DM Process. Source: <a class="ae kc" href="https://en.wikipedia.org/wiki/Cross-industry_standard_process_for_data_mining#/media/File:CRISP-DM_Process_Diagram.png" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Cross-industry_standard_process_for_data_mining#/media/File:CRISP-DM_Process_Diagram.png</a></figcaption></figure><p id="1052" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">CRISP-DM 流程是许多数据科学团队管理项目时最常用的框架之一。我们喜欢它，因为它专注于在开始建模之前确保对业务和数据的理解。CRISP-DM 流程中的两个关键步骤是“数据理解”和“数据准备”。正确地遵循这些步骤需要深入研究输入数据以真正理解它，通常借助于数据中分布、趋势和关系的可视化。“数据准备”通常包括预处理、数据扩充和/或标准化，以便为建模做准备。如果处理得当，这两个步骤可以帮助数据科学家确保输入数据中的错误不会导致他/她后来遇到的任何模型性能问题。</p><p id="8d96" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 3)模型调整以调节性能</strong></p><p id="fe55" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">既然已经验证了输入数据的正确性和完整性，那么是时候关注有趣的东西了，建模本身。此步骤中影响最大的部分之一是要素选择-向下选择对输出影响最大的关键要素，并根据这些要素训练您的模型，消除冗余或高度相关的要素以加快速度并提高模型精度。有几篇关于特征选择技术的博文，包括单变量选择、递归特征消除和随机森林特征重要性。这里有一个供参考:<a class="ae kc" href="https://machinelearningmastery.com/feature-selection-machine-learning-python/" rel="noopener ugc nofollow" target="_blank">https://machinelingmastery . com/feature-selection-machine-learning-python/</a>。无论您采用哪种技术，或者它们的组合，请确保在这一步花费时间，以便为您的模型获得最佳的功能组合。</p><p id="7b99" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这一步的另一个重要部分是重新考虑您选择的模型，或者考虑添加额外的模型类型或者集合多个模型。同样，也有许多比较不同模型优缺点的好文章，但是我们建议尽可能运行至少两种模型类型(最好是神经网络)来比较结果。</p><p id="5f58" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，一旦您有了您的功能和您的模型选择，重新运行您的超参数调整，确保您已经正确地定义了您的训练、验证和测试集，在调整您的模型时，您没有“作弊”,以便它可以很好地推广到新数据，而不是在训练集上调整得太紧，以至于在新数据的实践中过度拟合和表现不佳。</p><p id="f73a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 4)最后，也是最重要的一点，管理客户的期望</strong></p><p id="d900" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是许多数据科学家忽略的另一个关键步骤，他们认为这“不是他们的工作”。当推出一款全新的机器学习产品时，该模型在野外的表现存在相当大的不确定性。此外，如上所述，现实世界中围绕您正在解决的问题出现的大量噪声可能会限制您的模型的性能，尽管您尽了最大努力来最大限度地提高准确性。数据科学团队的部分职责是与产品经理、销售人员和 customer success 携手合作，向客户传达他们期望从模型中看到的性能信息，同时教育他们模型将如何随着时间的推移而改进，并提供更多数据进行培训。</p><figure class="lc ld le lf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lg"><img src="../Images/9e311126ee27f7bb5b461315b632a439.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*emhtWklxC9h_EjiAn7iZBQ.png"/></div></div></figure><p id="066d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，下次您的团队在发布新模型时遇到性能挑战时，不要玩责备游戏或直接调整模型超参数来优化拟合，而是后退一步，按照这个简单、结构化的过程一步一步地解决问题，并最大化新模型的成功概率。</p></div></div>    
</body>
</html>