<html>
<head>
<title>The Simple Yet Practical Data Cleaning Codes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简单而实用的数据清理代码</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-simple-yet-practical-data-cleaning-codes-ad27c4ce0a38?source=collection_archive---------5-----------------------#2019-01-11">https://towardsdatascience.com/the-simple-yet-practical-data-cleaning-codes-ad27c4ce0a38?source=collection_archive---------5-----------------------#2019-01-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0e63" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">为了解决混乱数据的常见情况</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e14e07d7a8e42c1bad52b467ce8e875e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oqu9ynGh6DniY79G"/></div></div></figure><p id="5987" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在我的一篇文章— <a class="ae ln" rel="noopener" target="_blank" href="/my-first-data-scientist-internship-7f7aa2ee4040">我的第一个数据科学家实习</a>中，我谈到了数据清理(数据预处理、数据管理……无论是什么)是多么重要，以及它如何能够轻易地占据整个数据科学工作流程的 40%-70%。世界是不完美的，数据也是。</p><blockquote class="lo lp lq"><p id="af44" class="kr ks lr kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated"><strong class="kt ir">垃圾进，垃圾出</strong></p></blockquote><p id="2f27" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">真实世界的数据是脏的，我们作为数据科学家，有时也称为数据清理者，应该能够在任何数据分析或模型构建之前执行数据清理，以确保最高的数据质量。</p><p id="15cf" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">长话短说，在数据科学领域呆了一段时间后，我确实感到在处理数据分析、可视化和模型构建之前进行数据清理的痛苦。</p><p id="eaf5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">不管你承认与否，数据清理并不是一件容易的事情，大多数时候是耗时且乏味的，然而这个过程太重要了，不容忽视。</p><p id="fb9f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果你经历过这个过程，你就会明白我的意思。这也正是我写这篇文章来帮助您以更流畅的方式执行数据清理的原因。</p><h1 id="e333" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">为什么这篇文章对你很重要？</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/93a420ac97ae81ce127c5db291639c8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/1*tMlmqupGlnhESkVyVWyCVg.png"/></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk"><a class="ae ln" href="https://www.linkedin.com/feed/update/urn:li:activity:6486373885376851968" rel="noopener ugc nofollow" target="_blank">My recent post on LinkedIn</a></figcaption></figure><p id="edba" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一周前，我在 LinkedIn 上发帖，询问并回答了一些有抱负的数据科学家和数据科学专业人士面临的紧迫问题。</p><blockquote class="lo lp lq"><p id="4aa9" class="kr ks lr kt b ku kv jr kw kx ky ju kz ls lb lc ld lt lf lg lh lu lj lk ll lm ij bi translated">如果你一直在关注我的工作，<a class="ae ln" href="https://www.linkedin.com/pulse/2018-year-turning-point-my-life-kin-lim-lee/" rel="noopener ugc nofollow" target="_blank">我的任务是通过在 LinkedIn 上发起有抱负的数据科学家、数据科学家和其他不同专业知识和背景的数据专业人士之间的讨论，使 LinkedIn 上的共享学习环境民主化</a>，特别关注数据科学。如果你想参与这些关于数据科学有趣话题的讨论，请随时关注我的 LinkedIn。您会惊讶于数据科学社区的参与度和支持度。<em class="iq">😊</em></p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/a2c0f54593f4696e383d500b69485af4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*0Yf28N6GBNJ_bdU3OgY3qg.png"/></div></figure><p id="8c3b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">所以我在评论里得到了几个有趣的问题。然而，有一个由<a class="ae ln" href="https://www.linkedin.com/in/anirban-kar-chaudhuri-7913737b/" rel="noopener ugc nofollow" target="_blank"> Anirban </a>发布的特殊问题，我最终决定写一篇文章来回答这个问题，因为我不时地收到类似的问题。</p><p id="09ad" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">事实上，不久前我意识到，当涉及到数据清理时，一些数据有类似的模式。这是我开始组织和编译一些数据清理代码的时候，我认为它们将适用于其他常见场景——<strong class="kt ir">我的数据清理小工具箱</strong>。</p><p id="d65b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">因为这里的常见场景跨越不同类型的数据集，所以本文更侧重于展示和解释这些代码的用途，以便您可以轻松地即插即用。</p><p id="5241" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在本文的最后，我希望您会发现这些代码很有用，并且会使您的数据清理过程更快、更有效。</p><p id="c59d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们开始吧！</p><h1 id="6c0a" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">我清理数据的小工具箱</h1><p id="4e84" class="pw-post-body-paragraph kr ks iq kt b ku mt jr kw kx mu ju kz la mv lc ld le mw lg lh li mx lk ll lm ij bi translated">在下面的代码片段中，出于不言自明的目的，代码是用函数编写的。您总是可以直接使用这些代码，而无需将它们放入参数稍有变化的函数中。</p><h2 id="16fd" class="my lw iq bd lx mz na dn mb nb nc dp mf la nd ne mh le nf ng mj li nh ni ml nj bi translated">1.删除多列</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="c36f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">有时，并不是所有的列都对我们的分析有用。因此，<code class="fe nm nn no np b">df.drop</code>可以方便地根据您的指定删除所选的列。</p><h2 id="f92f" class="my lw iq bd lx mz na dn mb nb nc dp mf la nd ne mh le nf ng mj li nh ni ml nj bi translated">2.更改数据类型</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="fdc8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当数据集变大时，我们需要转换<code class="fe nm nn no np b">dtypes</code>以节省内存。如果你有兴趣学习如何使用 Pandas 处理大数据，我强烈建议你看看这篇文章— <a class="ae ln" rel="noopener" target="_blank" href="/why-and-how-to-use-pandas-with-large-data-9594dda2ea4c">为什么以及如何使用 Pandas 处理大数据</a>。</p><h2 id="ddb9" class="my lw iq bd lx mz na dn mb nb nc dp mf la nd ne mh le nf ng mj li nh ni ml nj bi translated">3.将分类变量转换为数值变量</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="3d3a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一些机器学习模型要求变量采用数字格式。这时，我们需要在将分类变量输入模型之前，将它们转换成数值变量。就数据可视化而言，我建议保留分类变量，以便有更明确的解释和理解。</p><h2 id="f734" class="my lw iq bd lx mz na dn mb nb nc dp mf la nd ne mh le nf ng mj li nh ni ml nj bi translated">4.检查丢失的数据</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="8082" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果您想检查每一列的缺失数据的数量，这是最快的方法。这使您可以更好地了解哪些列丢失的数据较多，从而决定您下一步的数据清理和分析操作。</p><h2 id="cda5" class="my lw iq bd lx mz na dn mb nb nc dp mf la nd ne mh le nf ng mj li nh ni ml nj bi translated">5.删除列中的字符串</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="bce5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">可能有一段时间你会面对新的行字符或者其他出现在字符串列中的奇怪符号。使用<code class="fe nm nn no np b">df['col_1'].replace</code>可以很容易地解决这个问题，其中<code class="fe nm nn no np b">col_1</code>是数据帧<code class="fe nm nn no np b">df</code>中的一列。</p><h2 id="96af" class="my lw iq bd lx mz na dn mb nb nc dp mf la nd ne mh le nf ng mj li nh ni ml nj bi translated">6.删除列中的空白</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="b97a" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当数据混乱时，一切皆有可能。在字符串的开头有一些空格是很常见的。因此，当您想要删除列中字符串开头的空格时，这种方法很有用。</p><h2 id="c732" class="my lw iq bd lx mz na dn mb nb nc dp mf la nd ne mh le nf ng mj li nh ni ml nj bi translated">7.用字符串连接两列(带条件)</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="e9fa" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当您希望有条件地将两列与字符串组合在一起时，这很有帮助。例如，如果第一列中的字符串以某些字母结尾，您希望将第一列与第二列连接起来。根据您的需要，结尾字母也可以在连接后删除。</p><h2 id="cfe6" class="my lw iq bd lx mz na dn mb nb nc dp mf la nd ne mh le nf ng mj li nh ni ml nj bi translated">8.转换时间戳(从字符串到日期时间格式)</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="31a4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在处理时间序列数据时，我们很可能会遇到字符串格式的时间戳列。这意味着我们可能必须将字符串格式转换为日期时间格式——根据我们的需求指定的格式——以便使用数据进行有意义的分析和演示。</p></div><div class="ab cl nq nr hu ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="ij ik il im in"><h1 id="af8d" class="lv lw iq bd lx ly nx ma mb mc ny me mf jw nz jx mh jz oa ka mj kc ob kd ml mm bi translated">最后的想法</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9e9577f7506300db2a04721bde6a90f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GPs46q9ywyAa8vVk"/></div></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk"><a class="ae ln" href="https://unsplash.com/photos/oTvU7Zmteic" rel="noopener ugc nofollow" target="_blank">(Source)</a></figcaption></figure><p id="4046" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">感谢您的阅读。</p><p id="1a10" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些代码本质上实现起来相对简单。我希望这个数据清理的小工具箱能让你更有信心执行数据清理，并根据我的经验从更广阔的角度了解数据集通常是什么样子。</p><p id="d895" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一如既往，如果您有任何问题或意见，请随时在下面留下您的反馈，或者您可以随时通过<a class="ae ln" href="https://www.linkedin.com/in/admond1994/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我。在那之前，下一篇文章再见！😄</p><h2 id="3ecb" class="my lw iq bd lx mz na dn mb nb nc dp mf la nd ne mh le nf ng mj li nh ni ml nj bi translated">关于作者</h2><p id="5193" class="pw-post-body-paragraph kr ks iq kt b ku mt jr kw kx mu ju kz la mv lc ld le mw lg lh li mx lk ll lm ij bi translated"><a class="ae ln" href="https://www.linkedin.com/in/admond1994/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir">阿德蒙德·李</strong> </a>目前是东南亚排名第一的商业银行 API 平台<a class="ae ln" href="https://www.trystaq.com" rel="noopener ugc nofollow" target="_blank"> <strong class="kt ir"> Staq </strong> </a> <strong class="kt ir"> — </strong>的联合创始人/首席技术官。</p><p id="f20d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">想要获得免费的每周数据科学和创业见解吗？</p><p id="f2b1" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><a class="ae ln" href="https://bit.ly/3pGF8jv" rel="noopener ugc nofollow" target="_blank"/></p><p id="c060" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">你可以在<a class="ae ln" href="https://www.linkedin.com/in/admond1994/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae ln" href="https://medium.com/@admond1994" rel="noopener"> Medium </a>、<a class="ae ln" href="https://twitter.com/admond1994" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae ln" href="https://www.facebook.com/admond1994" rel="noopener ugc nofollow" target="_blank">脸书</a>上和他联系。</p><div class="oc od gp gr oe of"><a href="https://www.admondlee.com/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd ir gy z fp ok fr fs ol fu fw ip bi translated">阿德蒙德·李</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">让每个人都能接触到数据科学。Admond 正在通过先进的社交分析和机器学习，利用可操作的见解帮助公司和数字营销机构实现营销投资回报。</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">www.admondlee.com</p></div></div><div class="oo l"><div class="op l oq or os oo ot kp of"/></div></div></a></div></div></div>    
</body>
</html>