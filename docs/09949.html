<html>
<head>
<title>Python Efficiency Tips: Old and New Tricks for the Aspiring Pythonista</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 效率技巧:有抱负的 python 爱好者的新旧技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-efficiency-tips-old-and-new-tricks-for-the-aspiring-pythonista-6717dccd1a39?source=collection_archive---------13-----------------------#2019-12-29">https://towardsdatascience.com/python-efficiency-tips-old-and-new-tricks-for-the-aspiring-pythonista-6717dccd1a39?source=collection_archive---------13-----------------------#2019-12-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/eb3bda35c58ae84f316480b05da5785b.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*OkcdiAQSEh_ml-FN7MEPRg.png"/></div></figure><div class=""/><div class=""><h2 id="442b" class="pw-subtitle-paragraph jx iz ja bd b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dk translated">这是给予的季节。本着节日的精神，我在 Googleverse 上搜索了一些有趣的、或许不为人知的(直到现在)提高完美主义者 Pythonista 效率的技巧。</h2></div><ol class=""><li id="b7e2" class="kp kq ja kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg bi translated"><strong class="kr jb"> tqdm() </strong></li></ol><p id="1a41" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated">tqdm()是一个包装器，用于即时显示“for”循环的智能进度表。它需要一个安装和一个导入，但是如果您曾经有过一个循环，看起来花费的时间比它应该花费的时间长，这可以提供一些需要的洞察力。</p><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi lu"><img src="../Images/dafaf3c73ed059d8bdf8319e1655ef16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o8Behmt2wj85AOPaHLTiXQ.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">tqdm() and trange() in action — trange is just a bit faster than using range() within tqdm()</figcaption></figure><p id="492a" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated"><strong class="kr jb"> 2。Shift 和 Tab 键(Windows 操作系统)</strong></p><p id="b065" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated">这个技巧实际上为我节省了很多去 Stackoverflow 的时间，但我有时还是会忘记使用它。这里有几个用途:</p><ul class=""><li id="ca78" class="kp kq ja kr b ks kt ku kv kw kx ky kz la lb lc mh le lf lg bi translated">结束你的思考。在使用了一段时间后，记住正确的库或变量有时会很困难。只需在一个字母后使用<strong class="kr jb">选项卡</strong>按钮，就会弹出一个以该字母开头的术语或实例化变量的下拉列表。</li></ul><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mi"><img src="../Images/9e48391975872ddb9b2fd4701cd83fef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*521Oa7sQZlFZnlZtOEpysA.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Just type in a letter and use Tab to see a list of options</figcaption></figure><ul class=""><li id="e218" class="kp kq ja kr b ks kt ku kv kw kx ky kz la lb lc mh le lf lg bi translated">包/特性/方法文档。通过组合 Shift + Tab，将为该项弹出一个 docstring 和说明。在 Jupyter 笔记本中有三种查看方式:</li></ul><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mj"><img src="../Images/646661bcd98cbe37d43e13d52c38478f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bI-gSQCSxcyubQushDwgVg.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Standard window with argument(s) and brief docstring</figcaption></figure><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mk"><img src="../Images/d466814b77f706d91e3b022b3c0f459f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nezbW9i4PsNbfexnYkRPrA.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Using the + button will reveal full documentation, including parameters, examples and website</figcaption></figure><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ml"><img src="../Images/cbede7ba8e86a2c40b812d751418b72b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LC6miLRekWzDbYop_OxViw.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Using the ^ button will embed a bottom pane with the full documentation.</figcaption></figure><p id="46b2" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated">3.<strong class="kr jb"> f 弦</strong></p><p id="cbad" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated">对于那些仍然使用 str.format()或%d(替换为数字)，%s(替换为字符串)的人来说，f 字符串更有效。f 字符串可以在代码中的任何地方被调用，并且可以引用任何以前实例化的变量。下面是一些如何使用它们的例子:</p><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mm"><img src="../Images/8b1f0479390f6d26c7e77133b05e8ac8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ylg1IiLF6BkCyac4AbFN8A.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Using ‘ ‘ , “ “ and ‘’’ ‘’’ are all valid methods, and most datatypes can be utilized</figcaption></figure><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mn"><img src="../Images/1b7856b93e75001be1ee3e8da2cd5186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P0nqpNFguxgTuUg0X6_62Q.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Math operations, string concatenation and methods can be performed within f-strings</figcaption></figure><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mo"><img src="../Images/1258ee86c50e677304ac8897babae4ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gs-WYMSLtWWGtH-V2DK95w.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Dictionary values can also be called out in f-strings</figcaption></figure><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mp"><img src="../Images/73b0e6d0575a21968c0c0c6cd6fa2a25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8X0uFGyehNczZtE8Hfe0Jg.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">However, some symbols cannot be used within an f-string. Most operator keys like @,&amp;,!,= can.</figcaption></figure><p id="b378" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated">4.<strong class="kr jb"> IPython Magic </strong></p><p id="e824" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated">IPython 有一个名为 magic 的内置库，允许用户只需以%符号开头就可以运行特定的命令。魔法有两种形式:</p><ul class=""><li id="ba9c" class="kp kq ja kr b ks kt ku kv kw kx ky kz la lb lc mh le lf lg bi translated">行魔法:它们类似于命令行调用。它们以%字符开始。该行的其余部分是传递的参数，没有括号或引号。线条魔术可以用作表达式，它们的返回值可以赋给变量。</li><li id="6bdc" class="kp kq ja kr b ks mq ku mr kw ms ky mt la mu lc mh le lf lg bi translated">细胞魔术:他们有%%字符前缀。与线路魔术功能不同，它们可以在呼叫下方的多条线路上操作。事实上，他们可以对接收到的输入进行任意修改，甚至根本不需要是有效的 Python 代码。它们将整个块作为单个字符串接收。</li></ul><p id="e9dc" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated">有许多神奇的命令，最著名的是%timeit(乘以你的代码)和%matplotlib inline。要获得可以调用的命令的完整列表，只需运行以下单元格:</p><figure class="lv lw lx ly gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mv"><img src="../Images/9604d9089e115b25992f691ad8d154fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kcqUksEdZMs4lZIOUJ5-bg.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Just type %magic into your notebook for a complete doc on available commands</figcaption></figure><p id="804c" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated">5.<strong class="kr jb"> Walrus 操作符(python 3.8 的新功能)</strong></p><p id="b900" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated">对于那些运行 3.8 的人来说(注意:在这篇文章发表时，并不是所有的包都准备好了 3.8)，这里有一个新的操作符，它使得执行操作更有效率。=运算符、赋值运算符或 walrus 运算符(因为它看起来像长着獠牙的眼睛)允许用户在指定的函数或方法中为变量赋值。虽然在<a class="ae mw" href="https://www.python.org/dev/peps/pep-0572/" rel="noopener ugc nofollow" target="_blank">文档</a>中可以举例说明几种用法，但这里只举例说明最简单的使用情况:</p><pre class="lv lw lx ly gt mx my mz na aw nb bi"><span id="1c1f" class="nc nd ja my b gy ne nf l ng nh">#old way<br/>answer = False<br/>print(answer)</span><span id="804d" class="nc nd ja my b gy ni nf l ng nh">#new way<br/>print(answer := False)</span></pre><p id="108c" class="pw-post-body-paragraph lh li ja kr b ks kt kb lj ku kv ke lk kw ll lm ln ky lo lp lq la lr ls lt lc im bi translated">这里的希望是，也许您发现了一些有助于提高 Python 效率的东西，或者激发您的兴趣去探索一些更高效的方法。请随意回复任何其他效率提示。节日快乐！</p></div></div>    
</body>
</html>