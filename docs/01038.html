<html>
<head>
<title>Understand TextRank for Keyword Extraction by Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解 Python 关键字提取的 TextRank</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/textrank-for-keyword-extraction-by-python-c0bae21bcec0?source=collection_archive---------1-----------------------#2019-02-18">https://towardsdatascience.com/textrank-for-keyword-extraction-by-python-c0bae21bcec0?source=collection_archive---------1-----------------------#2019-02-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4e08" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python 和 spaCy 的一个 scratch 实现，帮助你理解用于关键词提取的 PageRank 和 TextRank。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a0fd4f2139e53882b1f8711c2d04976a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ru-c07OSF36e3wuXka8urQ.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">image from www.adaringadventure.com</figcaption></figure><h1 id="7295" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">介绍</h1><p id="01f2" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">TextRank 是一种基于 PageRank 的算法，常用于关键词抽取和文本摘要。在本文中，我将帮助您理解 TextRank 如何使用关键字提取示例，并展示 Python 的实现。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mm"><img src="../Images/9244ddbc658acf3d6f26fc280390fc76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JeYlqJTA5MpKsaWwHkhKQw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Keywords Extraction with TextRank, NER, etc</figcaption></figure><h1 id="e443" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">目录</h1><ul class=""><li id="64d0" class="mn mo it ls b lt lu lw lx lz mp md mq mh mr ml ms mt mu mv bi translated">了解 PageRank</li><li id="940e" class="mn mo it ls b lt mw lw mx lz my md mz mh na ml ms mt mu mv bi translated">PageRank 的实现</li><li id="54ca" class="mn mo it ls b lt mw lw mx lz my md mz mh na ml ms mt mu mv bi translated">通过 TextRank 提取关键词</li><li id="c862" class="mn mo it ls b lt mw lw mx lz my md mz mh na ml ms mt mu mv bi translated">关键词提取的实现</li></ul><h1 id="de9b" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">了解 PageRank</h1><p id="9e65" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">关于 PageRank 的文章数不胜数，我就简单介绍一下 PageRank。这有助于我们后面理解 TextRank，因为它是基于 PageRank 的。</p><p id="c0e0" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">PageRank (PR)是一种用于计算网页权重的算法。我们可以把所有的网页看作一个大的有向图。在此图中，节点是一个网页。如果网页 A 具有到网页 B 的链接，它可以被表示为从 A 到 B 的有向边。</p><p id="a225" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">在我们构建了整个图之后，我们可以通过下面的公式为网页分配权重。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/e694a98730cfd953d9c904c7deb9d919.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hheHfLOTjPW3uSsSxWKylQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/e68c7a9d4ee77d9f08911a59cfaa97fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*DkZjlRNEjPSc8RNL7yWggA.jpeg"/></div></figure><p id="8165" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">这里有一个例子可以更好地理解上面的符号。我们有一个图表来表示网页之间的链接。每个节点代表一个网页，箭头代表边。我们想得到网页<code class="fe ni nj nk nl b">e</code>的权重。</p><p id="833c" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们可以把上面函数中的求和部分改写成一个更简单的版本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/04061e8578d32fe78ee0bc573f5b7d05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8UbW4XtgaxKYG7_GUTHAyw.png"/></div></div></figure><p id="6eaa" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们可以通过下面的函数得到网页<code class="fe ni nj nk nl b">e</code>的权重。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/058e08b76100f0f38112c3b4293f3e85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*uVEg0nAL5IlDzE6rb6Ri1w.png"/></div></figure><p id="e5e3" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们可以看到网页<code class="fe ni nj nk nl b">e</code>的权重依赖于其入站页面的权重。我们需要运行这个迭代很多次来得到最终的权重。在初始化时，每个网页的重要性为 1。</p><h1 id="7490" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">PageRank 的实现</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/e68c7a9d4ee77d9f08911a59cfaa97fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*DkZjlRNEjPSc8RNL7yWggA.jpeg"/></div></figure><p id="b337" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们可以用一个矩阵来表示图中 a、b、e、f 之间的入站和出站链路。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/37225f7a0098e713a2d493ebbdcfff58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dbzhpH6gbbraRloOz-oHmw.png"/></div></div></figure><p id="fdbd" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">一行中的每个节点表示来自其他节点的入站链接。例如，对于<code class="fe ni nj nk nl b">e</code>行，节点<code class="fe ni nj nk nl b">a</code>和<code class="fe ni nj nk nl b">b</code>具有到节点<code class="fe ni nj nk nl b">e</code>的出站链接。此演示将简化更新权重的计算。</p><p id="d965" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">根据函数中的<code class="fe ni nj nk nl b">1/|Out(Vi)|</code>，我们应该归一化每一列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/2368d862ab338ac08c745c310d265e12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ppIReXWpavbuvAHfi08EGw.png"/></div></div></figure><p id="f3fc" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们用这个矩阵乘以所有节点的权重。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/9dea5a4dd660ace882f62c2ec542abfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*1qNiuB0vmICB-3Wy3eOt2A.png"/></div></figure><p id="98a9" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">这只是一个没有转储因子<code class="fe ni nj nk nl b">d</code>的迭代。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/a8fc9e5ea089556bc4f9469a6e762160.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n-Zp7ZjPMuw_p99UO_qDzA.jpeg"/></div></figure><p id="bb76" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们可以用 Python 多次迭代。</p><pre class="kj kk kl km gt ns nl nt nu aw nv bi"><span id="43c8" class="nw kz it nl b gy nx ny l nz oa">import numpy as np</span><span id="ecd3" class="nw kz it nl b gy ob ny l nz oa">g = [[0, 0, 0, 0],<br/>     [0, 0, 0, 0],<br/>     [1, 0.5, 0, 0],<br/>     [0, 0.5, 0, 0]]</span><span id="208a" class="nw kz it nl b gy ob ny l nz oa">g = np.array(g)<br/>pr = np.array([1, 1, 1, 1]) # initialization for a, b, e, f is 1<br/>d = 0.85</span><span id="daf1" class="nw kz it nl b gy ob ny l nz oa">for iter in range(10):<br/>    pr = 0.15 + 0.85 * np.dot(g, pr)<br/>    print(iter)<br/>    print(pr)</span></pre><p id="56c3" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">输出</p><pre class="kj kk kl km gt ns nl nt nu aw nv bi"><span id="fb09" class="nw kz it nl b gy nx ny l nz oa">0<br/>[0.15  0.15  1.425 0.575]<br/>1<br/>[0.15    0.15    0.34125 0.21375]<br/>2<br/>[0.15    0.15    0.34125 0.21375]<br/>3<br/>[0.15    0.15    0.34125 0.21375]<br/>4<br/>[0.15    0.15    0.34125 0.21375]<br/>5<br/>[0.15    0.15    0.34125 0.21375]<br/>6<br/>[0.15    0.15    0.34125 0.21375]<br/>7<br/>[0.15    0.15    0.34125 0.21375]<br/>8<br/>[0.15    0.15    0.34125 0.21375]<br/>9<br/>[0.15    0.15    0.34125 0.21375]<br/>10<br/>[0.15    0.15    0.34125 0.21375]</span></pre><p id="145a" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">所以 e 的权重(PageRank 值)是 0.34125。</p><p id="73ab" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">如果我们把有向边改为无向边，我们可以相应地改变矩阵。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/71bdd7a63427a3ed5658610a574ab4ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HeA-OHUJL1AoqSdKoviZbA.png"/></div></div></figure><p id="081a" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">正常化。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/7c2ac434ccfde2f1842429fe61120af0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f-1rGTt7yhEH-NW16e4pdg.png"/></div></div></figure><p id="9111" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们应该相应地改变代码。</p><pre class="kj kk kl km gt ns nl nt nu aw nv bi"><span id="3738" class="nw kz it nl b gy nx ny l nz oa">import numpy as np</span><span id="8eea" class="nw kz it nl b gy ob ny l nz oa">g = [[0, 0, 0.5, 0],<br/>     [0, 0, 0.5, 1],<br/>     [1, 0.5, 0, 0],<br/>     [0, 0.5, 0, 0]]</span><span id="56b3" class="nw kz it nl b gy ob ny l nz oa">g = np.array(g)<br/>pr = np.array([1, 1, 1, 1]) # initialization for a, b, e, f is 1<br/>d = 0.85</span><span id="019c" class="nw kz it nl b gy ob ny l nz oa">for iter in range(10):<br/>    pr = 0.15 + 0.85 * np.dot(g, pr)<br/>    print(iter)<br/>    print(pr)</span></pre><p id="e424" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">输出</p><pre class="kj kk kl km gt ns nl nt nu aw nv bi"><span id="ab62" class="nw kz it nl b gy nx ny l nz oa">0<br/>[0.575 1.425 1.425 0.575]<br/>1<br/>[0.755625 1.244375 1.244375 0.755625]<br/>2<br/>[0.67885937 1.32114062 1.32114062 0.67885937]<br/>3<br/>[0.71148477 1.28851523 1.28851523 0.71148477]<br/>4<br/>[0.69761897 1.30238103 1.30238103 0.69761897]<br/>5<br/>[0.70351194 1.29648806 1.29648806 0.70351194]<br/>6<br/>[0.70100743 1.29899257 1.29899257 0.70100743]<br/>7<br/>[0.70207184 1.29792816 1.29792816 0.70207184]<br/>8<br/>[0.70161947 1.29838053 1.29838053 0.70161947]<br/>9<br/>[0.70181173 1.29818827 1.29818827 0.70181173]</span></pre><p id="1d05" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">所以 e 的权重(PageRank 值)是 1.29818827。</p><h1 id="9d89" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">通过 TextRank 提取关键词</h1><p id="e1d0" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">TextRank 和 PageTank 有什么区别？</p><p id="919f" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">简单的回答就是 PageRank 是网页排名，TextRank 是文字排名。PageRank 中的网页就是 TextRank 中的文本，所以基本思路是一样的。</p><p id="fdd8" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">这里我们有一些文字，摘自<a class="ae oe" href="https://www.theverge.com/2019/2/9/18218479/the-wandering-earth-review-film-china-first-science-fiction-blockbuster-cixin-liu-gravity-the-core" rel="noopener ugc nofollow" target="_blank">这里</a>。我会用空间</p><p id="20f5" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们将一个文档拆分成几个句子，我们只存储那些带有特定 POS 标签的单词。我们使用空间进行词性标注。</p><pre class="kj kk kl km gt ns nl nt nu aw nv bi"><span id="9cef" class="nw kz it nl b gy nx ny l nz oa">import spacy<br/>nlp = spacy.load('en_core_web_sm')</span><span id="0db6" class="nw kz it nl b gy ob ny l nz oa">content = '''<br/>The Wandering Earth, described as China’s first big-budget science fiction thriller, quietly made it onto screens at AMC theaters in North America this weekend, and it shows a new side of Chinese filmmaking — one focused toward futuristic spectacles rather than China’s traditionally grand, massive historical epics. At the same time, The Wandering Earth feels like a throwback to a few familiar eras of American filmmaking. While the film’s cast, setting, and tone are all Chinese, longtime science fiction fans are going to see a lot on the screen that reminds them of other movies, for better or worse.<br/>'''</span><span id="d45a" class="nw kz it nl b gy ob ny l nz oa">doc = nlp(content)<br/>for sents in doc.sents:<br/>    print(sents.text)</span></pre><p id="af60" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们把这一段分成三句话。</p><pre class="kj kk kl km gt ns nl nt nu aw nv bi"><span id="9033" class="nw kz it nl b gy nx ny l nz oa">The Wandering Earth, described as China’s first big-budget science fiction thriller, quietly made it onto screens at AMC theaters in North America this weekend, and it shows a new side of Chinese filmmaking — one focused toward futuristic spectacles rather than China’s traditionally grand, massive historical epics.</span><span id="6794" class="nw kz it nl b gy ob ny l nz oa">At the same time, The Wandering Earth feels like a throwback to a few familiar eras of American filmmaking.</span><span id="9cb7" class="nw kz it nl b gy ob ny l nz oa">While the film’s cast, setting, and tone are all Chinese, longtime science fiction fans are going to see a lot on the screen that reminds them of other movies, for better or worse.</span></pre><p id="b194" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">因为句子中的大多数单词对确定重要性没有用，所以我们只考虑带名词、定语、动词词性标签的单词。这是可选的，你也可以使用所有单词。</p><pre class="kj kk kl km gt ns nl nt nu aw nv bi"><span id="1b28" class="nw kz it nl b gy nx ny l nz oa">candidate_pos = ['NOUN', 'PROPN', 'VERB']<br/>sentences = []<br/>​<br/>for sent in doc.sents:<br/>    selected_words = []<br/>    for token in sent:<br/>        if token.pos_ in candidate_pos and token.is_stop is False:<br/>            selected_words.append(token)<br/>    sentences.append(selected_words)<br/>​<br/>print(sentences)</span></pre><p id="4943" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">输出</p><pre class="kj kk kl km gt ns nl nt nu aw nv bi"><span id="521b" class="nw kz it nl b gy nx ny l nz oa">[[Wandering, Earth, described, China, budget, science, fiction, thriller, screens, AMC, theaters, North, America, weekend, shows, filmmaking, focused, spectacles, China, epics], [time, Wandering, Earth, feels, throwback, eras, filmmaking], [film, cast, setting, tone, science, fiction, fans, going, lot, screen, reminds, movies]]</span></pre><p id="b79c" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">每个单词都是 PageRank 中的一个<em class="of">节点</em>。我们将窗口大小设置为 k。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/ca3a639f183cb90c4b58afa0e0210313.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*YdjbC0NcNnAkGf3sWPTAiA.png"/></div></figure><p id="1600" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated"><code class="fe ni nj nk nl b">[w1, w2, …, w_k], [w2, w3, …, w_{k+1}], [w3, w4, …, w_{k+2}]</code>是窗户。窗口中的任何两个单词对都被认为具有无向边。</p><p id="e3ad" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">我们以<code class="fe ni nj nk nl b">[time, Wandering, Earth, feels, throwback, eras, filmmaking]</code>为例，设置窗口大小 k=4，那么得到 4 个窗口，<code class="fe ni nj nk nl b">[time, Wandering, Earth, feels]</code>，<code class="fe ni nj nk nl b">[Wandering, Earth, feels, throwback]</code>，<code class="fe ni nj nk nl b">[Earth, feels, throwback, eras]</code>，<code class="fe ni nj nk nl b">[feels, throwback, eras, filmmaking]</code>。</p><p id="af66" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">对于窗口<code class="fe ni nj nk nl b">[time, Wandering, Earth, feels]</code>，任何两个单词对都有一条无向边。所以我们得到了<code class="fe ni nj nk nl b">(time, Wandering), (time, Earth), (time, feels), (Wandering, Earth), (Wandering, feels), (Earth, feels)</code>。</p><p id="45f5" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">基于这个图，我们可以计算每个节点(单词)的权重。最重要的词可以作为关键词。</p><h1 id="bbc3" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">关键词提取的实现</h1><p id="6090" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这里我用 Python 实现了一个完整的例子，我们使用 spaCy 来获取单词的 POS 标签。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="35f2" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">这个<code class="fe ni nj nk nl b">TextRank4Keyword</code>实现了我在上一节描述的所有功能。我们可以看到一个段落的输出。</p><pre class="kj kk kl km gt ns nl nt nu aw nv bi"><span id="19c0" class="nw kz it nl b gy nx ny l nz oa">text = '''<br/>The Wandering Earth, described as China’s first big-budget science fiction thriller, quietly made it onto screens at AMC theaters in North America this weekend, and it shows a new side of Chinese filmmaking — one focused toward futuristic spectacles rather than China’s traditionally grand, massive historical epics. At the same time, The Wandering Earth feels like a throwback to a few familiar eras of American filmmaking. While the film’s cast, setting, and tone are all Chinese, longtime science fiction fans are going to see a lot on the screen that reminds them of other movies, for better or worse.<br/>'''<br/>​<br/>tr4w = TextRank4Keyword()<br/>tr4w.analyze(text, candidate_pos = ['NOUN', 'PROPN'], window_size=4, lower=False)<br/>tr4w.get_keywords(10)</span></pre><p id="aef3" class="pw-post-body-paragraph lq lr it ls b lt nb ju lv lw nc jx ly lz nd mb mc md ne mf mg mh nf mj mk ml im bi translated">输出</p><pre class="kj kk kl km gt ns nl nt nu aw nv bi"><span id="7c30" class="nw kz it nl b gy nx ny l nz oa">science - 1.717603106506989<br/>fiction - 1.6952610926181002<br/>filmmaking - 1.4388798751402918<br/>China - 1.4259793786986021<br/>Earth - 1.3088154732297723<br/>tone - 1.1145002295684114<br/>Chinese - 1.0996896235078055<br/>Wandering - 1.0071059904601571<br/>weekend - 1.002449354657688<br/>America - 0.9976329264870932<br/>budget - 0.9857269586649321<br/>North - 0.9711240881032547</span></pre><blockquote class="oj ok ol"><p id="3a49" class="lq lr of ls b lt nb ju lv lw nc jx ly om nd mb mc on ne mf mg oo nf mj mk ml im bi translated">查看我在<a class="ae oe" href="https://medium.com/@bramblexu" rel="noopener">媒体</a>上的其他帖子，有更好的<a class="ae oe" href="https://bramblexu.org/2019/12/01/bramblexu-published-articles-in-medium/" rel="noopener ugc nofollow" target="_blank">目录列表视图</a>！<br/><strong class="ls iu">GitHub:</strong><a class="ae oe" href="https://github.com/BrambleXu" rel="noopener ugc nofollow" target="_blank"><strong class="ls iu">https://github.com/BrambleXu</strong></a><strong class="ls iu"><br/>LinkedIn:</strong><a class="ae oe" href="https://www.linkedin.com/in/xu-liang-99356891/" rel="noopener ugc nofollow" target="_blank"><strong class="ls iu">www.linkedin.com/in/xu-liang</strong></a><strong class="ls iu"><br/>博客:</strong><a class="ae oe" href="https://bramblexu.org/" rel="noopener ugc nofollow" target="_blank"><strong class="ls iu">https://bramblexu.org</strong></a></p></blockquote><h1 id="adf4" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">新闻图表</h1><p id="6209" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我还实现了 TextRank，用于从新闻中提取关键字并将其可视化。欢迎检查。</p><div class="op oq gp gr or os"><a href="https://github.com/BrambleXu/news-graph" rel="noopener  ugc nofollow" target="_blank"><div class="ot ab fo"><div class="ou ab ov cl cj ow"><h2 class="bd iu gy z fp ox fr fs oy fu fw is bi translated">树莓徐/新闻图</h2><div class="oz l"><h3 class="bd b gy z fp ox fr fs oy fu fw dk translated">从文本和图形可视化中提取关键信息- BrambleXu/news-graph</h3></div><div class="pa l"><p class="bd b dl z fp ox fr fs oy fu fw dk translated">github.com</p></div></div><div class="pb l"><div class="pc l pd pe pf pb pg ks os"/></div></div></a></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/b50213f8d1e38cad6fcc80be7b551735.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8VVeSdIwGf73dGSDuabBJg.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Demo of News Graph</figcaption></figure><blockquote class="oj ok ol"><p id="ddae" class="lq lr of ls b lt nb ju lv lw nc jx ly om nd mb mc on ne mf mg oo nf mj mk ml im bi translated"><strong class="ls iu"> <em class="it">查看我的其他帖子</em> </strong> <a class="ae oe" href="https://medium.com/@bramblexu" rel="noopener"> <strong class="ls iu"> <em class="it">中等</em> </strong> </a> <strong class="ls iu"> <em class="it">同</em> </strong> <a class="ae oe" href="https://bramblexu.com/posts/eb7bd472/" rel="noopener ugc nofollow" target="_blank"> <strong class="ls iu"> <em class="it">一个分类查看</em> </strong> </a> <strong class="ls iu"> <em class="it">！<br/>GitHub:</em></strong><a class="ae oe" href="https://github.com/BrambleXu" rel="noopener ugc nofollow" target="_blank"><strong class="ls iu"><em class="it">bramble Xu</em></strong></a><strong class="ls iu"><em class="it"><br/>LinkedIn:</em></strong><a class="ae oe" href="https://www.linkedin.com/in/xu-liang-99356891/" rel="noopener ugc nofollow" target="_blank"><strong class="ls iu"><em class="it">徐亮</em> </strong> </a> <strong class="ls iu"> <em class="it"> <br/>博客:</em></strong><a class="ae oe" href="https://bramblexu.com" rel="noopener ugc nofollow" target="_blank"><strong class="ls iu"><em class="it">bramble Xu</em></strong></a></p></blockquote></div></div>    
</body>
</html>