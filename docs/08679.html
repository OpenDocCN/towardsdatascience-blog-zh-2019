<html>
<head>
<title>Testing for Normality using Skewness and Kurtosis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用偏度和峰度检验正态性</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/testing-for-normality-using-skewness-and-kurtosis-afd61be860?source=collection_archive---------1-----------------------#2019-11-22">https://towardsdatascience.com/testing-for-normality-using-skewness-and-kurtosis-afd61be860?source=collection_archive---------1-----------------------#2019-11-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/14a9753e0015f4a309ec60e536d0a977.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9bu3kTg1aQob8OkFx8PxkA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><a class="ae jg" href="https://en.wikipedia.org/wiki/File:Normal_Distribution_PDF.svg" rel="noopener ugc nofollow" target="_blank">PDF of the Normal distribution</a> (Source: Wikimedia Commons under CC0)</figcaption></figure><div class=""/><div class=""><h2 id="bf57" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">…以及使用<strong class="ak">综合 K 平方</strong>和<strong class="ak">Jarque–Bera 正态性测试</strong>的分步指南</h2></div><p id="2340" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将讨论以下 4 个主题:</p><ol class=""><li id="3d36" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">什么是常态，为什么要关心常态？</li><li id="4e63" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">什么是<strong class="la jk">偏度</strong>和<strong class="la jk">峰度</strong>以及如何使用它们来测试正态性？</li><li id="1431" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">如何使用<strong class="la jk">两种非常常用的正态性检验，即基于偏度和峰度的综合 K 平方检验</strong>和<strong class="la jk">Jarque–Bera 检验</strong>。</li><li id="c242" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">如何将这些测试应用于真实世界的数据集，以决定<strong class="la jk">O</strong>rdinary<strong class="la jk">L</strong>east<strong class="la jk">S</strong>quares 回归是否是该数据集的合适模型。</li></ol></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="3cc2" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">快速提示</h2><blockquote class="ni nj nk"><p id="c7bf" class="ky kz nl la b lb lc kk ld le lf kn lg nm li lj lk nn lm ln lo no lq lr ls lt im bi translated">要直接进入显示如何测试正态性的 Python 代码，向下滚动到名为<strong class="la jk"> Example </strong>的部分。</p><p id="089a" class="ky kz nl la b lb lc kk ld le lf kn lg nm li lj lk nn lm ln lo no lq lr ls lt im bi translated">文章中使用的数据集可以从<a class="ae jg" href="https://gist.github.com/sachinsdate/7b0a54bdbe29c4a60c02465fad895058" rel="noopener ugc nofollow" target="_blank">这个链接</a>下载。</p></blockquote></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="5d5b" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">什么是常态？</h2><p id="a39c" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">正态性意味着你的数据遵循正态分布。具体来说，<strong class="la jk"><em class="nl"/></strong>中的每一个值<em class="nl"> y_i </em>都是某个正态分布随机变量<em class="nl"> N( _i </em>，<em class="nl"> σ_i) </em>的“实现”，如下:</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nu"><img src="../Images/f5a188e119a249b2c825bf8b8e4b9aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7XkihaqYNJ1tAvCLvcai6Q.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><em class="nz">A normally distributed response variable </em><strong class="bd oa"><em class="nz">Y</em></strong><em class="nz"> (Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="5dcc" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">线性回归背景下的正态性</h2><p id="65fc" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">在建立线性回归模型时，假设<strong class="la jk"> <em class="nl"> Y </em> </strong>依赖于回归变量的矩阵<strong class="la jk"><em class="nl"/></strong>这使得<strong class="la jk"> <em class="nl"> Y </em>在<strong class="la jk"><em class="nl">【X .</em></strong>上有条件正常</strong>如果<strong class="la jk"><em class="nl">X =【X _ 1，x_2，…，X _ n】</em></strong>与<strong class="la jk"> <em class="nl">联合<strong class="la jk"/></em></strong></p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ob"><img src="../Images/195e121fe1571d947ef457eb90b0efe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iae6EXqls-qme6LUJB8Chw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">In linear regression, <strong class="bd oa"><em class="nz">Y</em></strong> is conditionally normally distributed on the rmatrix of regressors <strong class="bd oa"><em class="nz">X</em></strong></figcaption></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="627b" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">为什么要测试常态？</h2><p id="9467" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">一些统计技术和模型假设基础数据是正态分布的。</p><p id="0b9a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将给出以下三种常态抬头的情况:</p><ul class=""><li id="f3a7" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt oc ma mb mc bi translated">如上图所示，在<strong class="la jk">O</strong>d<strong class="la jk">L</strong>东<strong class="la jk"> S </strong>方(<strong class="la jk"> OLS </strong>)回归中，<strong class="la jk"> <em class="nl"> Y </em> </strong>是<em class="nl">有条件的</em>正常对回归变量<strong class="la jk"><em class="nl"/></strong>X:<strong class="la jk"><em class="nl">Y</em></strong>是正常的，如果<strong class="la jk"><em class="nl">X =【x_1，X _ 1 但是，即使<strong class="la jk"> <em class="nl"> Y </em> </strong>不是正态分布，你的 OLS 模型也不会发生任何不好的事情。</em></strong></li><li id="fd60" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">经典线性回归模型的一个不太严格的要求是，回归的残差<em class="nl">'</em><strong class="la jk"><em class="nl"/></strong><em class="nl">'</em>'应该是期望值为零的正态分布<em class="nl">，即 e(</em><strong class="la jk"><em class="nl">【ϵ</em></strong><em class="nl">)= 0。</em> <strong class="la jk">如果残差ϵ为<em class="nl">非</em>正态分布，则无法使用 t 分布可靠地计算模型预测的置信区间</strong>，尤其是对于小样本量(n ≤ 20)。</li></ul><blockquote class="ni nj nk"><p id="e2b4" class="ky kz nl la b lb lc kk ld le lf kn lg nm li lj lk nn lm ln lo no lq lr ls lt im bi translated">请记住，即使误差不是正态分布的，只要 E(ϵ)=0 满足 OLSR 的所有其他要求，OLS 估计量仍然是模型的蓝色估计量，即线性估计量。</p></blockquote><ul class=""><li id="b05a" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt oc ma mb mc bi translated">最后，某些拟合优度技术，如用于回归分析的<a class="ae jg" rel="noopener" target="_blank" href="/fisher-test-for-regression-analysis-1e1687867259"> F 检验</a>假设竞争回归模型的残差都是正态分布的。<strong class="la jk">如果残差不是正态分布，f 检验不能可靠地用于</strong>比较两个竞争回归模型的拟合优度。</li></ul></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="dd1e" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">如何判断我的数据是否(不是)正态分布？</h2><p id="5865" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">有几个统计测试可以用来测试你的数据偏离正态的程度，<strong class="la jk">以及偏离是否有统计学意义</strong>。</p><p id="b990" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我们将查看基于矩的度量，即<strong class="la jk">偏度</strong>和<strong class="la jk">峰度</strong>，以及基于这些度量的显著性统计测试，即<strong class="la jk">综合 K </strong>和<strong class="la jk"> Jarque — Bera </strong>。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="70d5" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">什么是“偏斜度”以及如何使用？</h2><p id="e1ed" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">偏斜度允许您测试分布的总体形状<strong class="la jk">与正态分布形状的偏离程度。</strong></p><p id="0ca1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下图说明了偏态分布。</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div class="gh gi od"><img src="../Images/f6927e8e8561900078de1656498c80f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*_SLU3azdZsbDFwB66XKn7A.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><a class="ae jg" href="https://commons.wikimedia.org/wiki/File:Negative_and_positive_skew_diagrams_(English).svg" rel="noopener ugc nofollow" target="_blank">Positive and negative skewness</a> (Source: Wikimedia Commons under CC BY-SA 3.0)</figcaption></figure><p id="d957" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">基于矩的偏斜度定义如下:</p><blockquote class="oe"><p id="0dcb" class="of og jj bd oh oi oj ok ol om on lt dk translated">偏斜度被定义为概率分布的随机变量的第三个标准化中心矩。</p></blockquote><p id="d087" class="pw-post-body-paragraph ky kz jj la b lb oo kk ld le op kn lg lh oq lj lk ll or ln lo lp os lr ls lt im bi translated">人口的<strong class="la jk">偏度公式如下所示:</strong></p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ot"><img src="../Images/01a347f504615e04346e7af059323540.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i-_Bxmu3yQLh3K1ELGBMGA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Formula for population skewness <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><p id="bb99" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">偏度有以下性质:</strong></p><ul class=""><li id="3620" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt oc ma mb mc bi translated"><strong class="la jk">偏度是一个基于</strong> <a class="ae jg" href="https://en.wikipedia.org/wiki/Moment_(mathematics)" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk">矩</strong> </a> <strong class="la jk">的度量</strong>(具体来说是三阶矩)，因为<strong class="la jk">它使用的是一个随机变量</strong>的三次方的期望值。</li><li id="69b9" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated"><strong class="la jk">偏斜度是一个中心矩，</strong>因为随机变量的值是通过从平均值中减去它而被集中的<strong class="la jk">。</strong></li><li id="07d0" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated"><strong class="la jk">偏斜度是一个标准化的矩</strong>，因为它的值是通过除以<strong class="la jk">标准差</strong>的(的幂)而标准化的<strong class="la jk">。</strong></li><li id="e6cb" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">因为是三阶矩，<strong class="la jk">围绕平均值完全对称的概率分布将具有零偏斜度</strong>。这是因为，对于每个大于平均值<em class="nl"> </em>的<em class="nl"> y_i </em>，将有一个相应的<em class="nl"> y_i </em>比平均值<em class="nl"> </em>小相同的量。由于分布围绕平均值对称，两个 y_i 值将具有相同的概率。所以成对的<em class="nl"> (y_i- ) </em>将相互抵消，总偏斜度为零。</li><li id="176f" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated"><strong class="la jk">正态分布的偏斜度为零。</strong></li><li id="f294" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">虽然对称分布将具有零偏斜度，但是具有零偏斜度的分布不一定是对称的。</li><li id="5838" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated"><strong class="la jk">基于特定比率的分布</strong> —最著名的<a class="ae jg" href="https://en.wikipedia.org/wiki/Cauchy_distribution" rel="noopener ugc nofollow" target="_blank">柯西分布</a> — <strong class="la jk">具有未定义的偏斜度</strong>，因为它们具有未定义的均值<em class="nl"> </em>。</li></ul><p id="aaee" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">实际上，我们可以通过计算样本的偏度来估计总体的偏度。对于样本，我们假设随机变量是均匀分布的，因此样本中每个<em class="nl"> y_i </em>的概率是 1/n，第三个，中心的<strong class="la jk">样本</strong>矩变成所有(y_i —y_bar)的简单求和的 1/n 倍。</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/563047e4c2bfe599a50676977254fcfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/format:webp/1*rd3RFSoOoKk4J2xdXhe6yg.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Formula for sample skewness <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><p id="da70" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">偏斜度对概率分布的参数非常敏感。</p><p id="9003" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下图说明了事件率参数λ的不同值的<a class="ae jg" rel="noopener" target="_blank" href="/the-poisson-process-everything-you-need-to-know-322aa0ab9e9a"> <strong class="la jk">泊松分布</strong> </a>的<strong class="la jk"> P </strong>概率<strong class="la jk"> M </strong> ass <strong class="la jk"> F </strong>函数的偏斜度:</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ov"><img src="../Images/df4237d29bc121a5268f31145683421e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d6e9WT_dnwx9GIuGjWIjNQ.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Skewness of the Poisson(λ) distribution for various event rates (λ) <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><p id="7843" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">对于大事件率，泊松 PMF 的偏斜度为什么会降低？</strong>对于较大的λ值，泊松分布的 PMF 接近正态分布的 PMF，均值和方差= λ。即泊松(λ) → N(λ，λ)，为λ → ∞。因此，上图中所见绝非巧合。</p><blockquote class="ni nj nk"><p id="8e8e" class="ky kz nl la b lb lc kk ld le lf kn lg nm li lj lk nn lm ln lo no lq lr ls lt im bi translated">当λ → ∞，泊松分布的偏斜度趋于正态分布的偏斜度，即 0。</p></blockquote><p id="de72" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还有其他偏斜度的度量，例如:</p><ul class=""><li id="794f" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt oc ma mb mc bi translated">模式偏斜度</li><li id="ffff" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">中位数的偏斜度</li><li id="cb1a" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">根据四分位值计算的偏斜度</li><li id="8f32" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">…还有一些其他的。</li></ul></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="944c" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">什么是峰度，如何使用它？</h2><p id="7d3e" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">峰度是一种度量标准，用来衡量分布<strong class="la jk">的尾部与正态分布</strong>的尾部相比有多不同。偏度侧重于整体形状，峰度侧重于尾部形状。</p><p id="ddce" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">峰度定义如下:</p><blockquote class="oe"><p id="0d92" class="of og jj bd oh oi oj ok ol om on lt dk translated">峰度是概率分布的随机变量的第四个标准化中心矩。</p></blockquote><p id="aa82" class="pw-post-body-paragraph ky kz jj la b lb oo kk ld le op kn lg lh oq lj lk ll or ln lo lp os lr ls lt im bi translated">峰度的公式如下:</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/80801fa0112775df76ed9bb8d46909ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*9wvGu5KtwAtMWk58JMHZ1g.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Formula for population Kurtosis <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><h2 id="7a2a" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated"><strong class="ak">峰度有以下性质:</strong></h2><ul class=""><li id="b2e5" class="lu lv jj la b lb np le nq lh ox ll oy lp oz lt oc ma mb mc bi translated">就像偏度一样，<strong class="la jk">峰度是基于矩的度量</strong>，<strong class="la jk">它是一个中心的标准化矩</strong>。</li><li id="1947" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">因为是第四矩，<strong class="la jk">峰度总是正的</strong>。</li><li id="d9a7" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">峰度对尾部偏离正态性很敏感。由于 4 次幂，上式中集中值<em class="nl"> (y_i- ) </em>的较小值被大大削弱。换句话说，位于分布中心附近的 Y 值不被强调。相反，<em class="nl"> (y_i- ) </em>的较大值，即位于分布的两个尾部的值，由 4 次方大大强调。这个性质使得峰度在很大程度上不知道位于分布中心的值，并且使得峰度对位于分布尾部的值敏感。</li><li id="ed75" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated"><strong class="la jk">正态分布的峰度为 3.0 </strong>。在测量偏离正态性时，峰度有时表示为<strong class="la jk">过度峰度</strong>，即峰度减去 3.0 后的<strong class="la jk">余额。</strong></li></ul><p id="326b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">对于一个样本，<em class="nl">过度</em>峰度是通过将第四中心<em class="nl">样本</em>矩除以样本标准差的四次方，然后减去 3.0 来估计的，如下所示:</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/978a76f0509ca5c9e5e45601bf3def3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*cT2R75RuXM8H9kenF4h-OA.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Formula for sample excess Kurtosis <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><p id="56ac" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里有一张来自维基共享的优秀图片，展示了各种分布的过度峰度。我在图像的左上方叠加了一个放大版的尾巴:</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pb"><img src="../Images/73170a8dc0db7d5956da9ab6e4d3a6b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*roCquvShXU4W0e8cRQ0zXw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><a class="ae jg" href="https://commons.wikimedia.org/wiki/File:Standard_symmetric_pdfs.png" rel="noopener ugc nofollow" target="_blank">Excess Kurtosis of various distributions</a> (Source: Wikimedia Commons under CC0)</figcaption></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="b492" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">基于偏度和峰度的正态性检验</h2><p id="51d7" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">虽然偏度和峰度量化了偏离正态性的量，<strong class="la jk">人们可能想知道这种偏离在统计上是否显著</strong>。下面两个测试让我们做到了这一点:</p><ul class=""><li id="9031" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt oc ma mb mc bi translated"><strong class="la jk">综合 K 平方检验</strong></li><li id="1c86" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated"><strong class="la jk">Jarque–Bera 测试</strong></li></ul><p id="836f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这两个测试中，我们从以下假设开始:</p><ul class=""><li id="9c9a" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt oc ma mb mc bi translated"><em class="nl">零假设(</em> H_0):数据<strong class="la jk">为</strong>正态分布。</li><li id="bab1" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated"><em class="nl">交替假设</em> (H_1):数据<strong class="la jk">不是</strong>正态分布，换句话说，由检验统计量测量的偏离正态性在统计上是显著的。</li></ul></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="2e22" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">综合 K 平方正态性检验</h2><p id="70a1" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">综合检验将偏斜度和峰度的随机变量组合成一个单一的检验统计量，如下所示:</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/9070bfc2f8539771c31290ba517fe1e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*Ztg4ZURkMXQ6gnQjvTF3bg.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Formula for the Omnibus K-squared test statistic <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><p id="1b65" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">检验统计量的概率分布:<br/> </strong>在上述公式中，函数<em class="nl"> Z1() </em>和<em class="nl"> Z2() </em>意在使随机变量<em class="nl"> g1 </em>和<em class="nl"> g2 </em>近似正态分布。这又使得它们的平方和近似为<em class="nl">卡方(2) </em>分布<strong class="la jk">，</strong>从而使得<strong class="la jk">综合 K 平方的统计量近似为<em class="nl">卡方(2) </em>分布</strong> <em class="nl">假设零假设为真</em>，即数据是正态分布的。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="b711" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">jar que–Bera 正态性检验</h2><p id="9998" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">该测试的测试统计如下:</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/86a9379e239de49f3eb132b36182fec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1242/format:webp/1*qT3OH9dfl8zXjRlx49mZhg.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Formula for the Jarque-Bera test statistic <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><p id="4fec" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">检验统计量的概率分布:<br/> </strong>检验统计量是各自近似正态分布的随机变量<em class="nl"> g1 </em>和<em class="nl"> g2 </em>的缩放平方和，从而使得<strong class="la jk"> JB 检验统计量近似为卡方(2)分布</strong>，假设原假设为真。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="d92a" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">例子</h2><p id="067a" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">我们将使用来自<a class="ae jg" href="https://www.bls.gov/" rel="noopener ugc nofollow" target="_blank">美国劳工统计局</a>的以下数据集来说明正态性检验的应用:</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pe"><img src="../Images/e3e550bfb601c79fbf99b821024ff8d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bwXY1BzeZdpZG3wabfGc9g.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Source: Wages and salaries (series id: CXU900000LB1203M). <a class="ae jg" href="https://www.bls.gov/" rel="noopener ugc nofollow" target="_blank">U.S. Bureau of Labor Statistics</a> <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><p id="8559" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是数据集的前几行:</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/9424f78b05fddafbbf9301a3d5a37f92.png" data-original-src="https://miro.medium.com/v2/resize:fit:394/format:webp/1*I7XN4_7oqgQ3LIeAR06HxQ.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk"><em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><p id="32f7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">你可以从<a class="ae jg" href="https://gist.github.com/sachinsdate/7b0a54bdbe29c4a60c02465fad895058" rel="noopener ugc nofollow" target="_blank">这个链接</a>下载数据。</p><p id="bd9b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们用下面的<strong class="la jk"> OLS </strong>回归模型来拟合这个数据集:</p><p id="12aa" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="nl">工资</em></strong><em class="nl">=</em><strong class="la jk"><em class="nl">β_ 0</em></strong><em class="nl">+</em><strong class="la jk"><em class="nl">β_ 1</em></strong><em class="nl">*</em><strong class="la jk"><em class="nl">年份</em></strong><em class="nl">+</em><strong class="la jk"><em class="nl">ϵ</em></strong></p><p id="415f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">其中:</p><p id="0b09" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"><em class="nl"/></strong>是因变量<strong class="la jk"> <em class="nl">，<br/></em></strong>是回归变量<strong class="la jk"> <em class="nl">，<br/> β_0 </em> </strong> <em class="nl">是回归的截距，<br/></em><strong class="la jk"><em class="nl">β_ 1</em></strong><em class="nl">是回归系数，<br/><br/></em></p><p id="267b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们将使用 Python 库<em class="nl"> pandas </em>和<em class="nl"> statsmodels </em>来读取数据，并为这些数据构建和训练我们的 OLS 模型。</p><p id="4dd2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们从导入所需的包开始:</p><pre class="nv nw nx ny gt pg ph pi pj aw pk bi"><span id="51d8" class="mp mq jj ph b gy pl pm l pn po"><strong class="ph jk">import </strong>pandas <strong class="ph jk">as </strong>pd</span><span id="0cce" class="mp mq jj ph b gy pp pm l pn po"><strong class="ph jk">import </strong>statsmodels.formula.api <strong class="ph jk">as </strong>smf</span><span id="3436" class="mp mq jj ph b gy pp pm l pn po"><strong class="ph jk">import </strong>statsmodels.stats.api as sms</span><span id="5f0d" class="mp mq jj ph b gy pp pm l pn po"><strong class="ph jk">from </strong>statsmodels.compat <strong class="ph jk">import </strong>lzip</span><span id="88ad" class="mp mq jj ph b gy pp pm l pn po"><strong class="ph jk">import </strong>matplotlib.pyplot <strong class="ph jk">as </strong>plt</span><span id="4065" class="mp mq jj ph b gy pp pm l pn po"><strong class="ph jk">from </strong>statsmodels.graphics.tsaplots <strong class="ph jk">import </strong>plot_acf</span></pre><p id="509e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将数据读入熊猫数据框:</p><pre class="nv nw nx ny gt pg ph pi pj aw pk bi"><span id="5d14" class="mp mq jj ph b gy pl pm l pn po">df = pd.read_csv(<strong class="ph jk">'wages_and_salaries_1984_2019_us_bls_CXU900000LB1203M.csv'</strong>, header=0)</span></pre><p id="4c19" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">剧情<em class="nl">工资</em>对比<em class="nl">年份</em>:</p><pre class="nv nw nx ny gt pg ph pi pj aw pk bi"><span id="32a6" class="mp mq jj ph b gy pl pm l pn po">fig = plt.figure()</span><span id="cde8" class="mp mq jj ph b gy pp pm l pn po">plt.xlabel('Year')</span><span id="2e4c" class="mp mq jj ph b gy pp pm l pn po">plt.ylabel('Wages and Salaries (USD)')</span><span id="b633" class="mp mq jj ph b gy pp pm l pn po">fig.suptitle('Wages and Salaries before taxes. All US workers')</span><span id="a127" class="mp mq jj ph b gy pp pm l pn po">wages, = plt.plot(df['Year'], df['Wages'], 'go-', label='Wages and Salaries')</span><span id="bd4d" class="mp mq jj ph b gy pp pm l pn po">plt.legend(handles=[wages])</span><span id="53c1" class="mp mq jj ph b gy pp pm l pn po">plt.show()</span></pre><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pq"><img src="../Images/0c2db858dc08e9ef3288e9cd6aa680fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gg4vDdWJADB3FVLhjcTYiA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Source: Wages and salaries (series id: CXU900000LB1203M). U.S. Bureau of Labor Statistics <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><p id="0e97" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用<a class="ae jg" href="https://patsy.readthedocs.io/en/latest/quickstart.html" rel="noopener ugc nofollow" target="_blank"> patsy </a>语法创建回归表达式。在下面的表达式中，我们告诉<em class="nl"> statsmodels </em>说<em class="nl">工资</em>是响应变量，而<em class="nl">年</em>是回归变量。statsmodels 会自动将截距添加到回归方程中。</p><pre class="nv nw nx ny gt pg ph pi pj aw pk bi"><span id="2d40" class="mp mq jj ph b gy pl pm l pn po">expr = 'Wages ~ Year'</span></pre><p id="20b8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过传递模型表达式来配置 OLS 回归模型，并在数据集上训练模型，所有这些都在一个步骤中完成:</p><pre class="nv nw nx ny gt pg ph pi pj aw pk bi"><span id="6d3c" class="mp mq jj ph b gy pl pm l pn po">olsr_results = smf.ols(expr, df).fit()</span></pre><p id="7907" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">打印模型摘要:</p><pre class="nv nw nx ny gt pg ph pi pj aw pk bi"><span id="9f8d" class="mp mq jj ph b gy pl pm l pn po">print(olsr_results.summary())</span></pre><p id="42a5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下面的输出中，我指出了我们的 OLS 模型对数据适用性的吉兆和凶兆区域:</p><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pr"><img src="../Images/3d48d8c0cfa8a4b0c32ea7df28fb6efb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*89D7I1AK1FJapIEaH0LPzA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Summary of OLS regression model <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><h2 id="2fb1" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">解释结果</h2><p id="8d92" class="pw-post-body-paragraph ky kz jj la b lb np kk ld le nq kn lg lh nr lj lk ll ns ln lo lp nt lr ls lt im bi translated">以下是从结果中需要注意的一些事情:</p><ul class=""><li id="2b8e" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt oc ma mb mc bi translated">残差是正偏斜的，偏斜度为 0.268，并且它们还具有 2.312 的过度正峰度，即较厚的尾部。</li><li id="ba3f" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">综合测试和 JB 测试都产生了测试统计值(分别为 1.219 和 1.109)，它们位于卡方(2) PDF 的<em class="nl"> H_0 接受区</em>内(见下图)。因此我们将接受假设 h0，即残差是正态分布的。</li></ul><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ps"><img src="../Images/f8aaad2d26e7303fa83e775254112131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Cmhl-8W6hxhg1ZVPY2MCg.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">Acceptance and rejection zones for the Null hypothesis in the Chi-squared(2) PDF for two-tailed α=0.05 <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><ul class=""><li id="5bc9" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt oc ma mb mc bi translated">您还可以获得偏度值、过度峰度值以及综合测试和 JB 测试的测试统计值，如下所示:</li></ul><pre class="nv nw nx ny gt pg ph pi pj aw pk bi"><span id="9614" class="mp mq jj ph b gy pl pm l pn po">name = ['Omnibus K-squared test', 'Chi-squared(2) p-value']</span><span id="2a56" class="mp mq jj ph b gy pp pm l pn po">#Pass the residual errors of the regression into the test<br/>test = sms.<strong class="ph jk">omni_normtest</strong>(olsr_results.resid)</span><span id="6eed" class="mp mq jj ph b gy pp pm l pn po">lzip(name, test)</span><span id="d6de" class="mp mq jj ph b gy pp pm l pn po">#Prints out the following:<br/>&gt; [('<strong class="ph jk">Omnibus K-squared test</strong>', 1.2194658631806088), ('<strong class="ph jk">Chi-squared(2) p-value</strong>', 0.5434960003061313)]</span><span id="970a" class="mp mq jj ph b gy pp pm l pn po">name = ['Jarque-Bera test', 'Chi-squared(2) p-value', 'Skewness', 'Kurtosis']</span><span id="831b" class="mp mq jj ph b gy pp pm l pn po">test = sms.<strong class="ph jk">jarque_bera</strong>(olsr_results.resid)</span><span id="a0b8" class="mp mq jj ph b gy pp pm l pn po">lzip(name, test)</span><span id="89ae" class="mp mq jj ph b gy pp pm l pn po">#Prints out the following:<br/>[('<strong class="ph jk">Jarque-Bera test</strong>', 1.109353094606092), ('<strong class="ph jk">Chi-squared(2) p-value</strong>', 0.5742579764509973), ('<strong class="ph jk">Skewness</strong>', 0.26780140709870015), ('<strong class="ph jk">Kurtosis</strong>', 2.3116476989966737)]</span></pre><ul class=""><li id="a504" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt oc ma mb mc bi translated">由于残差似乎呈正态分布，我们也可以相信模型报告的两个模型参数的 95%置信水平。</li><li id="eaf4" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">我们也可以相信 f 检验的 p 值。它非常小，表明这两个模型参数也<em class="nl">共同</em>显著。</li><li id="0260" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">最后，模型报告的 R 平方相当高，表明模型与数据拟合得很好。</li></ul><p id="1380" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">现在是坏的部分:</strong>Durbin-Watson 测试和残差的条件数都表明残差是自相关的，特别是在滞后 1 时。</p><p id="ee0b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以通过残差的 ACF 图轻松确认这一点:</p><pre class="nv nw nx ny gt pg ph pi pj aw pk bi"><span id="f208" class="mp mq jj ph b gy pl pm l pn po">plot_acf(olsr_results.resid, title='ACF of residual errors')</span><span id="dcc1" class="mp mq jj ph b gy pp pm l pn po">plt.show()</span></pre><figure class="nv nw nx ny gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pt"><img src="../Images/737e5b268d3625419ad33d1c36731ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F9yBoNHm9KKzF56hbT1w-Q.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">ACF plot of residual errors <em class="nz">(Image by </em><a class="ae jg" href="https://sachin-date.medium.com/" rel="noopener"><em class="nz">Author</em></a><em class="nz">)</em></figcaption></figure><p id="f2fd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这给我们提出了一个问题:经典线性回归模型的一个基本要求是残差不应该是自相关的。在这种情况下，他们肯定是如此。这意味着 OLS 估计器可能低估了训练数据中的方差，这又意味着它的预测将偏离很大一部分。</p><p id="f53d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">简单地说，OLS 估计器不再是模型的 T2 蓝色估计器。真扫兴。</p><p id="03da" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">残差的自相关指出了一种<em class="nl">可能性</em>，即我们的模型被错误地选择或错误地配置。特别是，</p><ul class=""><li id="bc65" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt oc ma mb mc bi translated">我们可能遗漏了一些关键的解释变量，导致一些信号以自相关的形式泄漏到残差中，或者，</li><li id="857e" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">对这个数据集来说，选择 OLS 模型本身可能是完全错误的。我们可能需要寻找替代模型。</li></ul><p id="f8e8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这种情况下，您的选择是接受所选模型的次优性，并解决上述两个次优性的原因。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="7ef7" class="mp mq jj bd mr ms mt dn mu mv mw dp mx lh my mz na ll nb nc nd lp ne nf ng nh bi translated">摘要</h2><ul class=""><li id="f9e5" class="lu lv jj la b lb np le nq lh ox ll oy lp oz lt oc ma mb mc bi translated">一些统计程序假设基础数据遵循正态分布。</li><li id="aa9e" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated"><strong class="la jk">偏度</strong>和<strong class="la jk">峰度</strong>是两个基于矩的度量，将帮助您快速计算偏离正态的程度。</li><li id="3901" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">除了使用<strong class="la jk">偏度</strong>和<strong class="la jk">峰度、</strong>之外，您还应该使用<strong class="la jk">综合 K 平方</strong>和<strong class="la jk"> Jarque-Bera </strong>测试来确定偏离正态的数量是否具有统计显著性。</li><li id="36cb" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt oc ma mb mc bi translated">在某些情况下，如果数据(或残差)不是正态分布的，您的模型将是次优的。</li></ul></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="7c36" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="nl">感谢阅读！如果你喜欢这篇文章，请关注我的</em><a class="ae jg" href="https://timeseriesreasoning.medium.com" rel="noopener"><strong class="la jk"><em class="nl">Sachin Date</em></strong></a><em class="nl">获取关于时间序列分析和预测的技巧、方法和编程建议。</em></p></div></div>    
</body>
</html>