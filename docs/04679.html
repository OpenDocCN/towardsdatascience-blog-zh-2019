<html>
<head>
<title>Python Pandas Data Frame Basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 熊猫数据框基础知识</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-pandas-data-frame-basics-b5cfbcd8c039?source=collection_archive---------4-----------------------#2019-07-17">https://towardsdatascience.com/python-pandas-data-frame-basics-b5cfbcd8c039?source=collection_archive---------4-----------------------#2019-07-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4948" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们从零开始了解熊猫数据框架的基本知识。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a09ee7afb40af6e2cbf2db10af2d4e65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V0a5jxOmbBfQlKhtShKwfA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Credits: <a class="ae ky" href="https://www.youtube.com/channel/UCh9nVJoWXmFb7sLApWGcLPQ" rel="noopener ugc nofollow" target="_blank">codebasics</a></figcaption></figure><p id="104f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在开始之前，让我先给你介绍一下<a class="ae ky" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Pandas </a>，Pandas 是一个 python 库，它为 Python 编程语言的数据分析工具提供了高性能、易于使用的数据结构，如系列、数据框和面板。此外，Pandas 数据帧由主要组件组成，即数据、行和列。要使用熊猫的库和它的数据结构，你所要做的就是安装并导入它。要更好地理解和安装指南，请参阅 Pandas 库的文档。这里的完整代码可以在我的<a class="ae ky" href="https://github.com/Tanu-N-Prabhu/Python/blob/master/Pandas/Pandas_DataFrame.ipynb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>页面上找到。</p><h1 id="2a4c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">可应用于熊猫数据框的基本操作如下所示。</h1><ol class=""><li id="9032" class="mn mo it lb b lc mp lf mq li mr lm ms lq mt lu mu mv mw mx bi translated">创建数据框。</li><li id="0be8" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">对行和列执行操作。</li><li id="2129" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">数据选择、添加、删除。</li><li id="e3f1" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">处理缺失数据。</li><li id="7e0b" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">重命名数据帧的列或索引。</li></ol><h2 id="b2f6" class="nd lw it bd lx ne nf dn mb ng nh dp mf li ni nj mh lm nk nl mj lq nm nn ml no bi translated"><strong class="ak"> 1。创建数据框。</strong></h2><p id="7a7d" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">Pandas 数据框可通过从外部现有存储(如数据库、SQL 或 CSV 文件)加载数据来创建。但是熊猫数据帧也可以从列表、字典等创建。创建熊猫数据框的方法之一如下所示:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="c4cb" class="nd lw it nt b gy nx ny l nz oa"># import the pandas library<br/>import pandas as pd<br/># Dictionary of key pair values called data<br/>data = {'Name':['Ashika', 'Tanu', 'Ashwin', 'Mohit', 'Sourabh'],<br/>        'Age': [24, 23, 22, 19, 10]}<br/>data</span><span id="f8de" class="nd lw it nt b gy ob ny l nz oa"><strong class="nt iu">{'Age': [24, 23, 22, 19, 10],  'Name': ['Ashika', 'Tanu', 'Ashwin', 'Mohit', 'Sourabh']}</strong></span><span id="9b33" class="nd lw it nt b gy ob ny l nz oa"># Calling the pandas data frame method by passing the dictionary (data) as a parameter<br/>df = pd.DataFrame(data)<br/>df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/ae53b283bfd48294b85face324fdb55d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yAS8YzrmPMzhg2bZeixHcA.png"/></div></div></figure></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><h2 id="d7b6" class="nd lw it bd lx ne nf dn mb ng nh dp mf li ni nj mh lm nk nl mj lq nm nn ml no bi translated"><strong class="ak"> 2。对行和列执行操作。</strong></h2><p id="f25d" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">数据帧是一种二维数据结构，数据存储在行和列中。下面我们可以对行和列执行一些操作。</p><p id="2e1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">选择列:</strong>为了选择一个特定的列，我们所能做的就是调用数据框内的列名。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="22c1" class="nd lw it nt b gy nx ny l nz oa"># import the pandas library<br/>import pandas as pd<br/># Dictionary of key pair values called data<br/>data = {'Name':['Ashika', 'Tanu', 'Ashwin', 'Mohit', 'Sourabh'],<br/>        'Age': [24, 23, 22, 19, 10]}<br/>data</span><span id="3641" class="nd lw it nt b gy ob ny l nz oa"><strong class="nt iu">{'Age': [24, 23, 22, 19, 10],  'Name': ['Ashika', 'Tanu', 'Ashwin', 'Mohit', 'Sourabh']}</strong></span><span id="b77f" class="nd lw it nt b gy ob ny l nz oa"># Calling the pandas data frame method by passing the dictionary (data) as a parameter<br/>df = pd.DataFrame(data)<br/># Selecting column<br/>df[['Name']]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/e8109f1c23b8050b3de1711d242f12d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tmFwhE8xuz8jk6n9bmpCGQ.png"/></div></div></figure><p id="8f72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">选择行:</strong> Pandas 数据框提供了一个名为“loc”的方法，用于从数据框中检索行。此外，还可以通过使用“iloc”功能来选择行。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="388c" class="nd lw it nt b gy nx ny l nz oa"># Calling the pandas data frame method by passing the dictionary (data) as a parameter<br/>df = pd.DataFrame(data)<br/># Selecting a row<br/>row = df.loc[1]<br/>row</span><span id="0006" class="nd lw it nt b gy ob ny l nz oa"><strong class="nt iu">Name    Tanu <br/>Age       23 <br/>Name: 1, dtype: object</strong></span></pre><p id="d225" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要选择一个特定的列，我们所能做的就是调用数据框内的列名。如上所述，要使用“loc”方法，您必须将数据框的索引作为参数传递。loc 方法只接受整数作为参数。所以在上面的例子中，我想访问“Tanu”行，所以我将索引 1 作为参数传递。现在给你们一个快速作业，用“iloc”方法，告诉我结果。</p></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><h2 id="9fd1" class="nd lw it bd lx ne nf dn mb ng nh dp mf li ni nj mh lm nk nl mj lq nm nn ml no bi translated"><strong class="ak"> 3。数据选择、添加、删除。</strong></h2><p id="1d7b" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">您可以在语义上将 DataFrame 视为一个相似索引系列对象的字典。获取、设置和删除列的语法与类似的字典操作相同:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="0c63" class="nd lw it nt b gy nx ny l nz oa"># import the pandas library<br/>import pandas as pd<br/># Dictionary of key pair values called data<br/>data = {'Name':['Ashika', 'Tanu', 'Ashwin', 'Mohit', 'Sourabh'],<br/>        'Age': [24, 23, 22, 19, 10]}</span><span id="df3d" class="nd lw it nt b gy ob ny l nz oa"># Calling the pandas data frame method by passing the dictionary (data) as a parameter<br/>df = pd.DataFrame(data)<br/># Selecting the data from the column<br/>df['Age']</span><span id="4170" class="nd lw it nt b gy ob ny l nz oa"><strong class="nt iu">0    24 <br/>1    23 <br/>2    22 <br/>3    19 <br/>4    10 <br/>Name: Age, dtype: int64</strong></span></pre><p id="7224" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以像使用字典一样删除列，只需使用 del 操作。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="7985" class="nd lw it nt b gy nx ny l nz oa">del df[‘Age’]<br/>df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/f17d370f87d94cd621433464cd6678a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KE5otwKeSa_JRd80OaaDiA.png"/></div></div></figure><p id="1c41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以使用插入功能添加数据。插入功能可用于在列中的特定位置插入:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="116b" class="nd lw it nt b gy nx ny l nz oa">df.insert(1, ‘name’, df[‘Name’])<br/>df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/a38777566e2123f6aef8f3b34c7b1ba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EiT74AzUS99wHPEIPA1UkA.png"/></div></div></figure></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><h2 id="cfbb" class="nd lw it bd lx ne nf dn mb ng nh dp mf li ni nj mh lm nk nl mj lq nm nn ml no bi translated"><strong class="ak"> 4。处理缺失数据。</strong></h2><p id="c129" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">当我们访问大数据集时，丢失数据会发生很多次。它经常像 NaN(不是数字)一样出现。为了填充那些值，我们可以使用“isnull()”方法。该方法检查数据帧中是否存在空值。</p><p id="8815" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">检查缺失值。</strong></p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="6c5c" class="nd lw it nt b gy nx ny l nz oa"># importing both pandas and numpy libraries<br/>import pandas as pd<br/>import numpy as np</span><span id="38e7" class="nd lw it nt b gy ob ny l nz oa"># Dictionary of key pair values called data<br/>data ={‘First name’:[‘Tanu’, np.nan],<br/> ‘Age’: [23, np.nan]}</span><span id="783b" class="nd lw it nt b gy ob ny l nz oa">df = pd.DataFrame(data)<br/>df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/bebf5f347ea065af1a01b432a5e6674e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c3OUqCpmW-mX-qpv1KmgzQ.png"/></div></div></figure><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="621d" class="nd lw it nt b gy nx ny l nz oa"># using the isnull() function<br/>df.isnull()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/c735a189f5378655c5627092978c132f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5WlEPoOrcaubK5RO6punhg.png"/></div></div></figure><p id="2a1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果空值不存在，isnull()返回 false，如果为空值，则返回 true。现在我们已经找到了丢失的值，下一个任务是用 0 填充这些值。这可以如下所示完成:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="a71f" class="nd lw it nt b gy nx ny l nz oa">df.fillna(0)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/edbb9c049f0b6a85be59ee3be9a51e40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qCFYDct3CW9hMp3voYcfQA.png"/></div></div></figure></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><h2 id="6e00" class="nd lw it bd lx ne nf dn mb ng nh dp mf li ni nj mh lm nk nl mj lq nm nn ml no bi translated"><strong class="ak"> 5。重命名数据帧的列或索引。</strong></h2><p id="9536" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">要为数据框的列或索引值赋予不同的值，最好使用。rename()方法。为了更好地理解，我特意更改了列名。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="5368" class="nd lw it nt b gy nx ny l nz oa"># import the pandas library<br/>import pandas as pd<br/># Dictionary of key pair values called data<br/>data = {‘NAMe’:[‘Ashika’, ‘Tanu’, ‘Ashwin’, ‘Mohit’, ‘Sourabh’],<br/> ‘AGe’: [24, 23, 22, 19, 10]}</span><span id="0a46" class="nd lw it nt b gy ob ny l nz oa"># Calling the pandas data frame method by passing the dictionary (data) as a parameter<br/>df = pd.DataFrame(data)<br/>df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/7da9f630ba4844d61c78721a72f8f919.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DbEUJF5XDAxLNdCzh8AbhA.png"/></div></div></figure><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="bef0" class="nd lw it nt b gy nx ny l nz oa">newcols = {<br/> ‘NAMe’: ‘Name’,<br/> ‘AGe’: ‘Age’<br/> }<br/># Use `rename()` to rename your columns<br/>df.rename(columns=newcols, inplace=True)<br/>df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/64c08f6e89e1a0047e7625474c135ab2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XfNx5mtTKzeH_xya9utJyA.png"/></div></div></figure><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="6f5a" class="nd lw it nt b gy nx ny l nz oa"># The values of new index<br/>newindex = {<br/> 0: ‘a’,<br/> 1: ‘b’,<br/> 2: ‘c’,<br/> 3: ‘d’,<br/> 4: ‘e’<br/>}<br/># Rename your index<br/>df.rename(index=newindex)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/2fdeff3e5f7676869222a654c3c304c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UbjzYNRESkKCKPFxyx2A5w.png"/></div></div></figure></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><p id="e0bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以上是 Python 中熊猫数据框架的非常重要的技术或方法。一些例子是从 GeeksforGeeks 引用的。我用一种简单的方式写了这个，这样每个人都能理解和掌握 Python 中数据框的概念。如果你们对代码有什么疑问，评论区就是你们的了。</p><p id="84be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢谢你。</p></div></div>    
</body>
</html>