<html>
<head>
<title>10 Tricks for Data Scientists using Jupyter Notebooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学家使用 Jupyter 笔记本的 10 个技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/10-tricks-for-data-scientists-using-jupyter-notebooks-f28387f73f77?source=collection_archive---------5-----------------------#2019-09-20">https://towardsdatascience.com/10-tricks-for-data-scientists-using-jupyter-notebooks-f28387f73f77?source=collection_archive---------5-----------------------#2019-09-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e15e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki"> 5 分钟:提高</em>效率 x <em class="ki">简单性 x </em>生产力</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/95c78ff778fb50d26e079043fab4ed9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C9WzeX5Q-dwVpZGgYTscdg.png"/></div></div></figure><p id="ee99" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><em class="lr">当我开始使用 Python 进行数据分析时，我很快发现 Jupyter 笔记本是一个很好的工具，可以为我的代码提供更好的结构。然而，有些事情仍然很烦人。如果我为了更好的可读性而使用标题，较大的笔记本会很快变得混乱。如果我在一个单元格中计算多个值，我只会收到最后一个变量的输出，以此类推… <br/>但是，我们使用的是 Python，其他人也遇到了同样的问题，并找到了很好的解决方案。我想分享其中的一些。</em></p><p id="d1e2" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">目录:</p><p id="a8ac" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">1.两个数据集并排<br/> 2。打印特定单元格<br/> 3 的每个输出。改变屏幕宽度<br/> 4。Jupyter 扩展<br/> 4.1 代码折叠<br/> 4.2 可折叠标题<br/> 4.3 执行时间<br/> 4.4 便笺式存储器<br/> 4.5 内核空闲<br/> 4.6 Zenmode <br/> 4.7 表格美化器</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><h2 id="b982" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">1.两个数据集并排</h2><p id="f0f5" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">有时我想并排比较两个较小的数据帧。使用下面的 css 代码片段，您可以调整输出:</p><pre class="kk kl km kn gt mx my mz na aw nb bi"><span id="bd28" class="lz ma it my b gy nc nd l ne nf">CSS = """<br/>.output {<br/>flex-direction: row;<br/>}<br/>"""</span><span id="cc14" class="lz ma it my b gy ng nd l ne nf">HTML('&lt;style&gt;{}&lt;/style&gt;'.format(CSS))</span></pre><p id="9cbe" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在，您可以在一个 Jupyter 单元格中对多个数据帧使用<code class="fe nh ni nj my b">display(df)</code>:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nk"><img src="../Images/f0f70bc796e67efc30d618fa97d88b82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7EwoxD7e-GkgBOPfxI-0Sw.png"/></div></div></figure><h2 id="99d4" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">2.打印特定单元格的每个输出</h2><p id="4e2c" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">假设您在一个单元格中计算两个变量(即使这不是最佳实践😉).通常只显示最后一个结果:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nl"><img src="../Images/b18e599095cff6972335102c793a67f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iV78vLGTvtxnmPUkRwSHjg.png"/></div></div></figure><p id="8f56" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">只需添加以下语法，每个结果都将被打印出来:</p><pre class="kk kl km kn gt mx my mz na aw nb bi"><span id="7cb0" class="lz ma it my b gy nc nd l ne nf">from IPython.core.interactiveshell import InteractiveShell<br/>InteractiveShell.ast_node_interactivity = "all"</span></pre><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nl"><img src="../Images/00eacd9533a5af97b8fbdb979d7a46da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UfRf3aU3DXremYhj_oXsHQ.png"/></div></div></figure><h2 id="31e8" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">3.调整屏幕尺寸</h2><p id="a756" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">按照标准配置，Jupyter 笔记本电脑可覆盖 60%的屏幕。用一个简短的 css 命令你可以调整宽度(这里是 80%):</p><pre class="kk kl km kn gt mx my mz na aw nb bi"><span id="cb78" class="lz ma it my b gy nc nd l ne nf">from IPython.core.display import display, HTML<br/>display(HTML("&lt;style&gt;.container { width:80% !important; }&lt;/style&gt;"))</span></pre><p id="a48c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在下面的屏幕截图中，您可以看到结果:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nm"><img src="../Images/9b7db51849b792b5ba65ee054f94adf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*szLWSpXY84Nd8MFmSnJ-4A.png"/></div></div></figure><h2 id="f48f" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">4.Jupyter 扩展</h2><p id="74cc" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">现在我们来到一个非常有趣的话题:Jupyter 扩展。正如我已经提到的，很多人编写扩展来优化笔记本。我将向您展示一些真正有用的数据科学扩展。如果您使用的是 conda，只需键入:</p><pre class="kk kl km kn gt mx my mz na aw nb bi"><span id="d4aa" class="lz ma it my b gy nc nd l ne nf">conda install -c conda-forge jupyter_contrib_nbextensions</span></pre><p id="7fb5" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">之后你就可以使用 Jupyter 扩展了。在您通常启动笔记本的菜单中，您也可以选择现在的扩展(红色标记的区域)。我将向您展示 7 个有用的扩展(绿色标记的区域)。您可以通过单击复选框来激活它们:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/4f0be04635311b3019f19d9483a8fa92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eUoc2el1HOtBGrViCTOP2A.png"/></div></div></figure><h2 id="a702" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">4.1 代码折叠</h2><p id="91a0" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">如果你写了很多代码，过一会儿读起来会很混乱。使用<code class="fe nh ni nj my b">Codefolding</code>你可以隐藏缩进的代码</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/4b43163099c9c6dbcadde446fe4f53a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*2id1M3y1XCcwJfYrEFHOoA.png"/></div></figure><p id="d4fb" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如果你激活扩展<code class="fe nh ni nj my b">Codefolding</code>，一个小三角形会出现在每个单元格的左上角。你可以点击它，缩进的代码将被最小化。</p><h2 id="c5b9" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">4.2 可折叠标题</h2><p id="db09" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">可折叠的标题将使每个项目可读性更好。之前的扩展帮助你构建单元格的内容。有了这个扩展，你可以给整个笔记本一个更好的结构:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi no"><img src="../Images/8ec749ebf7eb2b5661a56cdd2180e729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lD1iLK2u9xzuolfCbkMfVA.png"/></div></div></figure><p id="0bff" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在截图中，您可以看到我为本文创建的笔记本的第一部分。第一个标题由<code class="fe nh ni nj my b">#</code>创建，第二个标题由<code class="fe nh ni nj my b">##</code>创建。类似于<code class="fe nh ni nj my b">Codefolding</code>扩展，你可以使用左上角小三角形的<code class="fe nh ni nj my b">Collapsible heading</code>。你可以点击它，一个标题后的所有内容都会被隐藏:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi np"><img src="../Images/319fc30cddf024f433ce5633c3da5634.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M41odfmZZIhHD8mMG6RW1A.png"/></div></div></figure><p id="fd5a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这是一个分层系统，如果您单击 h1 标题的三角形，h2 标题也会被隐藏:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nq"><img src="../Images/4d3505ee094b7f4cb79e9384d231e76e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zHlsozkxjSrZJiPWola_DA.png"/></div></div></figure><h2 id="05b6" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">4.3 执行时间</h2><p id="25ec" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">一旦您熟悉了用于数据分析的 Python 包，您就会希望提高代码的性能。Jupyter magic 命令<code class="fe nh ni nj my b">%% timeit</code>对于获取一个单元的执行时间非常有用，因为它将被执行 100 或 1000 次，以获取执行时间的有效平均值。对于更快的检查，扩展<code class="fe nh ni nj my b">Execution time</code>非常有用，因为它将始终显示每个输出单元中所需的时间:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/e26feeb34be9b15ca358ec22ee3adf30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*fA2aiGlrHco7nMd-bNKbWQ.png"/></div></figure><h2 id="3ac6" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">4.4 草稿栏</h2><p id="d1b0" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">有时候想尝试笔记本里的东西。通常，我创建一个单元格，然后删除它。但是在更大的项目中，我有时会忘记删除一些垃圾，我的笔记本中会出现不必要的命令。更好的做法是使用<code class="fe nh ni nj my b">Scratchpad</code>。这个扩展允许创建“抛弃式”代码片段:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ns"><img src="../Images/295080f067917d6dee6868c5454d25c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*youcpmpPPrvm6ro-xg24ug.png"/></div></div></figure><p id="c112" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">一旦你激活扩展，你就可以用右下角的小三角形打开你的<code class="fe nh ni nj my b">Scratchpad</code>。</p><h2 id="8d65" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">4.5 内核空闲</h2><p id="d47d" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">较大的脚本有时需要几分钟甚至几小时来执行。使用扩展<code class="fe nh ni nj my b">Kernle idle</code>，当执行完成时，您将收到来自浏览器的通知:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nt"><img src="../Images/c4bc1d5d74356e0a5416357d3f302692.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5PdHcDexMtplVqVCWwuL4A.png"/></div></div></figure><p id="13b6" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">您可以禁用通知或在笔记本顶部更改时间。如果您将时间更改为 30，您将只收到执行时间超过 30 秒的脚本的通知。</p><h2 id="e047" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">4.6 Zenmode</h2><p id="0738" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">在下面的截图中，你可以看到一个干净的笔记本，没有不必要的菜单。我非常喜欢这个外观，您可以通过激活<code class="fe nh ni nj my b">zenmode</code>模式来获得它:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nu"><img src="../Images/e2c6ffa8a6102491b3ef2f6dca276fd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D8tqYmCSqFZjdJzBq0lvXA.png"/></div></div></figure><h2 id="6a6e" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">4.7 餐桌美化师</h2><p id="0a7a" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">我认为学习 Python 代码是很重要的，并且我认为用语法记录你所做的一切总是更好。使用<code class="fe nh ni nj my b">Table beautifier</code>,您可以通过点击它来对列或索引进行排序。对于快速检查，这非常有用:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/721be1691753cd3835fd38b5c8ee967a.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*UEsLc2EcK3r574oyRkOnxw.png"/></div></figure><h2 id="dd90" class="lz ma it bd mb mc md dn me mf mg dp mh le mi mj mk li ml mm mn lm mo mp mq mr bi translated">结论</h2><p id="f665" class="pw-post-body-paragraph kv kw it kx b ky ms ju la lb mt jx ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">Jupyter 笔记本非常适合分析，但仍有潜力让它们变得更好。作为数据科学家，有一些真正有用的 css 片段和扩展，让您的工作更加舒适。我希望你喜欢这篇文章。如果你知道任何其他有用的扩展，欢迎发表评论。</p></div><div class="ab cl ls lt hx lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="im in io ip iq"><p id="8863" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><a class="ae nw" href="https://medium.com/@droste.benedikt/membership" rel="noopener">如果您喜欢中级和高级数据科学，并且还没有注册，请随时使用我的推荐链接加入社区。</a></p></div></div>    
</body>
</html>