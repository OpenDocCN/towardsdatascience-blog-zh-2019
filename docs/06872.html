<html>
<head>
<title>A Beginners guide to Building your own Face Recognition System to creep out your Friends</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学者指南，建立自己的面部识别系统，让你的朋友溜出来</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-beginners-guide-to-building-your-own-face-recognition-system-to-creep-out-your-friends-df3f4c471d55?source=collection_archive---------5-----------------------#2019-09-30">https://towardsdatascience.com/a-beginners-guide-to-building-your-own-face-recognition-system-to-creep-out-your-friends-df3f4c471d55?source=collection_archive---------5-----------------------#2019-09-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b8c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi kl translated">人脸识别系统正稳步进入我们的日常生活。基于人工智能，它们可以(以不同程度的准确性)从人群中挑出你，并将你识别为导致各种后果的个体。根据你生活在世界的哪个地方，他们可以解锁你的手机屏幕，<a class="ae ku" href="https://www.theguardian.com/technology/2017/jan/11/china-beijing-first-smart-restaurant-kfc-facial-recognition" rel="noopener ugc nofollow" target="_blank">支付你的鸡肉</a>，<a class="ae ku" href="https://www.independent.co.uk/news/uk/home-news/facial-recognition-london-inaccurate-met-police-trials-a8898946.html" rel="noopener ugc nofollow" target="_blank">让你被捕</a>，<a class="ae ku" href="https://www.rollingstone.com/music/music-news/taylor-swift-facial-recognition-concerts-768741/" rel="noopener ugc nofollow" target="_blank">让你远离泰勒斯威夫特</a>和<a class="ae ku" href="https://www.bbc.co.uk/news/av/technology-40555753/dating-app-tech-finds-celebrity-lookalikes" rel="noopener ugc nofollow" target="_blank">找到你的梦中情人</a>。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi kv"><img src="../Images/1243e3764242394255e5afa979264660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*wFjy6EU9E7YOc0TK0O1xBQ.jpeg"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk">A toilet paper dispenser at a public toilet in Beijing deploys facial recognition to stop toilet paper thieves (Image source: AFP)</figcaption></figure><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi ll"><img src="../Images/57f86ee04242ecab5d7c0a72a08ab813.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L2zHGNugkVCNS9UVgi0cvQ.jpeg"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk">Poster for Metropolitan Police Facial Recognition trial in Central London (Image Source: Metropolitan Police)</figcaption></figure><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi kv"><img src="../Images/cd991590a0f33d737fbdb09127a8bc89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*8uS7HFKFIlRUjgCo_OwA1w.jpeg"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk">Dating app Badoo showing profile matches for Jake Gyllenhall and Kendall Jenner (Image Source: Badoo)</figcaption></figure><p id="a66f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是这些系统实际上是如何工作的，它们有多精确，谁有权限部署它们？为了找到答案，让我们用免费的开源软件和朋友的照片自己做一个。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/cc4f56532001a5e6c4ac0508c0c9ebb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*aZSnXXsQ5OPOukii9nLCoA.gif"/></div></figure><h1 id="cf6a" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">设置它——下载程序运行所需的一切</h1><ol class=""><li id="c6cc" class="ml mm iq jp b jq mn ju mo jy mp kc mq kg mr kk ms mt mu mv bi translated">下载文本编辑器<a class="ae ku" href="https://www.sublimetext.com/3" rel="noopener ugc nofollow" target="_blank"> Sublime Text </a>，完成后，打开它并遵循安装说明。我们将在这里编写代码，这些代码将成为程序。</li><li id="e309" class="ml mm iq jp b jq mw ju mx jy my kc mz kg na kk ms mt mu mv bi translated">查看您的计算机上是否已经安装了 Python 3。这是我们将要编写的编程语言。要为 MAC 打开终端(在应用程序的“实用工具”文件夹中)或 Windows 打开命令提示符(按 Windows + X 并选择命令提示符)执行此操作。然后键入以下内容并按 enter 键:</li></ol><pre class="kw kx ky kz gt nb nc nd ne aw nf bi"><span id="471d" class="ng lo iq nc b gy nh ni l nj nk">python3 -- version</span></pre><p id="0c2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果它说 Python 3.7.3，忽略步骤 3。否则继续。</p><p id="ad3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.下载<a class="ae ku" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank"> Python 3 </a>。对于 Windows，下载完成后，打开 python.exe 文件，在“修改”菜单下，确保勾选“pip”和“将 Python 添加到环境变量”，然后按“安装”。</p><p id="55e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.再次进入终端或命令提示符，键入以下命令，在每一行后按 enter 键，安装我们需要的软件包。第四行“dlib”可能需要一段时间。</p><pre class="kw kx ky kz gt nb nc nd ne aw nf bi"><span id="2f5b" class="ng lo iq nc b gy nh ni l nj nk">pip3 install cmake<br/>pip3 install face_recognition<br/>pip3 install numpy<br/>pip3 install dlib<br/>pip3 install opencv-python</span></pre><p id="4def" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果最后一个命令要求您安装 Xcode(适用于 MAC)，请前往 App Store 并安装。这可能需要一段时间，因为它非常大。然后重新输入最后一行(pip3 install opencv-python)并回车。</p><h1 id="2508" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">制作和运行程序</h1><p id="2801" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy nl ka kb kc nm ke kf kg nn ki kj kk ij bi translated">1.将这段开源代码复制并粘贴到 Sublime 文本中。点击图片底部的“查看原始数据”可能更容易做到这一点。</p><figure class="kw kx ky kz gt la"><div class="bz fp l di"><div class="no np l"/></div></figure><p id="29cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.将此文件以 recognise _ face.py 的名称保存在计算机的桌面文件夹中，并创建一个名为 known_people 的文件夹(确保该文件夹也在桌面文件夹中)。</p><p id="141d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.现在，我们可以通过在 known_people 文件夹中保存他们的面部图像来添加我们希望识别的人的照片。确保这个人面向前方，并且是照片中的唯一一个人(如果需要的话，修剪)。我们将每个文件命名为这个人的名字，因为我们希望它出现在屏幕上。在这种情况下，只有。将使用 jpg 文件。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi nq"><img src="../Images/aa64c9f3524611d167f5f564de4909b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1QVQOuMedeHCK1lrWbzy7w.png"/></div></div></figure><p id="b708" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.现在，我们可以通过返回到终端(Mac)或命令提示符(Windows)来运行程序，编写以下内容并按 enter 键</p><pre class="kw kx ky kz gt nb nc nd ne aw nf bi"><span id="3d11" class="ng lo iq nc b gy nh ni l nj nk">cd Desktop<br/>python3 recognise_face.py</span></pre><p id="2340" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果出现错误消息，请尝试:</p><pre class="kw kx ky kz gt nb nc nd ne aw nf bi"><span id="b788" class="ng lo iq nc b gy nh ni l nj nk">python recognise_face.py</span></pre><p id="5c22" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在选择终端窗口的情况下按 Ctrl + c 将退出程序。</p><h1 id="3109" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">这里发生了什么事？</h1><p id="df10" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy nl ka kb kc nm ke kf kg nn ki kj kk ij bi translated"><a class="ae ku" href="https://medium.com/@ageitgey/machine-learning-is-fun-part-4-modern-face-recognition-with-deep-learning-c3cffc121d78" rel="noopener">这篇由 Adam Geitgey </a>撰写的博客文章详细解释了这个系统是如何工作的(而且非常好)。</p><p id="8aa2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总而言之，人脸识别过程可以分为四个步骤。</p><ol class=""><li id="0d49" class="ml mm iq jp b jq jr ju jv jy nr kc ns kg nt kk ms mt mu mv bi translated">检测帧中出现的任何人脸。</li></ol><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi nu"><img src="../Images/5e78e2d27ba6d6c6b3a340287ad6d9c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*cxEUEl-IQ1rlhV1zNIHdvA.gif"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk">A Visualisation of a History of Gradients (HOG) algorithm for detecting faces</figcaption></figure><p id="c0c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.定位面部的特定点，例如鼻尖和每只眼睛的角落，以创建遮罩。然后移动蒙版，使其面向正前方，只使用保持原始形状的变换，如旋转和缩放。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi nu"><img src="../Images/d6027317094d7062e3c7d623d7ab958d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aH2nt2fEDqlnEsqw-Xa1sQ.png"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk">Face goes through transforms to become aligned</figcaption></figure><p id="269d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.编码。这一阶段是关于识别面部的关键部分(通过计算机的眼睛),对于同一个人的任何照片，这些关键部分都是相似的，而对于其他任何人的图像，这些关键部分都是不同的。对于人类来说，这可能是眼睛的颜色、发型、鼻子的形状等，但对于计算机视觉来说，有一个非常有效的 128 个测量值的集合，称为嵌入。这些测量是使用机器学习通过比较成千上万张标记人脸的图像发现的。然后，我们可以访问由该过程生成的预训练网络，以找到我们需要的测量值。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi nv"><img src="../Images/087442f2d94abb5b5c32045324666a42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sbk7QGgjtiAllPZ36Hu9ag.png"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk">128 measurements to identify my face</figcaption></figure><p id="5b38" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.将步骤 1 中检测到的人脸的 128 个测量值与 known_people 文件夹中图像的所有测量值进行比较。如果在这个文件夹中找到足够相似的一组测量值，那就是匹配！</p><h1 id="b854" class="ln lo iq bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated"><strong class="ak">这有多准确？</strong></h1><p id="abf2" class="pw-post-body-paragraph jn jo iq jp b jq mn js jt ju mo jw jx jy nl ka kb kc nm ke kf kg nn ki kj kk ij bi translated">对于一组大约 30 张要识别的人脸，这种方法仍然有效。但是如果你刮下你所有脸书朋友的照片呢？由于普通用户有 338 个，这是一个更大的比较集，肯定会导致歧义？在下一篇博文中，我们将对此进行测试，考虑制作和利用这种应用程序的合法性，并进一步研究人脸识别技术的当前应用。</p></div></div>    
</body>
</html>