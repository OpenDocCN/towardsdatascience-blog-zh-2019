<html>
<head>
<title>Best Python practices for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学家的最佳 Python 实践</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/best-python-practices-for-data-scientists-11056edda8c7?source=collection_archive---------2-----------------------#2019-08-25">https://towardsdatascience.com/best-python-practices-for-data-scientists-11056edda8c7?source=collection_archive---------2-----------------------#2019-08-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5593" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">让我们看看生产级代码的一些行业标准。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/6a594628f37ea90227b634c650a02943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2TWW_kmC28W_rfXJqT6oPg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><strong class="bd kv">Photo by:</strong> <a class="ae kw" href="https://burst.shopify.com/@matthew_henry" rel="noopener ugc nofollow" target="_blank">Matthew Henry</a></figcaption></figure><p id="a06d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">人们常说，一开始从事数据科学家工作的人不会写出干净的代码，这是有原因的。像 EDA、特性选择和预处理这样的大部分先决工作都是在 Jupyter 笔记本上完成的，我们不太关心代码。</p><p id="d56a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">将职业从软件开发转向数据科学的人更擅长编写生产级代码。他们知道如何正确处理所有的错误案例、文档、模块化等等。很多公司有时候会要求 X 年的软件开发，因为他们知道软件开发人员可以写出更好的代码。</p><p id="8722" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">数据科学家为生产模型而编写的大部分代码并不遵循 PEP8 这样的行业标准。PEP 代表 Python 增强提案。A <strong class="kz ir"> PEP </strong>是一个文档，描述了为<strong class="kz ir"> Python </strong>提出的新特性，并为社区记录了<strong class="kz ir"> Python </strong>的各个方面，比如设计和风格。我们在 python 中看到的每一个特性，都是由致力于 python 开发的成员(这些人是来自谷歌、微软和其他大型跨国公司的开发人员)首先提出，然后进行评审的。</p><p id="7bfe" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">但是为什么我们需要遵循这些指导方针呢？</p><blockquote class="lt lu lv"><p id="c6eb" class="kx ky lw kz b la lb jr lc ld le ju lf lx lh li lj ly ll lm ln lz lp lq lr ls ij bi translated"><em class="iq">正如吉多·范·罗苏姆(Python 的创始人)所说，“代码被阅读的次数比它被编写的次数多得多。”您可能要花几分钟，或者一整天，编写一段代码来处理用户认证。一旦你写了，你就不会再写了。但是你一定要再读一遍。这段代码可能仍然是您正在进行的项目的一部分。每次你回到那个文件，你都必须记住代码做了什么，为什么要写它，所以可读性很重要。</em></p></blockquote></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><p id="1783" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在，让我们来看一些 PEP8 指南。</p><blockquote class="mh"><p id="148b" class="mi mj iq bd mk ml mm mn mo mp mq ls dk translated">命名风格</p></blockquote><ol class=""><li id="1257" class="mr ms iq kz b la mt ld mu lg mv lk mw lo mx ls my mz na nb bi translated">变量、函数、方法、包、模块</li></ol><ul class=""><li id="6575" class="mr ms iq kz b la lb ld le lg nc lk nd lo ne ls nf mz na nb bi translated"><code class="fe ng nh ni nj b">lower_case_with_underscores</code></li></ul><p id="6a3d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">2.类别和例外</p><ul class=""><li id="bae3" class="mr ms iq kz b la lb ld le lg nc lk nd lo ne ls nf mz na nb bi translated"><code class="fe ng nh ni nj b">CapWords</code></li></ul><p id="a5f1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">3.受保护的方法和内部函数</p><ul class=""><li id="dcb9" class="mr ms iq kz b la lb ld le lg nc lk nd lo ne ls nf mz na nb bi translated"><code class="fe ng nh ni nj b">_single_leading_underscore(self, ...)</code></li></ul><p id="98a9" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">4.私有方法</p><ul class=""><li id="a512" class="mr ms iq kz b la lb ld le lg nc lk nd lo ne ls nf mz na nb bi translated"><code class="fe ng nh ni nj b">__double_leading_underscore(self, ...)</code></li></ul><p id="eaa5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">5.常数</p><ul class=""><li id="0de2" class="mr ms iq kz b la lb ld le lg nc lk nd lo ne ls nf mz na nb bi translated"><code class="fe ng nh ni nj b">ALL_CAPS_WITH_UNDERSCORES</code></li></ul><p id="08ff" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">6.首选反向符号</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="d760" class="no np iq nj b gy nq nr l ns nt">elements = ...<br/>active_elements = ...<br/>defunct_elements ...</span></pre><blockquote class="mh"><p id="1eb5" class="mi mj iq bd mk ml nu nv nw nx ny ls dk translated">刻痕</p></blockquote><p id="7b63" class="pw-post-body-paragraph kx ky iq kz b la mt jr lc ld mu ju lf lg nz li lj lk oa lm ln lo ob lq lr ls ij bi translated">使用 4 个空格，不要使用制表符。</p><blockquote class="mh"><p id="f234" class="mi mj iq bd mk ml mm mn mo mp mq ls dk translated">进口</p></blockquote><ol class=""><li id="6acb" class="mr ms iq kz b la mt ld mu lg mv lk mw lo mx ls my mz na nb bi translated">进口顺序如下</li></ol><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="da43" class="no np iq nj b gy nq nr l ns nt">1. python inbuilt packages import</span><span id="2e19" class="no np iq nj b gy oc nr l ns nt">2. third party packages import</span><span id="c990" class="no np iq nj b gy oc nr l ns nt">3. local imports</span></pre><blockquote class="mh"><p id="ef4b" class="mi mj iq bd mk ml nu nv nw nx ny ls dk translated">线长度</p></blockquote><p id="924a" class="pw-post-body-paragraph kx ky iq kz b la mt jr lc ld mu ju lf lg nz li lj lk oa lm ln lo ob lq lr ls ij bi translated">尝试断开任何超过 80 个字符的行。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="6e57" class="no np iq nj b gy nq nr l ns nt">even_numbers = [var for var in range(100)<br/>                if var % 2 == 0]</span></pre><p id="f93c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">有时，不可能再换行了，尤其是在方法链接的情况下。</p><blockquote class="mh"><p id="5d46" class="mi mj iq bd mk ml mm mn mo mp mq ls dk translated">真空</p></blockquote><ol class=""><li id="c2f6" class="mr ms iq kz b la mt ld mu lg mv lk mw lo mx ls my mz na nb bi translated">在字典中，冒号和键值之间要留有空格。</li></ol><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="f82c" class="no np iq nj b gy nq nr l ns nt">names = {'gagan': 123}</span></pre><p id="e179" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">2.在赋值和算术运算的情况下，在运算符之间留出空间。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="6061" class="no np iq nj b gy nq nr l ns nt">var = 25<br/>math_operation_result = 25 * 5</span></pre><p id="17aa" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">3.当作为参数传递时，运算符之间不要留空格</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="7878" class="no np iq nj b gy nq nr l ns nt">def count_even(num=20):<br/>    pass</span></pre><p id="09f1" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">4.逗号后留空格。</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="09fc" class="no np iq nj b gy nq nr l ns nt">var1, var2 = get_values(num1, num2)</span></pre><blockquote class="mh"><p id="3403" class="mi mj iq bd mk ml nu nv nw nx ny ls dk translated">证明文件</p></blockquote><p id="1ac5" class="pw-post-body-paragraph kx ky iq kz b la mt jr lc ld mu ju lf lg nz li lj lk oa lm ln lo ob lq lr ls ij bi translated">遵循<a class="ae kw" href="http://www.python.org/dev/peps/pep-0257/" rel="noopener ugc nofollow" target="_blank"> PEP </a> 257 的 docstring 指南，学习如何记录你的 python 程序。</p><ol class=""><li id="2762" class="mr ms iq kz b la lb ld le lg nc lk nd lo ne ls my mz na nb bi translated">对于显而易见的函数，使用单行文档字符串。</li></ol><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="97b7" class="no np iq nj b gy nq nr l ns nt">"""Return the pathname of ``foo``."""</span></pre><p id="e330" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">2.多行文档字符串应包括</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="ac4f" class="no np iq nj b gy nq nr l ns nt">Summary line</span><span id="b9b3" class="no np iq nj b gy oc nr l ns nt">Use case, if appropriate</span><span id="9593" class="no np iq nj b gy oc nr l ns nt">Args</span><span id="1422" class="no np iq nj b gy oc nr l ns nt">Return type and semantics, unless <!-- -->None<!-- --> is returned</span></pre><p id="cb77" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">例子</p><pre class="kg kh ki kj gt nk nj nl nm aw nn bi"><span id="e837" class="no np iq nj b gy nq nr l ns nt">class Car:<br/>    """A simple representation of a car.<br/><br/>    :param brand: A string, car's brand.<br/>    :param model: A string, car's model.<br/>    """<br/>    def __init__(self, brand, model):<br/>        self.brand = brand<br/>        self.model = model</span></pre><h2 id="ad54" class="no np iq bd od oe of dn og oh oi dp oj lg ok ol om lk on oo op lo oq or os ot bi translated">结论</h2><p id="c8af" class="pw-post-body-paragraph kx ky iq kz b la ou jr lc ld ov ju lf lg ow li lj lk ox lm ln lo oy lq lr ls ij bi translated">当你写代码时，简单是你首先应该想到的。以后你可能需要参考你的代码或者其他人的代码，这应该不需要太多的努力就能理解。</p><h2 id="95c2" class="no np iq bd od oe of dn og oh oi dp oj lg ok ol om lk on oo op lo oq or os ot bi translated">参考</h2><ol class=""><li id="303b" class="mr ms iq kz b la ou ld ov lg oz lk pa lo pb ls my mz na nb bi translated"><a class="ae kw" href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html#example-google" rel="noopener ugc nofollow" target="_blank">https://sphinxcontrib-Napoleon . readthedocs . io/en/latest/example _ Google . html # example-Google</a></li><li id="fef2" class="mr ms iq kz b la pc ld pd lg pe lk pf lo pg ls my mz na nb bi translated">【https://gist.github.com/sloria/7001839 T4】</li><li id="e10e" class="mr ms iq kz b la pc ld pd lg pe lk pf lo pg ls my mz na nb bi translated"><a class="ae kw" href="https://realpython.com/python-pep8/" rel="noopener ugc nofollow" target="_blank">https://realpython.com/python-pep8/</a></li></ol></div></div>    
</body>
</html>