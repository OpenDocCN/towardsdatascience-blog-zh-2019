<html>
<head>
<title>The ultimate guide to A/B testing. Part 2: Data distributions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">A/B 测试终极指南。第 2 部分:数据分布</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-ultimate-guide-to-a-b-testing-part-2-data-distributions-5ed429abbce?source=collection_archive---------15-----------------------#2019-08-12">https://towardsdatascience.com/the-ultimate-guide-to-a-b-testing-part-2-data-distributions-5ed429abbce?source=collection_archive---------15-----------------------#2019-08-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="cb6e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">A/B 测试是一种非常流行的技术，用于检查产品中的细微变化，而不会错误地考虑由外部因素引起的变化。在这一系列的文章中，我将尝试给出一个简单的关于如何设计、运行和评估 a/b 测试结果的操作手册，这样你就可以得到这些惊人的统计显著结果了！</p><p id="bd22" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><a class="ae kp" href="https://medium.com/swlh/the-ultimate-guide-to-a-b-testing-part-1-experiment-design-8315a2470c63" rel="noopener">在上一集</a>中，我们已经讨论了在进行 a/b 测试之前对样本大小的估计。下一步是考虑我们实现的检查测试结果统计显著性的确切方法。</p><p id="0eab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">但是在进入不同的统计测试之前，处理一点概率分布是很重要的，为什么我们需要知道我们的数据是如何形成的。也就是说这篇文章会比其他的更理论化，所以坚持住！但是这些知识对于下一步很重要:为每种类型的分布选择正确的统计检验。</p><p id="045a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="ko">注意:我这里不做概率分布的理论解释，所以如果你不熟悉这个概念，最好从</em> </strong> <a class="ae kp" href="https://en.wikipedia.org/wiki/Probability_distribution" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu"> <em class="ko">这里</em> </strong> </a> <strong class="js iu"> <em class="ko">)开始。</em> </strong></p><h1 id="96b6" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">当涉及到 a/b 测试用户行为时，我们最有可能观察到几种类型的分布:</h1><ul class=""><li id="7eb3" class="lo lp it js b jt lq jx lr kb ls kf lt kj lu kn lv lw lx ly bi translated">二项分布</li><li id="6eb7" class="lo lp it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">正态分布</li><li id="ad28" class="lo lp it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">t 分布</li><li id="c8a8" class="lo lp it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">卡方分布</li></ul><p id="3b47" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当然，还有很多，但是我们将集中讨论这四个，因为它们应该涵盖了你在实践中遇到的 99%的情况。</p><h1 id="96ab" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">二项分布</h1><p id="2f73" class="pw-post-body-paragraph jq jr it js b jt lq jv jw jx lr jz ka kb me kd ke kf mf kh ki kj mg kl km kn im bi translated">这种情况发生在每次试验中只有两种可能的结果，并且这些试验已经重复了一定的次数。二项式分布的例子:用户搅动/返回，赢得/输掉游戏，等等。</p><p id="9bf5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="ko">你可以确定存在一个二项分布，如果以下所有都成立:</em> </strong></p><ul class=""><li id="66b9" class="lo lp it js b jt ju jx jy kb mh kf mi kj mj kn lv lw lx ly bi translated">有 n 次试验</li><li id="b7e0" class="lo lp it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">每个试验都是独立的，即一个试验的结果对另一个试验没有影响</li><li id="f50a" class="lo lp it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">每次试验只有两种可能的结果:成功和失败，概率分别为 p 和(1-p)</li></ul><p id="5782" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">已知成功概率(p)、试验次数(n)和成功次数(x)，我们可以使用以下公式绘制二项式分布:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mk"><img src="../Images/b3fb8c0ff79535c000827b3942f702b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jZq6Esn_TAei5IUuSeoayQ.png"/></div></div></figure><p id="fe84" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">基本上，它的意思是，知道了成功的概率(p)和试验的次数(n ),我们就能够计算出在 n 次试验中获得一定成功次数(x)的概率。</p><p id="c632" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">还记得第一篇文章中的那个游戏吗？让我们回到那个例子，假设我们有 100 个用户(n=100)，其中只有 30 人在安装游戏后的第二天返回(x=30)。此外，我们知道，在我们的案例中，用户返回的概率(即保留率)是 70% (p=0.7)。那么，从 100 个返回者中只得到 30 个返回者的概率是多少呢？</p><p id="c821" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用二项分布的公式，我们得到:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mw"><img src="../Images/8f553e85fc08188850fe55e4b2346fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yV_fDJDO2WCyF2k0SoWwvw.png"/></div></div></figure><p id="c3fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">概率接近于零，这意味着这是一个极不可能的情况。所以这个结果是检查产品是否有问题的好理由。</p><p id="aeef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果我们用不同的概率 p 绘制二项式分布，图表看起来会像这样:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/0671e7fd7dc1d94f3bc715cca963bdaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*DJdUjVF6cIOhzmvB7bkzPQ.png"/></div></figure><p id="9cea" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">平均值和标准偏差可使用以下公式计算:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi my"><img src="../Images/ab164a867d8de4c0e6bd3dd3adc8d21b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*JforHeadiXD-Z2cLjfsKDQ.png"/></div></figure><p id="98ac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">二项式分布是离散的，而不是连续的分布。因为变量 x 是 n 次试验的成功次数，所以它只能取数字 0，1，2，3，4…..名词（noun 的缩写）</p><h1 id="866f" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">正态分布</h1><p id="4357" class="pw-post-body-paragraph jq jr it js b jt lq jv jw jx lr jz ka kb me kd ke kf mf kh ki kj mg kl km kn im bi translated">我们列表中的下一站是正态分布:就可识别性而言，这是其他分布中的佼佼者，许多统计测试都基于测试数据是正态分布的假设。</p><p id="df00" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这种分布的广泛流行并非偶然，因为出于某种原因，许多真实世界的数据集近似正态分布。这里的例子可以是人的身高或年薪，以及更多。</p><p id="d9b9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> <em class="ko">如果所有的检查点都被填满，你可以确定存在正态分布:</em> </strong></p><ul class=""><li id="72b7" class="lo lp it js b jt ju jx jy kb mh kf mi kj mj kn lv lw lx ly bi translated">分布的均值、中值和众数都相等</li><li id="4f7b" class="lo lp it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">曲线在中心对称(即围绕平均值μ)</li><li id="6e86" class="lo lp it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">所有的值围绕平均值对称分布(正好一半的值在中心的左边，正好一半的值在右边)</li><li id="b3ba" class="lo lp it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">曲线下的总面积等于 1(即总 p = 100%)</li></ul><p id="26a5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这种分布的一个更重要的特征是，知道了标准差和平均值，你就可以说得到精确值的概率。这来自曲线的形状:</p><ul class=""><li id="ad75" class="lo lp it js b jt ju jx jy kb mh kf mi kj mj kn lv lw lx ly bi translated">68%的数据在平均值的一个标准偏差范围内</li><li id="eaab" class="lo lp it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">95%的数据落在平均值的两个标准偏差内</li><li id="b813" class="lo lp it js b jt lz jx ma kb mb kf mc kj md kn lv lw lx ly bi translated">99.7%的数据在平均值的三个标准偏差范围内</li></ul><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mz"><img src="../Images/16e2e72a6863447e60011f5df2e0ac32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*99F4_JwrIxa6X3OB.png"/></div></div></figure><p id="dc94" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了描述这种分布，统计学家使用以下公式:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi na"><img src="../Images/12bae6978d19e6d556132fe96a49a6c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*WFyKF9MxKJVY6Pp8ICjMiA.png"/></div></figure><p id="e8c0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因此，P(x)完全由两个变量描述:均值μ(也称为中位数和众数)和标准差σ。这两个值可以用以下公式计算:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi my"><img src="../Images/0b35243332b8eb712d6620661d900f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*4nJwY-bW8Z6yk7n5_Oa36Q.png"/></div></figure><p id="b915" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果μ = 0 且σ= 1，正态分布也可称为<strong class="js iu">标准正态分布(又名 Z 分布)</strong>。</p><p id="0854" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您可以使用公式轻松地将任何正态分布转换为 Z 分布:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/7b44a84b006ad356f9265c54227f0bf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*ICG2qFO3ZR7azA2XnB2FQQ.png"/></div></figure><p id="3bf3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">其中 Z 被称为“Z 得分”,这是一个非常重要的显著性检验统计数据，因此我们将会经常用到它。</p><h1 id="203d" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">学生的 t 分布</h1><p id="b681" class="pw-post-body-paragraph jq jr it js b jt lq jv jw jx lr jz ka kb me kd ke kf mf kh ki kj mg kl km kn im bi translated">t 分布是正态分布的近亲。稍微矮一点胖一点的表弟。</p><p id="3943" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当您有小样本(通常在实践中少于 30)时，使用 t 分布代替正态分布。样本越大，t 分布就越像正态分布。事实上，对于大于 30 的样本大小(例如，更多的自由度)，分布几乎完全遵循正态曲线的形状。</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nc"><img src="../Images/57c7581d2fa7e02d005930d4fc016696.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OdKQ8U4J6bNf4_xCUPRGQQ.png"/></div></div></figure><p id="ed0c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了描述 t 分布，我们使用以下公式:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi nd"><img src="../Images/5cdecbc8420e7d439effc6d0e81f2b04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HPtEdyzsKnf3qUepXKeS7Q.png"/></div></div></figure><p id="b0fa" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">其中γ是 gamma-function，ν是自由度的个数(简单来说就是样本数减 1)。</p><p id="4aa9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">均值和标准差也类似于它的正常表亲，只是略有不同:对于 t 分布，我们通常假设给定数据是来自某个总体的一个<strong class="js iu">样本</strong>，这意味着均值(μ)和标准差(σ)被认为是样本均值和样本标准差。在实践中，所有的变化是，我们使用自由度的数量(ν = n-1)而不是样本数量(n)来计算标准偏差，并且我们还使用其他字母来表示这两个指标:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/a4cf5fa2e21a36e630de444f2e1cf07e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*gPPNv8Vxt5jiEUWQrvOyww.png"/></div></figure><p id="3444" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">T 分布也有自己的 Z 得分版本，称为 T 得分，在统计测试中大量使用:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/a2a384224ca1eaa8954493d9f63699cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*Pl3sdjKS3CaJynxkG28brQ.png"/></div></figure><h1 id="6470" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">卡方分布</h1><p id="ba68" class="pw-post-body-paragraph jq jr it js b jt lq jv jw jx lr jz ka kb me kd ke kf mf kh ki kj mg kl km kn im bi translated">最后，但不是最不重要的，是卡方分布。这种方法广泛用于分类数据的统计测试。</p><p id="fe6a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">卡方分布是伽马分布的一种特殊情况(就像 T 分布一样)，并且只有一个参数:自由度(ν)，就像可能类别的数量减一一样简单。分布只有正值，而且是右旋的。其形状因ν而异:从ν很低的非常不对称的形状，到ν很高的几乎正常的形状(当ν接近无穷大时，卡方分布变为正态分布)</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi ng"><img src="../Images/f130f1114fe16761c45028909624b292.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vRIaRBWAfdoYUQ2raSiaOw.png"/></div></div></figure><p id="7664" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">分布的平均值等于自由度的数量:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/0e7e9cc4f4bed0cd5e630b26e20ee39e.png" data-original-src="https://miro.medium.com/v2/resize:fit:360/format:webp/1*FsosfAQOoQE-SNgbE5YSOQ.png"/></div></figure><p id="ff2a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">标准差等于自由度数量的两倍的平方根:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/99f10a8d3643cec732fff4a266c3caa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/format:webp/1*fqHEEy3KKVzjz4sITUgRUQ.png"/></div></figure><p id="e932" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">就像前两个一样，卡方也有自己的度量标准用于统计测试:</p><figure class="ml mm mn mo gt mp gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/476fc688fdc4e9c35108390ff7e9554e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*W5pjA8f8TxQ5Mv5ec-ZJ3w.png"/></div></figure><p id="b3a4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">其中 Oi 是样本中 I 类出现的次数(观察频率)，Ei–是样本中 I 类出现次数的假设(预期频率)。这个假设是我们在进行测试时要检查的。</p><p id="c595" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ko">所以，这些是你在开始测试你的数据时能找到的最常见的分布。下一次将讨论每种情况下的具体统计检验，也就是为什么不应该对卡方分布数据应用 t 检验。</em></p></div></div>    
</body>
</html>