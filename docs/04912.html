<html>
<head>
<title>Codeless Deep Learning Pipelines with Ludwig and Comet.ml</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ludwig 和 Comet.ml 的无代码深度学习管道</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/codeless-deep-learning-pipelines-with-ludwig-and-comet-ml-de329bbe254d?source=collection_archive---------21-----------------------#2019-07-24">https://towardsdatascience.com/codeless-deep-learning-pipelines-with-ludwig-and-comet-ml-de329bbe254d?source=collection_archive---------21-----------------------#2019-07-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div class="gh gi ir"><img src="../Images/5643fa4441b009c6919b1de16134f555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AQWTnhy1ZYcohXysXmid9Q.png"/></div></figure><div class=""/><div class=""><h2 id="65bd" class="pw-subtitle-paragraph jx iz ja bd b jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dk translated">如何在命令行中结合使用 Ludwig 和 Comet.ml 来构建强大的深度学习模型——使用示例文本分类模型</h2></div><p id="e24f" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><a class="ae ll" href="https://uber.github.io/ludwig/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> Ludwig </a>是一个基于 TensorFlow 的工具箱，允许用户在不需要编写代码的情况下训练和测试深度学习模型<em class="lm">。</em></p><p id="f564" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">通过从头到尾提供一个定义良好的、<em class="lm">无代码</em>深度学习管道，Ludwig 使从业者和研究人员能够快速训练和测试他们的模型，并获得强大的基线来比较实验。</p><blockquote class="ln lo lp"><p id="6d74" class="kp kq lm kr b ks kt kb ku kv kw ke kx lq kz la lb lr ld le lf ls lh li lj lk im bi translated"><em class="ja">“Ludwig 帮助我们在不编写代码的情况下建立最先进的模型，通过将 Ludwig 与 Comet 集成，我们可以以可重复的方式跟踪我们所有的实验，获得可见性，并更好地了解研究过程。”— </em> <strong class="kr jb"> <em class="ja"> Piero Molino，优步人工智能实验室的高级 ML / NLP 研究科学家，Ludwig </em> </strong>的创造者</p></blockquote><p id="6921" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">Ludwig 提供了用于预处理数据、训练、发布预测和可视化的 CLI 命令。在本帖中，我们将向您展示如何使用 Ludwig，并使用<a class="ae ll" href="http://bit.ly/2Jd156C?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> Comet.ml </a>跟踪您的 Ludwig 实验。</p><blockquote class="ln lo lp"><p id="f54a" class="kp kq lm kr b ks kt kb ku kv kw ke kx lq kz la lb lr ld le lf ls lh li lj lk im bi translated"><em class="ja">参见路德维希 Github 回购</em> <a class="ae ll" href="https://github.com/uber/ludwig/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> <em class="ja">此处</em> </a></p></blockquote><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi lt"><img src="../Images/26a00afd78494a70a65fb06a3cfe114a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-QMqGQ3SNs1YzHCh.png"/></div></div></figure><p id="c4f6" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">想要一个快速的图像字幕模型或视觉问答模型？<a class="ae ll" href="https://uber.github.io/ludwig/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">在这 4 个简单的步骤中使用 Ludwig</a>来建立、训练和评估深度学习模型。</p><p id="012a" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">在这里的<a class="ae ll" href="http://bit.ly/2Jd156C?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> Comet.ml </a>，我们对 Ludwig 填补机器学习生态系统空白的潜力感到兴奋。Ludwig <em class="lm">最后</em>采用机器学习模型、训练、数据和可视化的抽象表示的想法，并将它们变成一个自始至终无缝、可执行的管道。</p><h1 id="6558" class="mc md ja bd me mf mg mh mi mj mk ml mm kg mn kh mo kj mp kk mq km mr kn ms mt bi translated">这意味着我们终于可以花更少的时间:</h1><ul class=""><li id="b8e9" class="mu mv ja kr b ks mw kv mx ky my lc mz lg na lk nb nc nd ne bi translated">处理不同数据类型的数据预处理☠️</li><li id="de42" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated">将不同的模型架构网格化只是为了得到简单的基线模型</li><li id="6eac" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated">编写代码进行预测</li></ul><h1 id="81af" class="mc md ja bd me mf mg mh mi mj mk ml mm kg mn kh mo kj mp kk mq km mr kn ms mt bi translated">更多时间:</h1><ul class=""><li id="efb2" class="mu mv ja kr b ks mw kv mx ky my lc mz lg na lk nb nc nd ne bi translated">获得透明的结果🚀</li></ul></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h1 id="d85b" class="mc md ja bd me mf nr mh mi mj ns ml mm kg nt kh mo kj nu kk mq km nv kn ms mt bi translated"><a class="ae ll" href="https://medium.com/comet-ml/comet-ml-partners-with-uber-on-ludwig-5adb802bbdfc?source=post_page---------------------------" rel="noopener">整合彗星与路德维希</a></h1><p id="ec5e" class="pw-post-body-paragraph kp kq ja kr b ks mw kb ku kv mx ke kx ky nw la lb lc nx le lf lg ny li lj lk im bi translated">我们与 Ludwig 团队合作<a class="ae ll" href="https://medium.com/comet-ml/comet-ml-partners-with-uber-on-ludwig-5adb802bbdfc?source=post_page---------------------------" rel="noopener">整合 Comet.ml </a>以便用户可以在训练时实时跟踪基于 Ludwig 的实验。</p><p id="7f54" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><a class="ae ll" href="http://bit.ly/2Jd156C?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> Comet.ml </a>在三个主要领域对 Ludwig 进行了补充:</p><ol class=""><li id="fd61" class="mu mv ja kr b ks kt kv kw ky nz lc oa lg ob lk oc nc nd ne bi translated"><strong class="kr jb">比较多个路德维希实验:</strong>路德维希让你轻松训练，迭代不同的模型和参数集。Comet 提供了一个接口来帮助你跟踪那些不同实验的结果和细节。</li><li id="5f12" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk oc nc nd ne bi translated"><strong class="kr jb">为您的分析组织的商店:</strong> Ludwig 允许您围绕训练过程和结果生成很酷的可视化效果。Comet 允许您跟踪这些可视化效果，并自动将它们与您的实验关联起来，而不是将它们保存在某个地方。</li><li id="e89b" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk oc nc nd ne bi translated"><strong class="kr jb">你的实验的元分析:</strong>你可能会多次重复<strong class="kr jb"> </strong>你的路德维希实验。用 Comet 跟踪它们使您能够分析诸如哪些参数起作用之类的事情，以便构建更好的模型。</li></ol><p id="0ddb" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">通过用 Comet.ml 运行您的 Ludwig 实验，您可以捕获您的实验的:</p><ul class=""><li id="bb33" class="mu mv ja kr b ks kt kv kw ky nz lc oa lg ob lk nb nc nd ne bi translated">代码(您使用的命令行参数)</li><li id="217c" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated"><strong class="kr jb">实时性能图表，以便您可以实时查看模型指标(而不是等到培训完成之后)</strong></li><li id="6716" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated">你和路德维希一起创作的可视化作品</li><li id="af6e" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated">环境详细信息(例如包版本)</li><li id="b47b" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated">运行历史记录(HTML 选项卡)</li></ul><p id="94b3" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">…以及更多！</p></div><div class="ab cl nk nl hx nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="im in io ip iq"><h1 id="600f" class="mc md ja bd me mf nr mh mi mj ns ml mm kg nt kh mo kj nu kk mq km nv kn ms mt bi translated">用彗星运行路德维希</h1><ol class=""><li id="aa94" class="mu mv ja kr b ks mw kv mx ky my lc mz lg na lk oc nc nd ne bi translated">安装 Ludwig for Python(和 spacy for English 作为依赖项，因为我们在这个例子中使用了文本特性)。<em class="lm">这个例子已经用 Python 3.6 测试过了。</em></li></ol><pre class="lu lv lw lx gt od oe of og aw oh bi"><span id="f9aa" class="oi md ja oe b gy oj ok l ol om">$ pip install ludwig<br/>$ python -m spacy download en</span></pre><p id="20b5" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><em class="lm">如果在安装</em> <code class="fe on oo op oe b">gmpy</code> <em class="lm">时遇到问题，请安装</em> <code class="fe on oo op oe b">libgmp</code> <em class="lm">或</em> <code class="fe on oo op oe b">gmp</code> <em class="lm">。在基于 Debian 的 Linux 发行版上:</em> <code class="fe on oo op oe b">sudo apt-get install libgmp3-dev</code> <em class="lm">。MacOS 上:</em> <code class="fe on oo op oe b">brew install gmp</code> <em class="lm">。</em></p><p id="a7bd" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">2.安装 Comet:</p><pre class="lu lv lw lx gt od oe of og aw oh bi"><span id="6e06" class="oi md ja oe b gy oj ok l ol om">$ pip install comet_ml</span></pre><p id="8513" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">3.设置您的 Comet 凭据:</p><ul class=""><li id="e53e" class="mu mv ja kr b ks kt kv kw ky nz lc oa lg ob lk nb nc nd ne bi translated">在<a class="ae ll" href="http://bit.ly/2Jd156C?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> https://www.comet.ml </a>获取您的 API 密钥</li><li id="cbc6" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated">让 Ludwig 可以使用 API 键，并设置 Ludwig 实验细节要报告给哪个 Comet 项目:</li></ul><pre class="lu lv lw lx gt od oe of og aw oh bi"><span id="1f85" class="oi md ja oe b gy oj ok l ol om">$ export COMET_API_KEY="..."<br/>$ export COMET_PROJECT_NAME="..."</span></pre><p id="8be9" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">4.我们建议您为每个 Ludwig 实验创建一个新目录。</p><pre class="lu lv lw lx gt od oe of og aw oh bi"><span id="5954" class="oi md ja oe b gy oj ok l ol om">$ mkdir experiment1<br/>$ cd experiment1</span></pre><blockquote class="ln lo lp"><p id="2324" class="kp kq lm kr b ks kt kb ku kv kw ke kx lq kz la lb lr ld le lf ls lh li lj lk im bi translated"><strong class="kr jb"> <em class="ja">一些背景:</em> </strong> <em class="ja">每次你想创建一个新的模型并训练它的时候，你会用到两个命令中的一个——</em></p><p id="1a3d" class="kp kq lm kr b ks kt kb ku kv kw ke kx lq kz la lb lr ld le lf ls lh li lj lk im bi translated"><em class="ja"> —训练<br/> —实验</em></p><p id="0966" class="kp kq lm kr b ks kt kb ku kv kw ke kx lq kz la lb lr ld le lf ls lh li lj lk im bi translated"><em class="ja">一旦使用</em> <code class="fe on oo op oe b"><em class="ja">--comet</em></code> <em class="ja">标志运行这些命令，就会创建一个</em> <code class="fe on oo op oe b"><em class="ja">.comet.config</em></code> <em class="ja">文件。这个</em> <code class="fe on oo op oe b"><em class="ja">.comet.config</em></code> <em class="ja">文件从您上面设置的环境变量中提取您的 API 键和 Comet 项目名。</em></p></blockquote><p id="cb99" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">如果您想运行另一个实验，建议您创建一个新目录。</p><p id="cf6e" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">5.<strong class="kr jb">下载数据集。</strong>对于这个例子，我们将使用<a class="ae ll" href="http://archive.ics.uci.edu/ml/datasets/Reuters-21578+Text+Categorization+Collection?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> Reuters-21578 </a>这个众所周知的新闻专线数据集来处理文本分类用例。它只包含 21，578 个新闻专线文档，分为 6 个类别。两个是“大”类别(许多正面文档)，两个是“中”类别，两个是“小”类别(很少正面文档)。</p><ul class=""><li id="9b76" class="mu mv ja kr b ks kt kv kw ky nz lc oa lg ob lk nb nc nd ne bi translated">小类:heat.csv，housing.csv</li><li id="1d4b" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated">中等类别:coffee.csv、gold.csv</li><li id="d747" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated">大类:acq.csv，earn.csv</li></ul><pre class="lu lv lw lx gt od oe of og aw oh bi"><span id="02b8" class="oi md ja oe b gy oj ok l ol om">$ curl <a class="ae ll" href="http://boston.lti.cs.cmu.edu/classes/95-865-K/HW/HW2/reuters-allcats-6.zip?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">http://boston.lti.cs.cmu.edu/classes/95-865-K/HW/HW2/reuters-allcats-6.zip</a> -o reuters-allcats-6.zip<br/>$ unzip reuters-allcats-6.zip</span></pre><p id="cfb5" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">6.定义我们希望用我们想要的输入和输出特性构建的模型。用这些内容创建一个名为<code class="fe on oo op oe b">model_definition.yaml</code>的文件:</p><pre class="lu lv lw lx gt od oe of og aw oh bi"><span id="28c0" class="oi md ja oe b gy oj ok l ol om">input_features:<br/>    -<br/>        name: text<br/>        type: text<br/>        level: word<br/>        encoder: parallel_cnnoutput_features:<br/>    -<br/>        name: class<br/>        type: category</span></pre><p id="bf13" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">7.用新的<code class="fe on oo op oe b">--comet</code>国旗训练模特</p><pre class="lu lv lw lx gt od oe of og aw oh bi"><span id="5b1d" class="oi md ja oe b gy oj ok l ol om">$ ludwig experiment --comet --data_csv reuters-allcats.csv \<br/>    --model_definition_file model_definition.yaml</span></pre><p id="1219" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">一旦你运行这个，一个彗星实验将被创建。检查 Comet 实验 URL 的输出，并点击那个 URL。</p><p id="0cac" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">8.在彗星上，你可以看到:</p><ul class=""><li id="c00f" class="mu mv ja kr b ks kt kv kw ky nz lc oa lg ob lk nb nc nd ne bi translated">您在<strong class="kr jb">图表选项卡</strong>上的实时模型指标</li><li id="55b1" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated">您运行来训练您的实验的 bash 命令以及<strong class="kr jb">代码选项卡</strong>中的任何运行参数</li><li id="cd42" class="mu mv ja kr b ks nf kv ng ky nh lc ni lg nj lk nb nc nd ne bi translated">Ludwig 正在使用的超参数(默认)在<strong class="kr jb">超参数选项卡</strong>中</li></ul><p id="a0b6" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">还有更多！看这个样本实验<a class="ae ll" href="https://www.comet.ml/dsblank/ludwig/b919068a27014a1b941a1de11c707a0b?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">这里</a></p><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi oq"><img src="../Images/a47bf64802b32127feb24d0caaee6f79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*fEZOIz5qfVYfzmEih95s-A.gif"/></div></div></figure><p id="6f5b" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">使用彗星标志运行我们的示例文本分类 Ludwig 实验。你可以在这里和这个彗星实验<a class="ae ll" href="https://www.comet.ml/dsblank/ludwig/b919068a27014a1b941a1de11c707a0b?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">互动</a></p><p id="a552" class="pw-post-body-paragraph kp kq ja kr b ks kt kb ku kv kw ke kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">如果您选择使用 Ludwig 制作任何可视化效果，也可以通过运行以下命令将这些可视化效果上传到 Comet 的<strong class="kr jb">图像选项卡</strong>:</p><pre class="lu lv lw lx gt od oe of og aw oh bi"><span id="7d19" class="oi md ja oe b gy oj ok l ol om">$ ludwig visualize --comet \<br/>    --visualization learning_curves \<br/>    --training_statistics \<br/>    ./results/experiment_run_0/training_statistics.json</span></pre><h1 id="35d2" class="mc md ja bd me mf mg mh mi mj mk ml mm kg mn kh mo kj mp kk mq km mr kn ms mt bi translated">现在，您已经准备好一起使用 Ludwig 和 Comet 来构建您的深度学习模型了！在这里报名彗星<a class="ae ll" href="https://www.comet.ml/pricing?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">。</a></h1></div></div>    
</body>
</html>