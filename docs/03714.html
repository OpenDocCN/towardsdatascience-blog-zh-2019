<html>
<head>
<title>Donut Plot with Matplotlib (Python)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Matplotlib 绘制圆环图(Python)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/donut-plot-with-matplotlib-python-be3451f22704?source=collection_archive---------16-----------------------#2019-06-12">https://towardsdatascience.com/donut-plot-with-matplotlib-python-be3451f22704?source=collection_archive---------16-----------------------#2019-06-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="318a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">让我们用一句非常著名的英语谚语来赞美可视化吧。这是老生常谈，但完全正确。</h2></div><blockquote class="kf kg kh"><p id="d303" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">“一张<strong class="kl ir">图</strong>抵得上一千句<strong class="kl ir">话</strong>”</p></blockquote><p id="c818" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">在这篇文章中，我将演示如何使用 python 和 matplotlib 创建一个圆环图。圆环图是比较多个实体统计数据的一种非常有效的方式。根据[1]</p><blockquote class="kf kg kh"><p id="cba7" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">就像饼图<strong class="kl ir">图</strong>一样，<strong class="kl ir">圆环图</strong>显示部分与整体的关系，但是<strong class="kl ir">圆环图</strong>可以包含多个数据系列。您<strong class="kl ir">在<strong class="kl ir">圆环图</strong>中绘制</strong>的每个数据系列都会给<strong class="kl ir">图</strong>添加一个环。</p></blockquote><p id="a85b" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">现在，让我们使用下面的虚拟数据来表示不同社交媒体网站的移动应用程序的使用情况。</p><pre class="li lj lk ll gt lm ln lo lp aw lq bi"><span id="66d1" class="lr ls iq ln b gy lt lu l lv lw">╔═════════════════╦══════════╗<br/>║   Social Media  ║   Usage  ║<br/>╠═════════════════╬══════════╣<br/>║ Twitter         ║ 60 %     ║<br/>║ Facebook        ║ 75 %     ║<br/>║ Instagram       ║ 80 %     ║<br/>╚═════════════════╩══════════╝</span></pre><p id="732a" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">下面是创建环形图的代码。</p><pre class="li lj lk ll gt lm ln lo lp aw lq bi"><span id="2201" class="lr ls iq ln b gy lt lu l lv lw"><strong class="ln ir">import </strong>pandas <strong class="ln ir">as </strong>pd<br/><strong class="ln ir">import </strong>re<br/><br/>data = pd.read_csv(<strong class="ln ir">'testdata.csv'</strong>)<br/>print(data.head())<br/><br/><strong class="ln ir">import </strong>matplotlib.pyplot <strong class="ln ir">as </strong>plt<br/><br/><em class="kk"># create donut plots<br/></em>startingRadius = 0.7 + (0.3* (len(data)-1))<br/><strong class="ln ir">for </strong>index, row <strong class="ln ir">in </strong>data.iterrows():<br/>    scenario = row[<strong class="ln ir">"scenario"</strong>]<br/>    percentage = row[<strong class="ln ir">"Percentage"</strong>]<br/>    textLabel = scenario + <strong class="ln ir">' ' </strong>+ percentage<br/>    print(startingRadius)<br/>    percentage = int(re.search(<strong class="ln ir">r'\d+'</strong>, percentage).group())<br/>    remainingPie = 100 - percentage<br/><br/>    donut_sizes = [remainingPie, percentage]<br/><br/>    plt.text(0.01, startingRadius + 0.07, textLabel, horizontalalignment=<strong class="ln ir">'center'</strong>, verticalalignment=<strong class="ln ir">'center'</strong>)<br/>    plt.pie(donut_sizes, radius=startingRadius, startangle=90, colors=[<strong class="ln ir">'#d5f6da'</strong>, <strong class="ln ir">'#5cdb6f'</strong>],<br/>            wedgeprops={<strong class="ln ir">"edgecolor"</strong>: <strong class="ln ir">"white"</strong>, <strong class="ln ir">'linewidth'</strong>: 1})<br/><br/>    startingRadius-=0.3<br/><br/><em class="kk"># equal ensures pie chart is drawn as a circle (equal aspect ratio)<br/></em>plt.axis(<strong class="ln ir">'equal'</strong>)<br/><br/><em class="kk"># create circle and place onto pie chart<br/></em>circle = plt.Circle(xy=(0, 0), radius=0.35, facecolor=<strong class="ln ir">'white'</strong>)<br/>plt.gca().add_artist(circle)<br/>plt.savefig(<strong class="ln ir">'donutPlot.jpg'</strong>)<br/>plt.show()</span></pre><figure class="li lj lk ll gt ly gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/f2785156432ec6b42f5b041c2f00aef2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*B5kANWRNYJ1TsPapaBulvw.jpeg"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Donut Plot</figcaption></figure><p id="7844" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr lf kt ku kv lg kx ky kz lh lb lc ld le ij bi translated">在最核心的地方，这个代码中的圆环图是通过创建一系列不同半径的饼图来创建的，一个在另一个之上，中间有一个白色的圆圈。</p><h2 id="b7be" class="lr ls iq bd mf mg mh dn mi mj mk dp ml lf mm mn mo lg mp mq mr lh ms mt mu mv bi translated">参考</h2><p id="b6d5" class="pw-post-body-paragraph ki kj iq kl b km mw jr ko kp mx ju kr lf my ku kv lg mz ky kz lh na lc ld le ij bi translated">[1]<a class="ae nb" href="https://support.office.com/en-us/article/present-your-data-in-a-doughnut-chart-0ac0efde-34e2-4dc6-9b7f-ac93d1783353" rel="noopener ugc nofollow" target="_blank">https://support . office . com/en-us/article/present-your-data-in-a-donut-chart-0 AC 0 efde-34e 2-4d C6-9b7f-ac93d 1783353</a></p></div></div>    
</body>
</html>