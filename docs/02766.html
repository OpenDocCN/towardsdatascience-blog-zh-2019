<html>
<head>
<title>At what age will you win the Nobel Prize? Let’s Visualize using R.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你会在什么年龄获得诺贝尔奖？让我们用 r 来形象化。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/at-what-age-will-you-win-the-nobel-prize-lets-visualize-using-r-873aa702f6a9?source=collection_archive---------13-----------------------#2019-05-05">https://towardsdatascience.com/at-what-age-will-you-win-the-nobel-prize-lets-visualize-using-r-873aa702f6a9?source=collection_archive---------13-----------------------#2019-05-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f2da" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们一起来探索你身边所有的数字中隐藏着什么。我们将可视化诺贝尔奖获得者的数据集，并用 r。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8645736e36052b4440beb04e10c7f9d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fTTJSFACtHv4qZOg2M-8Ww.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><a class="ae ky" href="https://www.nobelprize.org/" rel="noopener ugc nofollow" target="_blank">https://www.nobelprize.org/</a></figcaption></figure><p id="6137" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">诺贝尔奖(Nobel Prize)，任何一个奖项(1969 年前共有五个，后来增加了第六个)，每年由瑞典发明家和实业家<a class="ae ky" href="https://www.britannica.com/biography/Alfred-Nobel" rel="noopener ugc nofollow" target="_blank"> <em class="lv">阿尔弗雷德·诺贝尔</em> </a>遗赠给<a class="ae ky" href="https://www.merriam-webster.com/dictionary/bequeathed" rel="noopener ugc nofollow" target="_blank">的基金颁发。诺贝尔奖被广泛认为是世界上授予智力成就的最有声望的奖项。—</a><a class="ae ky" href="https://www.britannica.com/topic/Nobel-Prize" rel="noopener ugc nofollow" target="_blank">britannica.com</a></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="3119" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">让我们发现</h2><p id="c4d6" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">使用的数据集可以从<a class="ae ky" href="https://www.kaggle.com/nobelfoundation/nobel-laureates" rel="noopener ugc nofollow" target="_blank"> <em class="lv"> kaggle </em> </a>下载。<br/>我们将尝试想象<em class="lv">(接受诺贝尔奖时)</em>的年龄是如何随时间变化的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/423899598114decdc23220fb49510851.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*Q6gBjvAyIRMlHdc8floQTQ.jpeg"/></div></figure><p id="cd96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从中我们可以观察到，平均年龄几乎保持不变，直到 1950 年，此后，获奖者在接受奖励时的年龄不断增加，几乎增加了 8 岁。</p><p id="3248" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用了库'<em class="lv"> tidyverse </em>'来执行所有的操作。<em class="lv"> tidyverse </em>是一个非常有用的库，它装载了几个包，比如'<a class="ae ky" href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html" rel="noopener ugc nofollow" target="_blank"> <em class="lv"> dplyr </em> </a>'、<a class="ae ky" href="https://cran.r-project.org/web/packages/ggplot2/index.html" rel="noopener ugc nofollow" target="_blank"> <em class="lv"> ggplot2 </em> </a>'、<a class="ae ky" href="https://cran.r-project.org/web/packages/dbplyr/index.html" rel="noopener ugc nofollow" target="_blank"> <em class="lv"> dbplyr </em> </a>'、<a class="ae ky" href="https://cran.r-project.org/web/packages/lubridate/vignettes/lubridate.html" rel="noopener ugc nofollow" target="_blank"> <em class="lv"> lubridate </em> </a>'、<a class="ae ky" href="https://cran.r-project.org/web/packages/readxl/index.html" rel="noopener ugc nofollow" target="_blank"> <em class="lv"> readxl </em> </a>'、<a class="ae ky" href="https://cran.r-project.org/web/packages/readr/index.html" rel="noopener ugc nofollow" target="_blank"> <em class="lv"/></a></p><p id="4127" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://cran.r-project.org/web/packages/tidyverse/index.html" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"/></a>—“<em class="lv">tidyverse</em>”是一组协调工作的包，因为它们共享公共数据表示和“<em class="lv"> API </em>”设计。该软件包旨在使在一个步骤中安装和加载多个'<em class="lv"> tidyverse </em>'软件包变得容易。<br/>函数'<strong class="lb iu"> <em class="lv"> read.csv </em> </strong>'从<em class="lv"> csv </em>文件中读取数据，并作为一个数据帧存储到一个变量中，这里命名为'<em class="lv"> nobel </em>'。<br/>函数“<a class="ae ky" href="https://www.rdocumentation.org/packages/dplyr/versions/0.5.0/topics/mutate" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="lv">突变</em> </strong> </a>”添加新变量并保留数据框中已有的变量。这里，<em class="lv"> mutate </em>在数据帧中增加一个新列，命名为'<strong class="lb iu"> <em class="lv"> age </em> </strong>'。<br/> <em class="lv">年龄</em>是用另一个函数<a class="ae ky" href="https://www.rdocumentation.org/packages/base/versions/3.5.3/topics/as.Date" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="lv">计算出来的。Date</em></strong></a>’，它在字符表示和表示日历日期的类“<em class="lv"> Date </em>”的对象之间进行转换。<br/>最后，<strong class="lb iu">和<em class="lv"> ggplot </em>和</strong>用于绘制散点图。使用变量“<em class="lv">年</em>在<em class="lv"> x 轴</em>上绘制散点图，而“<em class="lv">年龄”</em>在<em class="lv"> y 轴</em>上绘制散点图。<strong class="lb iu"> <em class="lv"> geom_point </em> </strong>用于绘制<em class="lv">点(dots)，</em>我们也可以指定每个点的大小。这里，<em class="lv">大小</em>被指定为“<em class="lv"> 3 </em>”，并且<em class="lv"> alpha </em>被设置为“<em class="lv"> 0.5 </em>”，这有助于定义点的<em class="lv">不透明度(透明度)</em>，进而有助于识别点的重叠。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="5536" class="md me it nd b gy nh ni l nj nk"><strong class="nd iu">#Load Required Libraries<br/></strong>library(tidyverse)</span><span id="9085" class="md me it nd b gy nl ni l nj nk">nobel &lt;- read.csv("nobel.csv")<br/><br/>nobel_age &lt;- nobel %&gt;%<br/>    mutate(age = year - year(as.Date(birth_date)))</span><span id="31e6" class="md me it nd b gy nl ni l nj nk">ggplot(nobel_age,aes(x=year,y=age)) + geom_point(size = 3, alpha = 0.5,color = "black") + geom_smooth(aes(fill = "red")) + xlab("Year of Nobel Prize Distribution") + ylab("Age while Receiving the Prize")</span></pre></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="9d44" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">让我们探索一下</h2><p id="d2dd" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">看到上面的图的一个问题是，它反映了非常少的信息。在数据可视化中，使用颜色或形状弹出数据的作用类似于糖块中的糖。</p><p id="058f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从下面的图表中我们观察到三个类别'<strong class="lb iu"><em class="lv"/></strong>'、<strong class="lb iu"> <em class="lv">、医学</em> </strong>'、<strong class="lb iu"> <em class="lv">物理学</em> </strong>'观察到一些相似的趋势，所有这些类别的平均年龄在这些年中不断增加。最大的偏差可见于类别'<em class="lv">物理</em>'。唯一显示平均年龄逐年下降的类别是“<strong class="lb iu"><em class="lv"/></strong>”类别。而类别'<strong class="lb iu"><em class="lv"/></strong>'和'<strong class="lb iu"> <em class="lv">文学</em> </strong>'这些年来几乎保持不变。我们可以从图表中得出的一个更重要的观察结果是，在类别“<em class="lv">和平</em>”中，分数分布更广，这表明许多获奖者的平均年龄与<em class="lv">相差甚远</em>。</p><p id="d1c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你获得了几个奖项的诺贝尔奖，你的假设年龄是多少？</p><ul class=""><li id="c767" class="nm nn it lb b lc ld lf lg li no lm np lq nq lu nr ns nt nu bi translated">化学，年龄= 70 |最有可能:(年龄&gt; 70)</li><li id="4e4f" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">经济学，年龄= 69 |最有可能:(67 <age/></li><li id="b7c8" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">Literature, Age = 70 | Most probable: (67<age/></li><li id="9f15" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">Medicine, Age = 68 | Most probable: (Age &gt; 52)</li><li id="4b81" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">和平，年龄= 55|最有可能:(年龄&lt; 65)</li><li id="c523" class="nm nn it lb b lc nv lf nw li nx lm ny lq nz lu nr ns nt nu bi translated">Physics, Age = 69| Most probable: (Age &gt; 66)</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/b2157fb27d6cff163fbc22e081944f63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RLxS2XuC7KasoZQ7fH_B0g.jpeg"/></div></div></figure><p id="d307" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来理解帮助我们获得上述结果的代码。我们加载了本文前面加载的同一个库。<br/><a class="ae ky" href="https://www.rdocumentation.org/packages/ggplot2/versions/3.1.1/topics/facet_wrap" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="lv">facet _ wrap</em></strong></a>-将 1d 序列的面板包装成 2d。这通常比'<strong class="lb iu"><em class="lv">【facet _ grid()</em></strong>'更好地利用了屏幕空间，因为大多数显示器大致是矩形的。<br/><a class="ae ky" href="https://www.rdocumentation.org/packages/plotly/versions/4.9.0/topics/ggplotly" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="lv">gg plot ly</em></strong></a>—将' ggplot2 '转换为'<a class="ae ky" href="https://plot.ly/r/getting-started/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> plotly </strong> </a>'，此函数将一个'<em class="lv"> ggplot2::ggplot() </em>'对象转换为一个'<em class="lv"> plotly </em>'对象。</p><p id="a306" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么下面的代码实际上是做什么的呢？<br/>使用<em class="lv"> ggplot </em>函数生成一个图，其中突变的数据帧'<em class="lv"> nobel_age </em>作为数据，<em class="lv"> x 轴</em>和<em class="lv"> y 轴</em>分别指定为'<em class="lv"> year </em>和'<em class="lv"> age </em>'。<em class="lv"> geom_point </em>用于指定散点图的绘制，而<a class="ae ky" href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="lv">geom _ smooth</em></strong></a><strong class="lb iu"><em class="lv"/></strong>用于在过度绘制的情况下帮助眼睛看到图案，在过度绘制的情况下，颜色和填充由变量“<em class="lv"> category </em>定义，这有助于为不同类别绘制不同颜色的图形。例如，如果我们必须为一家巧克力商店绘制一个图表，并考虑有三个类别“牛奶”、“白色”、“深色”，那么上述方法将用不同的颜色绘制不同类别的所有点，以帮助我们以更好的方式区分这些点。<em class="lv"> facet_wrap </em>这里，用不同的类别对每个支线剧情进行剧情划分，从而获得基于类别划分的<em class="lv">六个</em>不同的支线剧情。</p><pre class="kj kk kl km gt nc nd ne nf aw ng bi"><span id="0d44" class="md me it nd b gy nh ni l nj nk"><strong class="nd iu">#Load Required Libraries<br/></strong>library(tidyverse)<br/>library(plotly)</span><span id="e7df" class="md me it nd b gy nl ni l nj nk">nobel &lt;- read.csv("nobel.csv")<br/><br/>nobel_age &lt;- nobel %&gt;%<br/>    mutate(age = year - year(as.Date(birth_date)))</span><span id="7466" class="md me it nd b gy nl ni l nj nk">p &lt;- ggplot(nobel_age,aes(x=year,y=age)) + <br/>         geom_point() + <br/>         geom_smooth(aes(colour = category, fill = category)) + <br/>         facet_wrap(~ category)</span><span id="ebd5" class="md me it nd b gy nl ni l nj nk">ggplotly(p)</span></pre></div></div>    
</body>
</html>