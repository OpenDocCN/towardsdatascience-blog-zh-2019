<html>
<head>
<title>Learn Enough Docker to be Useful</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习足够的码头工人是有用的</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/learn-enough-docker-to-be-useful-b7ba70caeb4b?source=collection_archive---------1-----------------------#2019-01-09">https://towardsdatascience.com/learn-enough-docker-to-be-useful-b7ba70caeb4b?source=collection_archive---------1-----------------------#2019-01-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e8e6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">第 1 部分:概念景观</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4b4de18deae6e1b4da6195d25ad7db6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4eXBePb2oLVPxHyocCNmlw.jpeg"/></div></div></figure><p id="2b6e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">容器对于提高软件开发和数据科学中的安全性、可再现性和可伸缩性非常有帮助。它们的崛起是当今科技领域最重要的趋势之一。</p><p id="39bb" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Docker 是一个在容器内部开发、部署和运行应用程序的平台。码头工人本质上是集装箱化的同义词。如果你是一个当前的或有抱负的软件开发人员或数据科学家，Docker 是你的未来。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/4f2f499e4bea87156b17080c49e81550.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*EJx9QN4ENSPKZuz51rC39w.png"/></div></figure><p id="fd8e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你还没有跟上速度，不要担心——这篇文章将帮助你理解概念上的前景——并且你将在途中做一些比萨饼。</p><p id="a9a5" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本系列接下来的五篇文章中，我们将讨论 Docker 术语、Docker 文件、Docker 图像、Docker 命令和数据存储。第 2 部分现已上线:</p><div class="lr ls gp gr lt lu"><a rel="noopener follow" target="_blank" href="/learn-enough-docker-to-be-useful-1c40ea269fa8"><div class="lv ab fo"><div class="lw ab lx cl cj ly"><h2 class="bd iu gy z fp lz fr fs ma fu fw is bi translated">学习足够的码头工人是有用的</h2><div class="mb l"><h3 class="bd b gy z fp lz fr fs ma fu fw dk translated">第 2 部分:你需要知道的十几个码头术语</h3></div><div class="mc l"><p class="bd b dl z fp lz fr fs ma fu fw dk translated">towardsdatascience.com</p></div></div><div class="md l"><div class="me l mf mg mh md mi ks lu"/></div></div></a></div><p id="5c5c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">到本系列结束时(经过一点实践)，你应该知道足够有用的 Docker😃！</p><h1 id="3cdb" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">码头隐喻</h1><p id="34fd" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">首先，我要解释一下 Docker 隐喻。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://www.goodreads.com/book/show/34459.Metaphors_We_Live_By"><div class="gh gi ng"><img src="../Images/90c6f65c12df9fce47b705270c885f07.png" data-original-src="https://miro.medium.com/v2/resize:fit:390/format:webp/1*poqn_j2R9xTk940n9wE9Lw.jpeg"/></div></a><figcaption class="nh ni gj gh gi nj nk bd b be z dk"><a class="ae nl" href="https://www.goodreads.com/book/show/34459.Metaphors_We_Live_By" rel="noopener ugc nofollow" target="_blank">They’re everywhere! Just check out this book.</a></figcaption></figure><p id="f6c6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">谷歌对隐喻的第二个定义是我们想要的:</p><blockquote class="nm nn no"><p id="df33" class="ku kv np kw b kx ky ju kz la lb jx lc nq le lf lg nr li lj lk ns lm ln lo lp im bi translated">被认为是其他事物的代表或象征的事物，尤指抽象的事物。</p></blockquote><p id="cd29" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">隐喻帮助我们理解新事物。比如实体容器的比喻，帮助我们快速抓住虚拟容器的本质。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/e97b56acb5e558165270d854ad4c3eda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*ndncU4a3uNsQ_oy2YrNLBA.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">A physical container</figcaption></figure><h2 id="ab52" class="nu mk it bd ml nv nw dn mp nx ny dp mt ld nz oa mv lh ob oc mx ll od oe mz of bi translated">容器</h2><p id="9f70" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">像物理塑料容器一样，码头集装箱:</p><ol class=""><li id="5098" class="og oh it kw b kx ky la lb ld oi lh oj ll ok lp ol om on oo bi translated"><strong class="kw iu">拿东西</strong> —东西要么在容器里面，要么在容器外面。</li><li id="3f14" class="og oh it kw b kx op la oq ld or lh os ll ot lp ol om on oo bi translated"><strong class="kw iu">是可移植的</strong>——它可以在你的本地机器、你同事的机器或者云提供商的服务器(例如 AWS)上使用。有点像你从一个家搬到另一个家随身携带的那盒童年小摆设。</li><li id="4726" class="og oh it kw b kx op la oq ld or lh os ll ot lp ol om on oo bi translated"><strong class="kw iu">有清晰的访问接口</strong> —我们的物理容器有一个盖子，用于打开、放入和取出东西。类似地，Docker 容器有几种与外界接口的机制。它有可以通过浏览器打开进行交互的端口。您可以将其配置为通过命令行与数据交互。</li><li id="d4a7" class="og oh it kw b kx op la oq ld or lh os ll ot lp ol om on oo bi translated"><strong class="kw iu">可以从遥远的地方获得</strong> —当你需要的时候，你可以从 Amazon.com 得到另一个空的塑料容器。亚马逊从制造商那里获得塑料容器，这些制造商从一个模具中冲压出数千个塑料容器。在 Docker 容器的情况下，一个异地注册中心为您的容器保存一个映像，就像一个模子。然后，当你需要一个容器时，你可以根据图片制作一个。</li></ol><p id="2736" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">与虚拟 Docker 容器不同，亚马逊的新塑料容器会让你花钱，而且里面不会有你商品的副本。遗憾的💸。</p><h2 id="1e17" class="nu mk it bd ml nv nw dn mp nx ny dp mt ld nz oa mv lh ob oc mx ll od oe mz of bi translated">活生生的例子</h2><p id="1dcb" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">你可以认为 Docker 容器的第二种方式是作为一个有生命的东西的实例。实例是以某种形式存在的东西。不仅仅是代码。是代码给生活带来了一些东西。像其他生物一样，实例最终会死亡——这意味着容器会关闭。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/3c6ebc85da55cf446801bface8a00190.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/format:webp/1*t-uVUfbywQsDnwQoYAEbgA.jpeg"/></div></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">An instance of a monster</figcaption></figure><p id="9f17" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Docker 容器是一个栩栩如生的 Docker 图像。</p><h2 id="57c4" class="nu mk it bd ml nv nw dn mp nx ny dp mt ld nz oa mv lh ob oc mx ll od oe mz of bi translated">软件</h2><p id="47a9" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">除了容器隐喻和活生生的实例隐喻之外，您可以将 Docker 容器想象成<strong class="kw iu">一个软件程序</strong>。毕竟是软件。在最基本的层面上，容器是一组操作其他位的指令。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/729ff502b42da7e224be01f8a0ae53f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*0D45gdLlWgvMBu9Xwr0RrA.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Containers are code</figcaption></figure><p id="28ba" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">当 Docker 容器运行时，它通常有程序在里面运行。容器中的程序执行动作，所以你的应用程序会做一些事情。</p><p id="6dc7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">例如，Docker 容器中的代码可能已经向您发送了您正在该网页上阅读的内容。或者，它可能会将您的语音命令发送到 Amazon Alexa，并将其解码为不同容器中的另一个程序将使用的指令。</p><p id="6f76" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">使用 Docker，您可以在一台主机上同时运行多个容器。和其他软件程序一样，Docker 容器可以运行、检查、停止和删除。</p><h1 id="bf16" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">概念</h1><h2 id="dfe2" class="nu mk it bd ml nv nw dn mp nx ny dp mt ld nz oa mv lh ob oc mx ll od oe mz of bi translated">虚拟机</h2><p id="f388" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">虚拟机是 Docker 容器的前身。虚拟机还隔离应用程序及其依赖关系。然而，Docker 容器优于虚拟机，因为它们占用更少的资源，非常便携，并且启动更快。查看<a class="ae nl" href="https://medium.freecodecamp.org/a-beginner-friendly-introduction-to-containers-vms-and-docker-79a9e3e119b" rel="noopener ugc nofollow" target="_blank">这篇文章</a>中关于相似性和差异性的精彩讨论。</p><h2 id="b488" class="nu mk it bd ml nv nw dn mp nx ny dp mt ld nz oa mv lh ob oc mx ll od oe mz of bi translated">Docker 图像</h2><p id="d708" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">我在上面提到了图像。什么是图像？很高兴你问了！Docker 上下文中的术语<em class="np"> image </em>的含义并不能很好地映射到物理图像。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/ab6f14ef167e24f7b87c09a3d972611f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*Wv9nvbm0XRLSGQ9nqTzpdA.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Images</figcaption></figure><p id="ace0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Docker 图像更像是蓝图、饼干切割器或模具。图像是不可变的主模板，用于抽取完全相同的容器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/6942801a1cdc0d9d2650b52fb741544a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*n53WlDyD9mxVcOu17Rj86Q.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Cookie cutters</figcaption></figure><p id="23cd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">映像包含应用程序运行所需的 docker 文件、库和代码，所有这些都捆绑在一起。</p><h2 id="a837" class="nu mk it bd ml nv nw dn mp nx ny dp mt ld nz oa mv lh ob oc mx ll od oe mz of bi translated">Dockerfile 文件</h2><p id="dc58" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">Dockerfile 是一个说明 Docker 应该如何构建您的图像的文件。</p><p id="dad7" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Dockerfile 指的是用于构建初始图像层的基础图像。热门官方基图有<a class="ae nl" href="https://hub.docker.com/_/python/" rel="noopener ugc nofollow" target="_blank"> python </a>、<a class="ae nl" href="https://hub.docker.com/_/ubuntu" rel="noopener ugc nofollow" target="_blank"> ubuntu </a>、<a class="ae nl" href="https://hub.docker.com/_/alpine" rel="noopener ugc nofollow" target="_blank"> alpine </a>。</p><p id="79aa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然后，根据 docker 文件中的说明，可以在基本图像层的顶部堆叠附加层。例如，机器学习应用程序的 Docker 文件可以告诉 Docker 在中间层添加 NumPy、Pandas 和 Scikit-learn。</p><p id="2fec" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">最后，根据 Dockerfile 代码，将一个薄的可写层堆叠在其他层的顶部。(你理解薄层体积小是因为你直观地理解了<em class="np">薄</em>的比喻，对吗😃？)</p><p id="d5b6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我将在本系列的后续文章中更深入地探讨 Dockerfiles。</p><h2 id="4495" class="nu mk it bd ml nv nw dn mp nx ny dp mt ld nz oa mv lh ob oc mx ll od oe mz of bi translated">码头集装箱</h2><p id="ddbb" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">Docker 图像加上命令<code class="fe oy oz pa pb b">docker run image_name</code>从图像创建并启动一个容器。</p><h2 id="8e37" class="nu mk it bd ml nv nw dn mp nx ny dp mt ld nz oa mv lh ob oc mx ll od oe mz of bi translated">集装箱登记处</h2><p id="967b" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">如果您希望其他人能够根据您的图像制作容器，您可以将图像发送到容器注册表。<a class="ae nl" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank"> Docker Hub </a>是最大的注册表和默认注册表。</p><p id="985f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">唷！那是很多块。让我们把这一切放在一起，做一个比萨饼。</p><h1 id="3a83" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">用 Docker 做饭</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/e99be23ee79c946e6b6fabb7c81b2c54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*v6WWacmOsrPYtkGXUu-cbA.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Landscape Metaphor</figcaption></figure><ul class=""><li id="ef96" class="og oh it kw b kx ky la lb ld oi lh oj ll ok lp pc om on oo bi translated">菜谱就像<em class="np"> Dockerfile </em>。它告诉你该怎么做才能达到你的最终目标。</li><li id="6a06" class="og oh it kw b kx op la oq ld or lh os ll ot lp pc om on oo bi translated">配料是<em class="np">层</em>。你有比萨饼的外壳、调味汁和奶酪。</li></ul><p id="9e0e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">把食谱和配料组合在一起，就像一个完整的比萨饼制作工具包。是<em class="np"> Docker 形象</em>。</p><p id="da88" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">菜谱(Dockerfile)告诉我们要做什么。计划是这样的:</p><ul class=""><li id="e0db" class="og oh it kw b kx ky la lb ld oi lh oj ll ok lp pc om on oo bi translated">外壳是预先形成的，不可改变的，它就像一个基本的 ubuntu 父图像。这是最底层<em class="np">和最先建造的</em>。</li><li id="69d9" class="og oh it kw b kx op la oq ld or lh os ll ot lp pc om on oo bi translated">然后你会加一些奶酪。将第二层添加到比萨饼中就像<em class="np">安装一个外部库</em>——例如 NumPy。</li><li id="e169" class="og oh it kw b kx op la oq ld or lh os ll ot lp pc om on oo bi translated">然后你会撒上一些罗勒。罗勒就像是你为运行你的应用程序而编写的文件中的<em class="np">代码。</em></li></ul><p id="e46c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">好吧，我们开始做饭吧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/74d5f803525b91dd94c35cab558cdce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*rihuhM7hCvWaJhuw7Hjvzg.jpeg"/></div><figcaption class="nh ni gj gh gi nj nk bd b be z dk">Oven</figcaption></figure><ul class=""><li id="7820" class="og oh it kw b kx ky la lb ld oi lh oj ll ok lp pc om on oo bi translated">烤披萨的烤箱就像 Docker 平台。你搬进来的时候把烤箱装在了家里，这样你就可以用它做东西了。类似地，你在你的电脑上安装了 Docker，这样你就可以制作容器了。</li><li id="18ec" class="og oh it kw b kx op la oq ld or lh os ll ot lp pc om on oo bi translated">你转动旋钮来启动烤箱。<code class="fe oy oz pa pb b">docker run image_name</code>命令就像您的旋钮——它创建并启动您的容器。</li><li id="edca" class="og oh it kw b kx op la oq ld or lh os ll ot lp pc om on oo bi translated">煮熟的比萨饼就像一个码头集装箱。</li><li id="2359" class="og oh it kw b kx op la oq ld or lh os ll ot lp pc om on oo bi translated">吃披萨就像使用你的应用程序。</li></ul><p id="3444" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就像做比萨饼一样，在 Docker 容器中制作一个应用程序需要一些工作，但最终你会得到一些很棒的东西。享受🍕！</p><h1 id="5176" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">包装</h1><p id="0be5" class="pw-post-body-paragraph ku kv it kw b kx nb ju kz la nc jx lc ld nd lf lg lh ne lj lk ll nf ln lo lp im bi translated">这就是概念框架。在本系列的第 2 部分中，我澄清了你将在 Docker 生态系统中看到的一些术语。跟着我，保证你不会错过！</p><p id="11d3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">希望这个概述能帮助你更好地理解 Docker 的前景。我也希望它能让你看到隐喻在理解新技术中的价值。</p><p id="44fa" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果你觉得这很有帮助，请在你最喜欢的社交媒体上分享，这样其他人也可以找到它。👏</p><p id="a90d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我写关于 Python、Docker、数据科学等等的文章。如果你对此感兴趣，请阅读更多<a class="ae nl" href="https://medium.com/@jeffhale" rel="noopener">此处</a>并关注我的 Medium。😄</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://dataawesome.com"><div class="ab gu cl pe"><img src="../Images/ba32af1aa267917812a85c401d1f7d29.png" data-original-src="https://miro.medium.com/v2/format:webp/1*oPkqiu1rrt-hC_lDMK-jQg.png"/></div></a></figure><p id="c96c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">感谢阅读！</p></div></div>    
</body>
</html>