<html>
<head>
<title>How To Use Jupyter on Your Deep Learning Rig Remotely With SSH</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何通过 SSH 在深度学习平台上远程使用 Jupyter</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-use-jupyter-on-your-deep-learning-rig-remotely-with-ssh-cefd78fbfe2c?source=collection_archive---------26-----------------------#2019-11-15">https://towardsdatascience.com/how-to-use-jupyter-on-your-deep-learning-rig-remotely-with-ssh-cefd78fbfe2c?source=collection_archive---------26-----------------------#2019-11-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/db094f2ec573904261067593a68a0c37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Dlvue7Agz3TUEEtrWQoDQ.jpeg"/></div></div></figure><p id="f135" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi kz translated">当处理多台机器时，将你的文件和硬件分开可能是一件好事，也可能是一件可怕的坏事。我们都遇到过这样的情况，我们需要将工作转移到 USB 闪存驱动器上，以便在旅行时将它们放在笔记本电脑上。最重要的是，你的笔记本电脑也有臭名昭著的</p><blockquote class="li"><p id="509a" class="lj lk it bd ll lm ln lo lp lq lr ky dk translated">集成显卡</p></blockquote><p id="83ca" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">没有我们每天都要访问的文件系统会对我们的性能产生负面影响。对于我们这些喜欢轻薄笔记本电脑、宁愿在沙发上而不是电脑椅上工作的人来说，对远程台式机的渴望可能会更强烈。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><figure class="mf mg mh mi gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi me"><img src="../Images/e5a6c0d770201c24929fb64cc7c17ff3.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*kmTGf2e_fV2z9SSF7WnfyQ.jpeg"/></div></div></figure><p id="9d43" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我决定用 RedHat 来运行我的 SSH 服务器。RedHat 是非常成熟的，并且是最常运行的服务器发行版之一。</p><p id="ad01" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">老实说，如果你是 Linux 新手，发行版并不重要，因为 Linux 在整体上是相当一致的。</p><p id="2e61" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我不打算回顾安装过程或用户创建过程，因为它们都很简单“你希望它是什么”，并键入答案。</p><p id="db81" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在我们已经安装了操作系统，我们需要做什么呢？对于我来说，我有两个 GPU，和一个不支持内核驱动程序的 Wifi 适配器，所以第一步是驱动程序。我们可以获得并安装带有驱动程序的闪存驱动器，并使用 build-essential 或 DKMS 来安装它们:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="0fec" class="mo mp it mk b gy mq mr l ms mt">make<br/>sudo make install<br/>sudo modprobe __</span></pre><p id="2d83" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">或者，在将文件复制到/usr/src 之后</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="5066" class="mo mp it mk b gy mq mr l ms mt">sudo dkms add -m ___ --version 1.0<br/>sudo dkms build -m ___ --version 1.0<br/>sudo dkms install -m ___ --version 1.0<br/>modprobe ___</span></pre><p id="01fb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，我们的 wifi 驱动程序已经就绪，我们必须实际连接到我们的 wifi，第一步是打开我们的网络连接。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="b0d9" class="mo mp it mk b gy mq mr l ms mt">sudo ifconfig wlan0 up</span></pre><p id="5baa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后扫描可用的 wifi SSIDs:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="6744" class="mo mp it mk b gy mq mr l ms mt">sudo iwlist scan | more</span></pre><p id="4f7c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">并添加我们的 WPA 密钥:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="d392" class="mo mp it mk b gy mq mr l ms mt">wpa_passphrase</span></pre><p id="9264" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后我们将这些信息放到一个文本文件中。会议)</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="ec0d" class="mo mp it mk b gy mq mr l ms mt">wpa_passphrase (SSID)&gt; /etc/wpa_supplicant/wpa_supplicant.conf</span></pre><p id="0510" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后我们将 CD 放入该目录，并连接！</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="306b" class="mo mp it mk b gy mq mr l ms mt">sudo wpa_supplicant -B -D driver -i interface -c /etc/wpa_supplicant/wpa_supplicant.conf &amp;&amp; sudo dhclient</span></pre><p id="f0a7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">恭喜，我们正式有 wifi 了！</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="95a2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在我们可以做我们最喜欢的两件事，更新我们的包和库。需要注意的是，包管理器当然取决于你选择的发行版。对于 RedHat 可以是 dnf 也可以是 yum，Debian(或者 Ubuntu)会用 apt，Arch 会用 Pacman，openSuse 会用 man。所以如果你没有选择使用 RedHat，就用你各自的包管理器替换我的 dnf。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="87a9" class="mo mp it mk b gy mq mr l ms mt">sudo dnf update &amp;&amp; sudo dnf upgrade</span></pre><p id="2e98" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在按下 y 键并输入至少一次之后，你现在必须得到你的新的最好的朋友:SSH。虽然现在有很多 SSH 工具，但是我们将会使用 SSH 的 FOSS 版本。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="3810" class="mo mp it mk b gy mq mr l ms mt">sudo dnf install openssh-server</span></pre><p id="dc71" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在让我们用主机名、端口等快速配置我们的网络。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="c301" class="mo mp it mk b gy mq mr l ms mt">$ nano ~/.ssh/config</span></pre><figure class="mf mg mh mi gt ju gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/2ee9011c02f6ed8c67fd8696c4e0b672.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*PrFsQKe3aNQAQgI2Rfn7Pw.jpeg"/></div></figure><p id="ab49" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，我们只需为我们的服务器启用 systemctl:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="ad55" class="mo mp it mk b gy mq mr l ms mt">sudo systemctl enable ssh<br/>sudo systemctl start ssh</span></pre><p id="b439" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你使用的是 Ubuntu，你需要运行以下命令为你的防火墙打开一个端口(端口 22 ):</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="2be0" class="mo mp it mk b gy mq mr l ms mt">sudo ufw allow ssh<br/>sudo ufw enable<br/>sudo ufw status</span></pre><p id="12a9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在 SSH 应该正在运行，您的服务器应该已经启动并正在运行。如果你使用 CUDA 或 OpenCL，现在是 wget 或 dnf 安装一些图形驱动程序的好时机。</p><p id="f951" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在将要连接到 SSH 服务器的客户机上，您还需要安装 openssh 客户机:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="e4da" class="mo mp it mk b gy mq mr l ms mt">sudo dnf install openssh-client</span></pre><p id="400c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这样一来，我们可以连接到我们的无头服务器:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="6aa2" class="mo mp it mk b gy mq mr l ms mt">ssh emmett@192.168.0.13</span></pre><p id="f270" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你不知道 IPv4 地址(最后带点的部分)，WiFi 和互联网的情况会有所不同:</p><blockquote class="li"><p id="da32" class="lj lk it bd ll lm ln lo lp lq lr ky dk translated">无线局域网（wireless fidelity 的缩写）</p></blockquote><pre class="mv mw mx my mz mj mk ml mm aw mn bi"><span id="ec60" class="mo mp it mk b gy mq mr l ms mt">ipconfig getifaddr en1</span></pre><blockquote class="li"><p id="59bc" class="lj lk it bd ll lm na nb nc nd ne ky dk translated">以太网</p></blockquote><pre class="mv mw mx my mz mj mk ml mm aw mn bi"><span id="b380" class="mo mp it mk b gy mq mr l ms mt">ipconfig getifaddr en0</span></pre></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="d5ec" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">祝贺您，您现在已经连接到了您的 ssh 服务器，您可以像使用任何其他终端一样使用它。如果你碰巧正在使用 Nautilus，你也可以把服务器添加到你的文件管理器中，方法是转到文件，然后在左边点击其他位置，在底部有一个包含 ssh、ftp 等的组合框。你可以利用的关系。</p><figure class="mf mg mh mi gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nf"><img src="../Images/fcc041ce9b943a85ed033849cb0b90b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uPQgsdWJ0ccnA_j_tZjc9g.png"/></div></div></figure><blockquote class="li"><p id="b7ea" class="lj lk it bd ll lm na nb nc nd ne ky dk translated">那我们怎么和 Jupyter 一起用呢？</p></blockquote><p id="fa3e" class="pw-post-body-paragraph kb kc it kd b ke ls kg kh ki lt kk kl km lu ko kp kq lv ks kt ku lw kw kx ky im bi translated">当然，首先我们必须安装 Jupyter，所以回到你的服务器，安装 pip for python3:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="50ac" class="mo mp it mk b gy mq mr l ms mt">sudo apt-get install python3-pip</span></pre><p id="0978" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后用 pip 安装 Jupyter Lab:</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="17c9" class="mo mp it mk b gy mq mr l ms mt">sudo pip3 install jupyterlab</span></pre></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="00fd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要启动笔记本服务器，只需运行</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="c105" class="mo mp it mk b gy mq mr l ms mt">jupyter notebook</span></pre><p id="bcc7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">要访问服务器，只需转到您的客户机，打开您选择的 web 浏览器，并输入您的 SSH 构建的 IP。现在你可以拔掉除了机器电源线以外的所有东西。</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="cc31" class="ng mp it bd nh ni nj nk nl nm nn no np nq nr ns nt nu nv nw nx ny nz oa ob oc bi translated">下一步</h1><p id="d82b" class="pw-post-body-paragraph kb kc it kd b ke od kg kh ki oe kk kl km of ko kp kq og ks kt ku oh kw kx ky im bi translated">下一步是扔掉你的鼠标和键盘，因为你已经正式</p><blockquote class="li"><p id="6fb6" class="lj lk it bd ll lm ln lo lp lq lr ky dk translated">没头了</p></blockquote></div></div>    
</body>
</html>