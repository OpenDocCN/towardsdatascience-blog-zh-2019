<html>
<head>
<title>Building a Python UI for Comparing Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建用于比较数据的 Python UI</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-python-ui-for-comparing-data-13c10693d9e4?source=collection_archive---------4-----------------------#2019-12-18">https://towardsdatascience.com/building-a-python-ui-for-comparing-data-13c10693d9e4?source=collection_archive---------4-----------------------#2019-12-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ab71" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何快速让您的非技术团队能够比较数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/dc3aef40c7095e9945ccc5ccb9de3e72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*45mCq2G24Kk0sqgj"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@bigkids?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">David Werbrouck</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="a608" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在分析或 IT 功能上花足够的时间，很快就会发现处理数据是必须的。收集数据，处理数据，当然还有比较数据。如今，所有这些数据的问题通常在于其数量之大。</p><p id="decf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除非人们的技术水平足够高，知道如何使用 Python、R 或类似的语言，否则当他们需要处理更大的数据集时，他们会很吃力。不幸(还是幸运？)，Excel 就不剪了。这给人们制造了许多障碍。</p><p id="eb06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当谈到数据操作，包括查看数据或比较数据时，我听到的最常见的抱怨之一是 Excel 根本不支持它。太大了，装不下。为此，我写了一些文章解释如何解决这个问题——但是我的大部分文章在本质上都是技术性的。它需要你写代码和使用命令行。</p><div class="lv lw gp gr lx ly"><a href="https://medium.com/financeexplained/from-excel-to-databases-with-python-c6f70bdc509b" rel="noopener follow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">用 Python 从 Excel 到数据库</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">了解如何使用 Python 进行快速数据分析</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">medium.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="ea53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除非你是一个技术人员，否则你不一定会觉得这很容易。同样，如果你想和一个非技术人员分享这个功能。</p><p id="1cca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，在我上一篇文章中，我们介绍了如何快速地用 Python 开发 ui，然后与我们更广泛的团队或社区分享它们。反响非常好；你们中的许多人觉得它非常有趣。</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/learn-how-to-quickly-create-uis-in-python-a97ae1394d5"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">了解如何用 Python 快速创建 ui</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">最后，你可以在 10 分钟内找到一个图书馆</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mn l mj mk ml mh mm ks ly"/></div></div></a></div><p id="3f4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇博客中，我们将介绍 PySimpleGUI 的大量可用特性，同时我们还将构建一些东西，让我们的非技术朋友能够快速比较数据。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="81e6" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">定义用户界面</h1><p id="4eef" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">我们需要做的第一件事是定义一个简单的 UI，允许用户选择两个文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/d318fa20c6501c60ad8a2d5a683116a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/1*GX6PudDOYPm4rAdCSUUxmg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Choosing the two files to display</figcaption></figure><p id="0352" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦定义了这两个文件，我们应该执行一些基本的验证，以确保这两个文件是可比较的。寻找相同的列标题可能是一种方法。然后，我们可以提供这些标题作为潜在的关键字，用户可以选择用于数据比较。</p><p id="badf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用此示例文件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/8f530421b14784bb682ba99757952fbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TYetbm3RS86a4BxYEccW_g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Screenshot of example file</figcaption></figure><p id="b1cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将构建以下屏幕:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/57178cf5fb16d837575eb944b7be4055.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zv9uEYQEQJE_G1L2w7K6fA.png"/></div></div></figure><p id="a4e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是包括输出在内的全部内容:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/8fe0a1568f87dfdfa3a8b2eb6ed0f949.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*7O_mv2u_vRSW0zZDP0NV_g.gif"/></div></div></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="6d74" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">图书馆</h1><h2 id="9287" class="nw mw it bd mx nx ny dn nb nz oa dp nf li ob oc nh lm od oe nj lq of og nl oh bi translated">构建用户界面</h2><p id="7ab0" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">为了构建 UI，我们将使用基于 Tkinter、wxPython 和 PyQT 的 PySimpleGUI 库。这段代码再简单不过了。快速偷窥:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="cc41" class="nw mw it oj b gy on oo l op oq">import PySimpleGUI as sg</span><span id="6910" class="nw mw it oj b gy or oo l op oq">supportedextensions = ['csv','xlsx', 'xlsm' ,'json']</span><span id="35be" class="nw mw it oj b gy or oo l op oq">layoutprefile = [<br/>    [sg.Text('Select two files to proceed')],<br/>    [sg.Text('File 1'), sg.InputText(), sg.FileBrowse()],<br/>    [sg.Text('File 2'), sg.InputText(), sg.FileBrowse()],<br/>    # *list1,<br/>    [sg.Output(size=(61, 5))],<br/>    [sg.Submit('Proceed'), sg.Cancel('Exit')]<br/>]</span><span id="e3c8" class="nw mw it oj b gy or oo l op oq">window = sg.Window('File Compare', layoutprefile)</span><span id="c5b9" class="nw mw it oj b gy or oo l op oq">while True:    # The Event Loop<br/>    event, values = window.read()<br/>    if event in (None, 'Exit', 'Cancel'):<br/>        secondwindow = 0<br/>        break<br/>    elif event == 'Proceed':<br/>  print('yay')</span></pre><h2 id="71cb" class="nw mw it bd mx nx ny dn nb nz oa dp nf li ob oc nh lm od oe nj lq of og nl oh bi translated">阅读文件</h2><p id="a75e" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">我们将使用著名的熊猫图书馆来阅读文件。这将允许我们快速支持 CSV、JSON 和 Excel 文件。一旦文件在数据框中，我们就可以进行必要的操作了。</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="4581" class="nw mw it oj b gy on oo l op oq">import re<br/>import pandas as pd</span><span id="8ae1" class="nw mw it oj b gy or oo l op oq">file1 = r"C:/temp/file.csv"<br/>file2 = r"C:/temp/file1.csv"</span><span id="853e" class="nw mw it oj b gy or oo l op oq"><br/>if re.findall('/.+?/.+\.(.+)',file1)[0] == 'csv':<br/> df1, df2 = pd.read_csv(file1), pd.read_csv(file2)<br/>elif re.findall('/.+?/.+\.(.+)',file1)[0] == 'json':<br/> df1, df2 = pd.read_json(file1), pd.read_json(file2)<br/>elif re.findall('/.+?/.+\.(.+)',file1)[0] in  ['xlsx', 'xlsm']:<br/> df1, df2 = pd.read_excel(file1), pd.read_excel(file2)</span></pre><p id="bd80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了从文件路径中提取扩展名，我使用了<em class="os"> re </em>库，这是 Python 的正则表达式库。正则表达式给了我们一种模式匹配和提取信息的方法。</p><div class="lv lw gp gr lx ly"><a href="https://medium.com/better-programming/introduction-to-regex-8c18abdd4f70" rel="noopener follow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">正则表达式简介</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">使用 Python 逐步介绍正则表达式</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">medium.com</p></div></div><div class="mh l"><div class="ot l mj mk ml mh mm ks ly"/></div></div></a></div><h2 id="6921" class="nw mw it bd mx nx ny dn nb nz oa dp nf li ob oc nh lm od oe nj lq of og nl oh bi translated">比较数据</h2><p id="4176" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">为了进行比较，我们将使用 DataComPy 库，它为我们提供了一个很好的比较摘要。</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/how-to-quickly-compare-data-sets-76a694f6868a"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">如何快速比较数据集</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">如何快速总结两个数据集之间的差异</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="ou l mj mk ml mh mm ks ly"/></div></div></a></div><p id="4a57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码还是非常简单:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="7bd3" class="nw mw it oj b gy on oo l op oq">compare = datacompy.Compare(<br/>    df1,<br/>    df2,<br/>    join_columns=definedkey,<br/>    abs_tol=0, #Optional, defaults to 0<br/>    rel_tol=0, #Optional, defaults to 0<br/>    df1_name='Original', #Optional, defaults to 'df1'<br/>    df2_name='New' #Optional, defaults to 'df2'<br/>)<br/>print(compare.report())</span></pre><h2 id="52b9" class="nw mw it bd mx nx ny dn nb nz oa dp nf li ob oc nh lm od oe nj lq of og nl oh bi translated">共享用户界面</h2><p id="7069" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">为了共享 UI，我们可以使用 PyInstaller。只需找到您的文件(本例中为 ComPyUI.py)并运行以下命令:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="2411" class="nw mw it oj b gy on oo l op oq">pyinstaller --onefile ComPyUI.py</span></pre></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="ce0f" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">代码</h1><p id="b87f" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">事不宜迟，只需在本地复制下面的代码，并运行它作为比较工具:</p><pre class="kj kk kl km gt oi oj ok ol aw om bi"><span id="cbee" class="nw mw it oj b gy on oo l op oq">import PySimpleGUI as sg<br/>import re, time<br/>import datacompy<br/>import pandas as pd</span><span id="b6a6" class="nw mw it oj b gy or oo l op oq">supportedextensions = ['csv','xlsx', 'xlsm' ,'json']</span><span id="e106" class="nw mw it oj b gy or oo l op oq">layoutprefile = [<br/>    [sg.Text('Select two files to proceed')],<br/>    [sg.Text('File 1'), sg.InputText(), sg.FileBrowse()],<br/>    [sg.Text('File 2'), sg.InputText(), sg.FileBrowse()],<br/>    # *list1,<br/>    [sg.Output(size=(61, 5))],<br/>    [sg.Submit('Proceed'), sg.Cancel('Exit')]<br/>]</span><span id="3c47" class="nw mw it oj b gy or oo l op oq">window = sg.Window('File Compare', layoutprefile)</span><span id="4a5b" class="nw mw it oj b gy or oo l op oq">while True:    # The Event Loop<br/>    event, values = window.read()<br/>    # print(event, values)  # debug<br/>    if event in (None, 'Exit', 'Cancel'):<br/>        secondwindow = 0<br/>        break<br/>    elif event == 'Proceed':<br/>        #do some checks if valid directories have been provided<br/>        file1test = file2test = isitago = proceedwithfindcommonkeys = None<br/>        file1, file2 = values[0], values[1]<br/>        if file1 and file2:<br/>            file1test = re.findall('.+:\/.+\.+.', file1)<br/>            file2test = re.findall('.+:\/.+\.+.', file2)<br/>            isitago = 1<br/>            if not file1test and file1test is not None:<br/>                print('Error: File 1 path not valid.')<br/>                isitago = 0<br/>            elif not file2test and file2test is not None:<br/>                print('Error: File 2 path not valid.')<br/>                isitago = 0<br/>            #both files to have the same extension<br/>            elif re.findall('/.+?/.+\.(.+)',file1) != re.findall('/.+?/.+\.(.+)',file2):<br/>                print('Error: The two files have different file extensions. Please correct')<br/>                isitago = 0<br/>            #they need to be in a list of supported extensions<br/>            elif re.findall('/.+?/.+\.(.+)',file1)[0] not in supportedextensions or re.findall('/.+?/.+\.(.+)',file2)[0] not in supportedextensions:<br/>                print('Error: File format currently not supported. At the moment only csv, xlsx, xlsm and json files are supported.')<br/>                isitago = 0<br/>            elif file1 == file2:<br/>                print('Error: The files need to be different')<br/>                isitago = 0<br/>            elif isitago == 1:<br/>                print('Info: Filepaths correctly defined.')<br/>                # check if files exist<br/>                try:<br/>                    print('Info: Attempting to access files.')<br/>                    if re.findall('/.+?/.+\.(.+)',file1)[0] == 'csv':<br/>                        df1, df2 = pd.read_csv(file1), pd.read_csv(file2)<br/>                    elif re.findall('/.+?/.+\.(.+)',file1)[0] == 'json':<br/>                        df1, df2 = pd.read_json(file1), pd.read_json(file2)<br/>                    elif re.findall('/.+?/.+\.(.+)',file1)[0] in  ['xlsx', 'xlsm']:<br/>                        df1, df2 = pd.read_excel(file1), pd.read_excel(file2)<br/>                    else:<br/>                        print('How did we get here?')<br/>                    proceedwithfindcommonkeys = 1<br/>                except IOError:<br/>                    print("Error: File not accessible.")<br/>                    proceedwithfindcommonkeys = 0<br/>                except UnicodeDecodeError:<br/>                    print("Error: File includes a unicode character that cannot be decoded with the default UTF decryption.")<br/>                    proceedwithfindcommonkeys = 0<br/>                except Exception as e:<br/>                    print('Error: ', e)<br/>                    proceedwithfindcommonkeys = 0<br/>        else:<br/>            print('Error: Please choose 2 files.')<br/>        if proceedwithfindcommonkeys == 1:<br/>            keyslist1 = [] #This will be the list of headers from first file<br/>            keyslist2 = [] #This will be the list of headers from second file<br/>            keyslist = [] #This will be the list of headers that are the intersection between the two files<br/>            formlists = [] #This will be the list to be displayed on the UI<br/>            for header in df1.columns:<br/>                if header not in keyslist1:<br/>                    keyslist1.append(header)<br/>            for header in df2.columns:<br/>                if header not in keyslist2:<br/>                    keyslist2.append(header)<br/>            for item in keyslist1:<br/>                if item in keyslist2:<br/>                    keyslist.append(item)<br/>            if len(keyslist) == 0:<br/>                print('Error: Files have no common headers.')<br/>                secondwindow = 0<br/>            else:<br/>                window.close()<br/>                secondwindow = 1<br/>                break</span><span id="8ef6" class="nw mw it oj b gy or oo l op oq">#################################################<br/># First screen completed, moving on to second one<br/>if secondwindow != 1:<br/>    exit()</span><span id="b454" class="nw mw it oj b gy or oo l op oq">#To align the three columns on the UI, we need the max len<br/>#Note: This could be made better by having the max len of each column<br/>maxlen = 0<br/>for header in keyslist:<br/>    if len(str(header)) &gt; maxlen:<br/>        maxlen = len(str(header))</span><span id="35ed" class="nw mw it oj b gy or oo l op oq">if maxlen &gt; 25:<br/>    maxlen = 25<br/>elif maxlen &lt; 10:<br/>    maxlen = 15</span><span id="6466" class="nw mw it oj b gy or oo l op oq">#we need to split the keys to four columns<br/>for index,item in enumerate(keyslist):<br/>    if index == 0: i =0<br/>    if len(keyslist) &gt;= 4 and i == 0:<br/>        formlists.append([sg.Checkbox(keyslist[i], size=(maxlen,None)),sg.Checkbox(keyslist[i+1], size=(maxlen,None)),sg.Checkbox(keyslist[i+2], size=(maxlen,None)),sg.Checkbox(keyslist[i+3], size=(maxlen,None))])<br/>        i += 4<br/>    elif len(keyslist) &gt; i:<br/>        if len(keyslist) - i - 4&gt;= 0:<br/>            formlists.append([sg.Checkbox(keyslist[i], size=(maxlen,None)),sg.Checkbox(keyslist[i+1], size=(maxlen,None)),sg.Checkbox(keyslist[i+2], size=(maxlen,None)),sg.Checkbox(keyslist[i+3], size=(maxlen,None))])<br/>            i += 4<br/>        elif len(keyslist) - i - 3&gt;= 0:<br/>            formlists.append([sg.Checkbox(keyslist[i], size=(maxlen,None)),sg.Checkbox(keyslist[i+1], size=(maxlen,None)),sg.Checkbox(keyslist[i+2], size=(maxlen,None))])<br/>            i += 3<br/>        elif len(keyslist)- i - 2&gt;= 0:<br/>            formlists.append([sg.Checkbox(keyslist[i], size=(maxlen,None)),sg.Checkbox(keyslist[i+1], size=(maxlen,None))])<br/>            i += 2<br/>        elif len(keyslist) - i - 1&gt;= 0:<br/>            formlists.append([sg.Checkbox(keyslist[i], size=(maxlen,None))])<br/>            i += 1<br/>        else:<br/>            sg.Popup('Error: Uh-oh, something\'s gone wrong!')<br/>    <br/>#The second UI<br/>layoutpostfile = [<br/>    [sg.Text('File 1'), sg.InputText(file1,disabled = True, size = (75,2))],<br/>    [sg.Text('File 2'), sg.InputText(file2,disabled = True, size = (75,2))],<br/>    #[sg.Text('Select the data key for the comparison:')],<br/>    [sg.Frame(layout=[<br/>        *formlists],title = 'Select the Data Key for Comparison',relief=sg.RELIEF_RIDGE<br/>    )],<br/>    [sg.Output(size=(maxlen*6, 20))],<br/>    [sg.Submit('Compare'), sg.Cancel('Exit')]<br/>]</span><span id="4a6e" class="nw mw it oj b gy or oo l op oq">window2 = sg.Window('File Compare', layoutpostfile)<br/>datakeydefined = 0<br/>definedkey = []</span><span id="3a7a" class="nw mw it oj b gy or oo l op oq">while True:  # The Event Loop<br/>    event, values = window2.read()<br/>    # print(event, values)  # debug<br/>    if event in (None, 'Exit', 'Cancel'):<br/>        break<br/>    elif event == 'Compare':<br/>        definedkey.clear()<br/>        file1test = file2test = isitago = None<br/>        #print('Event', event, '\n', 'Values', values)<br/>        for index, value in enumerate(values):<br/>            if index not in [0,1]:<br/>                if values[index] == True: <br/>                    datakeydefined = 1<br/>                    definedkey.append(keyslist[index-2])<br/>            #print(index, values[index], keyslist[index-2])<br/>        if len(definedkey) &gt; 0:<br/>            compare = datacompy.Compare(<br/>                    df1,<br/>                    df2,<br/>                    join_columns=definedkey,  #You can also specify a list of columns eg ['policyID','statecode']<br/>                    abs_tol=0, #Optional, defaults to 0<br/>                    rel_tol=0, #Optional, defaults to 0<br/>                    df1_name='Original', #Optional, defaults to 'df1'<br/>                    df2_name='New' #Optional, defaults to 'df2'<br/>            )<br/>            print('########################################################################################################')<br/>            print(compare.report())<br/>        else:<br/>            print('Error: You need to select at least one attribute as a data key')</span></pre></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="7cde" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">这种解决方案的局限性</h1><p id="11f6" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">这个解决方案有相当多的限制，但它是一个可以在未来非常容易和快速地增强的解决方案。最好拥有以下物品:</p><ol class=""><li id="493f" class="ov ow it lb b lc ld lf lg li ox lm oy lq oz lu pa pb pc pd bi translated">如果定义 CSV 定界符而不是现在假设一个'，'就好了</li><li id="1150" class="ov ow it lb b lc pe lf pf li pg lm ph lq pi lu pa pb pc pd bi translated">窗口的大小太不稳定，使用很长的标题会产生问题</li><li id="13fb" class="ov ow it lb b lc pe lf pf li pg lm ph lq pi lu pa pb pc pd bi translated">使系统能够记住基于文件名的按键选择</li><li id="d7e4" class="ov ow it lb b lc pe lf pf li pg lm ph lq pi lu pa pb pc pd bi translated">完整的目录核对</li></ol><p id="ed27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我相信还有很多，但是请让我知道你的想法！</p></div></div>    
</body>
</html>