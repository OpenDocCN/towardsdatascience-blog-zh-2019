<html>
<head>
<title>EDA on Graphs via networkx</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于网络的图形 EDA x</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/eda-on-graphs-via-networkx-a79d2684da53?source=collection_archive---------20-----------------------#2019-12-11">https://towardsdatascience.com/eda-on-graphs-via-networkx-a79d2684da53?source=collection_archive---------20-----------------------#2019-12-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="77f8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用 networkx 库探索生态小区生境分类学</h2></div><h1 id="4e74" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">介绍</h1><p id="aa13" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">探索性数据分析(EDA)旨在发现数据中隐藏的结构。基于手头的数据，EDA 可能包括特征和标签的相关性分析、样本的分布分析、散点图、直方图等等。EDA 对于从建模和预测阶段可以利用的数据中获得洞察力非常有用。</p><p id="3959" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">从某种意义上说，图是一种特殊的数据结构，因为已知某些样本(相邻顶点)在某种程度上更相关。与大多数 ML 数据集不同，图可能没有明确的特征。在这种情况下，发现图中的结构变得更加重要，因为这是唯一的事情。</p><p id="b3f4" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在这个故事中，我们将考虑细菌栖息地的分类。作为语义搜索项目的一部分，我和赛仑·帕拉尔对这个分类法很感兴趣。个体生态位是细菌可以生存的环境层次。个体生境通过定义栖息地(顶点)之间的<em class="md">关系来指定层次，这是数据中唯一的交互类型。然而，每个顶点都与一个在本体中标识它们的 ID 和一个映射到真实名称的名称相关联。在 BioNLP 任务下共享了 OntoBiotope，其 2016 版可以在<a class="ae me" href="http://2016.bionlp-st.org/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</em></p><h1 id="4932" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">图表统计</h1><p id="e4ba" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我们对生态小区进行处理以创建一个无向图，其中两个节点是相邻的，如果它们之间有一个<em class="md">关系。让我们先看看有多少个节点和边。注意，我们将 networkx 图存储在一个名为<em class="md"> graph 的变量中。</em></em></p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="eca3" class="mo kj it mk b gy mp mq l mr ms">print(graph.number_of_nodes(), graph.number_of_edges())<br/>2320, 2528</span></pre><p id="8e6c" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">由于个体生态位是一种分类学，因此预期边的数量少于具有这么多节点的常规图。为了分析图形结构，让我们计算深度、直径和最大团大小。为了计算深度，我们计算从根到每个其他节点的最短路径，并找到最大最短路径距离。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="7d4b" class="mo kj it mk b gy mp mq l mr ms">depths_graph = nx.shortest_path_length(graph, source='OBT:000000')<br/>depth = max(depths_graph.values())<br/>diameter = nx.algorithms.distance_measures.diameter(graph)<br/>max_clique_size = nx.algorithms.clique.graph_clique_number(graph)</span><span id="9c0f" class="mo kj it mk b gy mt mq l mr ms">print(depth, diameter, max_clique_size)<br/>10, 20, 3</span></pre><p id="7138" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">我们看到离根最远的节点距离为 10，而最远的节点对距离为 20。假设我们的图有一个树状结构，直径是深度的两倍是一个普通的结果。另一方面，我们可以看到它不是一棵树，因为它包含一个 3 的团，这是树的一个禁忌结构。下面我们可以看到一个来自个体生态位的 3-集团。</p><figure class="mf mg mh mi gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi mu"><img src="../Images/a9e961225cd7be17e52902007db6e1f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T5f7aDd_t5-sA8yAFyxeVA.png"/></div></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">A 3-clique from OntoBiotope.</figcaption></figure><h1 id="d2f2" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">节点统计</h1><p id="a16d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">看了一下整个图的结构，现在让我们单独考虑节点。中心性度量经常用于描述节点的特征。尽管有许多变体，我们将考虑唯一的度和特征值中心性，因为大多数变体的行为相似。多亏了 networkx，计算这些分数非常简单。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="c0c7" class="mo kj it mk b gy mp mq l mr ms">degree_cent = nx.degree_centrality(graph)<br/>eigen_cent = nx.eigenvector_centrality(graph)</span></pre><p id="1d2a" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">当我们分析结果时，我们看到<em class="md">实验介质</em>在两种情况下都具有最高的中心性分数。这个节点位于深度 1，并且与许多栖息地相邻，因为它有一个相当全面的定义。</p><h1 id="fd55" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">改进</h1><p id="9d77" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">基于我们目前的分析，我们可以说，生态小区是一个具有小集团和很少中心节点的松散连接的图。因此，我们需要丰富其内容，以获得更多的洞察力。为此，我们利用分类提供的 PubMed 摘要。在提供的摘要中，对这些栖息地的提及已经被注释。</p><blockquote class="ng"><p id="577e" class="nh ni it bd nj nk nl nm nn no np lv dk translated">假设在抽象中共存的栖息地是相关的，我们可以在图中使它们相邻。</p></blockquote><p id="3ee0" class="pw-post-body-paragraph la lb it lc b ld nq ju lf lg nr jx li lj ns ll lm ln nt lp lq lr nu lt lu lv im bi translated">当我们使用这个假设时，我们在现有的图中引入了更多的边，并创建了新的关系。我们现在可以重新计算之前的统计数据。</p><pre class="mf mg mh mi gt mj mk ml mm aw mn bi"><span id="c7ac" class="mo kj it mk b gy mp mq l mr ms">depths_graph = nx.shortest_path_length(enriched_graph, source='OBT:000000')<br/>depth = max(depths_graph.values())<br/>diameter = nx.algorithms.distance_measures.diameter(enriched_graph)<br/>max_clique_size = nx.algorithms.clique.graph_clique_number(enriched_graph)</span><span id="460e" class="mo kj it mk b gy mt mq l mr ms">print(enriched_graph.number_of_edges, depth, diameter, max_clique_size)<br/>3610, 10, 16, 15</span></pre><p id="cfc3" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">这里我们看到边的数量显著增加。相应地，直径从 20 缩小到 16，集团数量从 3 增加到 15，这是一个巨大的变化！另一方面，树的深度仍然相同，这意味着从根到叶子的距离没有改变。然而，根据直径的减小，<strong class="lc iu"> <em class="md">我们可以得出结论，新的路径是由树叶之间的共现关系引入的。</em> </strong></p><figure class="mf mg mh mi gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nv"><img src="../Images/35f2d764f352c743bde70a58fa173a0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hxPFkydz0Coze81XrQ2IOQ.png"/></div></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">The larges clique in the enriched OntoBiotope</figcaption></figure><p id="c1f5" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">现在让我们观察中心性的变化。我们一起绘制两个图的度和特征值中心性的直方图。我们采用中心性分数的对数来处理小数字。</p><figure class="mf mg mh mi gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nw"><img src="../Images/2b613db6c11b0390950b655653e56177.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LLDvTtYToIs4nVFPt8bMAQ.png"/></div></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">Degree centrality histograms of the original and enriched graphs.</figcaption></figure><p id="1454" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">在上面的直方图中，我们看到富集导致了向高中心性节点的转移。<strong class="lc iu"> <em class="md">这意味着某些节点在 PubMed 摘要中比其余的</em> </strong>被提及得多。因此，低中心性节点的频率降低。</p><figure class="mf mg mh mi gt mv gh gi paragraph-image"><div role="button" tabindex="0" class="mw mx di my bf mz"><div class="gh gi nx"><img src="../Images/b2e83db12b6e61ad1ddcc6dd05f75471.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BLD2bMRo_kb1WcudBohCwA.png"/></div></div><figcaption class="nc nd gj gh gi ne nf bd b be z dk">Eigenvalue centrality histograms of the original and enriched graphs.</figcaption></figure><p id="e90f" class="pw-post-body-paragraph la lb it lc b ld lw ju lf lg lx jx li lj ly ll lm ln lz lp lq lr ma lt lu lv im bi translated">特征值中心性直方图具有不同于度中心性的特征。我们观察到，在初始图中，中心性主要集中在同一个箱中。使用浓缩物，将这群人分散到两边。<strong class="lc iu"> <em class="md">因此，富集在数据中创造了一种方差，这种方差可以被机器学习模型所利用。</em>T13】</strong></p><h1 id="ae21" class="ki kj it bd kk kl km kn ko kp kq kr ks jz kt ka ku kc kv kd kw kf kx kg ky kz bi translated">结论</h1><p id="eebd" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在这个故事中，我们从几个不同的方面分析了生物群落分类。在分析过程中，我们观察到该图的信息并不丰富，我们应用了基于文本共现的丰富。重新计算统计数据，我们已经看到中心性和扩大的子结构(如 15 人集团)的方差增加。请注意，EDA 是一个永无止境的迭代过程，它为建模阶段提供信息，也被建模阶段提供信息。如果你有兴趣，可以从<a class="ae me" href="https://github.com/rizaozcelik/bionlp-shared-task-entity-normalization" rel="noopener ugc nofollow" target="_blank">这个回购</a>开始关注我们项目的状态。</p><h2 id="9df7" class="mo kj it bd kk ny nz dn ko oa ob dp ks lj oc od ku ln oe of kw lr og oh ky oi bi translated">参考</h2><p id="e8e3" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">[1]http://2016.bionlp-st.org/<a class="ae me" href="http://2016.bionlp-st.org/" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>