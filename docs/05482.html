<html>
<head>
<title>Creating a Pop Music Generator with the Transformer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用变压器创建流行音乐发生器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-a-pop-music-generator-with-the-transformer-5867511b382a?source=collection_archive---------4-----------------------#2019-08-13">https://towardsdatascience.com/creating-a-pop-music-generator-with-the-transformer-5867511b382a?source=collection_archive---------4-----------------------#2019-08-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><p id="715c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks">TLDR；训练一个深度学习模型生成流行音乐。你可以在这里用我们预先训练好的模型—</em><a class="ae kt" href="http://musicautobot.com" rel="noopener ugc nofollow" target="_blank"><em class="ks">【http://musicautobot.com】</em></a><em class="ks">作曲。源代码在这里可以找到—</em><a class="ae kt" href="https://github.com/bearpelican/musicautobot" rel="noopener ugc nofollow" target="_blank"><em class="ks">https://github.com/bearpelican/musicautobot</em></a><em class="ks">。</em></p><p id="d04a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在这篇文章中，我将解释如何训练一个深度学习模型来生成流行音乐。这是“构建人工智能音乐生成器”系列的第一部分。</p><blockquote class="ku kv kw"><p id="2c52" class="ju jv ks jw b jx jy jz ka kb kc kd ke kx kg kh ki ky kk kl km kz ko kp kq kr ij bi translated"><em class="iq">快速提示:有几种方法可以生成音乐。非平凡的方式是生成实际的声波(</em><a class="ae kt" href="https://deepmind.com/blog/wavenet-generative-model-raw-audio/" rel="noopener ugc nofollow" target="_blank"><em class="iq">wave net</em></a><em class="iq">，</em><a class="ae kt" href="https://arxiv.org/abs/1906.01083" rel="noopener ugc nofollow" target="_blank"><em class="iq">MelNet</em></a><em class="iq">)。另一种是为乐器演奏生成乐谱(类似于乐谱)。我将解释如何做到后者。</em></p></blockquote><h1 id="15eb" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">我来这里只是为了目的地…</h1><p id="9f93" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated">好吧！这里有一些很酷的音乐生成的例子给你。</p><p id="bf68" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我建了一个网站:MusicAutobot。它由我们将在本文中构建的音乐模型驱动。</p><p id="7312" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae kt" href="https://musicautobot.com/#/predict/f00bd0f1289b5f5afd74229569fa74ef" rel="noopener ugc nofollow" target="_blank">歌曲#1(灵感来自里奇·汪妮——拉·邦巴)</a></p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi md"><img src="../Images/9c3054a1d9b27bab3aaea55cd5977c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WN9gVOmelwwjggk5b9imeQ.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Red Notes are generated by the model. Green/White notes are the original</figcaption></figure><p id="d091" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae kt" href="https://musicautobot.com/#/predict/e06828d196b2d5182cd459c273d609ac" rel="noopener ugc nofollow" target="_blank">歌曲#2(灵感来自帕切尔贝尔——D 中的佳能)</a></p><figure class="me mf mg mh gt mi gh gi paragraph-image"><a href="https://musicautobot.com/#/predict/e06828d196b2d5182cd459c273d609ac"><div class="gh gi mt"><img src="../Images/1e9a2b6dd6a7c530bd7027bce33a500d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WVQz-mMurG9mVLZkIfTcNg.png"/></div></a><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Feel free to press the red button and generate your own music!</figcaption></figure><p id="4db9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks">注:MusicAutobot 最好在桌面上观看。对于那些手机用户，你只需要听下面的。</em></p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Generated Part starts at 0:03</figcaption></figure><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="mu mv l"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Generated Part starts at 0:06</figcaption></figure><h1 id="3426" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">背景</h1><p id="e07e" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated"><a class="ae kt" href="http://jalammar.github.io/illustrated-transformer/" rel="noopener ugc nofollow" target="_blank"> Transformer </a>架构是 NLP 的最新进展，它在生成文本方面产生了惊人的<a class="ae kt" href="https://transformer.huggingface.co/" rel="noopener ugc nofollow" target="_blank">结果</a>。与以前的语言模型相比，变形金刚训练速度更快，长期记忆能力更强。给它几个词，它就能继续生成比这更有意义的整段文字。</p><p id="d9f5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">自然地，这看起来非常适合创作音乐。为什么不给它一些音符，让它产生一段旋律呢？</p><p id="ed0d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这正是我们将要做的。我们将使用一个变压器来预测音符！</p><p id="a60c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这是我们正在尝试做的事情的高层次图表:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mw"><img src="../Images/0f3177e418062d5a4c31450dbf5e5759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pmRsrJ18X12WBc_zfXsDiA.png"/></div></div></figure><h1 id="8ae7" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">用…音乐数据训练变压器</h1><p id="28f2" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated">我们正在做的，是为音乐建立一个序列模型。取一个输入序列并预测一个目标序列。无论是时间序列预测、音乐还是文本生成，构建这些模型都可以归结为两个步骤:</p><p id="8cf9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> <em class="ks">第一步。</em> </strong>将数据转换成一系列令牌</p><p id="71dd" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">第二步<em class="ks">。</em> </strong>建立并训练模型以预测下一个令牌</p><p id="a726" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在两个 python 库<a class="ae kt" href="https://web.mit.edu/music21/" rel="noopener ugc nofollow" target="_blank"> music21 </a>和<a class="ae kt" href="https://docs.fast.ai/" rel="noopener ugc nofollow" target="_blank"> fastai </a>的帮助下，我们构建了一个简单的库<a class="ae kt" href="https://github.com/bearpelican/musicautobot/tree/master/musicautobot" rel="noopener ugc nofollow" target="_blank"> musicautobot </a>，使得这两个步骤变得相对容易。</p><h2 id="a1c2" class="mx lb iq bd lc my mz dn lg na nb dp lk kf nc nd lo kj ne nf ls kn ng nh lw ni bi translated"><strong class="ak">第一步。</strong></h2><blockquote class="ku kv kw"><p id="4bb8" class="ju jv ks jw b jx jy jz ka kb kc kd ke kx kg kh ki ky kk kl km kz ko kp kq kr ij bi translated"><em class="iq">将数据(音乐文件)转换成符号序列(音符)</em></p></blockquote><p id="98b7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">拿一张<em class="ks">钢琴单</em>看起来像这样:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi nj"><img src="../Images/8d8c33f46f60d8b6caf89634a9d0d185.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gnrXxip07GLClTX6cC84qg.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Piano Score</figcaption></figure><p id="3703" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后把符号化成这样:</p><pre class="me mf mg mh gt nk nl nm nn aw no bi"><span id="cdb7" class="mx lb iq nl b gy np nq l nr ns">xxbos xxpad n72 d2 n52 d16 n48 d16 n45 d16 xxsep d2 n71 d2 xxsep d2 n71 d2 xxsep d2 n69 d2 xxsep d2 n69 d2 xxsep d2 n67 d4 xxsep d4 n64 d1 xxsep d1 n62 d1</span></pre><p id="7720" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用 musicautobot，您可以这样做:</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="nt mv l"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">More examples in this <a class="ae kt" href="https://github.com/bearpelican/musicautobot/blob/master/notebooks/data_encoding/MusicItem-Transforms.ipynb" rel="noopener ugc nofollow" target="_blank">Notebook</a></figcaption></figure><p id="a7e7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks">注:musicautobot 在后台使用 music21 来加载音乐文件和令牌化。这种转换的细节将在下一篇文章中介绍。</em></p><h2 id="2d6f" class="mx lb iq bd lc my mz dn lg na nb dp lk kf nc nd lo kj ne nf ls kn ng nh lw ni bi translated"><strong class="ak">第二步。</strong></h2><blockquote class="ku kv kw"><p id="a7c9" class="ju jv ks jw b jx jy jz ka kb kc kd ke kx kg kh ki ky kk kl km kz ko kp kq kr ij bi translated">构建并训练模型以预测下一个令牌。</p></blockquote><p id="1f3d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">fastai 有一些惊人简单的<a class="ae kt" href="https://github.com/fastai/fastai/blob/master/examples/train_wt103.py#L59" rel="noopener ugc nofollow" target="_blank">训练代码</a>用于训练语言模型。</p><p id="c358" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果我们修改数据加载来处理音乐文件而不是文本，我们可以重用大部分相同的代码。</p><p id="94ac" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">训练我们的音乐模型现在就像这样简单:</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="nt mv l"/></div></figure><p id="079a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks">去试试这个</em> <a class="ae kt" href="https://github.com/bearpelican/musicautobot/blob/master/notebooks/music_transformer/Train.ipynb" rel="noopener ugc nofollow" target="_blank"> <em class="ks">笔记本</em> </a> <em class="ks">来训练自己吧！</em></p><h1 id="cc66" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">是的，就是这样。</h1><p id="409b" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated">现在让我们看看它是否真的有效。</p><p id="cbb4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在下一部分，我将使用我在一个大型 MIDI 数据库上预先训练了几天的模型。你可以在这里直接玩预先训练好的模型<a class="ae kt" href="https://github.com/bearpelican/musicautobot/blob/master/notebooks/music_transformer/Generate.ipynb" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="a382" class="mx lb iq bd lc my mz dn lg na nb dp lk kf nc nd lo kj ne nf ls kn ng nh lw ni bi translated">预测流行音乐</h2><p id="613c" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated">第一步:创建一小段笔记:</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="nt mv l"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Snippet from <a class="ae kt" href="https://github.com/bearpelican/musicautobot/blob/master/notebooks/music_transformer/Generate.ipynb" rel="noopener ugc nofollow" target="_blank">here</a></figcaption></figure><p id="3455" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks">看起来是这样的:</em></p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/607278ff318f0a0639a7fe9bba4413e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*iH1iInhjECq4jr6KJD4v4Q.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">First few notes of La Bamba — sounds like <a class="ae kt" href="https://soundcloud.com/andrew-shaw-27/la-bamba-snippet" rel="noopener ugc nofollow" target="_blank">this</a></figcaption></figure><p id="ef5a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">第二步:</strong>把它喂给我们的模特:</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="nt mv l"/></div></figure><pre class="me mf mg mh gt nk nl nm nn aw no bi"><span id="611c" class="mx lb iq nl b gy np nq l nr ns">Hyperparameters:</span><span id="6b43" class="mx lb iq nl b gy nv nq l nr ns"><a class="ae kt" href="https://cs.stackexchange.com/questions/79241/what-is-temperature-in-lstm-and-neural-networks-generally" rel="noopener ugc nofollow" target="_blank">Temperature</a> adjusts how "creative" the predictions will be. You can control the amount of variation in the pitch and/or rhythm.</span><span id="78d8" class="mx lb iq nl b gy nv nq l nr ns"><a class="ae kt" href="https://twitter.com/Thom_Wolf/status/1124263860104507393" rel="noopener ugc nofollow" target="_blank">TopK/TopP</a> - filters out the lowest probability tokens. It makes sure outliers never get chosen, even if they have the tiniest bit of probability</span></pre><h2 id="7789" class="mx lb iq bd lc my mz dn lg na nb dp lk kf nc nd lo kj ne nf ls kn ng nh lw ni bi translated">瞧啊。</h2><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi nw"><img src="../Images/dec41703b055a3b2acdb2740fdf57894.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BdKHICyNVEueiymNxDn_8A.png"/></div></div></figure><p id="89b0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks">听起来是这样的:</em></p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="46fa" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这其实是我得到的第一个结果，但副作用可能会有所不同。你可以在这里创造你自己的变化<a class="ae kt" href="https://musicautobot.com/#/song/aeee134e4034e5f98bb630c56d2f7f8c" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="81ba" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">真正的考验:流行音乐理论</h1><p id="4192" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated">据 HookTheory 的牛逼人士称，现代音乐中最流行的和弦进行是 I-V-VI-IV 和弦。</p><p id="5370" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你可能以前听过。很多流行歌曲中都有。</p><p id="7633" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks">喜欢每一个。单身。同ＰＯＰＵＬＡＴIＯＮ宋。</em></p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="nx mv l"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">All these songs use the I-V-vi-IV chord progression</figcaption></figure><h2 id="db74" class="mx lb iq bd lc my mz dn lg na nb dp lk kf nc nd lo kj ne nf ls kn ng nh lw ni bi translated">构建和弦</h2><p id="0f9d" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated">让我们测试我们的模型，看看它是否能识别这个和弦进行。我们将输入前三个和弦“I — V — vi”，看看它是否能预测“IV”和弦。</p><p id="f323" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">以下是你如何用音乐创作前三个和弦 21:</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="nt mv l"/></div></figure><p id="631c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">看起来是这样的:[C-E-G]——[G-B-D]——[A-C-E]</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/0d70d3effe4bac635240af2b523d1f14.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*f_W7iDYXIBJtkzAfRg4sXw.png"/></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Model Input: First 3 chords (I-V-vi)</figcaption></figure><h1 id="3e1f" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">预测“IV”和弦</h1><p id="7bc1" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated">现在，我们把这些和弦输入我们的模型来预测下一个:</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="nt mv l"/></div></figure><p id="4d51" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">以下是我们得到的结果(包括 3 个输入和弦):</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi nz"><img src="../Images/376a83da9afd63e149eeab682e437cdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tBG01ZvgWUbu15dvuL8wQQ.png"/></div></div><figcaption class="mp mq gj gh gi mr ms bd b be z dk">Model predicted the final chord — IV</figcaption></figure><p id="32e9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">万岁。该模型预测了音符[F-A-C]——也就是“IV”和弦。</p><p id="45ee" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这正是我们希望它预测的。看起来我们的音乐模型能够遵循基本的音乐理论，制作每一首流行歌曲！至少是和弦。</p><h2 id="affb" class="mx lb iq bd lc my mz dn lg na nb dp lk kf nc nd lo kj ne nf ls kn ng nh lw ni bi translated">自己测试一下</h2><p id="1a64" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated">不要只相信我的话。在<a class="ae kt" href="https://musicautobot.com/#/predict/afbaeb409dcdd02beed4465e9b708ddc" rel="noopener ugc nofollow" target="_blank">音乐机器人</a>上试试吧:</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><a href="https://musicautobot.com/#/predict/afbaeb409dcdd02beed4465e9b708ddc"><div class="gh gi mt"><img src="../Images/f501fcb7c45c23c854c150936ff020d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cipVPVW731oBaJWMvG7L-Q.png"/></div></a></figure><p id="0092" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">你所要做的就是按红色按钮。</p><p id="7de4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks">注:10 次中有 8 次，你会得到一个“IV”和弦或者它的一个</em> <a class="ae kt" href="https://musicautobot.com/#/predict/4f77b4b9bf6323ebf3c4d83c2fdc94a3" rel="noopener ugc nofollow" target="_blank"> <em class="ks">转位</em> </a> <em class="ks">。我不能保证确定的结果。只有概率。</em></p><h2 id="7862" class="mx lb iq bd lc my mz dn lg na nb dp lk kf nc nd lo kj ne nf ls kn ng nh lw ni bi translated">这就是全部了！</h2><p id="e4be" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated">现在你知道了训练一个音乐模型的基本步骤。</p><p id="43a0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这篇文章中的所有代码都可以在这里找到:<a class="ae kt" href="https://github.com/bearpelican/musicautobot" rel="noopener ugc nofollow" target="_blank">https://github.com/bearpelican/musicautobot</a></p><p id="2596" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">使用我们刚刚建立的模型播放和生成歌曲:<br/><a class="ae kt" href="http://musicautobot.com" rel="noopener ugc nofollow" target="_blank">http://musicautobot.com</a><br/><em class="ks">^这些是实时预测，请耐心等待！</em></p><h1 id="daae" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">接下来:更深的潜水和更深的模型</h1><p id="3649" class="pw-post-body-paragraph ju jv iq jw b jx ly jz ka kb lz kd ke kf ma kh ki kj mb kl km kn mc kp kq kr ij bi translated">我可能忽略了一些细节。还有呢！</p><p id="d143" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae kt" href="https://medium.com/@andrew.t.shaw/practical-tips-for-training-a-music-model-755c62560ec2" rel="noopener"> <strong class="jw ir">第二部分。训练音乐模型的实用技巧</strong></a>——深入研究音乐编码和训练——它将涵盖我刚刚忽略的所有细节。</p><p id="4b11" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae kt" href="https://medium.com/@andrew.t.shaw/a-multitask-music-model-with-bert-transformer-xl-and-seq2seq-3d80bd2ea08e" rel="noopener"> <strong class="jw ir">第三部分。建立一个多任务音乐模型</strong></a><em class="ks">——</em>训练一个超级酷的音乐模型，它可以协调，生成旋律，以及混音歌曲。下一个令牌预测是如此…基本。</p><p id="dd4c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae kt" href="https://medium.com/@andrew.t.shaw/how-to-remix-the-chainsmokers-with-a-music-bot-6b920359248c" rel="noopener"> <strong class="jw ir">第四部分。使用一个音乐机器人来重新混合链烟</strong></a>——我们将使用 musicautobot 在 Ableton 重新混合一个 EDM drop。仅用于纯粹的娱乐目的。</p><blockquote class="ku kv kw"><p id="0f9a" class="ju jv ks jw b jx jy jz ka kb kc kd ke kx kg kh ki ky kk kl km kz ko kp kq kr ij bi translated">特别感谢<a class="ae kt" href="https://www.thehim.com/" rel="noopener ugc nofollow" target="_blank">耶鲁安·克斯滕</a>和<a class="ae kt" href="https://www.fast.ai/" rel="noopener ugc nofollow" target="_blank">杰瑞米·霍华德</a>的指导，<a class="ae kt" href="https://medium.com/@southparkcommons" rel="noopener">南方公园公地</a>和<a class="ae kt" href="https://www.palapavc.com/" rel="noopener ugc nofollow" target="_blank">帕拉帕维克</a>的支持。</p></blockquote></div></div>    
</body>
</html>