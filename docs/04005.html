<html>
<head>
<title>GitHub User insights using GitHub API — Data Collection and Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 GitHub API 的 GitHub 用户洞察—数据收集和分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/github-user-insights-using-github-api-data-collection-and-analysis-5b7dca1ab214?source=collection_archive---------8-----------------------#2019-06-24">https://towardsdatascience.com/github-user-insights-using-github-api-data-collection-and-analysis-5b7dca1ab214?source=collection_archive---------8-----------------------#2019-06-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bbd7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">探索 GitHub API</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/477bb6090f77b7f65fe50f3e559c3fce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*agmLGQcMjV36GGbs"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@yancymin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Yancy Min</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="eb32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我使用 GitHub 页面时，我决定在上面放一些关于我的 GitHub 项目的统计数据。因此，我决定使用 GitHub 自己的 API 来获得洞察力。因为这对其他人可能也有用，所以我决定将它作为一个项目创建并发布在 GitHub 上。查看下面的存储库:</p><p id="874c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/kb22/GitHub-User-Insights-using-API" rel="noopener ugc nofollow" target="_blank">https://github.com/kb22/GitHub-User-Insights-using-API</a></p><p id="ba1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个项目有两个部分:</p><ol class=""><li id="470c" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><strong class="lb iu">数据收集</strong>——我使用 GitHub 的 API，使用我的凭证获取我的存储库和一些关于它们的关键信息。</li><li id="7bad" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">数据分析</strong>——利用上面收集的数据，我从数据中得出一些见解。</li></ol><h2 id="9b91" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">您也可以将该项目用于您自己的数据收集。</h2><p id="fed3" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">将您的凭证添加到文件<code class="fe nh ni nj nk b">credentials.json</code>中。如果您的用户名是<code class="fe nh ni nj nk b">userABC</code>，密码是<code class="fe nh ni nj nk b">passXYZ</code>，那么 json 文件应该是这样的:</p><pre class="kj kk kl km gt nl nk nm nn aw no bi"><span id="9cc5" class="mj mk it nk b gy np nq l nr ns">{ <br/>  "username": "userABC",<br/>  "password": "passXYZ"<br/>}</span></pre><p id="42f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦对 json 文件进行了更改，保存该文件。然后，只需运行文件<code class="fe nh ni nj nk b">get_github_data.py</code>从您的个人资料中获取数据，并将其保存到文件<code class="fe nh ni nj nk b">repos_info.csv</code>和<code class="fe nh ni nj nk b">commits_info.csv</code>。使用以下命令运行 Python 文件:</p><pre class="kj kk kl km gt nl nk nm nn aw no bi"><span id="1284" class="mj mk it nk b gy np nq l nr ns">python <!-- -->get_github_data.py</span></pre><h1 id="6c7e" class="nt mk it bd ml nu nv nw mo nx ny nz mr jz oa ka mu kc ob kd mx kf oc kg na od bi translated">数据收集</h1><h2 id="3c8e" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">导入库和凭据</h2><p id="9af6" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我首先将我的凭证保存在<code class="fe nh ni nj nk b">credentials.json</code>文件中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="3da5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在读取凭证文件后，我使用用户名和密码创建了用于 GitHub API 认证的<code class="fe nh ni nj nk b">authentication</code>变量。在访问我们自己的帐户时进行身份验证允许我们每小时打 5000 个电话。</p><h2 id="c227" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">用户信息</h2><p id="986e" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我将使用<code class="fe nh ni nj nk b">https://api.github.com/users/&lt;USERNAME&gt;</code> API 为我的帐户获取数据。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="d5b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">回应中有几个关键。从 json 中，我将提取用户信息，如<code class="fe nh ni nj nk b">name</code>、<code class="fe nh ni nj nk b">location</code>、<code class="fe nh ni nj nk b">email</code>、<code class="fe nh ni nj nk b">bio</code>、<code class="fe nh ni nj nk b">public_repos</code>和<code class="fe nh ni nj nk b">public gists</code>。我还会将一些 URL 放在手边，包括<code class="fe nh ni nj nk b">repos_url</code>、<code class="fe nh ni nj nk b">gists_url</code>和<code class="fe nh ni nj nk b">blog</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="641a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在撰写本文时，我有 36 个公共存储库和 208 个公共 gists。</p><h2 id="7277" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">仓库</h2><p id="ea58" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我现在将使用<code class="fe nh ni nj nk b">repos_url</code>来获取所有的存储库。然而，该 url 将每批的最大存储库数量限制在 30 个。因此，我必须处理它。</p><p id="9e70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我调用端点，如果返回的存储库数量是 30，这意味着可能有更多的存储库，我应该检查下一页。我在 API 中添加了一个名为<code class="fe nh ni nj nk b">page</code>的参数，其值设置为 2，3，4…基于我所指的页面。如果返回的存储库小于 30，这意味着没有更多的存储库，我结束循环。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="076d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为我有 36 个存储库，所以我能够在两个 API 调用中获取它们并将结果保存在<code class="fe nh ni nj nk b">repos_data</code>中。</p><p id="6f4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了获得更多的信息，我不得不看一下回复。所以，我检查了第一个存储库信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="0250" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们所看到的，每个存储库都有很多信息。</p><p id="9f9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我决定为每个存储库选择以下内容:<br/> 1。id:存储库的唯一 id。<br/> 2。名称:存储库的名称。<br/> 3。描述:存储库的描述。<br/> 4。created_at:首次创建存储库的时间和日期。<br/> 5。updated_at:上次更新存储库的时间和日期。<br/> 6。登录:存储库所有者的用户名。<br/> 7。许可证:许可证类型(如果有)。<br/> 8。has_wiki:一个布尔值，表示存储库是否有 wiki 文档。<br/> 9。forks_count:存储库的总分叉数。<br/> 10。open_issues_count:存储库中打开的问题总数。<br/> 11。stargazers_count:储存库中的恒星总数。<br/> 12。watchers_count:监视存储库的用户总数。<br/> 13。url:存储库的 url。<br/> 14。commits_url:存储库中所有提交的 url。15。languages_url:存储库中所有语言的 url。</p><blockquote class="og oh oi"><p id="f062" class="kz la oj lb b lc ld ju le lf lg jx lh ok lj lk ll ol ln lo lp om lr ls lt lu im bi translated">对于提交 url，我删除了大括号内的结束值(包括大括号)。我自己从存储库 url 创建了 languages_url。</p></blockquote><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="81dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据框架<code class="fe nh ni nj nk b">repos_df</code>现在有了我需要的所有存储库信息。然而，我想更进一步，决定提取这里的所有语言，并将其附加到 dataframe 中。</p><p id="5766" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个存储库的语言可以有多个值，所以我决定以逗号分隔列表的形式组合所有语言。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="c1e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成后，我将数据帧保存到一个文件<code class="fe nh ni nj nk b">repos_info.csv</code>。</p><h2 id="c4a7" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">承诺</h2><p id="589c" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我还可以访问每个存储库的提交 url。我决定可以收集每个存储库的提交，并将它们保存到自己的文件中。</p><p id="409d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像 repositories API 一样，commits API 也被限制为一次调用只能提交 30 次。因此，使用与使用<code class="fe nh ni nj nk b">page</code>参数相同的技术，我检索了所有提交。我看了一下 json 的回复。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="f8ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于每次提交，我保存了 git 提交所属的存储库 Id、提交的 sha 值、提交的日期和提交的消息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div></figure><p id="3ad4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将 dataframe 数据保存到文件<code class="fe nh ni nj nk b">commits_info.csv</code>。</p><h1 id="b51c" class="nt mk it bd ml nu nv nw mo nx ny nz mr jz oa ka mu kc ob kd mx kf oc kg na od bi translated">数据分析</h1><p id="f72d" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">既然有了完整的数据，我决定从这些数据中得出一些见解。</p><h2 id="54d0" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">基本分析</h2><p id="266f" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我注意到我有 36 个存储库和 408 个提交(T2)。然后我决定用<code class="fe nh ni nj nk b">describe()</code>的方法来看一看分叉、观察者、问题和星星。我注意到以下几点:</p><ol class=""><li id="a96d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">我的最大分叉数是 67，最小分叉数是 0。</li><li id="d9f7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">观察者的数量和星星的数量是成正比的。</li><li id="1162" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">我没有在任何存储库中报告过问题。</li></ol><p id="1e5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我还观察到我用过的两个最常见的提交消息是<strong class="lb iu"> Update README.md </strong>和<strong class="lb iu"> Initial commit。看来有时我确实倾向于在 GitHub 上更新自述文件，并使用它的默认消息作为提交消息。</strong></p><h2 id="7ef7" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">每个存储库的提交</h2><p id="784c" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">接下来，我想看看提交是如何在我的各种存储库中分配的。我根据存储库 id 组合了两个数据集(repos 和 commits ),并创建了一个图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/25fed4df4a969ac32d37327be986132e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cS9xo5r-cm5W3W5s9bwQRA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Commits per repository</figcaption></figure><blockquote class="oo"><p id="3809" class="op oq it bd or os ot ou ov ow ox lu dk translated">从上面的图中，我们可以清楚地看到我在<strong class="ak"> IEEE MyEvent App </strong>中获得了最大提交量，这是一个用于事件管理的 Android 应用。第二个最受关注的存储库是与 IBM 的应用数据科学顶点课程相关的存储库，名为 Coursera_Capstone。</p></blockquote><h2 id="6cf9" class="mj mk it bd ml mm oy dn mo mp oz dp mr li pa mt mu lm pb mw mx lq pc mz na nb bi translated">年度分析</h2><p id="3f5a" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">从开始做项目，推到 GitHub，已经很久了。我在 2018 年和 2019 年工作得最多，希望在年度分析中看到同样的情况。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/1da8c8bb6b97ca050ff4185d9064477b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PmapPk7wG1TFEw5-1HnLtQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Commits in each year</figcaption></figure><blockquote class="oo"><p id="a2d3" class="op oq it bd or os ot ou ov ow ox lu dk translated">尽管现在才六月，我已经完成了今年最大的承诺。第二名是 2016 年。当时我正在攻读计算机科学学士学位，我已经开始从事自己的项目，因此提交的数量很高。我预计在 2018 年的<strong class="ak">年会有更多的提交，但是我<strong class="ak">开始的比较晚，所以可能提交的总数会比较少</strong>。</strong></p></blockquote><p id="c328" class="pw-post-body-paragraph kz la it lb b lc pe ju le lf pf jx lh li pg lk ll lm ph lo lp lq pi ls lt lu im bi translated">现在让我们来分解一下 2019 年，看看我在那里是如何进步的。</p><h2 id="8237" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">2019 年月度分析</h2><p id="8bf7" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">我把一年分成几个月，并把数据可视化在柱状图上。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/114ff0524e79b2acd0583d3265fb931f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GeZzXg8sZUVnjbdYOzErpA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Commits in each month of 2019</figcaption></figure><blockquote class="oo"><p id="8763" class="op oq it bd or os ot ou ov ow ox lu dk translated">似乎我在三月达到了<strong class="ak">最大提交量。六月还有 6 天，但它已经占据了第二的位置。T21 最少的犯罪发生在一月份。</strong></p></blockquote><p id="3b45" class="pw-post-body-paragraph kz la it lb b lc pe ju le lf pf jx lh li pg lk ll lm ph lo lp lq pi ls lt lu im bi translated">让我们进一步分解 2019 年 3 月。</p><h2 id="3445" class="mj mk it bd ml mm mn dn mo mp mq dp mr li ms mt mu lm mv mw mx lq my mz na nb bi translated">2019 年 3 月每日分析</h2><p id="de2d" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">让我们看看三月份的提交历史。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/345522b79d0fdf4350caccc9223cd61a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RaWQjoJdW8pGMF9TeLS-kw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Commits in March, 2019</figcaption></figure><blockquote class="oo"><p id="7d49" class="op oq it bd or os ot ou ov ow ox lu dk translated">我在 2019 年 3 月 2 日进行了最大次数的提交。</p></blockquote><h2 id="422f" class="mj mk it bd ml mm oy dn mo mp oz dp mr li pa mt mu lm pb mw mx lq pc mz na nb bi translated">最流行的语言</h2><p id="d628" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">随着我对数据科学兴趣的增长，我使用 Python 参与了许多项目。因此，Python 将是最占优势的语言。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/0b039bf7b57dcd2a27112bf57a4d83af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TKZfa875Sahy23xP9tNwRA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Language distribution amongst all repositories</figcaption></figure><blockquote class="oo"><p id="4828" class="op oq it bd or os ot ou ov ow ox lu dk translated">我使用过各种语言，包括 HTML、CSS、C++、Java 等等。不过最常见的还是<strong class="ak"> Jupyter 笔记本</strong>。我在 Jupyter 笔记本中的代码是用 Python 3 编写的，因此 Python 是我所有项目中最常用的语言。</p></blockquote><h1 id="7217" class="nt mk it bd ml nu nv nw mo nx ny nz mr jz pl ka mu kc pm kd mx kf pn kg na od bi translated">结论</h1><p id="7cbc" class="pw-post-body-paragraph kz la it lb b lc nc ju le lf nd jx lh li ne lk ll lm nf lo lp lq ng ls lt lu im bi translated">在本文中，我讨论了为我的个人资料收集 GitHub 数据的步骤，然后使用这些数据得出见解。</p></div><div class="ab cl po pp hx pq" role="separator"><span class="pr bw bk ps pt pu"/><span class="pr bw bk ps pt pu"/><span class="pr bw bk ps pt"/></div><div class="im in io ip iq"><p id="3683" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望你喜欢这个。请分享你的想法、观点和建议。我很乐意收到你的来信。</p></div></div>    
</body>
</html>