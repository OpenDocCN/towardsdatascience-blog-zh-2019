<html>
<head>
<title>What libraries can load image in Python and what are their difference?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中有哪些库可以加载图像，它们有什么区别？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-library-can-load-image-in-python-and-what-are-their-difference-d1628c6623ad?source=collection_archive---------2-----------------------#2019-03-30">https://towardsdatascience.com/what-library-can-load-image-in-python-and-what-are-their-difference-d1628c6623ad?source=collection_archive---------2-----------------------#2019-03-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cf90" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">总结和比较。<strong class="ak"> imread() </strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/84539ea889f64f8589e8c0bca4379bf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DFIkgJ94qZ7PknUp"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Waiting for your polaroid to develop is like loading images via libraries — Photo credit: <a class="ae ky" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Spiske</a></figcaption></figure><p id="ed89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们面对计算机视觉项目时，首先需要在任何预处理之前加载图像。</p><p id="3deb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有各种各样的库可以执行<code class="fe lv lw lx ly b">imread()</code>。在这里，我想巩固加载图像的流行库和它们的区别。这篇文章将介绍:</p><ol class=""><li id="385d" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">用于加载图像的库</li><li id="8af2" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">彩色通道</li><li id="0023" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">效率</li><li id="6d07" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated"><strong class="lb iu"> Cheatsheet！</strong></li></ol><h1 id="95e8" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">用于加载图像的库</h1><p id="04c5" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">有四个库通常用于加载图像。</p><ul class=""><li id="e66e" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu nk mf mg mh bi translated">Matplotlib — <code class="fe lv lw lx ly b">plt.imread()</code></li><li id="1054" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu nk mf mg mh bi translated">OpenCV — <code class="fe lv lw lx ly b">cv2.imread()</code></li><li id="ee7b" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu nk mf mg mh bi translated">枕头— <code class="fe lv lw lx ly b">Image.open()</code></li><li id="3a92" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu nk mf mg mh bi translated">scikit-image — <code class="fe lv lw lx ly b">io.imread()</code></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/fdab63ff615709ccd4ef0683e1e5fd63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*BLx1p0j0zVhPf_VC-OTwCQ.png"/></div></figure><pre class="kj kk kl km gt nm ly nn no aw np bi"><span id="e6b5" class="nq mo it ly b gy nr ns l nt nu">import matplotlib.pyplot as plt</span><span id="cd51" class="nq mo it ly b gy nv ns l nt nu">img = plt.imread(img_dir)</span></pre></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/e27e99a7d17aa97467348249db972d78.png" data-original-src="https://miro.medium.com/v2/resize:fit:488/format:webp/1*bSmg_pzoj3oJeMHjGPUVxg.png"/></div></figure><pre class="kj kk kl km gt nm ly nn no aw np bi"><span id="2e57" class="nq mo it ly b gy nr ns l nt nu">import cv2</span><span id="1e3b" class="nq mo it ly b gy nv ns l nt nu">img = cv2.imread(img_dir)<br/></span></pre></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/89ef78d0f4ff845a742b170839bcb6e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*n-oldgIbCtkbXjd71TeSVA.png"/></div></figure><pre class="kj kk kl km gt nm ly nn no aw np bi"><span id="d836" class="nq mo it ly b gy nr ns l nt nu">from PIL import Image</span><span id="e559" class="nq mo it ly b gy nv ns l nt nu">img = Image.open(img_dir)<br/></span></pre></div><div class="ab cl nw nx hx ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/82ddc7b0d8f54e75988d99d98075bff8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*-fFOUSQV2DRlkExPOCqg3w.png"/></div></figure><pre class="kj kk kl km gt nm ly nn no aw np bi"><span id="1a37" class="nq mo it ly b gy nr ns l nt nu">from skimage import io</span><span id="32e3" class="nq mo it ly b gy nv ns l nt nu">img = io.imread(img_dir)<br/></span></pre><h1 id="5a85" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">彩色通道</h1><p id="a5e9" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">加载图像后，通常会使用<code class="fe lv lw lx ly b">plt.imshow(img)</code>来绘制图像。让我们来策划一些<a class="ae ky" href="https://knowyourmeme.com/memes/doge" rel="noopener ugc nofollow" target="_blank"> doge </a>！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/696804e88c232461b27d5cf540577225.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fmU8Fff-WjS1-eN7VYUn-w.png"/></div></div></figure><p id="d688" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可能会发现上面的 OpenCV 图像看起来很奇怪。是因为 matplotlib、PIL 和 skimage 是按照<strong class="lb iu"> RGB </strong>(红、绿、蓝)顺序表示图像的，而<strong class="lb iu"> OpenCV 是相反的顺序</strong>！(<strong class="lb iu"> BGR </strong> —蓝色、绿色、红色)</p><h2 id="64cf" class="nq mo it bd mp og oh dn mt oi oj dp mx li ok ol mz lm om on nb lq oo op nd oq bi translated">容易解决</h2><p id="6bd1" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在使用<code class="fe lv lw lx ly b">plt.imshow()</code>绘图之前，只需使用<code class="fe lv lw lx ly b">cv2.cvtColor(img, cv2.COLOR_BGR2RGB)</code>将图像从 BGR 转换成 RGB。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/86ef20fbc45bb3114454bb9369432f81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DuHDh3mxAiHDpmj1MsE92w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">From blue to yellow doge</figcaption></figure><pre class="kj kk kl km gt nm ly nn no aw np bi"><span id="c8ab" class="nq mo it ly b gy nr ns l nt nu">new_img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)</span><span id="56cb" class="nq mo it ly b gy nv ns l nt nu">plt.imshow(new_img)</span></pre><h1 id="5468" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">效率</h1><p id="d044" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">所以，你可能会问哪一个是加载图像最有效的库。这里定义了一个函数来跟踪时间:</p><pre class="kj kk kl km gt nm ly nn no aw np bi"><span id="1b0e" class="nq mo it ly b gy nr ns l nt nu"><strong class="ly iu">import</strong> <strong class="ly iu">time</strong><br/><strong class="ly iu">def</strong> test_read_image(imgfile, func):<br/>    t0 = time.time()<br/>    img = func(imgfile)<br/>    <strong class="ly iu">return</strong> img, time.time() - t0</span></pre><p id="0811" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果如下:</p><pre class="kj kk kl km gt nm ly nn no aw np bi"><span id="80e6" class="nq mo it ly b gy nr ns l nt nu">+------------+--------------+---------+<br/>|  Library   |   Function   |  Time   |<br/>+------------+--------------+---------+<br/>| matplotlib | plt.imread() | 0.02254 |<br/>| OpenCV     | cv2.imread() | 0.01096 |<br/>| Pillow     | Image.Open() | 0.00166 |<br/>| Skimage    | io.imread()  | 0.01463 |<br/>+------------+--------------+---------+</span></pre><p id="0850" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">枕头— <code class="fe lv lw lx ly b">Image.Open()</code>根据结果，似乎是最有效的。为了更深入的研究，我们可能会回到源代码中找出更多的不同之处！</p><h1 id="be7b" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">备忘单</h1><p id="1bc6" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我已将以上信息组合成一个 Jupyter 笔记本。请随意下载 cheatsheet 和快乐编码！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="90ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ou">来源:</em></p><p id="9492" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://blog.csdn.net/renelian1572/article/details/78761278" rel="noopener ugc nofollow" target="_blank"><em class="ou">https://blog.csdn.net/renelian1572/article/details/78761278</em></a></p><p id="5c2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/ZhangXinNan/LearnPractice/blob/master/cv/opencv/test_cvlib.py" rel="noopener ugc nofollow" target="_blank"><em class="ou">https://github . com/Zhang xinnan/learn practice/blob/master/cv/opencv/test _ cvlib . py</em></a></p></div></div>    
</body>
</html>