<html>
<head>
<title>The One with all the FRIENDS Data Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">有所有朋友数据分析的那个</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-one-with-all-the-friends-analysis-59dafcec19c5?source=collection_archive---------18-----------------------#2019-09-11">https://towardsdatascience.com/the-one-with-all-the-friends-analysis-59dafcec19c5?source=collection_archive---------18-----------------------#2019-09-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fc24" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为最受关注的节目提供另类的视角</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/99d8001d4a7f790ce3bf1be4cf14a372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MsRgfDFreOmWdTCM6YYH_Q.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">The crew (<a class="ae ky" href="https://wall.alphacoders.com/tags.php?tid=38393&amp;lang=Portuguese" rel="noopener ugc nofollow" target="_blank">source</a>)</figcaption></figure><p id="7709" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">《老友记》是我最喜欢的电视剧之一(可能是最喜欢的<em class="lv">)而且我肯定不止我一个人不止一次地重播了整个系列。我一直在想，对于这个如此熟悉的团体，是否还有什么需要了解的。看到<a class="ae ky" href="http://giorasimchoni.com/2017/06/04/2017-06-04-the-one-with-friends/" rel="noopener ugc nofollow" target="_blank">这个用 R </a>看节目的帖子后，我觉得我自己也要试一试。这篇文章深入到该剧的剧本中去寻找更多的东西，包括最受欢迎的角色和他们在这几季中的旅程。但是首先它将介绍使用 Python 格式化文本文件并将其导出到 SQLite 数据库的方法。本项目中使用的文本文件包含来自电视节目 F.R.I.E.N.D.S .的脚本，并从<a class="ae ky" href="https://fangj.github.io/friends/" rel="noopener ugc nofollow" target="_blank">该资源库</a>下载。然后提供一些关于我们熟知的角色的有趣发现，有些是意料之中的，有些是令人惊讶的！这是一个非常有趣的爱好项目，也是我一直想做的事情。随意跳过编码部分，直接跳到可视化，希望你喜欢！</em></p><h1 id="f0cf" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">遍历脚本</h1><p id="8792" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">每个脚本都是一个文本文件，在脚本实际开始之前包含一些关于剧集、标题、作者和转录者的信息。我们需要找到一种方法将一个<strong class="lb iu">脚本</strong>转换成数据库中的行，然后解决如何为多个<strong class="lb iu">脚本做这件事。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/81dcb848b01fc8ecbd835358ed4986e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*LCd3I4j9sk_juWTotxaHVg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Example of a Script in the .txt Files</figcaption></figure><p id="0893" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将开始尝试迭代脚本。它们存储在多个文本文件中，并使用格式<code class="fe mu mv mw mx b">season.episode</code>进行了有益的命名。我们可以利用 python 中的操作系统库来浏览我们的文本文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/a3b19ba3457397cfe31831722454c46a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*kYSExyJzUZzCxfcfhaRjIQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Currently where all Scripts are Stored</figcaption></figure><p id="232d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目前，下面的代码将遍历我们的<code class="fe mu mv mw mx b">scripts</code>文件夹中的所有文件来获得<code class="fe mu mv mw mx b">filename</code>。然后使用<code class="fe mu mv mw mx b">.</code>分隔符分割文件名，这些数字存储在变量中，并附加到主列表中。创建<code class="fe mu mv mw mx b">master_list</code>是因为最终我们想要将结果存储在数据帧中。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="b857" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">正则表达式</h1><p id="6054" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">现在我们知道了如何浏览我们朋友的文件，我们需要看看如何从每个文件中分离出行。为了做到这一点，我将使用正则表达式，脚本是相当混乱的，格式都不同，取决于转录。相关的模式是<code class="fe mu mv mw mx b">character_name: speech</code>，但是这有时会跨越多行。正则表达式就像一个真正强大的<code class="fe mu mv mw mx b">ctrl-F</code>，它们被用来搜索字符串中的模式，一个很好的介绍可以在这里找到<a class="ae ky" href="https://medium.com/front-end-weekly/a-practical-beginners-guide-to-regex-regular-expressions-2faccbda117d" rel="noopener"/>。我们的正则表达式的目的是匹配粉色点所指示的预期行之前的空间。我们的目标是找到这个空间，这样我们就可以使用这些位置分割整个文件，给我们提供字符-语音对组。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/1899e9847f7ed09d389b08286cbe8c0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*5oE-wvL-CVQxaGXnKLZw1w.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Purple dots indicate where the expression will match</figcaption></figure><p id="97c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用的正则表达式如下所示。首先我们在冒号<code class="fe mu mv mw mx b">\w+(?=:)</code>前匹配字符串，所以现在我们已经“找到”了每个字符的名称。然而，如果我们想匹配之前的空间，我们必须使用<code class="fe mu mv mw mx b">\s</code>。您可以<a class="ae ky" href="https://regex101.com/r/GFOGbq/2" rel="noopener ugc nofollow" target="_blank">自己测试一下</a>，正如您在示例中看到的，正则表达式也匹配编写器和转录器之前的空格，这将需要在之后删除。现在我们用 python 实现正则表达式。在下面的代码中，我们也可以将角色的名字和语音分开。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="9b3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这与我们在上一节中的循环相结合，并且<code class="fe mu mv mw mx b">mater_array</code>被转换成熊猫数据帧:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="38eb" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">清洁</h1><p id="e88e" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">尽管我们尽了最大努力，但结果仍未 100%可供分析。我们的第一个问题是每个字符有多个名称，这可以通过执行<code class="fe mu mv mw mx b">sorted(df['char'].unique())</code>看到，这将返回列中所有唯一值的列表。要纠正这一点需要一些手工工作，包括查看某个名字的多种拼写，区分大小写！要更改名称，我们使用熊猫<code class="fe mu mv mw mx b">replace</code>方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="65cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们需要解决正则表达式引起的问题，因为它抓住了作者和转录者。这些行的格式都以结束于<strong class="lb iu">。因此，正则表达式将冒号前的最后一个单词作为字符名。这意味着我们可以通过用</strong>删除字符<strong class="lb iu">来删除所有这些行。再见。</strong></p><ul class=""><li id="911e" class="nb nc it lb b lc ld lf lg li nd lm ne lq nf lu ng nh ni nj bi translated">由编写<strong class="lb iu"/></li><li id="3d25" class="nb nc it lb b lc nk lf nl li nm lm nn lq no lu ng nh ni nj bi translated">由转录<strong class="lb iu"/></li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/89b4e9607e8129bbb2804912cb390a57.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/1*q63lyt3_GGuStWI7mErOeg.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Clean data is key! via <a class="ae ky" href="https://gfycat.com/gifs/search/monica+clean" rel="noopener ugc nofollow" target="_blank">gfycat</a></figcaption></figure><h1 id="329d" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">感情</h1><p id="2baa" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在处理字符串时，情感分析就摆在桌面上，更深入的讨论可以在<a class="ae ky" href="https://quotennial.github.io/loveisland/" rel="noopener ugc nofollow" target="_blank">这篇博文</a>中找到。使用类似的方法，对于数据库中的每一行，计算情感分数并存储在<code class="fe mu mv mw mx b">line_sent</code>列中:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><h1 id="716a" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">导出到 SQL</h1><p id="653a" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">现在，这可能不是一个必要的步骤，因为我们将使用的大多数 SQL 命令可以使用 pandas 来完成。然而，我认为有时改变不同的数据帧扫描有时会变得混乱，SQL 语言可以提供一种更可读的方式来访问这些数据。因此，我们现在要将熊猫数据帧移到 SQL 数据库中。我正在使用 SQLite 的<a class="ae ky" href="https://sqlitebrowser.org" rel="noopener ugc nofollow" target="_blank"> DB 浏览器。</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="3c50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们的脚本被格式化并放置在 SQL 数据库中。这种方式的数据争论可以将原始数据转化为更有用的数据集。即使我们没有给数据集增加太多东西，不同的组织结构也可以进行更广泛的分析。现在我们有了以这种方式格式化的脚本，我们可以利用 SQL 来进一步深入了解该节目，如本文<a class="ae ky" href="https://quotennial.github.io/friends-analysis/" rel="noopener ugc nofollow" target="_blank">中所述</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/5feff9f32ea8e7c391eea3fff3ce2f4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*tDhHzdoRT8-JSow46fn6gg.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">via <a class="ae ky" href="https://tenor.com/search/brand-new-information-gifs" rel="noopener ugc nofollow" target="_blank">tenor</a></figcaption></figure><h1 id="81e5" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">最受欢迎的朋友</h1><p id="2c88" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">这一部分着眼于剧中每个角色的角色。前一篇文章介绍了将数据放入 SQL 数据库的过程。这是为了使类似“在整个系列中谁的行数最多”这样的查询相当简单:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/5463c6e4ae71a7d7285a08c38806e494.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T5rIS3VPmz6pYKxUp95Ixw.png"/></div></div></figure><p id="cedd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">《瑞秋》以 9294 行位居榜首，《罗斯》紧随其后(9070 行)，每集平均 39 行左右。这并不完全令人震惊，因为它们都是 10 季的主要情节。几乎形影不离的是莫妮卡和钱德，分别是 8403 和 8398。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/95057b7a2b920c4b51f767ed3258c39a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gGbmKaLoVygArNh9VjAIUA.png"/></div></div></figure><p id="a052" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">纵观整部剧的台词数量，我们可以看到罗斯和瑞秋一直主导着台词，直到第四季。这是伦敦集发生的时候，钱德勒和莫妮卡有了一个更大的共同故事，翻译了更多的台词。我认为菲比没有得到更多台词是一种耻辱，她每一季都有 800 句台词。雷切尔确实说过:</p><blockquote class="nt nu nv"><p id="3a32" class="kz la lv lb b lc ld ju le lf lg jx lh nw lj lk ll nx ln lo lp ny lr ls lt lu im bi translated">呃，有人离开这个团体只是时间问题。我一直以为菲比应该去。<em class="it"> —拉结 5.05 </em></p></blockquote><h1 id="bbb8" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">谈论最多的</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/c3452704d9d96a339a729e60a6a94c64.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*r8YeTey6K_XUG5w69nug8Q.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">via <a class="ae ky" href="https://giphy.com/gifs/Friends-season-2-friends-tv-S9ndPlQlnSnqvGMMZv" rel="noopener ugc nofollow" target="_blank">giphy</a></figcaption></figure><p id="b392" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">说得最多的人并不一定意味着你最受欢迎，所以现在我们来看看谁说得最多。这是一个相当困难的任务，以准确捕捉每个字符的所有提及。一个可能的解决方案是列出每个角色的昵称(如果我漏掉了什么，请告诉我！).值得注意的是，这是我们在这篇文章中用来查找每个角色的参考资料的方法，使用下面详细描述的昵称。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="d6ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了得到计数，我们首先遍历字符，记录提及次数。使用嵌套的 for 循环来获取每个角色的昵称，我们使用 pandas <code class="fe mu mv mw mx b">count()</code>方法来记录被提及的次数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/6a52eac2eda42e436694e7c62b638679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0PJCE7dJwedM7SMpqv7YRA.png"/></div></div></figure><p id="cc68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当只使用全名时，罗斯是被提及最多的。“Chan”、“Joe”、“Mon”和“Rach”都比他们的全名被提到更多。这支持了包含昵称的决定，但也强调了结果对选择正确的名字是多么敏感。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/e721a3f3b3d5508402a0fc8487042f94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lgFxsuwZC6pSIbh0HnSHfw.png"/></div></div></figure><h1 id="b20f" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">话</h1><h2 id="a223" class="oc lx it bd ly od oe dn mc of og dp mg li oh oi mi lm oj ok mk lq ol om mm on bi translated">流行语</h2><p id="c5d6" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">有一些流行的口号，例如“臭猫”在整个节目中被提到了 37 次。臭名昭著的“我们分手了”这句台词被提到了 17 次。乔伊的搭讪语“你好吗”被说了 37 次。</p><h2 id="02e0" class="oc lx it bd ly od oe dn mc of og dp mg li oh oi mi lm oj ok mk lq ol om mm on bi translated">最大词汇量</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/a5e31506a3254d8543b82ec7d6c622f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*oaQ1l-gOP9tVmY5ZgR_WLA.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">via <a class="ae ky" href="https://tenor.com/view/joey-friends-wisdomous-gif-7498897" rel="noopener ugc nofollow" target="_blank">tenor</a></figcaption></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="6230" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个有趣的方面是每个角色使用的词汇。这是通过首先选择如上所示的主要人物所说的所有台词来完成的。之后所有非字母字符都被删除。然后，每个字符的每一行被拆分成单词(使用中间的空格进行拆分)并添加到一个集合中。一个集合不允许有重复的值，这非常适合我们在这种情况下的使用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="8565" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不出所料，罗斯名列榜首，他对恐龙的热情是整个系列的一个笑话。尽管他的职业生涯始于纽约史前历史博物馆，后来成为纽约大学的教授，但一些现实生活中的古生物学家<a class="ae ky" href="https://redditblog.com/2015/10/24/an-actual-paleontologist-grades-friends-paleontologist-ross-gellar/" rel="noopener ugc nofollow" target="_blank">并不相信</a>。看到乔伊排在最后，我肯定不是唯一感到惊讶的人。考虑到这个角色的典型漫画，乔伊似乎确实有一些话，即使是编造的！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/b2d9420bee4ddfa2ce36c25e7a45f743.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zl5xn_8dLKU157bPO7zb8w.png"/></div></div></figure><h1 id="79b0" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">你好吗？</h1><p id="1934" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">由于我们已经为每条线计算了一个情感分数，所以我们能够在整个赛季中监控这个分数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/be9ec5673990e53123258f0b8caeb532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lcwhl96JeqK5LkJIEgdbpw.png"/></div></div></figure><p id="101f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上图显示了瑞秋和罗斯在前两季的情感轨迹。计算每集的总情感分数，因为分数的范围在-1 到 1 之间，总分数将给出特定剧集中大多数情感的指示。</p><p id="e6aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第 104 集是瑞秋拿到第一份薪水的地方，这可能是积极情绪的原因，第 117 集乔治·克鲁尼客串也是如此。罗斯在第一集经历了高潮和低谷，在第 112 集发现他怀了个男孩，然后在第 121 集和马赛尔说再见。最后，两个角色都在第 207 集出现了一个高峰，罗斯发现了，矛盾的罗斯发现瑞秋对他有感觉。这可能是为什么罗斯对那一集的总体感觉是“低调但积极的”。</p><h1 id="f662" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">网络</h1><p id="9083" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">到目前为止，我们主要看了我们的朋友的孤立，这里我们将看到他们如何互动。看看一个角色提到另一个角色的次数，说出这部剧的名字，这样我们就可以画出每个角色与另一个角色之间的关系网络。下表显示了结果；从左至右阅读告诉我们，瑞秋提到自己 187 次，提到乔伊最多:739 次。从上到下读可以理解为瑞秋提到钱德勒 321 次，罗斯提到他 332 次，妻子(莫妮卡)提到他最多:622 次。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="957d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">表格中有一些有趣的发现，瑞秋被罗斯提到最多(622 次，一次<a class="ae ky" href="https://youtu.be/5-1-W-qH6Fc?t=253" rel="noopener ugc nofollow" target="_blank">让他付出了婚姻的代价</a>)，罗斯被瑞秋提到最多:550 次。有趣的是，虽然莫妮卡说钱德最多，但钱德说乔伊最多。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi or"><img src="../Images/26dca526dd4e4370405abc14b311ea1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/1*n8mXb-sTI5AzE47KnsXiPg.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">via <a class="ae ky" href="https://gfycat.com/gifs/search/joey+e" rel="noopener ugc nofollow" target="_blank">gfycat</a></figcaption></figure><p id="f026" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这张表格确实提供了一些见解，但这并不是审视这些发现的最令人满意的方式。所以我们可以使用 Github 上提供的功能<a class="ae ky" href="https://github.com/fengwangPhysics/matplotlib-chord-diagram/blob/master/matplotlib-chord.py" rel="noopener ugc nofollow" target="_blank">创建一个和弦图。每个字符部分的和弦的大小代表他们说了多少次连接字符的名字。换句话说，如果您从左到右阅读表中的值，这就是每个字符部分显示的内容。通过观察粉红色的切片，可以更清楚地看出乔伊和莫妮卡在钱德勒的提及次数中所占的比重。</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/a3356cfb7c6622d1f6227157c45b8691.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lzaZscAGApB6JseKk9r4Eg.png"/></div></div></figure><h1 id="55b0" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">图和中心性</h1><p id="02f7" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">所以我们现在已经建立了一个朋友网络，我们可以计算他们每个人的中心性分数。中心性旨在回答这个问题:<em class="lv">谁是这个网络中最重要或最核心的人？</em>。显然这是一个取决于重要性定义的主观问题。在我们定义我们的重要性度量之前，我们必须首先把我们的表转换成一个图。我们将使用网络 x，使用上表中的值(存储在<code class="fe mu mv mw mx b">network_data</code>中)创建一个有向加权图。节点是字符，权重是提及次数。我们还可以通过检查节点之间的边权重来检查图形是否创建正确。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><pre class="kj kk kl km gt ot mx ou ov aw ow bi"><span id="b1f5" class="oc lx it mx b gy ox oy l oz pa">out: {'weight': 426} # yay! it matches our table</span></pre><p id="313c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经创建了我们的图表，我们计算<a class="ae ky" href="https://www.youtube.com/watch?v=9vs1zSqd070" rel="noopener ugc nofollow" target="_blank">特征向量中心性</a>作为重要性的度量(用于谷歌的页面排名)。该算法旨在基于与重要人物的联系，量化人们在社交网络中的影响力。在这种情况下，我们将“重要性”定义为与重要人物的联系。通过强调与其他人的联系，很容易看出这一点如何适用于其他更大的网络，如 Twitter。使用“互动”(转发和喜欢)作为权重，这种算法可能能够给你一个网络中连接最多的账户，潜在地获得比关注者最高数量更多的洞察力。对任何希望衡量(或改变)公众意见的人来说，这是有价值的信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="6cd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Networkx 使生活变得简单，应用<code class="fe mu mv mw mx b">eigenvector_centrality_numpy</code>方法并定义权重来计算每个节点的分数。按重要性排序的结果如下所示。最初看到结果时，我很惊讶，但是当我想到这个措施时，它开始变得有意义了。我认为乔伊可以被视为团队的粘合剂，总是与其他角色互动。考虑到罗斯和瑞秋占据了彼此的大部分时间，看到他们在低端并不完全令人惊讶。这个帖子对菲比来说不太好🙁 ​ .这些结果是主观的，解释也是如此，我很想听听你对中心性分数的看法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="544f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你喜欢这个流行节目中的另类观点。虽然我知道《老友记》可能不是每个人都喜欢的，但我确实认为这种分析可以适用于几乎任何长期播出的剧集。也许你可以为你最喜欢的节目尝试一些类似的东西，让我知道你找到了什么！</p><p id="4f49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读🙂</p></div><div class="ab cl pb pc hx pd" role="separator"><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg"/></div><div class="im in io ip iq"><p id="7cce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">原载于</em><a class="ae ky" href="https://quotennial.github.io/friends-analysis/" rel="noopener ugc nofollow" target="_blank"><em class="lv">【https://quotennial.github.io/friends-analysis/】</em></a></p></div></div>    
</body>
</html>