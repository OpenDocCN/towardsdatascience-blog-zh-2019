<html>
<head>
<title>Using the ‘What-If Tool’ to investigate Machine Learning models.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用“假设工具”研究机器学习模型。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-what-if-tool-to-investigate-machine-learning-models-913c7d4118f?source=collection_archive---------7-----------------------#2019-05-03">https://towardsdatascience.com/using-what-if-tool-to-investigate-machine-learning-models-913c7d4118f?source=collection_archive---------7-----------------------#2019-05-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="65f3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Google 的一个开源工具，无需编码就能轻松分析 ML 模型。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1bfd193d7deb1101a6fb5f5fa3d280e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NBwHkeXoOu4fwA4dFdpyKw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://www.pexels.com/@pixabay?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pixabay</a> from <a class="ae ky" href="https://www.pexels.com/photo/ask-blackboard-chalk-board-chalkboard-356079/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><blockquote class="kz"><p id="43f9" class="la lb it bd lc ld le lf lg lh li lj dk translated">好的从业者扮演侦探的角色，探索以更好地理解他们的模型</p></blockquote><p id="19f0" class="pw-post-body-paragraph lk ll it lm b ln lo ju lp lq lr jx ls lt lu lv lw lx ly lz ma mb mc md me lj im bi translated">在这个可解释和可解释的机器学习时代，人们不能仅仅满足于简单地训练模型并从中获得预测。为了能够真正产生影响并获得好的结果，我们还应该能够探索和研究我们的模型。除此之外，在继续使用模型之前，算法的公平性约束和偏见也应该清楚地记住。</p><p id="66f9" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">调查一个模型需要问很多问题，并且需要有侦探的敏锐度来探查和寻找模型中的问题和不一致之处。此外，这样的任务通常很复杂，需要编写大量的自定义代码。幸运的是，<strong class="lm iu"> What-If 工具</strong>已经被创建来解决这个问题，使得更多的人能够更容易、更容易、更准确地检查、评估和调试 ML 系统。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="6b90" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">假设工具(WIT)</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/950b8127a568fbfcbff9e4c030373ed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RgV_ffd8S28l2xuQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><a class="ae ky" href="https://pair-code.github.io/what-if-tool/index.html" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="f4a3" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><a class="ae ky" href="https://pair-code.github.io/what-if-tool" rel="noopener ugc nofollow" target="_blank"> <strong class="lm iu">假设工具</strong> </a>是一个交互式可视化工具，旨在研究机器学习模型。缩写为 WIT，它使人们能够检查、评估和比较机器学习模型，从而能够理解分类或回归模型。由于其用户友好的界面和对复杂编码的较少依赖，每个人，无论是开发人员、产品经理、研究人员还是学生，都可以出于自己的目的使用它。</p><p id="b06c" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><strong class="lm iu"> WIT </strong>是 Google 在<a class="ae ky" href="https://ai.google/research/teams/brain/pair" rel="noopener ugc nofollow" target="_blank"><strong class="lm iu">PAIR</strong></a><strong class="lm iu">(People+AI Research)</strong>倡议下发布的开源可视化工具。PAIR 将谷歌的研究人员聚集在一起，研究并重新设计人们与人工智能系统的交互方式。</p><p id="8dad" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">该工具可以通过 TensorBoard 访问，或者作为 Jupyter 或<a class="ae ky" href="https://colab.research.google.com/github/tensorflow/tensorboard/blob/master/tensorboard/plugins/interactive_inference/What_If_Tool_Notebook_Usage.ipynb" rel="noopener ugc nofollow" target="_blank"> Colab </a>笔记本的扩展。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="9d4e" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">优势</h1><p id="9be9" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">该工具的目的是为人们提供一种简单、直观和强大的方法，仅通过可视化界面在一组数据上使用经过训练的 ML 模型。以下是机智的主要优势。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/ab28217603363a075a019cf33c12ad5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*dFWgN4zuEQz6e-qRuV_p3g.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">What can you do with the What-If Tool?</figcaption></figure><p id="b66f" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们将在使用该工具的示例演练中涵盖上述所有要点。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="ce92" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">民众</h1><p id="561e" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">为了说明假设工具的功能，PAIR 团队发布了一组使用预训练模型的<a class="ae ky" href="https://pair-code.github.io/what-if-tool/index.html#demos" rel="noopener ugc nofollow" target="_blank">演示</a>。您可以在笔记本上运行演示，也可以直接通过网络运行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://pair-code.github.io/what-if-tool/index.html#demos"><div class="gh gi nj"><img src="../Images/48885f31698777a4d2319e5e4611f195.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Al4bw950-mIt4D_CWVIE5Q.png"/></div></a><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Take the What-If Tool for a spin!</figcaption></figure></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="4f9f" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">使用</h1><p id="3694" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">WIT 可以在<a class="ae ky" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter </a>或<a class="ae ky" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank"> Colab </a>笔记本内部使用，或者在<a class="ae ky" href="https://www.tensorflow.org/tensorboard" rel="noopener ugc nofollow" target="_blank"> TensorBoard </a>网络应用内部使用。这已经在<a class="ae ky" href="https://github.com/tensorflow/tensorboard/tree/master/tensorboard/plugins/interactive_inference#what-if-tool" rel="noopener ugc nofollow" target="_blank">文档</a>中很好很清楚地解释了，我强烈建议你去读一遍，因为通过这篇短文解释整个过程是不可能的。</p><blockquote class="nq nr ns"><p id="7f32" class="lk ll nt lm b ln mf ju lp lq mg jx ls nu mh lv lw nv mi lz ma nw mj md me lj im bi translated">整个想法是首先训练一个模型，然后使用假设工具可视化训练好的分类器对测试数据的结果。</p></blockquote><h2 id="5de9" class="nx ms it bd mt ny nz dn mx oa ob dp nb lt oc od nd lx oe of nf mb og oh nh oi bi translated"><a class="ae ky" href="https://github.com/tensorflow/tensorboard/tree/master/tensorboard/plugins/interactive_inference#what-do-i-need-to-use-it-in-tensorboard" rel="noopener ugc nofollow" target="_blank">使用 WIT 与 Tensorboard </a></h2><p id="2563" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">要在 TensorBoard 中使用 WIT，您的模型需要通过<a class="ae ky" href="https://www.tensorflow.org/serving" rel="noopener ugc nofollow" target="_blank"> TensorFlow 模型服务器</a>提供服务，并且要分析的数据必须作为<a class="ae ky" href="https://medium.com/mostly-ai/tensorflow-records-what-they-are-and-how-to-use-them-c46bc4bbb564" rel="noopener"> TFRecords </a>文件存在于磁盘上。有关在 TensorBoard 中使用 WIT 的更多详细信息，请参考<a class="ae ky" href="https://github.com/tensorflow/tensorboard/tree/master/tensorboard/plugins/interactive_inference#what-do-i-need-to-use-it-in-tensorboard" rel="noopener ugc nofollow" target="_blank">文档</a>。</p><h2 id="a5d2" class="nx ms it bd mt ny nz dn mx oa ob dp nb lt oc od nd lx oe of nf mb og oh nh oi bi translated"><a class="ae ky" href="https://github.com/tensorflow/tensorboard/tree/master/tensorboard/plugins/interactive_inference#notebook-mode-details" rel="noopener ugc nofollow" target="_blank">在笔记本上使用 WIT</a></h2><p id="340f" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">为了能够在笔记本中访问 WIT，您需要一个 WitConfigBuilder 对象来指定要分析的数据和模型。这篇<a class="ae ky" href="https://github.com/tensorflow/tensorboard/tree/master/tensorboard/plugins/interactive_inference#notebook-mode-details" rel="noopener ugc nofollow" target="_blank">文档</a>提供了在笔记本上使用 WIT 的一步一步的概要。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/e2fb624a7bba411cab202c92059b6e6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bUExfjdJSB0BqCpt.png"/></div></div></figure><p id="dab9" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">您也可以使用<a class="ae ky" href="https://colab.research.google.com/github/pair-code/what-if-tool/blob/master/WIT_Model_Comparison.ipynb" rel="noopener ugc nofollow" target="_blank">演示笔记本</a>并编辑代码以包含您的数据集来开始工作。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="8146" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">游戏攻略</h1><p id="2bf1" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">现在让我们通过一个例子来探索 WIT 工具的功能。这个例子取自网站上提供的演示，叫做<strong class="lm iu">收入分类</strong>，其中我们需要根据一个人的人口普查信息来预测他的年收入是否超过 5 万美元。该数据集属于<a class="ae ky" href="http://archive.ics.uci.edu/ml/datasets/Census+Income" rel="noopener ugc nofollow" target="_blank"> <strong class="lm iu"> UCI 人口普查数据集</strong> </a>，由年龄、婚姻状况、受教育程度等多个属性组成。</p><h2 id="7acb" class="nx ms it bd mt ny nz dn mx oa ob dp nb lt oc od nd lx oe of nf mb og oh nh oi bi translated">概观</h2><p id="e54f" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">让我们从探索数据集开始。这里有一个<a class="ae ky" href="https://pair-code.github.io/what-if-tool/uci.html" rel="noopener ugc nofollow" target="_blank">链接</a>到网络演示，以便跟进。</p><p id="e70f" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">假设分析工具包含两个主要面板。<strong class="lm iu">右侧面板</strong>包含您已加载的数据集中各个数据点的可视化。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/85f78aa80d62ad62e55e631d42810194.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fpeb_UkmNv53Wo55nQ9O0A.png"/></div></div></figure><p id="361e" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">在这种情况下，<strong class="lm iu">蓝点</strong>是模型推断收入<strong class="lm iu">低于 50k </strong>的人，而<strong class="lm iu">红点</strong>是模型推断收入<strong class="lm iu">高于 50k 的人。默认情况下，WIT 使用 0.5 的<a class="ae ky" href="https://developers.google.com/machine-learning/crash-course/classification/thresholding" rel="noopener ugc nofollow" target="_blank">肯定分类阈值</a>。这意味着，如果推断得分为 0.5 或更高，则该数据点被认为处于积极的类别，即高收入。</strong></p><blockquote class="nq nr ns"><p id="6560" class="lk ll nt lm b ln mf ju lp lq mg jx ls nu mh lv lw nv mi lz ma nw mj md me lj im bi translated">这里值得注意的是数据集是在<a class="ae ky" href="https://pair-code.github.io/facets/" rel="noopener ugc nofollow" target="_blank"> <strong class="lm iu"> Facets Dive </strong> </a>中可视化的。Facets Dive 是 PAIR 团队再次开发的<strong class="lm iu"> FACETS </strong>工具的一部分，帮助我们理解数据的各种特性并探索它们。如果您不熟悉这个工具，您可以参考我不久前写的这篇关于 FACETS 功能的文章。</p></blockquote><div class="ol om gp gr on oo"><a rel="noopener follow" target="_blank" href="/visualising-machine-learning-datasets-with-googles-facets-462d923251b3"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">用 Google FACETS 可视化机器学习数据集。</h2><div class="ov l"><h3 class="bd b gy z fp ot fr fs ou fu fw dk translated">Google 的开源工具，可以轻松地从大量数据中学习模式</h3></div><div class="ow l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">towardsdatascience.com</p></div></div><div class="ox l"><div class="oy l oz pa pb ox pc ks oo"/></div></div></a></div><p id="92ed" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">您也可以通过简单地从下拉菜单中选择字段，以大量不同的方式组织数据点，包括混淆矩阵、散点图、直方图和小倍数图。下面列举了几个例子。</p><div class="kj kk kl km gt ab cb"><figure class="pd kn pe pf pg ph pi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/cbd12e4bbcdfdb7589bfab11967f2cc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*34aQWjQZC_Q0gCG4_YNF_g.png"/></div></figure><figure class="pd kn pj pf pg ph pi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/034d03a7e3b752a534786a876f2d6b72.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*QlLrTAdwfi1t9rwonhUu9A.png"/></div></figure></div><p id="2404" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated"><strong class="lm iu">左侧面板</strong>包含三个标签<code class="fe pk pl pm pn b">Datapoint Editor,</code><code class="fe pk pl pm pn b">Performance &amp; Fairness</code>；还有<code class="fe pk pl pm pn b">Features.</code></p><h2 id="1413" class="nx ms it bd mt ny nz dn mx oa ob dp nb lt oc od nd lx oe of nf mb og oh nh oi bi translated">1.数据点编辑器选项卡</h2><p id="0df6" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">数据点编辑器有助于通过以下方式进行数据分析:</p><ul class=""><li id="696e" class="po pp it lm b ln mf lq mg lt pq lx pr mb ps lj pt pu pv pw bi translated"><strong class="lm iu">查看和编辑数据点的详细信息</strong></li></ul><p id="578b" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">它允许深入到一个选定的数据点，该数据点在右侧面板上以黄色突出显示。让我们尝试将年龄从 53 更改为 58，并单击“运行推理”按钮，看看它对模型的性能有什么影响。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi px"><img src="../Images/002ee22270266477941d61d0ea6fe3f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*NO4eJz9J0GYn60W0UkpuhA.gif"/></div></div></figure><p id="7ea9" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">通过简单地改变此人的年龄，模型现在预测此人属于高收入类别。对于这个数据点，早些时候正面(高收入)阶层的推断得分是 0.473，负面(低收入)阶层的得分是 0.529。但是，通过改变年龄，正的班级分数变成了 0.503。</p><ul class=""><li id="b194" class="po pp it lm b ln mf lq mg lt pq lx pr mb ps lj pt pu pv pw bi translated"><strong class="lm iu">寻找最近的反事实</strong></li></ul><p id="c67b" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">了解模型行为的另一种方式是查看哪些小的变化会导致模型改变其决策，这被称为<strong class="lm iu">反事实</strong> s。只需点击一下，我们就可以看到与我们选择的数据点最相似的反事实，以绿色突出显示。在数据点编辑器选项卡中，我们现在还可以在原始数据点的特征值旁边看到反事实的特征值。绿色文本表示两个数据点不同的特征。WIT 使用<a class="ae ky" href="https://www.kaggle.com/residentmario/l1-norms-versus-l2-norms" rel="noopener ugc nofollow" target="_blank"> L1 和</a>L2 距离来计算数据点之间的相似性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/328d2d38d891dab2060bf9b6689249ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7S9oSQgPP7H56NSFXg_hg.png"/></div></div></figure><p id="293e" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">在这种情况下，最接近的反事实稍老，有不同的职业和资本收益，但在其他方面是相同的。</p><p id="26c8" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们还可以使用“<strong class="lm iu">显示与所选数据点</strong>的相似性”按钮查看所选点和其他点之间的相似性。WIT 测量从选定点到每隔一个数据点的距离。让我们更改 X 轴散点图，以显示到所选数据点的 L1 距离。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pz"><img src="../Images/954c313a3254b94264e520730d651b79.png" data-original-src="https://miro.medium.com/v2/resize:fit:582/format:webp/1*lSHybyMux8FdsWlO7HasgA.png"/></div></figure><ul class=""><li id="aefb" class="po pp it lm b ln mf lq mg lt pq lx pr mb ps lj pt pu pv pw bi translated"><strong class="lm iu">分析部分相关图</strong></li></ul><p id="c857" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">部分相关性图(短 PDP 或 PD 图)显示了一个或两个特征对机器学习模型的预测结果的边际效应(<a class="ae ky" href="https://statweb.stanford.edu/~jhf/ftp/trebst.pdf" rel="noopener ugc nofollow" target="_blank"> J. H. Friedman 2001 </a>)。</p><p id="d923" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">数据点的年龄和教育的 PDP 如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qa"><img src="../Images/27d2b5ae37bd1c57f99b25f424ebd828.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Go_5BeraltIgPnfaW6xA0g.gif"/></div></div></figure><p id="4a00" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">上图显示:</p><ul class=""><li id="872b" class="po pp it lm b ln mf lq mg lt pq lx pr mb ps lj pt pu pv pw bi translated">该模型已经了解到年龄和收入之间的正相关关系</li><li id="4c46" class="po pp it lm b ln qb lq qc lt qd lx qe mb qf lj pt pu pv pw bi translated">更高的学位使模型对更高的收入更有信心。</li><li id="8a1d" class="po pp it lm b ln qb lq qc lt qd lx qe mb qf lj pt pu pv pw bi translated">高资本收益是高收入的一个非常强有力的指标，远远超过任何其他单一特征。</li></ul><h2 id="cf84" class="nx ms it bd mt ny nz dn mx oa ob dp nb lt oc od nd lx oe of nf mb og oh nh oi bi translated">2.绩效与公平选项卡</h2><p id="3ec2" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">该选项卡允许我们使用混淆矩阵和 ROC 曲线来查看整体模型性能。</p><ul class=""><li id="5fc6" class="po pp it lm b ln mf lq mg lt pq lx pr mb ps lj pt pu pv pw bi translated"><strong class="lm iu">车型性能分析</strong></li></ul><p id="4d5c" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">为了测量模型的性能，我们需要告诉工具什么是基本事实特征，即模型试图预测的特征，在这种情况下是“<strong class="lm iu">超过 50K </strong>”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qg"><img src="../Images/6fed21f5e1bebb5a8eec37131f98a242.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*131qNOeuhboNCGVTh9y6sw.png"/></div></div></figure><p id="baac" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们可以看到，在默认阈值水平为 0.5 时，我们的模型大约有 15%的时间是不正确的，其中大约 5%的时间是假阳性，10%的时间是假阴性。更改阈值以查看其对模型准确性的影响。</p><p id="2385" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">还有一个“<strong class="lm iu">成本比率</strong>设置和一个“<strong class="lm iu">优化阈值</strong>按钮，也可以调整。</p><ul class=""><li id="ad49" class="po pp it lm b ln mf lq mg lt pq lx pr mb ps lj pt pu pv pw bi translated"><strong class="lm iu"> ML 公平性</strong></li></ul><p id="e711" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">机器学习中的公平性与建模和预测结果一样重要。训练数据中的任何偏差将反映在训练的模型中，并且如果部署这样的模型，则结果输出也将有偏差。WIT 可以以几种不同的方式帮助调查公平问题。我们可以设置一个输入要素(或一组要素)来分割数据。例如，让我们看看性别对模型性能的影响。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qh"><img src="../Images/5374bd9f6ec7c07903b02c5888c79b51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BhlfFvlDiLC4FYyi_WTRZA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Effect of gender on Model’s performance</figcaption></figure><p id="6353" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们可以看到这个模型对女性比对男性更准确。此外，该模型对女性高收入的预测比男性低得多(女性为 9.3%，男性为 28.6%)。一个可能的原因可能是由于女性在数据集中的代表性不足，我们将在下一节探讨这个问题。</p><p id="d277" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">此外，该工具可以最优地设置两个子集的决策阈值，同时考虑与算法公平性相关的多个约束中的任何一个，例如人口统计均等或机会均等。</p><h2 id="d17b" class="nx ms it bd mt ny nz dn mx oa ob dp nb lt oc od nd lx oe of nf mb og oh nh oi bi translated">3.功能选项卡</h2><p id="0ae8" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">要素选项卡提供数据集中每个要素的汇总统计数据，包括直方图、分位数图、条形图等。该选项卡还允许查看数据集中每个要素的值的分布。例如，让我们探讨性别、资本收益和种族特征。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qi"><img src="../Images/7db56215bc85dc8a6664b482988bc6f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pSN720U3hG54Zrkv5UpNag.png"/></div></div></figure><p id="14a5" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">我们推断<code class="fe pk pl pm pn b"> capital gain</code>非常不均匀，大多数数据点被设置为 0。</p><div class="kj kk kl km gt ab cb"><figure class="pd kn qj pf pg ph pi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/5ae57c5f64daab1747d06cc3b62fe387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*5FmxAvQhvgNASSwoco5NlA.png"/></div></figure><figure class="pd kn qk pf pg ph pi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/d7933feb0c86d8867806e0bb418c79aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*_V4de4Q2lJAEnMWKI-maOQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk ql di qm qn">Native Country DIstribution || Sex distribution</figcaption></figure></div><p id="444c" class="pw-post-body-paragraph lk ll it lm b ln mf ju lp lq mg jx ls lt mh lv lw lx mi lz ma mb mj md me lj im bi translated">类似地，大多数数据点属于美国，而女性在数据集中没有得到很好的代表。由于数据是有偏差的，它的预测只针对一个群体是很自然的。毕竟，一个模型从提供给它的数据中学习，如果数据来源有偏差，结果也会有偏差。机器学习已经在许多应用和领域证明了它的实力。然而，机器学习模型的工业应用的关键障碍之一是确定用于训练模型的原始输入数据是否包含歧视性偏见。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h1 id="8ced" class="mr ms it bd mt mu mv mw mx my mz na nb jz nc ka nd kc ne kd nf kf ng kg nh ni bi translated">结论</h1><p id="ecbf" class="pw-post-body-paragraph lk ll it lm b ln nk ju lp lq nl jx ls lt nm lv lw lx nn lz ma mb no md me lj im bi translated">这只是一些假设工具特性的快速浏览。WIT 是一个非常方便的工具，它提供了探究模型的能力，并将其传递到最重要的人手中。简单地创建和训练模型不是机器学习的目的，但理解为什么以及如何创建模型才是真正意义上的机器学习。</p></div><div class="ab cl mk ml hx mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="im in io ip iq"><h2 id="32aa" class="nx ms it bd mt ny nz dn mx oa ob dp nb lt oc od nd lx oe of nf mb og oh nh oi bi translated">参考资料:</h2><ol class=""><li id="9a20" class="po pp it lm b ln nk lq nl lt qo lx qp mb qq lj qr pu pv pw bi translated"><a class="ae ky" href="https://ai.googleblog.com/2018/09/the-what-if-tool-code-free-probing-of.html" rel="noopener ugc nofollow" target="_blank">假设工具:机器学习模型的无代码探测</a></li><li id="e709" class="po pp it lm b ln qb lq qc lt qd lx qe mb qf lj qr pu pv pw bi translated">https://pair-code.github.io/what-if-tool/walkthrough.html<a class="ae ky" href="https://pair-code.github.io/what-if-tool/walkthrough.html" rel="noopener ugc nofollow" target="_blank"/></li><li id="e2e3" class="po pp it lm b ln qb lq qc lt qd lx qe mb qf lj qr pu pv pw bi translated"><a class="ae ky" href="https://github.com/tensorflow/tensorboard/tree/master/tensorboard/plugins/interactive_inference" rel="noopener ugc nofollow" target="_blank">https://github . com/tensor flow/tensor board/tree/master/tensor board/plugins/interactive _ inference</a></li></ol></div></div>    
</body>
</html>