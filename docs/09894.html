<html>
<head>
<title>Analysis of Top 50 Spotify Songs using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 分析前 50 首 Spotify 歌曲</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/analysis-of-top-50-spotify-songs-using-python-5a278dee980c?source=collection_archive---------18-----------------------#2019-12-27">https://towardsdatascience.com/analysis-of-top-50-spotify-songs-using-python-5a278dee980c?source=collection_archive---------18-----------------------#2019-12-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b337" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">2019 年哪些歌曲最受欢迎？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/18a44d649979e6f75f00bebf61db5092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M4emPYdRaZQcG7_FghgHAg.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://www.pexels.com/@john-tekeridis-21837" rel="noopener ugc nofollow" target="_blank">John Tekridis</a> on <a class="ae ky" href="https://www.pexels.com/photo/apps-cellphone-communication-computer-340103/" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="3c6f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2019 年最受欢迎的歌曲有哪些？2019 年哪些流派最受欢迎？哪些艺术家最受欢迎？</p><p id="d413" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本帖中，我们将分析排名前 50 的 Spotify 歌曲数据集，这些数据可以在<a class="ae ky" href="https://www.kaggle.com/leonardopena/top50spotify2019" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上找到。该数据集提供了 2019 年 Spotify 上听得最多的 50 首歌曲。它摘自<a class="ae ky" href="http://organizeyourmusic.playlistmachinery.com" rel="noopener ugc nofollow" target="_blank">整理你的音乐</a>网站。</p><p id="9d98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据集包含以下字段:</p><ol class=""><li id="a89d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><strong class="lb iu">追踪。名称</strong> —轨道名称</li><li id="6f1e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">艺人。名字</strong> —艺人的名字</li><li id="980b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">流派</strong> —曲目流派</li><li id="d9e6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">节拍。每分钟</strong> —歌曲的速度</li><li id="d832" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">能量</strong>——宋的能量——数值越高，能量越大</li><li id="37d4" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">可跳舞性</strong> —该值越高，就越容易随着歌曲跳舞</li><li id="b2f4" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">响度..dB。</strong>。—数值越高，歌声越响亮。</li><li id="a5d5" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu"> Liveness </strong> —值越高，歌曲越有可能是现场录制的。</li><li id="16ac" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">化合价</strong>。—值越高，歌曲的情绪越积极。</li><li id="8596" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">长度</strong>。—歌曲的持续时间。</li><li id="bcfb" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">声音</strong>..值越高，歌曲的声音越大</li><li id="911e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">语速。—值越高，歌曲包含的口语单词越多</li><li id="f6ab" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><strong class="lb iu">流行度</strong> —数值越高，歌曲越流行。</li></ol><p id="5130" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们将数据读入 pandas 数据帧，并打印前五行:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="c06b" class="mo mp it mk b gy mq mr l ms mt">import pandas as pd</span><span id="7c5c" class="mo mp it mk b gy mu mr l ms mt">df = pd.read_csv("top50.csv", encoding="ISO-8859-1")</span><span id="55c0" class="mo mp it mk b gy mu mr l ms mt">print(df.head())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/291e35a45b00c96f7d4bb88ff2b125d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j5s1uaELe8ZH_Cko71Cmxg.png"/></div></div></figure><p id="effe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以按降序对数据帧进行排序，以查看前 5 首最流行的歌曲:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="9f42" class="mo mp it mk b gy mq mr l ms mt">df.sort_values('Popularity', ascending = False, inplace = True)</span><span id="9dd4" class="mo mp it mk b gy mu mr l ms mt">print(df.head())</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/ce653df5afe5649d6eb706a7f98e6f13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hHuqS_bcYuN6xgkeih4ffA.png"/></div></div></figure><p id="9120" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">排名前五的流行歌曲和对应的艺人分别是:</p><ol class=""><li id="c2c4" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">坏蛋，比莉·埃利什</li><li id="2252" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="mx">再见</em>(壮举。年轻的暴徒)，后马龙</li><li id="479e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="mx">卡莉塔</em>，坏兔子</li><li id="b120" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">坟墓里的钱。里克·罗斯)，德雷克</li><li id="c8a3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="mx">中国</em>，阿努埃尔 AA</li></ol><p id="5246" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章的其余部分，我们将关注“流派”和“艺术家”。名称”,但是可以对其他一些专栏做进一步的分析。</p><p id="9cd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从使用 python 集合模块中的 Counter 方法来查看每个流派出现在前 50 个列表中的频率开始。让我们从集合中导入“计数器”并打印每个流派的频率:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="a66d" class="mo mp it mk b gy mq mr l ms mt">from collections import Counter <br/>print(Counter(df['Genre'].values))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/e2b0b6e739af645edbdb39cbb3fd069d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ar0U2QP71diw5qcsafCBQw.png"/></div></div></figure><p id="80ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以将输出限制在最常见的 5 种类型:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="5f6f" class="mo mp it mk b gy mq mr l ms mt">print(Counter(df['Genre'].values).most_common(5))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/0190f23008ac60068ed7006b806e791a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I8djKg5qzcqtuoJiHWL8GQ.png"/></div></div></figure><p id="31d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们可以使用 matplotlib 在条形图上显示结果:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="7dd9" class="mo mp it mk b gy mq mr l ms mt">import matplotlib.pyplot as plt<br/>bar_plot = dict(Counter(df['Genre'].values).most_common(5))<br/>plt.bar(*zip(*bar_plot.items()))<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/62cce807b9eaa3f625a957114650bb92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KgsgM3VBWqsAGBRiNJ8Aow.png"/></div></div></figure><p id="8cc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们看到，在前 50 名的榜单中，属于舞曲流行这一体裁的歌曲出现了 8 次，流行出现了 7 次，拉丁出现了 5 次，加拿大嘻哈出现了 3 次，edm 出现了 3 次。</p><p id="d59b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以为艺术家做同样的事情:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="fd3d" class="mo mp it mk b gy mq mr l ms mt">print(Counter(df['Artist.Name'].values))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/c963b94669b73657f9043d9d0c755f69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4XZm5jJOeCbqlBoof78jTw.png"/></div></div></figure><p id="fe60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并且只限于最常见的五位艺术家:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="586a" class="mo mp it mk b gy mq mr l ms mt">print(Counter(df['Artist.Name'].values).most_common(5))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/cf1a028fa2e751e5145129450283e3d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*790WUZjwVMoTHvTr3M6Sow.png"/></div></div></figure><p id="6691" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并绘制结果:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="89b4" class="mo mp it mk b gy mq mr l ms mt">bar_plot = dict(Counter(df['Artist.Name'].values).most_common(5))<br/>plt.bar(*zip(*bar_plot.items()))<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/a2588ae683bf1440bf35e870e97f9830.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*19xg1CRwKzKolK2jS8IgrQ.png"/></div></div></figure><p id="9f09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到，艾德·希兰的歌曲在前 50 名中出现了 4 次，比利·埃利希、波斯特·马龙、塞克和里尔·纳斯克斯各出现了 2 次。</p><p id="3fc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出于代码重用的目的，我们可以定义一个函数，该函数接受分类变量的列名，并打印一个包含列值和该值出现的次数的字典，以及一个显示每个值出现频率的条形图:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="2ec1" class="mo mp it mk b gy mq mr l ms mt">def get_frequencies(column_name):<br/>    print(Counter(df[column_name].values))<br/>    print(dict(Counter(df[column_name].values).most_common(5)))<br/>    bar_plot = dict(Counter(df[column_name].values).most_common(5))<br/>    plt.bar(*zip(*bar_plot.items()))<br/>    plt.show()</span></pre><p id="565c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果我们用“流派”调用这个函数，我们得到:</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="ff73" class="mo mp it mk b gy mq mr l ms mt">get_frequencies('Genre')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/e47e3aae2098099451da0b241fe5898d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d9xM6wfrJC8TnnrWzmLg-A.png"/></div></div></figure><p id="31bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">和“艺术家”。姓名':</p><pre class="kj kk kl km gt mj mk ml mm aw mn bi"><span id="98cf" class="mo mp it mk b gy mq mr l ms mt">get_frequencies('Artist.Name')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/e47e3aae2098099451da0b241fe5898d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d9xM6wfrJC8TnnrWzmLg-A.png"/></div></div></figure><p id="dde3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我就讲到这里，但是您可以随意处理数据和编写代码。这篇文章的代码可以在 GitHub 上找到。感谢您的阅读！</p></div></div>    
</body>
</html>