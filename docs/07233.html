<html>
<head>
<title>Analyzing Amazon Wildfire Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分析亚马逊野火数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/analyzing-amazon-wildfire-data-a4f9122a8877?source=collection_archive---------22-----------------------#2019-10-11">https://towardsdatascience.com/analyzing-amazon-wildfire-data-a4f9122a8877?source=collection_archive---------22-----------------------#2019-10-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/f089c437e142caf506aa82220c6f5980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4l3qDdwFyr31zIHW03w9wA.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Photo by <a class="ae kf" href="https://www.pexels.com/@pixabay" rel="noopener ugc nofollow" target="_blank">Pixabay</a> on <a class="ae kf" href="https://www.pexels.com/photo/backlit-breathing-apparatus-danger-dangerous-279979/" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="168e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于气候变暖，亚马逊雨林的野火越来越令人担忧。在这里，我们将探索和分析巴西政府提供的巴西火灾数据集。数据在<a class="ae kf" href="https://www.kaggle.com/gustavomodelli/forest-fires-in-brazil" rel="noopener ugc nofollow" target="_blank">这里</a>可用。</p><blockquote class="le lf lg"><p id="6e43" class="kg kh lh ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">在数据科学中，探索数据通常是构建预测模型的第一步。探索性数据分析包括总结数据集的特征。这包括关于数据特征的统计摘要，如平均值、标准差、分布和记录数。</p></blockquote><p id="3b36" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一步是用 python 导入 pandas 包，并将数据读入 pandas 数据框。您可以将熊猫数据框想象成数据表或 excel 电子表格。</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="b4ee" class="lu lv it lq b gy lw lx l ly lz">import pandas as pd</span><span id="aced" class="lu lv it lq b gy ma lx l ly lz">df = pd.read_csv(“amazon.csv”, encoding = “ISO-8859–1”)</span><span id="dbb2" class="lu lv it lq b gy ma lx l ly lz">print(df.head())</span></pre><p id="564e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">前五行的输出是:</p><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/9bfd4bf920cc8d492ed4c10a52058890.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*UIDdln81Tq7wOav7apvt2g.png"/></div></figure><p id="5f96" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如你所见，数据包括年份、巴西州、月份、野火数量和日期。我们可以从计算每个州的火灾平均数开始分析。我们在熊猫身上使用了“分组”方法:</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="3580" class="lu lv it lq b gy lw lx l ly lz">df = df.groupby(‘state’)[‘number’].mean().reset_index()</span><span id="02a9" class="lu lv it lq b gy ma lx l ly lz">print(df)</span></pre><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/59c94c6a8bbc51fbbc6c9e9753a3c34e.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*aBgfU-2upXVjUWE8LnIryg.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Mean Number of fires for each state</figcaption></figure><p id="cab7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们也可以使用 python 中的“seaborn”包来实现这一点:</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="c974" class="lu lv it lq b gy lw lx l ly lz">import seaborn as sns</span><span id="80c4" class="lu lv it lq b gy ma lx l ly lz">bar = sns.barplot(df['state'], df['number'], color = "red")<br/>bar.set_xticklabels(df['state'], rotation=45)</span></pre><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi md"><img src="../Images/8374f20e471f7838cb76829df97501e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y7p1vV59YsrYqp8RMh5RTQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Mean Number of fires for each state</figcaption></figure><p id="bf92" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以查看每个州火灾数量的标准偏差:</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="5b85" class="lu lv it lq b gy lw lx l ly lz">df = df.groupby(‘state’)[‘number’].mean().reset_index()<br/>bar = sns.barplot(df['state'], df['number'], color = "black")<br/>bar.set_xticklabels(df['state'], rotation=45)</span></pre><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi me"><img src="../Images/d23a711ca6a2aede42afe09d521cbe2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_FmdboAfMYufNSLF5BE2vQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Standard Deviation in Number of fires for each state</figcaption></figure><p id="c545" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以查看各州火灾数量的分布情况:</p><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mf"><img src="../Images/870b9d130f528d403998ab57cd8564e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u_cNPycg5NiDlG1KSUn8VA.png"/></div></div></figure><p id="b5f7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以看到森林火灾数量的分布是长尾的。巴西各州的情况也是如此。</p><p id="cc97" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们想要查看单个状态的集合，我们可以如下操作:</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="646a" class="lu lv it lq b gy lw lx l ly lz">print(set(df['state'].values))</span></pre><p id="882c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">当被执行时，其给出:</p><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/96b8b0b7c545a68ab5f6d2571a38b3a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*3EUdLkDH7YGB32gg0NEHlw.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">The unique set of states</figcaption></figure><p id="0e1d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这在您有一个大型数据集并希望分析特定的数据段或数据组时尤其有用。在这种情况下，我们只有 22 个州，现在让我们称它们为类别。有些情况下，您可能有数百万行，并且对一组可能只有 5 个值的类别感兴趣。手动查看 excel 文件来计算类别的数量是非常困难的。此外，您可以查看每个类别有多少数据可用:</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="6c4a" class="lu lv it lq b gy lw lx l ly lz">from collections import Counter <br/>print(Counter(df['state'].values))</span></pre><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/3b4f33bfbf3478f67f4fdc06e08c05d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*L6s_Dde8bo_Su6NyEngWfg.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">The number of rows/records for each state</figcaption></figure><p id="22d7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">小警告:对于大于 1 GB 的数据集，pandas 非常慢，最好使用其他工具进行分析。其他工具包括 Spark clusters、Hadoop 和 Hive。因为这些工具需要大量的时间来学习和设置其他替代方法，包括将数据分成几批，使用 pandas，以及使用 numpy 数组。</p><p id="0b08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">建立精确预测模型的一个好方法是找到将整个数据集分成具有相似属性的聚类的方法。如果我们希望查看单个州的数据，比如说“罗赖马”，我们可以过滤数据框:</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="dc04" class="lu lv it lq b gy lw lx l ly lz">df = df[df['state'] == 'Roraima']<br/>df = df.head().reset_index()<br/>df.drop('index')<br/>print(df.head())</span></pre><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/2ea03ed3990159699c42d9ad50796d16.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/format:webp/1*2_Pe1toSee1ygjBKDJDlTQ.png"/></div></figure><p id="1b8f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以通过绘制罗赖马州 1 月份的野火数量与年份的对比图，来寻找任何给定月份和州的野火数量的规律:</p><pre class="ll lm ln lo gt lp lq lr ls aw lt bi"><span id="efe6" class="lu lv it lq b gy lw lx l ly lz">import matplotlib.pyplot as plt<br/>df = df[df['month'] == 'Janeiro']<br/>plt.plot(df['year'], df['number'])<br/>plt.xlabel('Year')<br/>plt.ylabel("Number of Wildfires")<br/>plt.title("Wildfires in Roraima in the month of January")</span></pre><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/75db9279c87a446d9c7b2b51e3c6dd17.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*j0KVoYWhaGuNy84gwr2SUw.png"/></div></figure><p id="dadd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您还可以针对不同的州和月份执行此分析:</p><figure class="ll lm ln lo gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mk"><img src="../Images/e9b6d2594b349e8a97ccf74d3921d654.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CMzhDY4E_UwJh4Dm8qhYbQ.png"/></div></div></figure><p id="a893" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将为您的模型构建过程提供信息。一个有趣的方法是为每个州和每个月建立一个模型。这不是唯一的前进道路，但探索性数据分析的目的是了解您的数据，并随后从特征工程和模型构建中获得灵感。</p><p id="14d6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在下一篇文章中，我们将使用 python 机器学习包“sklearn”中的随机森林算法建立一个预测模型。</p><p id="6b83" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读！</p></div></div>    
</body>
</html>