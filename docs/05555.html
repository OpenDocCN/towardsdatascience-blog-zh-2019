<html>
<head>
<title>Feature Engineering and Algorithm Accuracy for the Titanic Dataset</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">泰坦尼克号数据集的特征工程和算法精度</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/feature-engineering-and-algorithm-accuracy-for-the-titanic-dataset-5891cfa5a4ac?source=collection_archive---------18-----------------------#2019-08-15">https://towardsdatascience.com/feature-engineering-and-algorithm-accuracy-for-the-titanic-dataset-5891cfa5a4ac?source=collection_archive---------18-----------------------#2019-08-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="87b7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">机器学习最流行的数据集之一对应于泰坦尼克号事故</p><p id="24bb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这里，我们正在处理这个数据集中的特征，试图发现选择不同的特征对一些基本的最大似然算法的准确性的影响。这些特征对应于数据的头部</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/43f44ab91be90714eb416bab3c669b61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FA80KdlZtxLxiIX-5QDEUg.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">the head of the dataset (first 5 rows)</figcaption></figure><p id="4d80" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">数据集显示了一名乘客是否幸存(1)以及在几列中对该乘客的描述，如他的阶级(Pclass)、年龄等。下表<a class="ae le" href="https://www.kaggle.com/c/titanic" rel="noopener ugc nofollow" target="_blank">(从 kaggle 中提取)</a>对这些特性进行了描述:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi lf"><img src="../Images/6b78baf86e7a469135b39a8575fce990.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JXzGQOQzclVuYH2gdGU3nw.png"/></div></div></figure><p id="5104" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们做的第一个图形探索性分析显示了特征之间的一些关系</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi lg"><img src="../Images/6f10fc90e8063f6817b86984a724d874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CFsp7DmdYrY-jEbo.png"/></div></div></figure><p id="4294" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以为一些特殊的功能关闭它，例如 SibSp 和 Parch</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi lh"><img src="../Images/365282a7a6d0997e63f74f9c632e4620.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/0*DRkCuNpOGjUhWl5I.png"/></div></figure><p id="418d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这幅图描述了一个乘客是否幸存，基于他/她同行的家庭成员的数量。不过，他的关系并不清楚。</p><p id="574f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们建议在随机森林分类器下传递这些特征，以更好地理解它们对存活率的影响:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi li"><img src="../Images/12514191c4d3001ba12db413bf1cdf58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1008/format:webp/0*bB29K4u50M77c7xg.png"/></div></figure><p id="6d1b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">结果并不清楚，这就是为什么我们创造了新的功能，如“孤独”或“家庭大小”。</p><p id="d0b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一个图显示了这些特征对幸存乘客数量的影响:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi lj"><img src="../Images/bcdb32486566bf5adf8fd21a3808688f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ud7zMRB01OwkFAsp.png"/></div></div></figure><p id="68e0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">同样，我们可以探讨年龄和阶级之间的关系:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi lk"><img src="../Images/16f790f3506be37c9b5c16c485bbb25e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1g_bdIQpUd-gYgkx.png"/></div></div></figure><p id="8fc2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，当我们再次训练一个<strong class="js iu">随机森林算法时，这种关系更加清晰。</strong>下一个图显示了基于乘客年龄和阶级的存活率</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/7c73cc7c31b83fb43b1206623f1e67db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/0*DHLQpnvBBoMiUZvK.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Before grouping Age feature</figcaption></figure><p id="5769" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这很好，但是，为年龄创建更小的组，算法显示出更好的洞察力:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/ddc9c3fc8c18b7b4d0f2e5e54ff620d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/0*N5xQHbjjpqmnuPlW.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">After grouping Age feature</figcaption></figure><p id="04d6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这种表示更清楚，因此我们期望在年龄列中使用较小的组(而不是连续值)的学习算法会有更好的结果</p><p id="e0b2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">此外，我们还可以检查新功能是否为我们未来的模式增加了价值:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/ce655c0d3988487da9cc3fd714860d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/0*enk59W-Hp736sayc.png"/></div></figure><p id="32a9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这不是很清楚，所以我们也可以评估所有特征的熵，并删除这些可能产生比价值更多的噪声的列:</p><pre class="kp kq kr ks gt lm ln lo lp aw lq bi"><span id="8a20" class="lr ls it ln b gy lt lu l lv lw">Survived column entropy : 0.96<br/>Pclass column entropy : 1.44<br/>Age column entropy : 1.4<br/>SibSp column entropy : 1.34<br/>Parch column entropy : 1.13<br/>Fare column entropy : 1.61<br/>FamilySize column entropy : 1.82<br/>IsAlone column entropy : 0.97<br/>Age*Class column entropy : 2.14<br/>female column entropy : 0.94<br/>male column entropy : 0.94<br/>C column entropy : 0.7<br/>Q column entropy : 0.42<br/>S column entropy : 0.85</span></pre></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="2378" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">训练模特</strong></p><p id="4bcc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们测试了 4 个选项，第一个是在功能没有任何变化的情况下进行的训练(即，没有上述部分的工作):</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi me"><img src="../Images/3752a460cbede4c6d70e1acc26989827.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kZ9X3rMW9-Ohxd2UKx-y1w.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">No features, we use only the columns of the original data</figcaption></figure><p id="0784" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">下一次尝试包括了第一部分中创建的所有功能:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mf"><img src="../Images/dc03022715e064c19c3936611ed5815c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XbtLALV28nrdzBSG5IHm4g.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">accuracy of model with<strong class="bd mg"> all features</strong></figcaption></figure><p id="00f2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我们只包括那些用熵&lt; 2, that is droping those columns that maybe add more noise than value</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mf"><img src="../Images/24fbcba76b9f46158673953df5e92760.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rn1oQJHrDRcDs3_oM6ZxbA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Feature with <strong class="bd mg">entropy &lt; 2</strong></figcaption></figure><p id="6d6b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">it seems that the global accuracy of all the models is increasing</p><p id="84c4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">Next, we select only those features with entropy &lt; 1,5 :</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mh"><img src="../Images/062854d0bf596479abfcf5517754a5a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ofXtRDzL5PtXvhIT0Qdk1A.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Feature with <strong class="bd mg">entropy &lt; 1,5</strong></figcaption></figure><p id="3231" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">It seems this feature combination give the better accuracy for all the algorithms</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="3d1e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">训练 KNN </strong>的特征</p><p id="19e3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">另一点，例如，当训练一个有几个邻居的 KNN 时，结果取决于定义的特征。</p><p id="b2f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们绘制了几个邻居的 KNN 的精确度:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mi"><img src="../Images/5d71addf4923ee720c1aa00d4d3b0f06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xZwK315Z-wxV5EmqGI9y9Q.png"/></div></div></figure><p id="8674" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该图清楚地显示了定义要素将如何改变算法的输出，甚至是在选择其参数之前(例如，KNN 的邻域数)</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="aded" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个“<em class="mj">实验</em>的代码在这里:</p><div class="mk ml gp gr mm mn"><a href="https://www.kaggle.com/felipesanchezgarzon/eda-feature-engineering-comparison-ml-accuracy" rel="noopener  ugc nofollow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd iu gy z fp ms fr fs mt fu fw is bi translated">EDA，特征工程比较=&gt; ML 精度</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">使用泰坦尼克号的数据:灾难中的机器学习</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">www.kaggle.com</p></div></div><div class="mw l"><div class="mx l my mz na mw nb ky mn"/></div></div></a></div><p id="1997" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">感谢阅读！！！</strong></p><blockquote class="nc"><p id="d388" class="nd ne it bd nf ng nh ni nj nk nl kn dk translated">如果你想继续阅读这样的故事，你可以<a class="ae le" href="https://fesan818181.medium.com/membership" rel="noopener">在这里订阅！</a></p></blockquote></div></div>    
</body>
</html>