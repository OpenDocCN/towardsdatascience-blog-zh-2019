<html>
<head>
<title>Anomaly Detection with Isolation Forest &amp; Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用隔离林和可视化进行异常检测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/anomaly-detection-with-isolation-forest-visualization-23cd75c281e2?source=collection_archive---------1-----------------------#2019-02-10">https://towardsdatascience.com/anomaly-detection-with-isolation-forest-visualization-23cd75c281e2?source=collection_archive---------1-----------------------#2019-02-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9e188f35bedd02df015c123e2bf55ff2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4P2vi2YVj4nHbU5SZ9i7Ig.png"/></div></div></figure><p id="33f4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">指标的突然上升或下降是一种<strong class="ka ir">异常</strong>行为，这两种情况都需要注意。如果我们在建模之前有关于异常行为的信息，异常的检测可以通过监督学习算法来解决，但是最初没有反馈，很难识别这些点。因此，我们使用像<strong class="ka ir">隔离森林</strong>、一类 SVM 和 LSTM 这样的算法，将这建模为一个<strong class="ka ir">无监督</strong>问题。在这里，我们使用隔离林来识别异常。</p><p id="9a2a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里的数据是一个<strong class="ka ir">用例</strong>(如收入、流量等)的一天水平，有 12 个指标。我们必须首先识别用例级别是否有异常。然后为了更好的可操作性，我们<strong class="ka ir">深入</strong>到单个指标并识别其中的异常。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="f9d2" class="lf lg iq lb b gy lh li l lj lk">import numpy as np # linear algebra<br/>import pandas as pd # data processing, CSV file I/O (e.g. pd.read_csv)</span><span id="7ec5" class="lf lg iq lb b gy ll li l lj lk">warnings.filterwarnings('ignore')<br/>import os<br/>print(os.listdir("../input"))</span><span id="9e9d" class="lf lg iq lb b gy ll li l lj lk">df=pd.read_csv("../input/metric_data.csv")<br/>df.head()</span></pre><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div class="gh gi lm"><img src="../Images/78853c1886ecc4b2857824ea62028acc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*ye2ZfSbdtbZMacYwPPz2ww.png"/></div></figure><p id="7553" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在在数据帧上做一个<strong class="ka ir">透视</strong>来创建一个数据帧，其中所有指标都在<strong class="ka ir">日期级别</strong>。拉平多索引透视数据框架，并用 0 处理 na。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="b363" class="lf lg iq lb b gy lh li l lj lk">metrics_df=pd.pivot_table(df,values='actuals',index='load_date',columns='metric_name')<br/>metrics_df.reset_index(inplace=True)<br/>metrics_df.fillna(0,inplace=True)<br/>metrics_df</span></pre><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ln"><img src="../Images/ab45950ff02fa6cb9d6345744126e7cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5-_a67tjd4oP51bmJt8lxA.png"/></div></div></figure><p id="cb06" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">隔离林试图<strong class="ka ir">分离数据中的每个点</strong>。在 2D 的情况下，它随机创建一条线，并试图挑出一个点。<strong class="ka ir">此处，异常点可以分几步分离，而较近的正常点可能需要更多的步骤才能分离。</strong></p><p id="976b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我不会深入每个参数。<strong class="ka ir">污染</strong>在这里是一个重要的参数，我是在用 2D 图中的异常值验证其结果的反复试验的基础上得出它的值的。它代表数据中异常点的百分比<strong class="ka ir">。</strong></p><p id="583f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我在这里使用<strong class="ka ir"> sklearn 的隔离森林</strong>，因为它是一个只有几个月数据的小数据集，而最近<strong class="ka ir"> h2o 的</strong>隔离森林也可用，它在大容量数据集上更具可扩展性，值得探索。</p><p id="27db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">更多算法细节可以在这里找到:<a class="ae lo" href="https://cs.nju.edu.cn/zhouzh/zhouzh.files/publication/icdm08b.pdf" rel="noopener ugc nofollow" target="_blank">https://cs . nju . edu . cn/zhouzh/zhouzh . files/publication/ICD m08 b . pdf</a></p><p id="bbef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">关于 H2O 隔离森林的更多详情:<a class="ae lo" href="https://github.com/h2oai/h2o-tutorials/tree/master/tutorials/isolation-forest" rel="noopener ugc nofollow" target="_blank">https://github . com/h2oai/H2O-tutorials/tree/master/tutorials/Isolation-forest</a></p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="82e4" class="lf lg iq lb b gy lh li l lj lk">metrics_df.columns<br/>#specify the 12 metrics column names to be modelled<br/>to_model_columns=metrics_df.columns[1:13]<br/>from sklearn.ensemble import IsolationForest<br/>clf=IsolationForest(n_estimators=100, max_samples='auto', contamination=float(.12), \<br/>                        max_features=1.0, bootstrap=False, n_jobs=-1, random_state=42, verbose=0)<br/>clf.fit(metrics_df[to_model_columns])</span><span id="515b" class="lf lg iq lb b gy ll li l lj lk">pred = clf.predict(metrics_df[to_model_columns])<br/>metrics_df['anomaly']=pred<br/>outliers=metrics_df.loc[metrics_df['anomaly']==-1]<br/>outlier_index=list(outliers.index)<br/>#print(outlier_index)<br/>#Find the number of anomalies and normal points here points classified -1 are anomalous<br/>print(metrics_df['anomaly'].value_counts())</span></pre><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/7b1fd23af61ab932674833af6b4f4a2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*dBleFTaHF4NVkOHVa4fUzA.png"/></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">Number of outliers are 15 indicated by -1</figcaption></figure><p id="d7a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我们有 12 个指标，根据这些指标，我们根据隔离林对异常进行了分类。我们将尝试<strong class="ka ir">可视化</strong>结果，并检查分类是否有意义。</p><p id="00a6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将指标标准化并拟合到<strong class="ka ir"> PCA </strong>中，以减少维度数量，然后在 3D 中绘制它们，突出异常。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="79e9" class="lf lg iq lb b gy lh li l lj lk">import matplotlib.pyplot as plt<br/>from sklearn.decomposition import PCA<br/>from sklearn.preprocessing import StandardScaler<br/>from mpl_toolkits.mplot3d import Axes3D<br/>pca = PCA(n_components=3)  # Reduce to k=3 dimensions<br/>scaler = StandardScaler()<br/>#normalize the metrics<br/>X = scaler.fit_transform(metrics_df[to_model_columns])<br/>X_reduce = pca.fit_transform(X)</span><span id="31c9" class="lf lg iq lb b gy ll li l lj lk">fig = plt.figure()<br/>ax = fig.add_subplot(111, projection='3d')<br/>ax.set_zlabel("x_composite_3")</span><span id="8609" class="lf lg iq lb b gy ll li l lj lk"># Plot the compressed data points<br/>ax.scatter(X_reduce[:, 0], X_reduce[:, 1], zs=X_reduce[:, 2], s=4, lw=1, label="inliers",c="green")</span><span id="8102" class="lf lg iq lb b gy ll li l lj lk"># Plot x's for the ground truth outliers<br/>ax.scatter(X_reduce[outlier_index,0],X_reduce[outlier_index,1], X_reduce[outlier_index,2],<br/>           lw=2, s=60, marker="x", c="red", label="outliers")<br/>ax.legend()<br/>plt.show()</span></pre><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lu"><img src="../Images/103451f858d4f9e246ad12bdd1979499.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q5JHUtqz_Fc5VTbdCIyFwg.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">3D plot of outliers highlighted</figcaption></figure><p id="0743" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，当我们看到 3D 点时，异常点大多远离正常点群，但是 2D 点将帮助我们更好地判断。让我们试着将相同的 fed 绘制成缩减到二维的 PCA。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="c513" class="lf lg iq lb b gy lh li l lj lk">from sklearn.decomposition import PCA<br/>pca = PCA(2)<br/>pca.fit(metrics_df[to_model_columns])</span><span id="75c2" class="lf lg iq lb b gy ll li l lj lk">res=pd.DataFrame(pca.transform(metrics_df[to_model_columns]))</span><span id="ee44" class="lf lg iq lb b gy ll li l lj lk">Z = np.array(res)</span><span id="43e8" class="lf lg iq lb b gy ll li l lj lk">plt.title("IsolationForest")<br/>plt.contourf( Z, cmap=plt.cm.Blues_r)</span><span id="94c9" class="lf lg iq lb b gy ll li l lj lk">b1 = plt.scatter(res[0], res[1], c='green',<br/>                 s=20,label="normal points")</span><span id="0094" class="lf lg iq lb b gy ll li l lj lk">b1 =plt.scatter(res.iloc[outlier_index,0],res.iloc[outlier_index,1], c='green',s=20,  edgecolor="red",label="predicted outliers")<br/>plt.legend(loc="upper right")<br/>plt.show()</span></pre><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/17ecb9d1973598ac9d5a241aa862e83d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yuOHjmcGGCxj2hh-oVcCKw.png"/></div></div></figure><p id="862b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，2D 图给了我们一个清晰的图像，该算法正确地对用例中的异常点进行了分类。</p><p id="b101" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">异常以<strong class="ka ir">红边</strong>突出显示，正常点以<strong class="ka ir">绿点</strong>表示。</p><p id="0df9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里的<strong class="ka ir">污染</strong>参数起了很大的作用。<br/>我们这里的想法是捕捉系统中所有的异常点。<br/>因此<strong class="ka ir">最好将少数可能正常的点识别为异常点(假阳性)，但不要错过捕捉异常点(真阴性)</strong>。(因此，我指定 12%为污染，因使用情形而异)</p><p id="885f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我们已经在用例层面上理解了<strong class="ka ir">异常行为</strong>。但是，要对<strong class="ka ir">异常</strong>采取行动，单独识别并提供关于<strong class="ka ir">it 中哪些指标异常的信息非常重要。</strong></p><p id="4b06" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当业务用户直观地观察(突然的下降/峰值)并采取行动时，算法识别的异常应该是有意义的。因此，在这个过程中，创建一个良好的可视化同样重要。</p><p id="3790" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此函数在时间序列上创建实际值图，并在其上突出显示异常点。也是一个提供实际数据、变化和基于异常的条件格式的表格。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="8bee" class="lf lg iq lb b gy lh li l lj lk">from plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot<br/>import plotly.plotly as py<br/>import matplotlib.pyplot as plt<br/>from matplotlib import pyplot<br/>import plotly.graph_objs as go<br/>init_notebook_mode(connected=True)<br/>def plot_anomaly(df,metric_name):<br/>    df.load_date = pd.to_datetime(df['load_date'].astype(str), format="%Y%m%d")<br/>    dates = df.load_date<br/>    #identify the anomaly points and create a array of its values for plot<br/>    bool_array = (abs(df['anomaly']) &gt; 0)<br/>    actuals = df["actuals"][-len(bool_array):]<br/>    anomaly_points = bool_array * actuals<br/>    anomaly_points[anomaly_points == 0] = np.nan<br/>    #A dictionary for conditional format table based on anomaly<br/>    color_map = {0: "'rgba(228, 222, 249, 0.65)'", 1: "yellow", 2: "red"}<br/>    <br/>    #Table which includes Date,Actuals,Change occured from previous point<br/>    table = go.Table(<br/>        domain=dict(x=[0, 1],<br/>                    y=[0, 0.3]),<br/>        columnwidth=[1, 2],<br/>        # columnorder=[0, 1, 2,],<br/>        header=dict(height=20,<br/>                    values=[['&lt;b&gt;Date&lt;/b&gt;'], ['&lt;b&gt;Actual Values &lt;/b&gt;'], ['&lt;b&gt;% Change &lt;/b&gt;'],<br/>                            ],<br/>                    font=dict(color=['rgb(45, 45, 45)'] * 5, size=14),<br/>                    fill=dict(color='#d562be')),<br/>        cells=dict(values=[df.round(3)[k].tolist() for k in ['load_date', 'actuals', 'percentage_change']],<br/>                   line=dict(color='#506784'),<br/>                   align=['center'] * 5,<br/>                   font=dict(color=['rgb(40, 40, 40)'] * 5, size=12),<br/>                   # format = [None] + [",.4f"] + [',.4f'],<br/>                   # suffix=[None] * 4,<br/>                   suffix=[None] + [''] + [''] + ['%'] + [''],<br/>                   height=27,<br/>                   fill=dict(color=[test_df['anomaly_class'].map(color_map)],#map based on anomaly level from dictionary<br/>                   )<br/>                   ))<br/>    #Plot the actuals points<br/>    Actuals = go.Scatter(name='Actuals',<br/>                         x=dates,<br/>                         y=df['actuals'],<br/>                         xaxis='x1', yaxis='y1',<br/>                         mode='line',<br/>                         marker=dict(size=12,<br/>                                     line=dict(width=1),<br/>                                     color="blue"))</span><span id="6eb1" class="lf lg iq lb b gy ll li l lj lk">#Highlight the anomaly points<br/>    anomalies_map = go.Scatter(name="Anomaly",<br/>                               showlegend=True,<br/>                               x=dates,<br/>                               y=anomaly_points,<br/>                               mode='markers',<br/>                               xaxis='x1',<br/>                               yaxis='y1',<br/>                               marker=dict(color="red",<br/>                                           size=11,<br/>                                           line=dict(<br/>                                               color="red",<br/>                                               width=2)))</span><span id="4711" class="lf lg iq lb b gy ll li l lj lk">axis = dict(<br/>        showline=True,<br/>        zeroline=False,<br/>        showgrid=True,<br/>        mirror=True,<br/>        ticklen=4,<br/>        gridcolor='#ffffff',<br/>        tickfont=dict(size=10))</span><span id="ddf0" class="lf lg iq lb b gy ll li l lj lk">layout = dict(<br/>        width=1000,<br/>        height=865,<br/>        autosize=False,<br/>        title=metric_name,<br/>        margin=dict(t=75),<br/>        showlegend=True,<br/>        xaxis1=dict(axis, **dict(domain=[0, 1], anchor='y1', showticklabels=True)),<br/>        yaxis1=dict(axis, **dict(domain=[2 * 0.21 + 0.20, 1], anchor='x1', hoverformat='.2f')))</span><span id="66c6" class="lf lg iq lb b gy ll li l lj lk">fig = go.Figure(data=[table, anomalies_map, Actuals], layout=layout)</span><span id="e976" class="lf lg iq lb b gy ll li l lj lk">iplot(fig)<br/>pyplot.show()</span></pre><p id="7b7e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">查找百分比变化的辅助功能，根据<strong class="ka ir">严重性</strong>对异常进行分类。</p><p id="2a85" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">预测功能</strong>基于来自<strong class="ka ir">决策功能</strong>的结果将数据分类为异常。<br/>比方说，如果企业需要发现可能会产生影响的下一级异常情况，这可以用来识别这些点。</p><p id="f5ed" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">前 12 个分位数被识别为异常(高严重性)，根据决策函数，我们在这里识别 12–24 个分位数点，并将其分类为低严重性异常。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="d75d" class="lf lg iq lb b gy lh li l lj lk">def classify_anomalies(df,metric_name):<br/>    df['metric_name']=metric_name<br/>    df = df.sort_values(by='load_date', ascending=False)<br/>    #Shift actuals by one timestamp to find the percentage chage between current and previous data point<br/>    df['shift'] = df['actuals'].shift(-1)<br/>    df['percentage_change'] = ((df['actuals'] - df['shift']) / df['actuals']) * 100<br/>    #Categorise anomalies as 0-no anomaly, 1- low anomaly , 2 - high anomaly<br/>    df['anomaly'].loc[df['anomaly'] == 1] = 0<br/>    df['anomaly'].loc[df['anomaly'] == -1] = 2<br/>    df['anomaly_class'] = df['anomaly']<br/>    max_anomaly_score = df['score'].loc[df['anomaly_class'] == 2].max()<br/>    medium_percentile = df['score'].quantile(0.24)<br/>    df['anomaly_class'].loc[(df['score'] &gt; max_anomaly_score) &amp; (df['score'] &lt;= medium_percentile)] = 1<br/>    return df</span></pre><p id="57ed" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">识别单个指标的异常，并绘制结果图。</p><p id="576b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> X 轴—日期<br/> Y 轴—实际值和异常点。</strong></p><p id="c40a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">指标的实际值显示在<strong class="ka ir">蓝线</strong>中，异常点突出显示为<strong class="ka ir">红点</strong>。</p><p id="ad87" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在表中，背景<strong class="ka ir">红色</strong>表示高异常，<strong class="ka ir">黄色</strong>表示低异常。</p><pre class="kw kx ky kz gt la lb lc ld aw le bi"><span id="e8c9" class="lf lg iq lb b gy lh li l lj lk">import warnings  <br/>warnings.filterwarnings('ignore')<br/>for i in range(1,len(metrics_df.columns)-1):<br/>    clf.fit(metrics_df.iloc[:,i:i+1])<br/>    pred = clf.predict(metrics_df.iloc[:,i:i+1])<br/>    test_df=pd.DataFrame()<br/>    test_df['load_date']=metrics_df['load_date']<br/>    #Find decision function to find the score and classify anomalies<br/>    test_df['score']=clf.decision_function(metrics_df.iloc[:,i:i+1])<br/>    test_df['actuals']=metrics_df.iloc[:,i:i+1]<br/>    test_df['anomaly']=pred<br/>    #Get the indexes of outliers in order to compare the metrics     with use case anomalies if required<br/>    outliers=test_df.loc[test_df['anomaly']==-1]<br/>    outlier_index=list(outliers.index)<br/>    test_df=classify_anomalies(test_df,metrics_df.columns[i])<br/>    plot_anomaly(test_df,metrics_df.columns[i])</span></pre><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lw"><img src="../Images/ce4216f0ec3d8fabaf79f7075f463aea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6V6nnv_mgDpk7KGdA5QJfQ.png"/></div></div></figure><figure class="kw kx ky kz gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lx"><img src="../Images/cedaae094e4d1566c4c94ca08af45a61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aFJR22pl40PMOkP84u3Hdw.png"/></div></div></figure><p id="6ed4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">是的，从这些图中，我们能够捕捉到指标中的<strong class="ka ir">突如其来的峰值、下降并投射出来。</strong></p><p id="1409" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，<strong class="ka ir">条件格式表</strong>为我们提供了对数据等情况的洞察，不存在(值为零)的数据被捕获为高异常，这可能是数据处理中管道破裂的<strong class="ka ir">潜在结果，需要修复并突出显示高和低级别异常。</strong></p><p id="64bb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个怎么用？</p><p id="e6ca" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果<strong class="ka ir">当前时间戳异常</strong>对于一个用例<strong class="ka ir">向下钻</strong>到指标，找出时间戳中异常高的指标集，对其执行 RCA。</p><p id="cae4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，来自业务用户的<strong class="ka ir">反馈</strong>可以在数据中更新，这将有助于将此转化为监督/半监督学习问题，并比较它们的结果。</p><p id="6018" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里的增强将是<strong class="ka ir">组合连续发生的异常行为。</strong>例如，会导致几天指标峰值的大销售日可以显示为单个行为。</p></div></div>    
</body>
</html>