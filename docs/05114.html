<html>
<head>
<title>Machine Learning Infrastructure with Amazon SageMaker and Terraform — A Case of Fraud Detection</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">亚马逊 SageMaker 和 Terraform 的机器学习基础设施——欺诈检测案例</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/machine-learning-infrastructure-with-amazon-sagemaker-and-terraform-a-case-of-fraud-detection-ab6896144781?source=collection_archive---------11-----------------------#2019-07-31">https://towardsdatascience.com/machine-learning-infrastructure-with-amazon-sagemaker-and-terraform-a-case-of-fraud-detection-ab6896144781?source=collection_archive---------11-----------------------#2019-07-31</a></blockquote><div><div class="fc if ig ih ii ij"/><div class="ik il im in io"><div class=""/><figure class="gm go jp jq jr js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj jo"><img src="../Images/cbd12829a3f850c7fe2178e760d6a8e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*td9LJrrs9vCcnQr5Ta72Vw.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Image by <a class="ae kd" href="https://pixabay.com/users/krzysztof-m-1363864/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3442529" rel="noopener ugc nofollow" target="_blank">krzysztof-m</a> from <a class="ae kd" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3442529" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><p id="cd62" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi lc translated">想到机器学习和它的“深度”孩子，深度学习，人们会立即想象出一个只有通过巨大的计算能力才能解决的复杂网络。大数据的出现，特别是<strong class="kg is">云机器学习平台</strong>，极大地简化了更广泛人群对这些计算能力的访问。</p><p id="f52e" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">一个<strong class="kg is">云机器学习平台</strong>提供了一个完全托管的基础设施，它可以自动扩展，与最新的数据技术集成，并配备了许多内置算法。这使得任何开发人员和数据科学家都能够快速构建和部署模型，而无需担心底层复杂的基础设施。</p><p id="764d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><a class="ae kd" href="https://aws.amazon.com/sagemaker/" rel="noopener ugc nofollow" target="_blank"> <strong class="kg is">亚马逊 SageMaker </strong> </a>是<strong class="kg is">亚马逊 Web Services (AWS) </strong>提供的云端机器学习平台。</p><p id="157d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"> AWS 解决方案构建团队</strong>分享了许多基于亚马逊 SageMaker 构建的不同<a class="ae kd" href="https://aws.amazon.com/solutions/?solutions-all.sort-by=item.additionalFields.sortDate&amp;solutions-all.sort-order=desc&amp;awsf.AWS-Product%20Category=categories%23ai-ml" rel="noopener ugc nofollow" target="_blank">解决方案</a>，涵盖了电信预测分析或预测性列车设备维护等主题。</p><p id="602a" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">在这篇文章中，我将以</strong> <a class="ae kd" href="https://aws.amazon.com/solutions/fraud-detection-using-machine-learning/" rel="noopener ugc nofollow" target="_blank"> <strong class="kg is">信用卡欺诈检测解决方案</strong> </a> <strong class="kg is">为例，解释如何使用 Terraform 建立支持基础设施，同时将解决方案分解成更小的块。</strong></p></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><p id="b11c" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="ls">这篇文章的目标读者是对学习支持机器学习的云基础设施和快速浏览机器学习工作流程感兴趣的读者。</em></p><p id="fdcc" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"> <em class="ls">免责声明</em> </strong> <em class="ls">:我不自称任何机器学习方面的专业知识。这篇文章中所有的机器学习工作都来自 AWS 网站。我主要关注云基础设施和开发运维。我确实有数据分析的背景，使用过 R 进行金融预测和风险管理计算，但这不是这里的主要目的。</em></p></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><h1 id="d763" class="lt lu ir bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">A.介绍</h1><p id="1705" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">这个解决方案的目标是预测给定的信用卡交易是否是欺诈性的。</p><p id="2fe9" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这是一个二元(是/否)分类，通常需要逻辑回归算法，在 Amazon SageMaker 的上下文中，该算法相当于带有二元分类器预测器类型的内置线性学习器算法。</p><p id="98a0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="ls">本文的完整项目托管在</em> <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> Github </em> </a> <em class="ls">上。</em></p></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><h1 id="33b4" class="lt lu ir bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">B.解决方案概述</h1><p id="859c" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">该解决方案有 3 个主要部分:</p><ol class=""><li id="df6d" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb nb nc nd ne bi translated">基于示例信用卡交易数据集训练模型。</li><li id="6022" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">将模型存储在可访问的界面中。</li><li id="6c60" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">使用该模型来预测生成的交易是否是欺诈性的。</li></ol><p id="b0a0" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">这些是典型的机器学习过程，看起来像这样:</p><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj nk"><img src="../Images/8ff7fa62f0c784a5e0fa58d208738610.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DvVLjGDOYgvm7YcawpqXcw.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Source: <a class="ae kd" href="https://hackernoon.com/a-brief-overview-of-automatic-machine-learning-solutions-automl-2826c7807a2a" rel="noopener ugc nofollow" target="_blank">https://hackernoon.com/a-brief-overview-of-automatic-machine-learning-solutions-automl-2826c7807a2a</a></figcaption></figure></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><h1 id="9fd2" class="lt lu ir bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">C.实施演练</h1><p id="d79a" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">让我们根据以上 3 个部分来实现。</p><h2 id="ccdb" class="np lu ir bd lv nq nr dn lz ns nt dp md kp nu nv mh kt nw nx ml kx ny nz mp oa bi translated">1.基于示例信用卡交易数据集训练模型。</h2><p id="058d" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">要训练模型，需要以下组件:</p><p id="7aed" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">我</strong>。信用卡交易<strong class="kg is">数据集</strong>，其中欺诈交易已经被识别(也称为标记)。</p><p id="562a" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">二</strong>。存储为 Docker 映像的机器学习<strong class="kg is">算法</strong>(对于外行来说相当于 CD-ROM)。</p><p id="8437" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">三</strong>。一个<strong class="kg is">服务器</strong>，带有预加载的机器学习库，供数据科学家准备、可视化和增强训练数据，然后设置算法的参数(通俗地说；机器学习中的超参数说话)。</p><p id="4a63" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">四世</strong>。<strong class="kg is">服务器</strong>使用特定算法训练模型，这本质上是机器学习的“<strong class="kg is">学习</strong>”部分，也是需要最多计算能力的部分。</p><p id="ff80" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">亚马逊 SageMaker </strong>提供<strong class="kg is"> ii </strong>、<strong class="kg is"> iii </strong>和<strong class="kg is"> iv </strong>作为托管服务，而<strong class="kg is"> i </strong>取自公共数据源。</p><h2 id="ab69" class="np lu ir bd lv nq nr dn lz ns nt dp md kp nu nv mh kt nw nx ml kx ny nz mp oa bi translated">1a。基础设施</h2><p id="7b4e" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">这是它开始变得技术性的地方。如果对基础设施不感兴趣，可以跳过这个。</p><p id="f0de" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">就这部分解决方案的基础设施而言，我们只需要设置<strong class="kg is"> iii </strong>(称为 notebook 实例)，其中包含了所有必要的库和一个<a class="ae kd" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"><strong class="kg is">Jupyter notebook</strong></a>，基本上就是数据科学家的工具代码(cum 文档)。位于源代码库中<code class="fe ob oc od oe b">source/notebooks/sagemaker_fraud_detection.ipynb</code>的<strong class="kg is"> Jupyter 笔记本</strong>，包括使用 Amazon SageMaker 的库检索<strong class="kg is"> ii </strong>(算法)和交付<strong class="kg is"> iv </strong>(训练实例)的代码。</p><blockquote class="of og oh"><p id="cefd" class="ke kf ls kg b kh ki kj kk kl km kn ko oi kq kr ks oj ku kv kw ok ky kz la lb ik bi translated">在 AWS 世界中，一个实例通常是指一个服务器，它可以是一个虚拟机或一个容器。</p></blockquote><figure class="nl nm nn no gu js gi gj paragraph-image"><div class="gi gj ol"><img src="../Images/0b98285089a52bfc80a43f5ac17efc37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*NzZi4VYNP8dcIIGao1-UIg.png"/></div></figure><p id="7fa3" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如上所述，笔记本实例需要一些支持资源，包括:</p><ul class=""><li id="cca8" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">笔记本实例的 IAM 角色和策略:</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/9b7c27301ddf2a525f8b496f617a1af1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dv9CRcOirZ9phc-1PSK_xQ.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/iam_sagemaker.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/iam_sagemaker.tf</a></figcaption></figure><ul class=""><li id="d6e6" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">用于存放 Jupyter 笔记本的 S3 桶:</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/370f96c84c72bf1aee8e08c8826d6ee4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6_1-cEl5y7kmPLnYoRQcig.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/s3_lambda.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/s3_lambda.tf</a></figcaption></figure><ul class=""><li id="cb7f" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">用于存储训练数据以及生成的模型数据的 S3 存储桶:</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/47a4a968189977e36dcd0d056011e628.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XireoLElpe2OnUV35F0vhg.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/s3_sagemaker.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/s3_sagemaker.tf</a></figcaption></figure><ul class=""><li id="1565" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">SageMaker 笔记本实例:</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/eaa337527b416b27c5b9d610c2a06f25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9x_CeKBDSv1N2YSEb3IYPA.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/sagemaker.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/sagemaker.tf</a></figcaption></figure></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><h2 id="1b7f" class="np lu ir bd lv nq nr dn lz ns nt dp md kp nu nv mh kt nw nx ml kx ny nz mp oa bi translated">1b。笔记本实例初始化脚本</h2><p id="98aa" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">为了让 notebook 实例获得位于我们源代码中的 Jupyter 笔记本，我们必须添加一个 init 脚本，从上面的<strong class="kg is">AWS _ S3 _ bucket . fraud _ detection _ function _ bucket</strong>(我们使用<strong class="kg is"> aws_s3_bucket_object </strong>上传)下载笔记本。这是使用笔记本实例的生命周期配置完成的:</p><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/8681d5d2aed66c2efa62d1965e69a6e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e-blJ4-303IC-LE6CFPOvg.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/sagemaker.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/sagemaker.tf</a></figcaption></figure><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/12e64f9e5282681e5209180ed41d8e26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ac2HWRkkYjCH9TVka74LNw.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">sagemaker_instance_init.sh</figcaption></figure></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><h2 id="2dd7" class="np lu ir bd lv nq nr dn lz ns nt dp md kp nu nv mh kt nw nx ml kx ny nz mp oa bi translated">1c。培训用 Jupyter 笔记本逻辑</h2><p id="8670" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">以下是 Jupyter 笔记本中的主要步骤:</p><p id="3650" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">I .下载样本数据并提取特征和标签(欺诈/非欺诈)。</p><p id="895d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">二。将 n 维数组转换为 RecordIO 格式(一种高效的数据格式)。</p><pre class="nl nm nn no gu oo oe op oq aw or bi"><span id="4a4a" class="np lu ir oe b gz os ot l ou ov">import sagemaker.amazon.common as smac<br/>buf = io.BytesIO()<br/>smac.write_numpy_to_dense_tensor(buf, features, labels)</span></pre><p id="53fc" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">三</strong>。将记录数据存储到 S3 桶中。</p><pre class="nl nm nn no gu oo oe op oq aw or bi"><span id="7920" class="np lu ir oe b gz os ot l ou ov">bucket = "fraud-detection-end-to-end-demo"<br/>prefix = 'linear-learner'<br/>key = 'recordio-pb-data'</span><span id="f1d1" class="np lu ir oe b gz ow ot l ou ov">boto3.resource('s3').Bucket(bucket).Object(os.path.join(prefix, 'train', key)).upload_fileobj(buf)</span></pre><p id="e6ea" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">四</strong>。为线性学习算法检索 Docker 图像。</p><pre class="nl nm nn no gu oo oe op oq aw or bi"><span id="2a91" class="np lu ir oe b gz os ot l ou ov">container = get_image_uri(boto3.Session().region_name, 'linear-learner')</span></pre><p id="c2fd" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"> v </strong>。使用所需的实例类型和实例数量创建一个训练作业，更改算法的(超级)参数，并使用之前上传到 S3 的训练数据开始训练。您可以看到，建立一个服务器集群来训练一个模型是多么简单，并且只需为训练花费的时间付费，这是一个主要的成本节约。</p><pre class="nl nm nn no gu oo oe op oq aw or bi"><span id="d313" class="np lu ir oe b gz os ot l ou ov">import sagemaker<br/>s3_train_data = 's3://{}/{}/train/{}'.format(bucket, prefix, key)<br/>output_location = 's3://{}/{}/output'.format(bucket, prefix)</span><span id="8f59" class="np lu ir oe b gz ow ot l ou ov">linear = sagemaker.estimator.Estimator(container,                                              <br/>                                 get_execution_role(),                                       <br/>                                 train_instance_count=1,                                       <br/>                                 train_instance_type='ml.c4.xlarge',                                       <br/>                                 output_path=output_location,                                       <br/>                                 sagemaker_session=session)</span><span id="544f" class="np lu ir oe b gz ow ot l ou ov">linear.set_hyperparameters(feature_dim=features.shape[1],                                              <br/>                           predictor_type='binary_classifier',                           <br/>                           mini_batch_size=200)</span><span id="dcdf" class="np lu ir oe b gz ow ot l ou ov">linear.fit({'train': s3_train_data})</span></pre><p id="f2c2" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="ls">完整代码:</em><a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/source/notebooks/sagemaker_fraud_detection.ipynb" rel="noopener ugc nofollow" target="_blank"><em class="ls">https://github . com/q tangs/TF-fraud-detection-using-machine-learning/blob/master/source/notebooks/sage maker _ fraud _ detection . ipynb</em></a></p></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><h2 id="ea50" class="np lu ir bd lv nq nr dn lz ns nt dp md kp nu nv mh kt nw nx ml kx ny nz mp oa bi translated">2.将模型存储在可访问的界面中。</h2><p id="153d" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">要存储模型并将其呈现给外部世界以便以后进行预测，需要以下组件:</p><p id="6bf3" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">我</strong>。模型数据</p><p id="7405" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">二世</strong>。其他模型元数据(容器、培训作业等)</p><p id="5a71" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">三</strong>。端点(接口)配置</p><p id="2d35" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">四</strong>。实际端点(按需运行预测的一组服务器)</p><p id="bd2b" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">Amazon Sagemaker 托管<strong class="kg is"> ii </strong>、<strong class="kg is"> iii </strong>和<strong class="kg is"> iv </strong>，而<strong class="kg is"> i </strong>(模型数据)存储在 S3，正如我们在前面的代码(<code class="fe ob oc od oe b">output_location</code>)中看到的。<strong class="kg is"> i </strong>和<strong class="kg is"> ii </strong>(型号规格)均在调用<code class="fe ob oc od oe b">linear.fit(...)</code>结束时创建。</p><p id="f83f" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">端点配置(<strong class="kg is"> iii </strong>)和实际端点(<strong class="kg is"> iv </strong>)由 Jupyter 笔记本的这一部分创建:</p><pre class="nl nm nn no gu oo oe op oq aw or bi"><span id="cddd" class="np lu ir oe b gz os ot l ou ov">linear_predictor = linear.deploy(initial_instance_count=1,                                 <br/>                           endpoint_name="fraud-detection-endpoint",                                 <br/>                           instance_type='ml.m4.xlarge')</span></pre><p id="ea9e" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="ls">完整代码:</em><a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/source/notebooks/sagemaker_fraud_detection.ipynb" rel="noopener ugc nofollow" target="_blank"><em class="ls">https://github . com/q tangs/TF-fraud-detection-using-machine-learning/blob/master/source/notebooks/sage maker _ fraud _ detection . ipynb</em></a></p></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><h2 id="f93a" class="np lu ir bd lv nq nr dn lz ns nt dp md kp nu nv mh kt nw nx ml kx ny nz mp oa bi translated">3.使用该模型来预测生成的交易是否是欺诈性的。</h2><p id="8f87" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">有了创建的端点，我们现在可以在任何生成的事务上使用它。</p><p id="ca98" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">为了模拟即将进行预测的事务，我们需要:</p><ul class=""><li id="1041" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">创建一个 CloudWatch 事件，每 1 分钟触发一次 Lambda 函数。</li><li id="e09f" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb om nc nd ne bi translated">AWS Lambda 函数是使用代码库中位于<code class="fe ob oc od oe b">source/fraud_detection/index.py</code>的代码创建的。它遵循以下步骤:随机选择预定义的欺诈或非欺诈交易，将交易发送到端点以获得欺诈预测，在进行一些小的处理后，将结果发送到 Kinesis Data Firehose。</li><li id="811e" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb om nc nd ne bi translated">将流式结果存储到 S3 的 Kinesis 数据消防软管。</li><li id="2320" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb om nc nd ne bi translated">最后，S3 桶。</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj ox"><img src="../Images/c06769b1e727306d2d7025a6c2c6f0af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MINUnmG0CLKm5iuNR_mUow.png"/></div></div></figure><p id="653a" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">如上所述，带有蓝色 Terraform 徽标的资源是必需的:</p><ul class=""><li id="bdfd" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">云观察事件:</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/18d95b92c32deec975af13423c232fa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LBjgozuSXSO1U-9beD6usQ.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/cloudwatch_event.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/cloudwatch_event.tf</a></figcaption></figure><ul class=""><li id="611f" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">Lambda 预测函数的 IAM 角色和策略:</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/3b491b013539532757d6c6c23a60cd66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HtL-C9yqRNX6ho8buKjzQg.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/iam_lambda.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/iam_lambda.tf</a></figcaption></figure><ul class=""><li id="e943" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">用于存储函数代码的 S3 存储桶，取自我们代码库中的<code class="fe ob oc od oe b">source/fraud_detection/index.py</code></li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/db771d22ca09ab34c12f51720dcb4493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HXcyahL46xRe3mxZ8oURCQ.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/s3_lambda.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/s3_lambda.tf</a></figcaption></figure><ul class=""><li id="b3cc" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">处理新事务的 Lambda 函数:</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/f2e4cb69774875043b97b6fb76cfb7cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3jYRRX3mhqei6cDvLtW9Hw.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/lambda.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/lambda.tf</a></figcaption></figure><ul class=""><li id="8cba" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">用于 Kinesis 数据消防软管的 IAM 角色和策略:</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/f701252325b087a1a5c48c3b0f8237af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q6fLkvRS6jq0nxzebkIBcw.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/iam_kinesis.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/iam_kinesis.tf</a></figcaption></figure><ul class=""><li id="c242" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">存储来自 Kinesis 数据消防软管的已处理事务的 S3 存储桶:</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/394853871e7aed4bd113d5d4b80e122f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bzJylLLvH9urT4DtoB8BEA.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/s3_kinesis.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/s3_kinesis.tf</a></figcaption></figure><ul class=""><li id="b315" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb om nc nd ne bi translated">最后，Kinesis 数据消防软管:</li></ul><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/4d89ae8aa150e823f394fa57af93e431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oEuK7ZJ4VvawHGjJi4CjRA.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">Complete code: <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/kinesis.tf" rel="noopener ugc nofollow" target="_blank">https://github.com/qtangs/tf-fraud-detection-using-machine-learning/blob/master/terraform/kinesis.tf</a></figcaption></figure></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><h1 id="4f51" class="lt lu ir bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">D.部署</h1><p id="4f61" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">Terraform 代码位于<code class="fe ob oc od oe b">terraform</code>文件夹中(原始云信息可在<code class="fe ob oc od oe b">cloudformation</code>中找到)。</p><p id="22ce" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在运行<code class="fe ob oc od oe b">terraform apply</code>之前，需要进行一些设置:</p><p id="7456" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">我</strong>。将<code class="fe ob oc od oe b">terraform_backend.tf.template</code>复制到<code class="fe ob oc od oe b">terraform_backend.tf</code>并相应修改数值。您需要手动创建一个 S3 存储桶或使用现有的存储桶来存储 Terraform 状态文件。</p><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/48834859a5608be60929d7de975c50f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DBLX9ogJKWUtyFnTcunxiw.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk">terraform_backend.tf.template</figcaption></figure><blockquote class="of og oh"><p id="773f" class="ke kf ls kg b kh ki kj kk kl km kn ko oi kq kr ks oj ku kv kw ok ky kz la lb ik bi translated">对 Terraform 状态使用远程后端是一个很好的实践。即使像这样简单的场景也应该这样做。</p></blockquote><p id="d21d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">二</strong>。将<code class="fe ob oc od oe b">terraform.tfvars.template</code>复制到<code class="fe ob oc od oe b">terraform.tfvars</code>，并相应修改数值。您不需要创建此处指定的任何存储桶；它们是由<code class="fe ob oc od oe b">terraform apply</code>创造的。</p><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj on"><img src="../Images/205a404d602300d74d69a3830f53f884.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5ORXdZa7dP4pwNJlpIAHWw.png"/></div></div><figcaption class="jz ka gk gi gj kb kc bd b be z dk"><code class="fe ob oc od oe b">terraform.tfvars.template</code></figcaption></figure><p id="492a" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is"> iii </strong>。一旦创建了以上文件，只需运行以下 terraform 命令。记住确保所有命令返回 ok，并在应用前查看地形图。</p><pre class="nl nm nn no gu oo oe op oq aw or bi"><span id="7786" class="np lu ir oe b gz os ot l ou ov"># Set default AWS profile,<br/># use 'set' instead of 'export' for Windows.<br/>export AWS_PROFILE=&lt;your desired profile&gt;</span><span id="d02b" class="np lu ir oe b gz ow ot l ou ov">terraform init<br/>terraform validate<br/>terraform plan -out=tfplan<br/>terraform apply --auto-approve tfplan</span></pre><p id="5397" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">Terraform 平面图的输出应该如下所示:</p><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj oy"><img src="../Images/aa5d79dea83c95ed78c3e7aa46612233.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eUaVxuGJcOmdiRTiOP6nrw.png"/></div></div></figure><p id="a5b9" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">而<code class="fe ob oc od oe b">terraform apply</code>的结果:</p><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj oz"><img src="../Images/47034f074cfa1261504c10994c2a3bcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qVVUUJvZpQSD8YOERX782Q.png"/></div></div></figure><h2 id="9a9f" class="np lu ir bd lv nq nr dn lz ns nt dp md kp nu nv mh kt nw nx ml kx ny nz mp oa bi translated">最终手动步骤</h2><p id="a0f7" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">一旦所有的 Terraform 资源都设置好了，你需要按照 AWS 站点<a class="ae kd" href="https://docs.aws.amazon.com/solutions/latest/fraud-detection-using-machine-learning/deployment.html#step2" rel="noopener ugc nofollow" target="_blank">记录的这些手动步骤</a>:</p><p id="447f" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">运行笔记本</strong></p><ol class=""><li id="ba5e" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb nb nc nd ne bi translated">导航到<a class="ae kd" href="https://console.aws.amazon.com/sagemaker/" rel="noopener ugc nofollow" target="_blank">亚马逊 SageMaker 控制台</a>。</li><li id="c7c7" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">在导航窗格中，选择<strong class="kg is">笔记本实例</strong>。</li><li id="6c70" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">选择<strong class="kg is">frauddetectionnotebook instance</strong>。</li><li id="77c4" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">笔记本实例应该已经在运行。</li><li id="a731" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">选择<strong class="kg is">打开 Jupyter </strong>。</li><li id="76aa" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">在 Jupyter 笔记本界面，打开<code class="fe ob oc od oe b">sagemaker_fraud_detection.ipynb</code>文件。</li><li id="0bcf" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">在<strong class="kg is">单元格</strong>下拉菜单中，选择<strong class="kg is">运行全部</strong>运行文件。</li></ol><p id="b022" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">启用云观察事件规则</strong></p><ol class=""><li id="25a3" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb nb nc nd ne bi translated">导航到<a class="ae kd" href="https://console.aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda 控制台</a>。</li><li id="5b76" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">在导航窗格中，选择<strong class="kg is">功能</strong>。</li><li id="0701" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">选择<code class="fe ob oc od oe b">fraud_detection_event_processor </code>λ功能。</li><li id="db20" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">在<strong class="kg is">设计器</strong>选项卡的图中，选择<strong class="kg is"> CloudWatch 事件</strong>。</li><li id="e988" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">在<strong class="kg is"> CloudWatch 事件</strong>选项卡中，选择<code class="fe ob oc od oe b"><em class="ls">&lt;stackname&gt;</em>-ScheduleRule-<em class="ls">&lt;id&gt;</em></code>。</li><li id="7e22" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">选择<strong class="kg is">动作</strong>动作&gt;动作<strong class="kg is">启用</strong>。</li><li id="210d" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">选择<strong class="kg is">启用</strong>。</li></ol><p id="f243" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><strong class="kg is">验证 Lambda 函数正在处理事务</strong></p><ol class=""><li id="7bc2" class="mw mx ir kg b kh ki kl km kp my kt mz kx na lb nb nc nd ne bi translated">导航到<a class="ae kd" href="https://console.aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank">AWSλ控制台</a>。</li><li id="5dd0" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">在导航窗格中，选择<strong class="kg is">功能</strong>。</li><li id="3859" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">选择<code class="fe ob oc od oe b">fraud_detection_event_processor </code>λ功能。</li><li id="aec3" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">选择<strong class="kg is">监控</strong>并验证<strong class="kg is">调用</strong>图显示活动。</li><li id="6b0e" class="mw mx ir kg b kh nf kl ng kp nh kt ni kx nj lb nb nc nd ne bi translated">几分钟后，检查已处理事务的结果亚马逊 S3 桶。</li></ol></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><h1 id="597b" class="lt lu ir bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">E.清除</h1><p id="93ab" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">完成实验后，只需执行以下操作即可删除所有资源并节省成本。再次提醒，记得在应用之前<strong class="kg is">检查地形图。</strong></p><pre class="nl nm nn no gu oo oe op oq aw or bi"><span id="68be" class="np lu ir oe b gz os ot l ou ov">terraform plan -destroy -out=tfplan<br/>terraform apply tfplan</span></pre><p id="fe85" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">您应该能够看到如下输出:</p><figure class="nl nm nn no gu js gi gj paragraph-image"><div role="button" tabindex="0" class="jt ju di jv bf jw"><div class="gi gj pa"><img src="../Images/9e2b549afaa071dd8e335b5ecc2d4c92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p2Z6bqqIFD6KIodqS6x-Mw.png"/></div></div></figure></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><h1 id="ed98" class="lt lu ir bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">F.摘要</h1><p id="53c8" class="pw-post-body-paragraph ke kf ir kg b kh mr kj kk kl ms kn ko kp mt kr ks kt mu kv kw kx mv kz la lb ik bi translated">亚马逊 SageMaker 是一个强大的平台，我们刚刚触及它的表面。</p><p id="ead2" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">感谢 AWS Solution Builders 团队，我们有许多关于如何利用 Amazon SageMaker 的精彩例子。</p><p id="3b0d" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">与此同时，Terraform 简化了企业的基础设施设置，开发运维及持续交付变得越来越重要。</p><p id="c477" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated">在未来的帖子中，我将研究 AWS 团队提供的更复杂的示例，并探索如何设计 Terraform 基础设施，以适应机器学习设置中的 CI/CD 管道。</p></div><div class="ab cl ll lm hv ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="ik il im in io"><p id="aab6" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="ls">感谢您的阅读。请在下面评论分享你的想法。</em></p><p id="28fa" class="pw-post-body-paragraph ke kf ir kg b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb ik bi translated"><em class="ls">本文的完整项目托管在</em> <a class="ae kd" href="https://github.com/qtangs/tf-fraud-detection-using-machine-learning" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> Github </em> </a> <em class="ls">上。</em></p></div></div>    
</body>
</html>