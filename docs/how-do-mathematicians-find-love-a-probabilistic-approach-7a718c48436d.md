# 数学家如何寻找爱情？概率方法。

> 原文：<https://towardsdatascience.com/how-do-mathematicians-find-love-a-probabilistic-approach-7a718c48436d?source=collection_archive---------25----------------------->

## 婚姻问题或秘书问题解释

"数学家如何在一个充满逻辑和理性主义的世界里找到爱？"最近有人问我。

“嗯，这很容易”，我说。这是我告诉他们的。

![](img/b7ece6faa319d855c04282ca7655491b.png)

Photo by [Ivan Cabañas](https://unsplash.com/@ivancabanhas?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

# 问题设置

这个问题大多被称为*婚姻问题*，有时也被称为*秘书问题*。因为，如果有的话，我会找一个男人共度一生，让我们称之为*丈夫问题*。

我们假设我一生中可能会和很多男人约会。我知道这是一个很难做出的假设。如果我不拒绝男人直到没有人剩下，我怎么会知道这条路上还有多少男人？

尽管如此，让我们假设我们有许多候选人可以选择。这里唯一的问题是:一旦我满足于一个人，我就已经满足了。就是这样。这就是我得到的交易，我永远不会知道我错过了谁。

我们也假设我不能回到我以前拒绝过的人身边。

此外，我们假设对于任何两个男人，我可以决定谁更好(至少对我来说)。我们还假设候选项是均匀分布的。直觉上，这意味着最佳候选人在某个位置的概率对所有位置都是一样的。

当然，我想得到最好的交易。我想在所有我可能结婚的男人中找到最好的。问题是:我如何知道何时停止搜索？如果我决定和某人在一起不开心，但我意识到可能再也没有比他更好的人了，该怎么办？如果我一直拒绝男生，最后我意识到我将不得不接受一个糟糕的选择或者根本没有选择，因为没有候选人了，怎么办？

嗯，那是另一回事了。现在，我们想最大化我们找到最好的机会。

**来说说数学吧！**

# 数学方法:策略

我们表述问题的方式包括我们非常挑剔。这意味着我们想要最好的候选人或者根本没有候选人。这也意味着成功的定义是选择了最佳候选人，而失败的定义是选择了除最佳候选人之外的任何其他候选人。

这意味着我们的目标是最大化选择最佳候选人的概率。失败意味着我们选择了任何其他候选人(甚至是第二好的候选人)。

我们如何最大化找到最佳候选人的机会？以下是我们的策略:

1.  看第一个 *k-1* 候选人，全部否决。
2.  从候选人 *k* 开始选择第一个候选人，该候选人优于之前看到的所有候选人。

![](img/c48b599ed28e2e1c09c911ad31fb2154.png)

We reject the first 1,…k-1 candidates and pick the first candidate from k, k+1,…n that is better than all the ones previously seen!

让我们看一个例子来更清楚地说明这一点，并假设有 12 个可能的候选者 *(n=12)* 。我们现在选择设置 *k=5。*这意味着我们与前 4 个男生约会，拒绝所有男生，然后选择比前 4 个男生都好的第一个。

这里有哪些可能的结果？

*   假设我们的最佳候选人是 2 号候选人:太糟糕了，我们一直拒绝每个人，直到我们最终得到 12 号候选人。

![](img/23714270134b06fe1f05081852e52508.png)

*   我们的最佳候选人是 7 号候选人:太好了，通过遵循这一策略，我们得到了可能的最佳交易，并满足于 7 号候选人！

![](img/746af6ecd008a28e3458065f87bc846f.png)

# 怎么选 k？

选择 *k* 是最难的部分。如果我们选择的太小，这意味着我们在做出选择之前只能看到很少的候选人。假设我们选择 *k=1* 。也就是说我们选择第一个出现的人。这个候选人最好的几率是 *1/n* ( —还记得我们怎么说候选人是均匀分布的吗？).看起来不是最聪明的策略，对吧？

如果我们选择一个大的 *k* 呢？比如我们选 *k=n* 。好吧，那么我们总是被候选人 n 困住，不管这个候选人是好是坏。同样，我们以概率为 *1/n* 的最优候选者结束。

直觉上，一个好的 k 位于 1 和 n(T21)之间，幸运的是，数学为我们提供了所有的答案。

我们的目标是找到最佳候选人。这意味着我们希望最大化找到最佳候选人的概率。为此，我们使用函数 *ϕ(k)* 来描述固定 n 的概率。我们需要确定所有容许 k 的 *ϕ(k)* ，然后选择该函数取最高值的 *k* 。

# 我们如何计算ϕ(k)？

让我们设置 *n=5* 一步步来。

***k=1* :**

如果我们设置 *k=1* ，我们最终得到第一个候选人。这是最佳候选的概率是 1/5，因此， *ϕ(1) = 1/5* 。

***k=2* :**

如果我们设置 *k=2，*我们观察第一个候选人并拒绝他。然后我们开始审查所有其他候选人。

*   如果候选人 2 是最好的(概率为 1/5)，他也比候选人 1 好，在这种情况下，我们选择概率为 1 的候选人。
*   如果候选人 3 是最好的(概率为 1/5)，他比候选人 1 好，但有 1/2 的机会，我们已经选了候选人 2。因此，我们只选择概率为 1/2 的候选人 3。
*   如果候选人 4 是最好的(概率为 1/5)，他比之前的所有人都好，但现在有 2/3 的机会，我们已经满足于候选人 2 或 3。因此，我们以 1/3 的概率选择候选人 4。
*   如果候选人 5 是最好的(概率为 1/5)，他比所有以前的人都好一次，但现在的机会为 3/4，我们已经满足于候选人 2、3 或 4 中的任何一个。因此，我们以 1/4 的概率选择候选人 5。

因此，我们可以通过下式计算ϕ(2)

![](img/49cc97ecfc025340a0eacb4694c3430c.png)

Probability of picking the best candidate when setting k=2\. I also put n into a subscript, because it’s the better notation, but the Medium editor won’t let me do it in the text. So please excuse the inconsistency!

***k=3，…n*:**

对于 *k=3，…n，*，我们做的和对 *k=2* 做的一样。

这概括为

![](img/b9a47a806a39a28a52a0aebc7b0ba3af.png)

Probability of picking the best candidate for fixed n and fixed k.

而对于 *n=5* ，我们得到了 *k* 的这些概率。如果我们输入数字 *k=1，…5，*就会得到下表。

![](img/0d95e9947578a22d4c32405b5a19c6e3.png)

对于 *k=3，ϕ(k)* 取最高值。这意味着我们应该先看前两个候选人，然后选择比候选人 1 和 2 更好的第一个。

所以对于小的 *n* ，我们可以手工计算或者使用我们选择的编程语言来计算出哪个 *k* 是最优的。

例如，对于 *n=12* ，我们得到下表。

![](img/1d6c759b4bdec21f27e2cb65ca84745b.png)

对于 *k=5* ，我们得到最高值。这意味着我们应该先看看前四个候选人，然后选出第一个比那些候选人更好的。

而对于大的 *n* ，我们可以查看极限！

# 寻找大 n 的最佳 k

对于大的 *n* ，可以看看我们上面公式的极限，用黎曼近似。我们设 *x=k/n* 和 *ϕ(k)* 收敛如下。

![](img/5978625fa08f5f641d76e20f9eedcc8e.png)

这个函数 *ϕ(x)* 是可微的，我们可以计算一阶导数并将其设置为零以找到局部最大值。

![](img/edf3b4298f71e1470eb6f0a81ebc9f15.png)

因为

![](img/d67ef047e3ad272da7d5c3bcd87d00d5.png)

事实上，这是最大值，现在我们知道，对于大 n，我们总是选择 *k≈ 0.368 ⋅ n* 。

因此，如果你的生活中有 100 个候选人，最好先看看前 36 个候选人，然后选出比你之前见过的所有候选人都更好的第一个。

如果你想知道:当然，有其他方法来定义一个最佳策略。尤其是如果你对超过某个门槛的候选人感到满意，或者第二好的选择也不算太差。但是这些策略不是这个故事的一部分。

# 关于问题命名的一点注记

在文学作品中，这个问题通常被称为*婚姻问题*。这是有问题的，因为一个人在遇到所有潜在的结婚对象之前，通常不知道他们的数量。

这也是为什么有时它被称为*秘书问题的原因。知道有多少人申请了某份工作，比知道有多少人愿意和某人共度余生要容易一点。但是话又说回来，为什么我们不能在拒绝之前先看看所有的求职者呢？*

这就是为什么我和我的朋友们开玩笑地称之为*日历问题。因为他们曾经在我生日的时候送给我一个日历，你必须撕下一页才能看到下一页。一旦你撕下一页纸，就没有回头路了。我们从一开始就知道有多少候选人(12！).我最终采用了上述策略。三年来，我一直把九月的照片挂在墙上。有些人可能会说，这是愚蠢的和“等等，这是一个日历，你不想有正确的月份吗？”。*

嗯，是的，但是如果你能在脑子里计算，谁还需要正确的月份呢[？](https://medium.com/@maikeelisa/calculating-the-day-of-the-week-in-your-head-f58684bd4243)

最后:

如果你想知道这是否真的是数学家寻找爱情的方式:可能不是。但是如果你是一个像我一样的数学家，并且你曾经想在 10 分钟内失去一个人:这是你要讲的故事！