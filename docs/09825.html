<html>
<head>
<title>User Segmentation Based on Their Purchase History</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于购买历史的用户细分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/user-segmentation-based-on-purchase-history-490c57402d53?source=collection_archive---------16-----------------------#2019-12-24">https://towardsdatascience.com/user-segmentation-based-on-purchase-history-490c57402d53?source=collection_archive---------16-----------------------#2019-12-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1b6d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个用例，说明我们如何使用机器学习，根据用户的购买力来确定不同产品的目标用户。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/43c2b85eea6648520168d476367c4754.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2stb2v0g9gkYPQ3RIQL-iw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">source: <a class="ae ky" href="https://pixabay.com/users/lisa870-7470972/" rel="noopener ugc nofollow" target="_blank">Lisa</a>, via <a class="ae ky" href="https://pixabay.com/photos/jelly-marmalade-sweet-candy-sugar-3032344/" rel="noopener ugc nofollow" target="_blank">pixabay</a></figcaption></figure><h1 id="faa3" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="6d34" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这一分析的目标是使用折扣应用程序，根据他们获得的交易确定不同的用户群，以便为他们重新提供类似于他们过去获得的优惠。</p><p id="5d45" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">机器学习算法 K-means 用于根据用户的购买行为识别用户群。这是算法提取内容的三维图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/c04c25b803367a7921b974f12abc3ba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KFHANKn_jMHdtUJ9-5As-A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">3D image of clusters produced by K-Means, by Muffaddal</figcaption></figure><h1 id="7397" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">术语:</h1><p id="6c2d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在深入分析之前，让我们定义一些正在使用的关键字。</p><blockquote class="mt mu mv"><p id="28ba" class="lr ls mw lt b lu mn ju lw lx mo jx lz mx mp mc md my mq mg mh mz mr mk ml mm im bi translated"><strong class="lt iu">交易收益:</strong>当用户使用 app 获得折扣时。<br/> <strong class="lt iu">花费:</strong>用户购买物品时支付的折扣价。<br/> <strong class="lt iu">保存:</strong>用户通过 app 保存的金额。<br/> <strong class="lt iu">品牌:</strong>提供折扣的商家如必胜客、格力诺<br/> <strong class="lt iu">交易:</strong>提供给不同店铺和品牌用户的折扣。</p></blockquote><h1 id="7fc7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">分析</h1><h2 id="eedb" class="na la it bd lb nb nc dn lf nd ne dp lj ma nf ng ll me nh ni ln mi nj nk lp nl bi translated">数据集</h2><p id="6966" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用<a class="ae ky" href="https://github.com/muffaddal52/Mixpanel---JQL/blob/master/PurchasedDetails_dealavail.js" rel="noopener ugc nofollow" target="_blank"> JQL </a>从 Mixpanel 中提取行为数据集。该分析使用了以下内容</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/ec459d5556087e59a6c0ef0ca3a211a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*g3eHNRAhe6cLiWqOetLjsg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Mixpanel Data Set, by Muffaddal</figcaption></figure><blockquote class="mt mu mv"><p id="adfc" class="lr ls mw lt b lu mn ju lw lx mo jx lz mx mp mc md my mq mg mh mz mr mk ml mm im bi translated"><strong class="lt iu"> userId: </strong>用户的唯一 id<br/><strong class="lt iu">save amount</strong>:用户在交易受益<br/>上节省的金额<strong class="lt iu"> spentAmount </strong>:用户在交易受益<br/> <strong class="lt iu"> brandName </strong>:交易受益的品牌<br/> <strong class="lt iu"> count </strong>:用户受益的交易数量</p></blockquote><p id="457f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">使用上述数据集<em class="mw">averagesavenamount</em>，为每个用户计算<em class="mw"> averageSavedAmount </em>和<em class="mw">dealavaillcount</em>，如下所示</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/58e592493b63a2bdd705bc8c62db5519.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*biv4CpDQBH-9iDnXBwGp1A.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Average Deal Availed Data set, by Muffaddal</figcaption></figure><p id="4d58" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">机器学习— K-means 聚类<br/></strong>K-mean 算法的第一步是找到最佳数量的聚类进行分割。为此有许多方法，其中之一是使用类内平方和(wcss)的肘方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/6844c4581c40941491bd0be0915dc27a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CHgE5SWK1RnGLkiyBIIPYg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">WCSS for up-to 10 clusters, by Muffaddal</figcaption></figure><p id="d955" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">基于肘方法，使用 4、5 和 6 个聚类来探索片段，并挑选 4 个聚类作为给定数据集的最佳聚类。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">R code for K-Means clustering</figcaption></figure><p id="3005" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><em class="mw">如果你想了解更多关于用户聚类和用户细分的知识，我会推荐</em> <a class="ae ky" href="https://bit.ly/2PW7V1H" rel="noopener ugc nofollow" target="_blank"> <em class="mw">数据营</em> </a> <em class="mw">和</em><a class="ae ky" href="https://bit.ly/2DNXOK9" rel="noopener ugc nofollow" target="_blank"><em class="mw">Coursera</em></a><em class="mw">上的这些课程。</em></p><h2 id="03b8" class="na la it bd lb nb nc dn lf nd ne dp lj ma nf ng ll me nh ni ln mi nj nk lp nl bi translated">K-means 提取了哪些片段？</h2><p id="1a4f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">以下是四个已确定细分市场的平均统计数据:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/68c1e207a5b25cb45088d5b2b448e0d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oH33P8dUWgw9LuNz_Sla5g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Average stats of each segment</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/b19dd3e9becb66dde05f9b9bef6f7914.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*5FoAciABe89qqGuuBniVzQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Segments Characteristics</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/fe9c92301e809be8cd660cbafbc355ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vdzmGAaBhB0v-RyS-WO13w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Graphical Representation of Segments Characteristics, by Muffaddal</figcaption></figure><p id="4662" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">细分市场 1 和 2 中的用户是高付费用户，细分市场 1 中的用户在每笔交易中也节省了同样高的费用(可能有买一送一的优惠)。然而，这些用户利用的交易数量少于 2(即分别为 1.3 和 1.4)。</p><p id="12b0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">另一方面，细分市场 3 和细分市场 4 的用户花费较少，因此储蓄也较少。然而，在所有 4 个细分市场中，细分市场 4 的用户拥有最大的每用户交易收益比率(平均每个用户收益超过 9 笔交易)。这是转变最多的一批用户。</p><h2 id="bac9" class="na la it bd lb nb nc dn lf nd ne dp lj ma nf ng ll me nh ni ln mi nj nk lp nl bi translated">每个细分市场的用户总数和交易数量是多少？</h2><p id="d7de" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这是用户总数和每个细分市场用户的交易量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/cdfe0bba6e475b4920cf347c9b06bfb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:878/0*LRID7rx9dKlpOxlg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Number of users in segments, by Muffaddal</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/10dbc95985474b06180622a02f5e1503.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/0*PcNUOX9v6-gEI-UJ"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Number of deals availed, by Muffaddal</figcaption></figure><p id="c36d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">57%的用户属于细分市场 3，只有 3%的用户来自转化率最高的细分市场(即细分市场 4)。</p><h2 id="58ba" class="na la it bd lb nb nc dn lf nd ne dp lj ma nf ng ll me nh ni ln mi nj nk lp nl bi translated"><strong class="ak">总体用户支出是多少？</strong></h2><p id="98f5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这是各细分市场的支出分布情况</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/8168a723cb8fe31ddf4e731d06da7732.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q4NHtqgR_o_jYtUv"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Spending of users in each segment, by Muffaddal</figcaption></figure><p id="8456" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">来自细分市场 4 的一些用户(细分市场 4 中的黄点)与细分市场 1 和 2 类似，但细分市场 3(包括 57%的用户)根本不喜欢高消费交易和/或品牌。</p><h2 id="2c5d" class="na la it bd lb nb nc dn lf nd ne dp lj ma nf ng ll me nh ni ln mi nj nk lp nl bi translated"><strong class="ak">每个细分市场用户首选的品牌类型？</strong></h2><p id="edd0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们看看这些细分市场用户利用什么类型的品牌来了解他们之间的区别。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/de752eb2a45a14b937f7be4e0af1e91a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KfbjS70OxNcv6GJuA8R2aQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Brands users availed, by Muffaddal</figcaption></figure><p id="e0e6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">细分市场 1 的用户利用了汉堡、比萨饼和欢乐时光的组合，细分市场 2 的用户利用了比萨饼，而细分市场 3 的用户更喜欢汉堡包。而细分 4 用户(大多数转化用户)更喜欢果汁和其他类型的品牌。</p><h2 id="f9bb" class="na la it bd lb nb nc dn lf nd ne dp lj ma nf ng ll me nh ni ln mi nj nk lp nl bi translated"><strong class="ak">每个细分市场都有哪些品牌？。</strong></h2><p id="2329" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">以下是这些细分用户使用过的十大品牌。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/2dbb449dcb3fc18b1d02d022bb7075e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R9snFWFK0iig372Md5gMFw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Top 10 Brands Availed by Each Segments, by Muffaddal</figcaption></figure><p id="c883" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">看看这些品牌，我们可以理解这些细分市场用户更喜欢什么类型的品牌和交易。第 1 和第 2 部分用户(高付费用户)使用了优质品牌，如 Sajjad、kababi、carbon、California 等，而第 3 和第 4 部分用户(低付费用户)大多选择了中低档品牌。</p><h2 id="cb68" class="na la it bd lb nb nc dn lf nd ne dp lj ma nf ng ll me nh ni ln mi nj nk lp nl bi translated">如何应用这些结果？</h2><p id="3356" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">根据不同的用户群，我们可以:</p><p id="3d2a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1-定向广告<strong class="lt iu"> <br/> </strong> <strong class="lt iu">针对每个细分市场的个性化广告</strong>会提高转化率，因为用户更有可能转化为特定品牌和优惠。因此，举例来说，先向付费能力较高的用户展示 Sajjad 的广告，然后再向付费能力较低的用户展示。</p><p id="b914" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2- In-app 推荐<br/> <strong class="lt iu">优化应用，在应用内推荐每个细分市场用户更感兴趣的交易</strong>和折扣。</p><h2 id="d8ad" class="na la it bd lb nb nc dn lf nd ne dp lj ma nf ng ll me nh ni ln mi nj nk lp nl bi translated">摘要</h2><p id="9157" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">总之，通过数据和适当的努力，我们能够识别用户及其喜好的有趣信息，并能够根据用户的偏好制定如何吸引用户的策略。</p><p id="66f1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><a class="ae ky" href="https://bit.ly/3vTZdGH" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu"> <em class="mw">需要帮助进行用户细分吗？我们来连线。</em> </strong> </a></p><h1 id="5688" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相似读数</h1><div class="nz oa gp gr ob oc"><a rel="noopener follow" target="_blank" href="/rfm-analysis-using-bigquery-ml-bfaa51b83086"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">使用 BigQuery ML 进行 RFM 分析</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">使用 BigQuery ML 中的 RFM 分析和 Data Studio 中的可视化进行用户细分。</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">towardsdatascience.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq ks oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a rel="noopener follow" target="_blank" href="/comprehensive-guide-on-item-based-recommendation-systems-d67e40e2b75d"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">基于项目的推荐系统综合指南</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">本指南将详细介绍基于项目的推荐系统是如何工作的，以及如何在实际工作中实现它…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">towardsdatascience.com</p></div></div><div class="ol l"><div class="or l on oo op ol oq ks oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a rel="noopener follow" target="_blank" href="/find-similar-products-to-recommend-to-users-8c2f4308c2e4"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">找到类似的产品推荐给用户</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">在 R 中使用 recommenderlab 获得类似的产品推荐</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">towardsdatascience.com</p></div></div><div class="ol l"><div class="os l on oo op ol oq ks oc"/></div></div></a></div></div></div>    
</body>
</html>