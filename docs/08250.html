<html>
<head>
<title>Quickly Build and Deploy a Dashboard with Streamlit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用 Streamlit 快速构建和部署仪表板</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/quickly-build-and-deploy-an-application-with-streamlit-988ca08c7e83?source=collection_archive---------1-----------------------#2019-11-11">https://towardsdatascience.com/quickly-build-and-deploy-an-application-with-streamlit-988ca08c7e83?source=collection_archive---------1-----------------------#2019-11-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9736" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">细流</h2><div class=""/><div class=""><h2 id="e289" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">将您的 Streamlit 应用程序部署到 Heroku，展示您的数据解决方案</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/1e15c32260c99ed575178a1c92714796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JAnz9HJnSHWQ9HGs8c3HRQ.gif"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">For my Board Game Exploration dashboard see <a class="ae lh" href="https://bgexploration.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://bgexploration.herokuapp.com/</a></figcaption></figure><p id="5f5c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">随着<a class="ae lh" href="https://github.com/streamlit/streamlit" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>的推出，为你的机器学习解决方案开发一个仪表板变得非常容易。</p><p id="99f1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Streamlit 是一个开源应用框架，专门为使用 Python 的 ML 工程师设计。它允许你只用几行代码就能创建一个令人惊叹的应用程序。</p><p id="131f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我想借此机会展示您可以使用 Streamlit 构建的应用程序。但主要是向您展示使用<strong class="lk jd"> Heroku </strong>将您的应用程序投入<strong class="lk jd">生产</strong>的必要步骤。</p><h1 id="db57" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">1.细流</h1><p id="521a" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">使用 Streamlit 工具(如 Dash 和 Flask)的一些优势:</p><ul class=""><li id="e5f6" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated">它包含 Python 脚本；不需要 HTML 知识！</li><li id="39ff" class="nb nc it lk b ll nk lo nl lr nm lv nn lz no md ng nh ni nj bi translated">创建漂亮的应用程序需要更少的代码</li><li id="9f48" class="nb nc it lk b ll nk lo nl lr nm lv nn lz no md ng nh ni nj bi translated">不需要回调，因为小部件被视为变量</li><li id="6a60" class="nb nc it lk b ll nk lo nl lr nm lv nn lz no md ng nh ni nj bi translated">数据缓存简化并加速了计算流水线。</li></ul><p id="dee9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">看看<a class="ae lh" rel="noopener" target="_blank" href="/coding-ml-tools-like-you-code-ml-models-ddba3357eace">这篇</a>帖子，它可能会帮助你理解 Streamlit 的架构。而且，这个帖子</p><h2 id="4ec4" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">装置</h2><p id="11c7" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">使用以下命令可以轻松安装 Streamlit:</p><p id="435b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe oa ob oc od b">pip install streamlit</code></p><p id="f0d6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">使用以下命令查看带有示例代码的应用程序演示:</p><p id="f7a3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe oa ob oc od b">streamlit hello</code></p><p id="1c92" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这样做会打开以下页面:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oe"><img src="../Images/78b7e214b9cf2c2a89d4a8c70e949f70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ab47V1q2U9D6ieJ_nW-jIQ.jpeg"/></div></div></figure><h1 id="a527" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">2.民众</h1><p id="4480" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">上面的<code class="fe oa ob oc od b">streamlit hello</code>演示上面还有一些更复杂的在线演示供你试用。我将在下面列出一些(包括我的),这样你就会对可能性有所了解:</p><h2 id="cdf3" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">Udacity 自动驾驶汽车图像浏览器</h2><p id="08d6" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">该演示展示了如何使用不到 300 行代码<a class="ae lh" href="https://github.com/streamlit/demo-self-driving/blob/master/app.py" rel="noopener ugc nofollow" target="_blank">将 Udacity 汽车数据集与对象检测结合起来，从而创建一个完整的 Streamlit 演示应用。</a></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi of"><img src="../Images/be0ee0ae4d39f6440a2e961beabbd684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ge336Prpi-AfjT9A1F_XUA.png"/></div></div></figure><p id="3b46" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，安装 OpenCV 以便可以分析图像:</p><pre class="ks kt ku kv gt og od oh oi aw oj bi"><span id="e8d9" class="np mf it od b gy ok ol l om on">pip install --upgrade streamlit opencv-python</span></pre><p id="185c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">接下来，只需运行应用程序:</p><pre class="ks kt ku kv gt og od oh oi aw oj bi"><span id="f704" class="np mf it od b gy ok ol l om on">streamlit run https://raw.githubusercontent.com/streamlit/demo-self-driving/master/app.py</span></pre><h2 id="cc69" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">纽约市的优步皮卡</h2><p id="0bcb" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">这是一个 Streamlit 演示程序，展示了如何交互式地可视化纽约市的优步皮卡。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oo"><img src="../Images/81f2a7fbe1bd89f92578cc10a10fd127.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZauJPg-UDRfjlp9rB5cd_g.png"/></div></div></figure><p id="898f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">安装 Streamlit 后，只需运行以下代码:</p><pre class="ks kt ku kv gt og od oh oi aw oj bi"><span id="ee33" class="np mf it od b gy ok ol l om on">streamlit run https://raw.githubusercontent.com/streamlit/demo-uber-nyc-pickups/master/app.py</span></pre><h2 id="cd9c" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">棋盘游戏探索</h2><p id="f013" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">由于许多像我一样的桌游爱好者跟踪桌游比赛的分数，我决定创建一个允许探索这些数据的应用程序。您可以在这里实时查看这个应用程序<a class="ae lh" href="https://bgexploration.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">，或者您可以按照下面的步骤在本地运行它。</a></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi op"><img src="../Images/d6bf5e6532a9102287bff94fceea9e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gw0KBgPpqmz91gzIibPgjA.png"/></div></div></figure><p id="07ac" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因为我使用了几个. py 文件，所以您首先需要克隆存储库:</p><pre class="ks kt ku kv gt og od oh oi aw oj bi"><span id="fb53" class="np mf it od b gy ok ol l om on">git clone <a class="ae lh" href="https://github.com/MaartenGr/boardgame.git" rel="noopener ugc nofollow" target="_blank">https://github.com/MaartenGr/boardgame.git</a> BoardGame</span></pre><p id="de0f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，只需转到该文件夹并运行 Streamlit:</p><pre class="ks kt ku kv gt og od oh oi aw oj bi"><span id="7d76" class="np mf it od b gy ok ol l om on">cd BoardGame<br/>streamlit run app.py</span></pre><p id="59fc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">注意</strong>:如果你愿意，你可以使用你自己的数据，只需提供你的数据的 URL。</p><h1 id="ccc2" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">3.创建应用程序</h1><p id="e2ff" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">在这一节中，我将演示如何创建一个简单的应用程序，因为这篇文章的主要目的是为您的项目准备<strong class="lk jd">部署</strong>。</p><p id="89d4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你想要更深入的例子，请查看 Streamlits <a class="ae lh" href="https://streamlit.io/docs/getting_started.html" rel="noopener ugc nofollow" target="_blank"> API </a>或查看<a class="ae lh" rel="noopener" target="_blank" href="/coding-ml-tools-like-you-code-ml-models-ddba3357eace"> this </a>或<a class="ae lh" rel="noopener" target="_blank" href="/how-to-write-web-apps-using-simple-python-for-data-scientists-a227a1a01582"> this </a>帖子，它很好地描述了它的许多特性。</p><p id="7dcf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">但首先，让我介绍一些你可能会在自己的应用程序中使用的基本功能。</p><h2 id="42c8" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated"><strong class="ak">选择小部件</strong></h2><p id="2c93" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">Streamlit 的主要特性之一是使用小部件。有许多可用的小部件，包括:</p><ul class=""><li id="67bd" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated"><strong class="lk jd">选择框</strong></li></ul><pre class="ks kt ku kv gt og od oh oi aw oj bi"><span id="9e5f" class="np mf it od b gy ok ol l om on">age = streamlit.selectbox("Choose your age: ", np.arange(18, 66, 1))</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oq"><img src="../Images/547185d2f4f7e618ad5f0f33d86fe8eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eRyXQgRj-2zEy5bMcWERHw.png"/></div></div></figure><ul class=""><li id="aa8d" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated"><strong class="lk jd">滑块</strong></li></ul><pre class="ks kt ku kv gt og od oh oi aw oj bi"><span id="4166" class="np mf it od b gy ok ol l om on">age = streamlit.slider("Choose your age: ", min_value=16,   <br/>                       max_value=66, value=35, step=1)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi or"><img src="../Images/f0621cb644964120593e8c684b237f2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LRmKVeOtd4yV1rCHUZhAKw.png"/></div></div></figure><ul class=""><li id="2aad" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated"><strong class="lk jd">多选</strong></li></ul><pre class="ks kt ku kv gt og od oh oi aw oj bi"><span id="aeac" class="np mf it od b gy ok ol l om on">artists = st.multiselect("Who are your favorite artists?", <br/>                         ["Michael Jackson", "Elvis Presley",<br/>                         "Eminem", "Billy Joel", "Madonna"])</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oq"><img src="../Images/41bd7ee21bac4f9668aed876cc097dd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lvHf-8vRvSNdlf-WxqA6Og.png"/></div></div></figure><h2 id="558d" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated"><strong class="ak">缓存</strong></h2><p id="fa8d" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">许多仪表板工具的问题是，每次选择一个选项或在页面之间切换时，数据都会被重新加载。幸运的是，Streamlit 有一个惊人的选项，允许您缓存数据，并且只在以前没有运行过的情况下运行它。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="a0a9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">上面的代码显示您可以缓存您创建的任何函数。这可能包括加载数据，但也包括预处理数据或训练一次复杂的模型。</p><h2 id="7785" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">形象化</h2><p id="6dd7" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">Streamlit 支持许多可视化库，包括:Matplotlib、Altair、Vega-Lite、Plotly、Bokeh、Deck。GL 和 Graphviz。它甚至可以加载<strong class="lk jd">音频</strong>和<strong class="lk jd">视频</strong>！</p><p id="b208" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面是一个展示牛郎星图的快速示例:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="os ot l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ou"><img src="../Images/03376cfcc7d2266c2921ed42e7a47042.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gjgkfiWB2uh3PeqrGokYKA.png"/></div></div></figure><h2 id="6d00" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">降价</h2><p id="7f6b" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">就我个人而言，我是 markdown 的忠实粉丝，它有可能创造出好看的东西。幸运的是，我们可以只用一个函数生成 markdown:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="os ot l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ov"><img src="../Images/be0f6316e5df1a0ed562ade6e9d0317b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*041j0g0-xTxcpjQqEXNpPg.png"/></div></div></figure><p id="f0e5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">注意</strong>:基于 dev 分支中的<a class="ae lh" href="https://github.com/streamlit/streamlit/commit/e349a426d4cbd60e7af369d930835c44e9746f89" rel="noopener ugc nofollow" target="_blank">提交</a>，st.latex 似乎即将到来！</p><h2 id="f3dd" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">写</h2><p id="280f" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">Write 函数是 Streamlit 命令的瑞士军刀。它根据其输入表现不同。例如，如果你放入一个 Matplotlib 图形，它会自动显示给你看。</p><p id="5923" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">几个例子:</p><ul class=""><li id="5a8f" class="nb nc it lk b ll lm lo lp lr nd lv ne lz nf md ng nh ni nj bi translated">write( <strong class="lk jd"> string </strong>):打印格式化的降价字符串。</li><li id="4a09" class="nb nc it lk b ll nk lo nl lr nm lv nn lz no md ng nh ni nj bi translated">write( <strong class="lk jd"> data_frame </strong>):以表格形式显示数据帧。</li><li id="0d71" class="nb nc it lk b ll nk lo nl lr nm lv nn lz no md ng nh ni nj bi translated">write( <strong class="lk jd"> dict </strong>):在一个交互式小部件中显示字典。</li><li id="35d7" class="nb nc it lk b ll nk lo nl lr nm lv nn lz no md ng nh ni nj bi translated">write( <strong class="lk jd"> keras </strong>):显示一个 keras 模型。</li><li id="c93d" class="nb nc it lk b ll nk lo nl lr nm lv nn lz no md ng nh ni nj bi translated">write( <strong class="lk jd"> plotly_fig </strong>):显示一个 plotly 图形。</li></ul><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="os ot l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ow"><img src="../Images/8f0b6af46b98a75d93b9b075423c77ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wtoklD6vVuuorjeb2Dd10A.png"/></div></div></figure><p id="9457" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可以在这里找到它的可能性的完整概述<a class="ae lh" href="https://streamlit.io/docs/api.html#streamlit.write" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="8be0" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">4.应用程序</h1><p id="949c" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">为了展示如何部署您的应用程序，我们首先需要创建一个基本的应用程序。这个例子将是一个简单的演示有两页。在主页上，它显示我们选择的数据，而探索页面允许您在牛郎星图中可视化变量。</p><p id="9544" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面的代码在工具条上给了你一个<code class="fe oa ob oc od b">Selectbox</code>，允许你选择一个页面。数据被缓存，因此不需要不断地重新加载。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="os ot l"/></div></figure><p id="3bb1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">运行代码<code class="fe oa ob oc od b">streamlit run app.py</code>将显示以下页面:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ox"><img src="../Images/e7dac0cae6b3f45d26528d6e5c4bc53d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wXB1OKP5UlWOLV_mOv2d3A.png"/></div></div></figure><p id="35e0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">选择页面<strong class="lk jd"> Exploration </strong>将向您显示以下可视化内容:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ox"><img src="../Images/770a20870c8afb7fcbf0547b3c2f4912.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yjwpN8KVWSWZ6N7g0YoFsA.png"/></div></div></figure><h1 id="c76b" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">5.Heroku 部署</h1><p id="f1b8" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">现在我们有了自己的应用程序，如果我们能把它放在网上的某个地方就好了。这样，您就可以向其他人展示您开发的应用程序。我们将通过将其部署到 Heroku 来实现这一点，Heroku 是一种平台即服务(PaaS)，可用于在云中完全运行应用程序。</p><p id="3b08" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，确保您的应用程序文件夹中有以下文件:</p><pre class="ks kt ku kv gt og od oh oi aw oj bi"><span id="586b" class="np mf it od b gy ok ol l om on">.<br/>├── app.py<br/>├── requirements.txt<br/>├── setup.sh<br/>└── Procfile</span></pre><p id="48d4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可以在  <strong class="lk jd">这里的<a class="ae lh" href="https://github.com/MaartenGr/streamlit_guide" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd">库中找到所有这些文件。</strong></a></strong></p><h2 id="730b" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">创建帐户</h2><p id="af5f" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">要部署该应用程序，您首先需要在 Heroku <a class="ae lh" href="https://signup.heroku.com/signup/dc" rel="noopener ugc nofollow" target="_blank">这里</a>创建一个帐户。别担心，托管你的应用程序是完全免费的<strong class="lk jd"/>！</p><p id="0f23" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">使用免费帐户的主要缺点是，如果超过半小时没有访问，网站就会关闭。但是，它会在您打开站点的那一刻重新启动。</p><h2 id="99a5" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">安装 Heroku 命令行界面</h2><p id="23a9" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">接下来，您需要在这里安装 Heroku 命令行界面(CLI)<a class="ae lh" href="https://devcenter.heroku.com/articles/getting-started-with-python#set-up" rel="noopener ugc nofollow" target="_blank"/>。您将使用它来管理您的应用程序，在本地运行它，查看它的日志，等等。</p><h2 id="c295" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">登录 Heroku</h2><p id="1217" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">这样做之后，打开你的<code class="fe oa ob oc od b">cmd.exe</code>和<code class="fe oa ob oc od b">cd</code>到应用文件夹。然后，用<code class="fe oa ob oc od b">heroku login</code>登录 Heroku。您将被重定向到首选浏览器的登录屏幕。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oy"><img src="../Images/00cc77e97172634a23405b4ed557595d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mnU8a0et_OWeaUpnUtX6aQ.png"/></div></div></figure><h2 id="4cbf" class="np mf it bd mg nq nr dn mk ns nt dp mo lr nu nv mq lv nw nx ms lz ny nz mu iz bi translated">部署应用程序</h2><p id="4c47" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">最后，当您的<code class="fe oa ob oc od b">cmd</code>在应用程序文件夹中打开时，首先运行<code class="fe oa ob oc od b">heroku create</code>来创建一个 Heroku 实例:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oz"><img src="../Images/88c50a188e086a4e81ac4862bd04ade0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uRXRXIk3ZhVEY06SGfCTDQ.png"/></div></div></figure><p id="640e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，用<code class="fe oa ob oc od b">git push heroku master</code>将所有代码推送到那个实例:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oz"><img src="../Images/d8f7c530e83c730398e6ff4fc4de4d86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pkNynJXuEYz_HLjUWuFvJQ.png"/></div></div></figure><p id="9eb3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这将创建一个 Heroku 实例，并将应用程序文件夹中的所有代码推送到该实例。现在，应用程序应该已经部署好了。</p><p id="4ca8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">运行<code class="fe oa ob oc od b">heroku ps:scale web=1</code>以确保至少有一个应用程序实例正在运行:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pa"><img src="../Images/2729524967c5a16818c73d0436bac140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CvPuoy3pCSDHFeWM36jaJw.png"/></div></div></figure><p id="7c28" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后，使用<code class="fe oa ob oc od b">heroku open</code>打开您的应用程序；它将使用您首选的浏览器在应用程序名称生成的 URL 访问应用程序:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ov"><img src="../Images/4ab38383a6536a2d9c4a11c2ce395a04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xc6g2pGjNFZ13yGHWsdLPg.png"/></div></div></figure></div><div class="ab cl pb pc hx pd" role="separator"><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg"/></div><div class="im in io ip iq"><p id="8a72" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">所有的<strong class="lk jd">代码</strong>都可以在这里找到:</p><div class="pi pj gp gr pk pl"><a href="https://github.com/MaartenGr/streamlit_guide" rel="noopener  ugc nofollow" target="_blank"><div class="pm ab fo"><div class="pn ab po cl cj pp"><h2 class="bd jd gy z fp pq fr fs pr fu fw jc bi translated">MaartenGr/streamlit_guide</h2><div class="ps l"><h3 class="bd b gy z fp pq fr fs pr fu fw dk translated">此 repo 包含创建和部署您的 Streamlit 应用程序到 Heroku 的所有代码。</h3></div><div class="pt l"><p class="bd b dl z fp pq fr fs pr fu fw dk translated">github.com</p></div></div></div></a></div><p id="f986" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果您在部署到 Heroku 时遇到任何问题，请点击<a class="ae lh" href="https://devcenter.heroku.com/articles/getting-started-with-python" rel="noopener ugc nofollow" target="_blank">此</a>页面获取程序的详细概述。</p></div><div class="ab cl pb pc hx pd" role="separator"><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg ph"/><span class="pe bw bk pf pg"/></div><div class="im in io ip iq"><p id="4322" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你和我一样，对人工智能、数据科学或心理学充满热情，请随时在<a class="ae lh" href="https://www.linkedin.com/in/mgrootendorst/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上添加我。</p></div></div>    
</body>
</html>