<html>
<head>
<title>Publish Data Science Articles to the Web using Jupyter, Github and Kyso</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Jupyter、Github 和 Kyso 将数据科学文章发布到网络上</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/publish-data-science-articles-to-the-web-using-jupyter-github-and-kyso-3721b8336946?source=collection_archive---------24-----------------------#2019-05-06">https://towardsdatascience.com/publish-data-science-articles-to-the-web-using-jupyter-github-and-kyso-3721b8336946?source=collection_archive---------24-----------------------#2019-05-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3c1d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki">结合这 3 个工具来增强你的 DS 工作流程</em></h2></div><p id="bc1c" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">数据科学正在飞速发展，越来越多的组织使用数据来推动一切。但是有时候发布基于数据科学的报告还是有点困难。这可能是因为图表是交互式的，或者是因为您想要一个可复制的文档，或者是因为从数据科学工具转移到可读性更好的格式可能很困难。</p><p id="47ad" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">在这篇文章中，我将介绍如何在 Jupyter 笔记本、Github 和 Kyso 中使用 python，我们可以在几分钟内从获得一些原始数据到在网络上发布一个非常棒的图表。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/2bbb99ac87ab929d54c0b9772359c8ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DwZPMFdrYDOmU-tk.png"/></div></div></figure><h1 id="45fd" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">让我们开始分析一些数据</h1><p id="57b9" class="pw-post-body-paragraph kj kk it kl b km mj ju ko kp mk jx kr ks ml ku kv kw mm ky kz la mn lc ld le im bi translated">我首先假设你已经安装了 python3 否则去 https://www.python.org/<a class="ae mo" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank">下载它。然后，让我们安装 Jupyterlab 和 plotly 扩展，以获得出色的交互式图表。</a></p><pre class="lg lh li lj gt mp mq mr ms aw mt bi"><span id="b129" class="mu ls it mq b gy mv mw l mx my">pip3 install jupyterlab<br/>jupyter labextension install @jupyterlab/plotly-extension</span></pre><p id="76a5" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">那么让我们从 Jupyterlab 开始</p><pre class="lg lh li lj gt mp mq mr ms aw mt bi"><span id="93ee" class="mu ls it mq b gy mv mw l mx my">jupyter lab</span></pre><p id="67dd" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">让我们下载一些数据来玩玩，我用最近的欧洲晴雨表数据来看看有多少人在欧盟认同欧盟国旗，这里有<a class="ae mo" href="http://ec.europa.eu/commfrontoffice/downloadODP/?AA59CDC91B966A9A7064F4F700A916C3" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="85ad" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">所以现在你应该已经打开了 Jupyter 这是一个很好的交互地方，你可以在这里输入结果并看到实时输出。</p><p id="a9c3" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">然后，我们可以在第一个笔记本单元格中开始编写代码！</p><pre class="lg lh li lj gt mp mq mr ms aw mt bi"><span id="7281" class="mu ls it mq b gy mv mw l mx my">import plotly<br/>import pandas as pd<br/>import plotly.graph_objs as go<br/>import country_converter as coco<br/>plotly.offline.init_notebook_mode(connected=True)</span></pre><p id="cb9c" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">这将导入我们需要的所有库，并设置 Plotly 来渲染 Jupyter 笔记本中的图表。</p><pre class="lg lh li lj gt mp mq mr ms aw mt bi"><span id="7705" class="mu ls it mq b gy mv mw l mx my">cols2skip = [0]<br/>cols = [i for i in range(100) if i not in cols2skip]<br/>df_raw = pd.read_excel('./eb_90_volume_A.xls', sheet_name="QD11.3", skiprows=8, usecols=cols)<br/>df_raw.rename(columns={'UE28\nEU28':'EU28', 'UE28-UK\nEU28-UK':'EU28-UK' }, inplace=True)<br/>df = df_raw.transpose()<br/>df = df.rename(columns=df.iloc[0])<br/>df = df.iloc[1:]<br/>names = df.index.tolist()<br/>names = ['GR' if (x == 'EL') else x for x in names]<br/>names = ['GB' if (x == 'UK') else x for x in names]<br/>iso3 = coco.convert(names=names, to='ISO3', not_found=None)</span></pre><p id="d4c9" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">然后，我们可以与数据争论，并设置它进行绘图，这里没有太多的解释，我在几分钟的游戏和检查数据形状后得出了这个代码。</p><p id="6d5a" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">最后，让我们绘制数据:</p><pre class="lg lh li lj gt mp mq mr ms aw mt bi"><span id="dcf3" class="mu ls it mq b gy mv mw l mx my">data = [go.Choropleth(<br/>    locations = iso3,<br/>    z = df['Tend to agree'] * 100,<br/>    text = iso3,<br/>    locationmode="ISO-3",<br/>    reversescale=True,<br/>    colorscale="Blues",<br/>    marker = go.choropleth.Marker(<br/>        line = go.choropleth.marker.Line(<br/>            color = 'rgb(0,0,0)',<br/>            width = 0.5<br/>        )),<br/>    colorbar = go.choropleth.ColorBar(<br/>        ticksuffix = '%',<br/>        title = '% identify',<br/>        len=0.5,<br/>    ),<br/>)]<br/>layout = {<br/>    "height": 700,<br/>    "width": 700,<br/>    "margin"<br/>    : {"t": 0, "b": 0, "l": 0, "r": 0},<br/>    "geo": {<br/>        "lataxis": {"range": [36.0, 65.0]}, <br/>        "lonaxis": {"range": [-12.0, 36.0]}, <br/>        "projection": {"type": "transverse mercator"}, <br/>        "resolution": 50, <br/>        "showcoastlines": True, <br/>        "showframe": True, <br/>        "showcountries": True,<br/>    }<br/>}<br/>fig = go.Figure(data = data, layout = layout)<br/>plotly.offline.iplot(fig)</span></pre><p id="013f" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">现在你的笔记本里应该有一个漂亮的交互式图表了。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mz"><img src="../Images/240b27d82a1a5f0a829a53987e78c6de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*j1nuSqcRcWGFBpej.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Plotly Chart in Jupyterlab</figcaption></figure><p id="0fe0" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">在 Jupyter 中，您还可以通过将单元格更改为 markdown 类型来为您的分析编写一系列注释，然后编写您喜欢的任何内容。</p><h1 id="3d5e" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">让我们把这个笔记本推到网上</h1><p id="0f0b" class="pw-post-body-paragraph kj kk it kl b km mj ju ko kp mk jx kr ks ml ku kv kw mm ky kz la mn lc ld le im bi translated">我们现在有几个选择可以让我们在网上分享这个笔记本。我已经在 http://kyso.io/eoin/do-i-identify-with-eu-flag<a class="ae mo" href="http://kyso.io/eoin/do-i-identify-with-eu-flag" rel="noopener ugc nofollow" target="_blank">发布到网上，你可以看到预览。</a></p><p id="621d" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">我们的第一选择是，我们可以把它上传到 Kyso。去 https://kyso.io/create/study，顺便去看看。ipynb 文件，给它一个标题，你就会有一个分享的链接。</p><p id="dc41" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">或者，我们可以将 Github 用于一个长期项目，在这个项目中，我们可能会做出很多改变。开始去 Github 做一个新项目，然后做正常的生意</p><pre class="lg lh li lj gt mp mq mr ms aw mt bi"><span id="b916" class="mu ls it mq b gy mv mw l mx my">git add .<br/>git commit -m "initial commit"<br/>git push origin master</span></pre><p id="1d4a" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">然后你就可以在 Github 上查看你的项目和笔记本了。然而，这个阴谋是不可见的。所以让我们把这个项目导入到 Kyso。</p><p id="b3e7" class="pw-post-body-paragraph kj kk it kl b km kn ju ko kp kq jx kr ks kt ku kv kw kx ky kz la lb lc ld le im bi translated">前往<a class="ae mo" href="https://kyso.io/github" rel="noopener ugc nofollow" target="_blank">https://kyso.io/github</a>并登录 Github，搜索你的项目，点击该项目的“连接到 Kyso”，选择主文件，你就完成了。您的笔记本将在 Kyso 上可见，任何时候您提交到该存储库，它都会在 Kyso 上得到反映，这意味着您可以不断更新您的分析。例如，查看 Kyso 上的<a class="ae mo" href="https://kyso.io/eoin/do-i-identify-with-eu-flag" rel="noopener ugc nofollow" target="_blank">这个帖子</a>，它链接到<a class="ae mo" href="https://github.com/eoinmurray/do-i-identify-with-eu-flag" rel="noopener ugc nofollow" target="_blank">这个 Github 库</a>。</p></div></div>    
</body>
</html>