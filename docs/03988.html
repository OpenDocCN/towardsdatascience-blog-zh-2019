<html>
<head>
<title>Quickly Navigating Python Libraries With ctags</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 ctags 快速导航 Python 库</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/quickly-navigating-python-libraries-with-ctags-9924a0b9a82f?source=collection_archive---------11-----------------------#2019-06-23">https://towardsdatascience.com/quickly-navigating-python-libraries-with-ctags-9924a0b9a82f?source=collection_archive---------11-----------------------#2019-06-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e670" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">数据科学家使用 ctags 有效导航 Python 库的教程。</h2></div><figure class="ki kj kk kl gt km gh gi paragraph-image"><div class="ab gu cl kn"><img src="../Images/f9667025d352ec998f1b56518ee8da8c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*rV6_99F42Jr7uR5YtLrHrQ.jpeg"/></div></figure><p id="515d" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">作为机器学习从业者，我经常使用开源的机器学习库，比如<a class="ae lm" href="https://docs.fast.ai/" rel="noopener ugc nofollow" target="_blank"> fastai </a>和<a class="ae lm" href="https://scikit-learn.org/stable/" rel="noopener ugc nofollow" target="_blank"> scikit-learn </a>。在使用这些库一段时间后，您可能会想要做一些库目前不支持的事情(例如，创建一个定制的模型)，但是您可能仍然想要使用许多库函数。比如我用 fastai/PyTorch 设计训练定制的深度学习模型。fastai 为读取数据提供了一个很好的框架，所以通常情况下，我仍然希望使用许多 fastai 组件，但是要进行一定程度的定制。或者，您可能只是好奇某个函数是如何工作的，并希望检查源代码。为了有效地实现这种级别的检查，重要的是您能够轻松地跳过您选择的机器学习库的源代码。所以，你需要选择一个好的代码编辑器，并且知道如何用好它。对于不在命令行界面工作的用户，我<strong class="ks iu">强烈推荐</strong> <a class="ae lm" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ks iu"> Visual Studio (VS)代码</strong> </a> <strong class="ks iu">。</strong> VS 代码完全免费，有一些确实很棒的功能。VS 代码结合一个叫做<strong class="ks iu"> ctags </strong>的编程工具将允许你有效地探索 Python 库。在这里，我给出了如何在 VS 代码中设置 ctags 的分步教程。应该注意的是，本教程是为 Windows 用户设计的，但它在很大程度上可以很好地推广到其他操作系统，只需稍加修改。</p><p id="1a09" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我之前在这里提供的许多技巧来自这篇<a class="ae lm" href="https://andrew.stwrt.ca/posts/vim-ctags/" rel="noopener ugc nofollow" target="_blank">博客</a>和来自<a class="ae lm" href="https://course.fast.ai/" rel="noopener ugc nofollow" target="_blank"> fast.ai 课程</a>，所以我要感谢这些作者为我做的铺垫！我也不得不承认，我肯定不是 VS 代码方面的专家，所以建议/评论将会非常感谢。好了，我们开始吧！</p><ol class=""><li id="17d1" class="ln lo it ks b kt ku kw kx kz lp ld lq lh lr ll ls lt lu lv bi translated">首先，如果你还没有 Python，安装 Python。强烈推荐通过<a class="ae lm" href="https://www.anaconda.com/distribution/" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>下载 Python。</li><li id="1700" class="ln lo it ks b kt lw kw lx kz ly ld lz lh ma ll ls lt lu lv bi translated">二、下载安装<a class="ae lm" href="https://code.visualstudio.com/" rel="noopener ugc nofollow" target="_blank"> Visual Studio 代码</a>。同样，它是完全免费的，并且兼容 Windows、Linux 或 Mac，所以这应该很容易！</li><li id="0b6b" class="ln lo it ks b kt lw kw lx kz ly ld lz lh ma ll ls lt lu lv bi translated">接下来，打开 Visual Studio 代码。首先，您必须选择 Python 作为您的解释器。为此，键入<em class="mb"> Ctrl+Shift+P </em>并开始键入“Python: Select Interpreter”然后选择想要加载的 Python 版本和环境。同样，我经常使用 fastai，所以我为 fastai 选择了 Python 环境。如果“Python: Select Interpreter”没有出现，这意味着您的系统上没有安装 Python。这是一个简单的解决办法，所以只要按照这里的指示<a class="ae lm" href="https://marketplace.visualstudio.com/items?itemName=ms-python.python" rel="noopener ugc nofollow" target="_blank">去做</a>。</li></ol><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mc"><img src="../Images/159b489fca1b2e40c81493ae34c4e068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dTFABRdL1O4Z73VaizLjLQ.png"/></div></div></figure><p id="ab28" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">4.现在打开包含您想要轻松浏览的 Python 库的文件夹(例如 fastai)。当你这样做的时候，VS 代码将会在那里创建一个名为<em class="mb">的目录。vscode </em>。这个目录包含一个 JSON 文件，标签为<em class="mb"> settings.json. </em>在 VS 代码(或任何文本编辑器)中打开<em class="mb"> settings.json </em>文件。我们将分两步编辑这个文件。</p><p id="76c3" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">5.对于<strong class="ks iu"> Windows 用户</strong>，接下来，您需要下载 ctags 包。Ctags 为源文件和头文件中的名称生成一个索引(或标记)文件。这就是我们如何通过创建这些标签来快速搜索我们的代码。你可以从这个<a class="ae lm" href="https://github.com/universal-ctags/ctags" rel="noopener ugc nofollow" target="_blank"> GitHub 网站</a>下载。如果您使用的是 Windows，您可以点击<em class="mb">发布</em>，选择最新版本，并选择要下载的 zip 文件。把这个 zip 文件解压到你喜欢的任何地方，但是我通常只是把它放在<em class="mb">中。vscode </em>目录。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mh"><img src="../Images/86e99b03964de603a585f61d426b552e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HCecMmK1aePR5d_sbM5wmQ.png"/></div></div></figure><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mi"><img src="../Images/41578c40740339644a6564bd24151824.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OfiZbJobKSWCLmGoeqH_jg.png"/></div></div></figure><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mj"><img src="../Images/29446d9483376c68dde81d5725287229.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mKADh4p-WflAOLLHpqoo3A.png"/></div></div></figure><p id="4896" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">对于<strong class="ks iu"> Linux 用户</strong>，您将需要通过在终端键入以下代码来安装 exuberant-ctags</p><pre class="ki kj kk kl gt mk ml mm mn aw mo bi"><span id="a46e" class="mp mq it ml b gy mr ms l mt mu">sudo apt-get install exuberant-ctags</span></pre><p id="b913" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">6.还记得<em class="mb"> settings.json </em>文件吗？<strong class="ks iu"> Windows 用户</strong> (Linux 用户跳到第 7 步)，您现在需要编辑它。JSON 中应该已经有一行指定了 Python 可执行文件的路径。现在你需要添加一行来指定<em class="mb">ctags.exe</em>文件的路径。创建一个新行并添加以下代码行(用 Python 库的路径或您选择放置<em class="mb">ctags.exe</em>文件的位置替换<em class="mb">库路径</em>):</p><pre class="ki kj kk kl gt mk ml mm mn aw mo bi"><span id="7ac3" class="mp mq it ml b gy mr ms l mt mu">"python.workspaceSymbols.ctagsPath": "LIBRARY_PATH\\.vscode\\ctags-2018-11-06_0f27679c-x64\\ctags.exe"</span></pre><p id="0bd3" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">您的<em class="mb"> settings.json </em>文件应该如下所示:</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mv"><img src="../Images/948985049a96c5d22f3613098488a53d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ubLKxgoB-BaMBRvYNYaXaQ.png"/></div></div></figure><p id="fd8b" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">7.接下来，生成标签！VS 代码让这变得非常简单。对于<strong class="ks iu"> Windows 用户</strong>，你要做的就是键入<em class="mb"> Ctrl + t </em>。这将创建一个包含所有标记的标记文件。如果这不起作用，打开终端 is VS 代码，转到输出选项卡，再次键入<em class="mb"> Ctrl + t </em>，并查看输出内容。另外，<strong class="ks iu"> Windows 和 Linux 用户</strong>，确保 Python 工作空间符号已启用，这可以在设置中选择(见下图),或者通过将以下代码行添加到您的<em class="mb"> settings.json </em>文件中:</p><pre class="ki kj kk kl gt mk ml mm mn aw mo bi"><span id="9f0d" class="mp mq it ml b gy mr ms l mt mu">"python.workspaceSymbols.enabled": true</span></pre><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mw"><img src="../Images/8f7d4cc86257f545b37142bbd2cd302d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mplpVUVzWjwOpDVd-mNNlA.png"/></div></div></figure><p id="27c0" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">对于<strong class="ks iu"> Linux 用户</strong>，要生成标签文件，在终端中确保您在 Python 库的目录中，并在终端中键入以下内容:</p><pre class="ki kj kk kl gt mk ml mm mn aw mo bi"><span id="848b" class="mp mq it ml b gy mr ms l mt mu">ctags-exuberant -R -f tags</span></pre><p id="c661" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这将生成标记文件。我通常将这个标签文件移动到<em class="mb">。vscode </em>目录。然后，在<em class="mb"> settings.json </em>文件中，您需要通过添加以下附加行来指定标签文件的路径:</p><pre class="ki kj kk kl gt mk ml mm mn aw mo bi"><span id="46fe" class="mp mq it ml b gy mr ms l mt mu">“python.workspaceSymbols.tagFilePath”: “LIBRARY_PATH/.vscode/tags”</span></pre><p id="ef25" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">8.您现在可以通过键入<em class="mb"> Ctrl + t </em>并键入您想要搜索的类和函数的名称来导航标签。很简单！</p><h1 id="8e44" class="mx mq it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">我还能用 VS 代码做什么？</h1><p id="fc1e" class="pw-post-body-paragraph kq kr it ks b kt no ju kv kw np jx ky kz nq lb lc ld nr lf lg lh ns lj lk ll im bi translated">标签已经创建，现在可以使用了。在 VS 代码中还有许多其他有用的快捷键。下面是我无耻地从<a class="ae lm" href="https://course.fast.ai/" rel="noopener ugc nofollow" target="_blank"> fast.ai 课程</a>中偷出来的一些:</p><ul class=""><li id="5a2f" class="ln lo it ks b kt ku kw kx kz lp ld lq lh lr ll nt lt lu lv bi translated">命令面板:<em class="mb"> Ctrl-shift-p </em></li><li id="5db5" class="ln lo it ks b kt lw kw lx kz ly ld lz lh ma ll nt lt lu lv bi translated">转到符号:<em class="mb">ctrl-t</em></li><li id="3c5d" class="ln lo it ks b kt lw kw lx kz ly ld lz lh ma ll nt lt lu lv bi translated">查找参考:<em class="mb"> Shift-F12 </em></li><li id="43e1" class="ln lo it ks b kt lw kw lx kz ly ld lz lh ma ll nt lt lu lv bi translated">转到定义:<em class="mb"> F12 </em></li><li id="a81b" class="ln lo it ks b kt lw kw lx kz ly ld lz lh ma ll nt lt lu lv bi translated">返回:<em class="mb"> Alt-left </em></li><li id="721f" class="ln lo it ks b kt lw kw lx kz ly ld lz lh ma ll nt lt lu lv bi translated">前进:<em class="mb"> Alt-right </em></li><li id="5044" class="ln lo it ks b kt lw kw lx kz ly ld lz lh ma ll nt lt lu lv bi translated">隐藏侧边栏:<em class="mb"> Ctrl-b </em></li><li id="9910" class="ln lo it ks b kt lw kw lx kz ly ld lz lh ma ll nt lt lu lv bi translated">禅模式:<em class="mb"> Ctrl-k，z </em></li></ul><p id="6fa9" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我希望你觉得这是有用的，并欢迎评论/建议！</p></div></div>    
</body>
</html>