<html>
<head>
<title>Creating a solid Data Science development environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建可靠的数据科学开发环境</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-a-solid-data-science-development-environment-60df14ce3a34?source=collection_archive---------11-----------------------#2019-10-22">https://towardsdatascience.com/creating-a-solid-data-science-development-environment-60df14ce3a34?source=collection_archive---------11-----------------------#2019-10-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d9c1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用 Conda、Git、DVC 和 JupyterLab 来组织和复制您的开发环境。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b58ba1532b25a57fb9f45448bb9f63f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EQNw0BxbQpaerUq1Za6H2A.png"/></div></div></figure><h1 id="70b4" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">1.介绍</h1><p id="13ca" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">开始一个数据科学项目通常很有趣，至少在开始的时候是这样。你得到一些数据，开始提问并探索它，制作一些图，尝试一些模型，几分钟后，你有一堆有趣而混乱的见解和更多的数据争论要做。然后你意识到你必须整理你的 Jupyter 笔记本，开始注释和版本化你的代码，并且你需要花一些时间在你的分析中“不那么有趣”的部分。如果您需要与他人分享您的发现，或者将模型投入生产，那么前面会有更多的问题，因为您发现您并不确切知道在您的分析过程中使用了哪些库和版本。</p><p id="e50e" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">一般来说，我们数据科学家倾向于更关注结果(模型、可视化等)而不是过程本身，这意味着我们没有像软件工程师那样足够重视文档和版本控制。</p><p id="74eb" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">既然如此，就有必要使用当今可用的适当工具，为数据科学项目的开发建立良好的实践。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><p id="c930" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated"><strong class="lo iu">目标:</strong>本文的目标是为数据科学家提供工具和方向，通过使用四个关键工具:Conda、Git、DVC 和 JupyterLab，以可靠和可重复的方式管理他们的项目。本教程结束时，您将能够创建一个存储库，对您的脚本、数据集和模型进行版本化，并在新机器上复制相同的开发环境。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><p id="751d" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">本教程是在运行 Ubuntu 18.04 的 Linux 机器上完成的，但是可以很容易地在 Mac 或 Windows 上使用其他命令行包管理器复制，如<a class="ae mu" href="https://brew.sh/" rel="noopener ugc nofollow" target="_blank">家酿</a> (Mac)，或<a class="ae mu" href="https://chocolatey.org/products#foss" rel="noopener ugc nofollow" target="_blank">巧克力</a> (Windows)。</p><p id="7182" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">此外，我们将使用 S3 自动气象站来存储我们与 DVC 的数据文件。要遵循教程中的相同步骤，您需要一个安装并配置了<a class="ae mu" href="https://aws.amazon.com/cli/?nc1=h_ls" rel="noopener ugc nofollow" target="_blank"> awscli </a>的<a class="ae mu" href="https://aws.amazon.com/?nc1=h_ls" rel="noopener ugc nofollow" target="_blank"> AWS </a>帐户。</p><p id="d814" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">遵循本教程创建的项目资源库可以在我的<a class="ae mu" href="https://github.com/GabrielSGoncalves/DataScience_DevEnv" rel="noopener ugc nofollow" target="_blank"> GitHub 页面</a>上访问。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="fdb9" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">2.工具</h1><h2 id="3b21" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">康达</h2><p id="033a" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae mu" href="https://docs.conda.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> Conda </a>是一个环境和包管理器，可以代替 Python 中的<a class="ae mu" href="https://github.com/pypa/pipenv" rel="noopener ugc nofollow" target="_blank"> pipenv </a>和<a class="ae mu" href="https://pip.pypa.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> pip </a>。它是专注于数据科学的 Python(和 R)发行版<a class="ae mu" href="https://www.anaconda.com/" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>的一部分。您可以选择安装完整版(Anaconda，大约 3GB)或轻型版(Miniconda，大约 400MB)。我推荐使用 Miniconda，因为你将只安装你需要的库。关于更广泛的评论，请查看 Gergely Szerovay 关于 Conda 的文章<a class="nm nn ep" href="https://medium.com/u/345a0f19db9c?source=post_page-----60df14ce3a34--------------------------------" rel="noopener" target="_blank">。</a></p><h2 id="be43" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">饭桶</h2><p id="248e" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">Git 是一个管理软件开发的版本控制系统。使用 Git，您可以跟踪对存储在存储库文件夹中的代码所做的所有更改。你通常使用云服务如<a class="ae mu" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>、<a class="ae mu" href="https://bitbucket.org" rel="noopener ugc nofollow" target="_blank"> Bitbucket </a>或<a class="ae mu" href="https://about.gitlab.com/" rel="noopener ugc nofollow" target="_blank"> GitLab </a>连接到你的本地存储库来管理和存储你的存储库。我们将使用 GitHub 来存储我们的项目资源库，因此您需要一个活动帐户来遵循教程的步骤。</p><h2 id="b367" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">DVC</h2><p id="3436" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated"><a class="ae mu" href="https://dvc.org/" rel="noopener ugc nofollow" target="_blank"> DVC </a>(数据版本控制)是管理数据集和机器学习模型的 Git 等价物。你通过 DVC 将你的 Git 库链接到云(AWS，Azure，Google Cloud Platform 等)或本地存储来存储大文件，因为 Git 不适合大于 100MB 的文件。关于 DVC 的完整教程，请看看 Dmitry Petrov 的文章。</p><h2 id="6668" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">JupyterLab</h2><p id="f6b6" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">JupyterLab 是一个用于 Jupyter 笔记本、代码和数据的交互式开发环境。这是 Jupyter 项目的最新版本，它提供了传统 Jupyter 笔记本的所有功能，界面更加坚固。笔记本电脑在数据科学项目中非常受欢迎，因为它提供了一种动态探索数据的好方法。</p><h2 id="ec77" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">代码编辑器和 Git 客户端</h2><p id="12d4" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">代码编辑器是程序员必备的工具，如今有很多开源和付费的选项。因此，请随意选择更适合您需求的<a class="ae mu" href="https://www.software.com/review/ranking-the-top-5-code-editors-2019" rel="noopener ugc nofollow" target="_blank">代码编辑器。</a></p><p id="54d8" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">Git 客户端是为你的代码版本化提供图形用户界面的工具，并且可以成为帮助你管理项目的工具集的有趣补充。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="9f0d" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">3.安装 Git 和 Conda</h1><p id="9e36" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">为了开始组织我们的开发环境，我们首先需要安装工具。我们将从安装 Git (1)开始，并使用我们的终端配置它(2)。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="6c5e" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 1) Install Git<br/></strong>sudo apt-get install git</span><span id="e305" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 2) Configure your Git account<br/></strong>git config --global user.name "Your Name" <br/>git config --global user.email "yourmail@mail.com"</span></pre><p id="5573" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">接下来，我们将安装 Miniconda，方法是下载它的最新版本(3)，更改安装文件的权限(4)并运行它(5)。将 Miniconda 文件夹添加到您的系统路径(6)也很重要，只需在终端上键入<em class="ny"> conda </em>即可运行它的命令。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="3800" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 3) Download Miniconda latest release for Linux<br/></strong>wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh</span><span id="fa47" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 4) Change the permission to run the Miniconda bash file<br/></strong>chmod +x Miniconda3-latest-Linux-x86_64.sh</span><span id="88cb" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 5) Run Miniconda installation file<br/></strong>./Miniconda3-latest-Linux-x86_64.sh</span><span id="8b40" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 6) Export the path to Miniconda installation folder<br/></strong>export PATH=/home/YOURNAME/miniconda3/bin:$PATH</span></pre></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="dffc" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">4.配置开发环境</h1><p id="4c72" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">现在我们已经安装了工具，是时候开始设置我们的开发环境了。</p><h2 id="d922" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">创建项目 Git 存储库</h2><p id="91aa" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">首先，我们将使用 GitHub 信息定义变量(8)，在 GitHub 上创建一个远程存储库(9)，并检查创建是否成功(10)。接下来，我们创建一个本地文件夹来存储我们的项目存储库(11)和自述文件(12)。然后，我们启动我们的本地 Git 存储库(13)并将我们的第一个提交推送到 GitHub (14)。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="a8c7" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 8) Define the your GitHub information as variables<br/></strong>GitHubName=&lt;YourGitHubName&gt;<br/>GitHubPassword=&lt;YourGitHubPassword&gt;</span><span id="9a92" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 9) Create a new git repository on GitHub <br/>#    named "DataScience_DevEnv"<br/></strong>curl -u $GitHubName:$GitHubPassword <a class="ae mu" href="https://api.github.com/user/repos" rel="noopener ugc nofollow" target="_blank">https://api.github.com/user/repos</a> -d '{"name":"DataScience_DevEnv"}'</span><span id="35b0" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 10) Check if your new repository is available on GitHub</strong><br/>curl "https://api.github.com/users/$GitHubName/repos?per_page=100" | grep -w clone_url | grep -o '[^"]\+://.\+.git'</span><span id="5be8" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 11) Create a folder with the name of your repository<br/></strong>mkdir DataScience_DevEnv<br/>cd DataScience_DevEnv</span><span id="28ed" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 12) Create a README file for your repository<br/></strong>echo "# Data Science development environment repository" &gt;&gt; README.md</span><span id="3584" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 13) Initiate our local Git repository<br/></strong>git init</span><span id="8ee0" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 14) Add, commit and push README.md to GitHub<br/></strong>git add README.md<br/>git commit -m "first commit with README file"<br/>git remote add origin https://github.com/GabrielSGoncalves/DataScience_DevEnv.git<br/>git push -u origin master</span></pre><p id="07ed" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我们可以在 GitHub 页面上检查一下，是否在第一次提交时正确地创建了包含 README 文件的存储库。</p><h2 id="e24c" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">用康达创造环境</h2><p id="744d" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">现在我们已经设置好了 Git 存储库，我们将创建我们的 conda 环境(15)。我们只需要定义我们的环境的名称(-n)、python 版本和我们想要安装的库(例如 pandas 和 scikit-learn)。创建完成后，我们只需要输入<code class="fe nz oa ob np b">conda activate</code>和环境名(16)。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="56c5" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 15) Create o Conda environment<br/></strong>conda create -n datascience_devenv python=3.7 pandas scikit-learn</span><span id="43ec" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 16) Activate your environment<br/></strong>conda activate datascience_devenv</span></pre><h2 id="0c97" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">在我们的环境中安装 JupyterLab、DVC 和其他库</h2><p id="b819" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">现在，我们正在我们的 conda 环境中工作，我们可以安装 JupyterLab (17)和 DVC (18)。使用 conda 的另一个好处是它也可以用来安装包，就像我们使用 pip 一样。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="f63b" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 17) Install JupyterLab with<br/># conda</strong><br/>conda install -c conda-forge jupyterlab</span><span id="7c13" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># or pip<br/></strong>pip install jupyterlab</span><span id="d1f9" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 18) Install DVC with<br/># conda</strong><br/>conda install -c conda-forge dvc</span><span id="b9bf" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># or pip<br/></strong>pip install dvc</span></pre><p id="83c6" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">我们可以使用命令<code class="fe nz oa ob np b">list</code> (19)列出当前环境中可用的库。我们还可以使用 conda 或 pip (20)为您的环境生成需求文件。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="6952" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 19) List your packages installed<br/># with conda</strong><br/>conda list</span><span id="e6bb" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># with pip<br/></strong>pip list</span><span id="3763" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 20) Create requirements file<br/># with conda</strong><br/>conda list --export &gt; requirements.txt</span><span id="038d" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># with pip</strong><br/>pip freeze &gt; requirements.txt</span></pre><h2 id="015d" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">DVC 和附属国</h2><p id="dc32" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">要使用 DVC 来存储您的大数据文件，您需要配置一个远程存储文件夹。我们将在我们的教程中使用 AWS S3，但你有<a class="ae mu" href="https://dvc.org/doc/get-started/configure" rel="noopener ugc nofollow" target="_blank">其他选项</a>(本地文件夹、Azure Blob 存储、谷歌云存储、安全外壳、Hadoop 分布式文件系统、HTTP 和 HTTPS 协议)。在 DVC 安装过程中，您必须定义将要使用的存储类型，并在括号(21)中指定。在为 DVC 安装了 AWS S3 依赖项之后，我们初始化我们的 DVC 存储库(22)。接下来，我们将在存储库中创建一个名为<code class="fe nz oa ob np b">data</code>的文件夹来存储我们的数据文件，并用 DVC (23)进行版本控制。然后，我们创建一个 S3 存储桶来远程存储我们的数据文件(24)。重要的是要记住，我们已经用 IAM 凭证配置了 awscli，以便使用终端运行 AWS 命令。创建 S3 存储桶后，我们将其定义为我们的 DVC 远程文件夹(25)，并检查最后一步是否被接受(26)。现在我们可以下载一个 csv 文件到我们的<code class="fe nz oa ob np b">data</code>文件夹(27)，并开始用 DVC (28)对它进行版本控制。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="2c46" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 21) Install DVC and its dependecies for connection with S3<br/></strong>pip install dvc[s3]</span><span id="e3d6" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 22) Initialize DVC repository<br/></strong>dvc init</span><span id="2a25" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 23) Create folder on repository to store data files<br/></strong>mkdir data</span><span id="2ce3" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 24) Create S3 bucket<br/></strong>aws s3 mb s3://dvc-datascience-devenv</span><span id="6d21" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 25) Define the new bucket as remote storage for DVC<br/></strong>dvc remote add -d myremote s3://dvc-datascience-devenv</span><span id="4d6e" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 26) List your DVC remote folder<br/></strong>dvc remote list </span><span id="27e2" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 27) Download data file<br/></strong>wget -P data/ <a class="ae mu" href="https://dvc-repos-gsg.s3.amazonaws.com/models_pytorch_n_params.csv" rel="noopener ugc nofollow" target="_blank">https://dvc-repos-gsg.s3.amazonaws.com/models_pytorch_n_params.csv</a></span><span id="480b" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 28) Add data file to DVC<br/></strong>dvc add data/models_pytorch_n_params.csv</span></pre><p id="e94d" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">每当我们向 dvc 添加文件时，它都会创建一个. DVC 文件，该文件跟踪对原始文件所做的更改，并且可以用 Git 进行版本控制。DVC 还在<code class="fe nz oa ob np b">data</code>文件夹中创建了一个. gitignore，并将数据文件添加到其中，这样 Git 就可以忽略它，我们不需要手动设置它(29)。最后，我们使用 DVC (30)将数据文件推送到我们的远程文件夹(我们创建的 S3 桶)。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="f6d0" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 29) Start tracking DVC file and .gitignore with Git<br/></strong>git add data/.gitignore data/models_pytorch_n_params.csv.dvc<br/>git commit -m "Start versioning csv file stored with DVC on S3 bucket"<br/>git push</span><span id="aaa1" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 30) Push data file to DVC remote storage on S3 bucket<br/></strong>dvc push</span></pre><p id="351e" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">DVC 还可以帮助我们建立管道和进行实验，使测试和重现特定的 ETL 步骤变得更加容易。有关 DVC 功能的更多信息，请查看<a class="nm nn ep" href="https://medium.com/u/91810d41d974?source=post_page-----60df14ce3a34--------------------------------" rel="noopener" target="_blank"> Gleb Ivashkevich </a>的<a class="ae mu" href="https://medium.com/y-data-stories/creating-reproducible-data-science-workflows-with-dvc-3bf058e9797b" rel="noopener">文章</a>。</p><h2 id="b420" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">JupyterLab 内核</h2><p id="31a2" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">安装 JupyterLab 后，我们可以在终端上输入<code class="fe nz oa ob np b">jupyter lab</code>来运行它。作为默认设置，JupyterLab 使用我们的基本 Python 安装作为内核，所以如果我们尝试导入您安装在我们新创建的 conda 环境(而不是基本 Python 环境)上的库，我们将得到一个<code class="fe nz oa ob np b">ModuleNotFoundError</code>。为了解决这个问题，我们需要从我们的环境(32)中安装 ipython 内核(31)。通过这样做，我们将拥有一个与我们的 conda 环境相对应的内核，因此每个已安装和新安装的库都将在我们的 JupyterLab 环境中可用。我们还可以检查安装在我们机器上的可用 Jupyter 内核(33)。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="5a1a" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 31) Install ipython using conda<br/></strong>conda install ipykernel</span><span id="dcd3" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 32) Install your kernel based on your working environment</strong><strong class="np iu"><br/></strong>ipython kernel install --user --name=datascience_devenv</span><span id="e7de" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 33) List the kernels you have available<br/></strong>jupyter kernelspec list</span></pre><h2 id="4e2a" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">导出我们的康达环境</h2><p id="9a8a" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">正如在简介中提到的，一个可靠的开发环境的一个重要方面是容易复制它的可能性。一种方法是将关于 conda 环境的信息导出到 YAML 文件(34)。记住，为了做到这一点，你需要先激活环境。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="a1f6" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 34) To export your current conda environment to YAML<br/></strong>conda env export &gt; datascience_devenv.yaml</span><span id="ce05" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 35) Add the yaml file to our GitHub repository<br/></strong>git add datascience_devenv.yaml<br/>git commit -m 'add environment yaml to repo'<br/>git push</span></pre><h2 id="516a" class="na kv it bd kw nb nc dn la nd ne dp le lv nf ng lg lz nh ni li md nj nk lk nl bi translated">我们项目存储库的结构</h2><p id="7701" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">到目前为止，我们的项目存储库具有以下结构(36)。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="8bef" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 36) Project repository structure<br/></strong>tree</span><span id="e89e" class="na kv it np b gy nx nu l nv nw">.<br/>├── data<br/>│   ├── models_pytorch_n_params.csv<br/>│   └── models_pytorch_n_params.csv.dvc<br/>├── datascience_devenv.yaml<br/>├── README.md<br/>└── requirements.txt</span></pre><p id="347a" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">如果我们在命令<code class="fe nz oa ob np b">tree</code>中使用参数<code class="fe nz oa ob np b">-a</code>，我们可以更好地理解构成 Git 和 DVC (37)的配置文件。如前所述，DVC 为我们添加的每个数据文件创建了一个. gitignore，这样 Git 就可以避免跟踪它。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="c67c" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 37) Detailed repository structure</strong><br/>tree -a<br/>.<br/>├── data<br/>│   ├── .gitignore<br/>│   ├── models_pytorch_n_params.csv<br/>│   └── models_pytorch_n_params.csv.dvc<br/>├── datascience_devenv.yaml<br/>├── .dvc<br/>│   ├── cache<br/>│   │   └── 6f<br/>│   │       └── 387350081297a29ecde86ebfdf632c<br/>│   ├── config<br/>│   ├── .gitignore<br/>│   ├── state<br/>│   ├── tmp<br/>│   └── updater<br/>├── .git<br/>│   ├── branches<br/>│   ├── COMMIT_EDITMSG<br/>│   ├── config<br/>│   ├── description<br/>│   ├── HEAD<br/>│   ├── hooks<br/>│   │   ├── applypatch-msg.sample<br/>│   │   ├── commit-msg.sample<br/>│   │   ├── fsmonitor-watchman.sample<br/>│   │   ├── post-update.sample<br/>│   │   ├── pre-applypatch.sample<br/>│   │   ├── pre-commit.sample<br/>│   │   ├── prepare-commit-msg.sample<br/>│   │   ├── pre-push.sample<br/>│   │   ├── pre-rebase.sample<br/>│   │   ├── pre-receive.sample<br/>│   │   └── update.sample<br/>│   ├── index<br/>│   ├── info<br/>│   │   └── exclude<br/>│   ├── logs<br/>│   │   ├── HEAD<br/>│   │   └── refs<br/>│   │       ├── heads<br/>│   │       │   └── master<br/>│   │       └── remotes<br/>│   │           └── origin<br/>│   │               └── master<br/>│   ├── objects<br/>│   │   ├── 10<br/>│   │   │   └── c06accd2ad99b6cde7fc6e3f3cd36e766ce88f<br/>│   │   ├── 19<br/>│   │   │   └── 193f4a173c56c8d174ecc19700204d250e9067<br/>│   │   ├── 4e<br/>│   │   │   └── 0790499d1d09db63aaf1436ddbd91bfa043058<br/>│   │   ├── 52<br/>│   │   │   └── 4cb7d319626c1bcf24ca5184d83dc1df60c307<br/>│   │   ├── 5f<br/>│   │   │   └── 694b1bd973389b9c0cdbf6b6893bbad2c0ebc6<br/>│   │   ├── 61<br/>│   │   │   └── d5f990a1bee976a2f99b202f1dc14e33b43702<br/>│   │   ├── 67<br/>│   │   │   └── 3b06660535a92d0fdd72fe51c70c9ada47f22d<br/>│   │   ├── 70<br/>│   │   │   └── 1490f13b01089d7da8fa830bae3b6909d12875<br/>│   │   ├── 72<br/>│   │   │   └── a0ddbcc242d223cd71ee5a058fc99de2fa53cc<br/>│   │   ├── a3<br/>│   │   │   └── b5ebf7e3b752fa0da823aeb258b96e007b97ef<br/>│   │   ├── af<br/>│   │   │   └── 8017769b22fcba5945e836c3c2d454efa16bd1<br/>│   │   ├── c1<br/>│   │   │   └── 694ff5e7fe6493206eebf59ac31bf493eb7e6b<br/>│   │   ├── d7<br/>│   │   │   └── 39682b1f99f9a684cecdf976c24ddf3266b823<br/>│   │   ├── e4<br/>│   │   │   └── 5eca3c70f6f47e0a12f00b489aabc526c86e8b<br/>│   │   ├── e6<br/>│   │   │   └── 9de29bb2d1d6434b8b29ae775ad8c2e48c5391<br/>│   │   ├── ee<br/>│   │   │   └── 75f0e66a68873ac2f767c212c56411cd729eb2<br/>│   │   ├── info<br/>│   │   └── pack<br/>│   └── refs<br/>│       ├── heads<br/>│       │   └── master<br/>│       ├── remotes<br/>│       │   └── origin<br/>│       │       └── master<br/>│       └── tags<br/>├── README.md<br/>└── requirements.txt</span></pre><p id="84de" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">接下来，我们<a class="ae mu" href="https://raddevon.com/articles/adding-to-gitignore-from-the-terminal/" rel="noopener ugc nofollow" target="_blank">在你的存储库的根目录下为我们不想跟踪的其他文件创建一个. gitignore </a>(例如 Python 编译的字节码文件。pyc)与 Git (38)。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="9672" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 38) Add .gitignore for script files on our repository<br/></strong>echo "*.pyc" &gt;&gt; .gitignore<br/>git add .gitignore<br/>git commit -m 'Add .gitignore for regular files'<br/>git push</span></pre><p id="edd0" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">现在我们已经配置好了开发环境，并且准备好了。我们的 JupyterLab 拥有与我们的 conda 环境相匹配的内核，我们的数据文件由 DVC 进行版本控制，我们的 Git 存储库正在跟踪其余的文件。因此，对我们项目所做的任何更改都将被记录下来，并且可以很容易地被复制和跟踪。</p><h1 id="4143" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">5.复制我们的开发环境</h1><p id="46f1" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">在设置我们的 Git 存储库和配置我们的 DVC 存储文件夹之后，我们可以在任何新机器上复制它。简单地克隆存储库(39)，从 YAML 文件创建一个 conda 环境(40)，激活它(41)，为我们的环境创建一个 JupyterLab 内核(42)，最后使用 DVC 从 S3 桶拉数据文件(43)。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="57c1" class="na kv it np b gy nt nu l nv nw"><strong class="np iu"># 39) On a new machine, clone the repository<br/></strong>git clone <a class="ae mu" href="https://github.com/GabrielSGoncalves/DataScience_DevEnv.git" rel="noopener ugc nofollow" target="_blank">https://github.com/$GitHubName/DataScience_DevEnv.git</a></span><span id="73b4" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 40) Create conda environment<br/></strong>conda env create --file=datascience_devenv.yaml</span><span id="24c1" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 41) Activate environment<br/></strong>conda activate datascience_devenv</span><span id="e9a0" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 42) Install the JupyterLab kernel<br/></strong>ipython kernel install --user --name=datascience_devenv</span><span id="67a6" class="na kv it np b gy nx nu l nv nw"><strong class="np iu"># 43) Pull the data file from the S3 bucket using DVC<br/></strong>dvc pull</span></pre><p id="a946" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">因此，我们可以在一台新机器上拥有完全相同的开发环境(包括数据文件和已安装的库)，只需要 5 条命令。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="4da9" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">7.结论</h1><p id="a02a" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">在本文中，我们展示了为数据科学家创建可靠且可重复的开发环境的关键工具。我们相信，通过在项目开发中使用最佳实践，数据科学是一个可以变得更加成熟的领域，康达、Git、DVC 和 JupyterLab 是这种新方法的关键组成部分</p><p id="1cfa" class="pw-post-body-paragraph lm ln it lo b lp mi ju lr ls mj jx lu lv mk lx ly lz ml mb mc md mm mf mg mh im bi translated">要了解更多关于实践和方法的数据科学开发环境的观点，请看看<a class="nm nn ep" href="https://medium.com/u/e2f299e30cb9?source=post_page-----60df14ce3a34--------------------------------" rel="noopener" target="_blank">威尔·科尔森</a>的<a class="ae mu" rel="noopener" target="_blank" href="/how-to-avoid-common-difficulties-in-your-data-science-programming-environment-1b78af2977df">文章</a>。</p></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="327f" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">非常感谢你阅读我的文章！</h1><ul class=""><li id="5d0f" class="oc od it lo b lp lq ls lt lv oe lz of md og mh oh oi oj ok bi translated">你可以在我的<a class="ae mu" href="https://medium.com/@gabrielsgoncalves" rel="noopener">个人资料页面</a> <strong class="lo iu">找到我的其他文章🔬</strong></li><li id="2196" class="oc od it lo b lp ol ls om lv on lz oo md op mh oh oi oj ok bi translated">如果你喜欢并且<strong class="lo iu">想成为中级会员</strong>，你可以使用我的<a class="ae mu" href="https://medium.com/@gabrielsgoncalves/membership" rel="noopener"> <strong class="lo iu">推荐链接</strong> </a> <strong class="lo iu"> </strong>来支持我👍</li></ul></div><div class="ab cl mn mo hx mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="im in io ip iq"><h1 id="fe97" class="ku kv it bd kw kx mv kz la lb mw ld le jz mx ka lg kc my kd li kf mz kg lk ll bi translated">更多资源</h1><div class="oq or gp gr os ot"><a href="https://medium.com/@gergoszerovay/why-you-need-python-environments-and-how-to-manage-them-with-conda-protostar-space-cf823c510f5d" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">为什么需要 Python 环境以及如何使用 Conda-protostar . space 管理它们</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">我不应该只安装最新的 Python 版本吗？</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">medium.com</p></div></div><div class="pc l"><div class="pd l pe pf pg pc ph ks ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://blog.dataversioncontrol.com/data-version-control-tutorial-9146715eda46" rel="noopener  ugc nofollow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">数据版本控制教程</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">2019 年 3 月 4 日更新:本教程中的代码示例已经过时。请使用更新的教程…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">blog.dataversioncontrol.com</p></div></div><div class="pc l"><div class="pi l pe pf pg pc ph ks ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://blog.jupyter.org/jupyterlab-is-ready-for-users-5a6f039b8906" rel="noopener  ugc nofollow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">JupyterLab 已经为用户准备好了</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">我们很自豪地宣布 JupyterLab 的测试版系列，这是 Project…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">blog.jupyter.org</p></div></div><div class="pc l"><div class="pj l pe pf pg pc ph ks ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://medium.com/y-data-stories/creating-reproducible-data-science-workflows-with-dvc-3bf058e9797b" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">使用 DVC 创建可重复的数据科学工作流</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">“入门”教程进入 DVC，在你的日常管理工作中建立一个结构和秩序</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">medium.com</p></div></div><div class="pc l"><div class="pk l pe pf pg pc ph ks ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://raddevon.com/articles/adding-to-gitignore-from-the-terminal/" rel="noopener  ugc nofollow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">快速添加到。从终端 gitignore</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">我不久前学了一个技巧来创造我的。gitignore 文件(并添加到它)很快从终端。这里有一个常见的…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">raddevon.com</p></div></div><div class="pc l"><div class="pl l pe pf pg pc ph ks ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://www.software.com/review/ranking-the-top-5-code-editors-2019" rel="noopener  ugc nofollow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">2019 年排名前 5 的代码编辑器</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">自从微软的 Visual Studio 代码推出以来，代码编辑器大战真的白热化了。有这么多…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">www.software.com</p></div></div><div class="pc l"><div class="pm l pe pf pg pc ph ks ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://www.fossmint.com/gui-git-clients-for-mac/" rel="noopener  ugc nofollow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">Mac 的 10 个最佳 GUI Git 客户端</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">Git 是一个版本控制系统，用于跟踪文件变化。通常用于团队环境，尤其是…</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">www.fossmint.com</p></div></div><div class="pc l"><div class="pn l pe pf pg pc ph ks ot"/></div></div></a></div><div class="oq or gp gr os ot"><a rel="noopener follow" target="_blank" href="/how-to-avoid-common-difficulties-in-your-data-science-programming-environment-1b78af2977df"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd iu gy z fp oy fr fs oz fu fw is bi translated">如何避免数据科学编程环境中的常见困难</h2><div class="pa l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">减少编程环境中的附带问题，这样您就可以专注于重要的数据科学问题。</h3></div><div class="pb l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">towardsdatascience.com</p></div></div><div class="pc l"><div class="po l pe pf pg pc ph ks ot"/></div></div></a></div></div></div>    
</body>
</html>