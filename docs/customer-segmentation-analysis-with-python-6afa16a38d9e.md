# 用 Python 进行客户细分分析

> 原文：<https://towardsdatascience.com/customer-segmentation-analysis-with-python-6afa16a38d9e?source=collection_archive---------2----------------------->

![](img/d0fc2edd87c81c8d661fabe0dcd4c25b.png)

在这篇文章中，我将探索一个关于购物中心顾客的数据集，尝试看看是否有任何可辨别的细分和模式。客户细分有助于理解在一个商业案例中你的客户中有哪些人口统计学和心理学的亚人群。

了解了这一点，你就能更好地理解如何营销和服务他们。这与 UX 创建用户角色的方法类似，但略有不同:创建你的理想客户、他们的痛点、定义性报价等等，以了解他们的观点。

## 设置

开始时，您可以写出导入语句并加载数据集，调用`head()`查看数据预览。

像往常一样，在这里通过克隆回购[随意编码。](https://github.com/rileypredum/mall_customer_segmentation)

Import statements

![](img/fa912ced0f595e1b80cdda8c7af1cef8.png)

Head call

接下来，您可以对数据调用`describe()`来查看每个变量的描述性统计数据。在这里花点时间理解这些数字的含义是很重要的。例如，如果支出分数(1-100)列(显然是 1 到 100 之间的一个值范围)的最小值或最大值超过 100，您就会知道有问题。

![](img/1c7cc11e07129e8bc394d79e765cc858.png)

Describe call

通过调用 describe，您可以看到没有要清理的值。年龄看起来很正态分布，年收入没有太多的异常值。支出分数实际上在 1 到 100 分之间。一切看起来都很好。

## 探索数据

了解分类变量在整个数据集中是如何分割的总是很有帮助的。这可以通过一个简单的计数图来实现，如下所示:

![](img/ab5d11c3dfcd4cd8f126bdf5b163de08.png)

在这个数据集中，女性略多于男性。他们也许会成为你以后客户细分工作中的一个重要因素。

年龄呢？

![](img/22f4896a38c208dc462521aecca1def4.png)

Distribution of ages

年龄大多在 30 到 40 岁之间。回想一下`describe()`的通话结果这是有道理的。平均年龄为 38 岁。老年客户较少，因此这种分布是右偏的，因为它的右尾较长。这可能是因为购物中心的吸引力和倾向于在那里购物的人口类型。

您可以通过叠加两个直方图来添加细节，为每个性别创建一个年龄直方图。

![](img/4999c97ad8ce97d47fcf6c5ea39a5852.png)

Distribution of age by gender

这个数据集中的男性往往比女性年轻。你可以看到，女性在 30-35 岁之间达到顶峰，这也是她们中大多数人下降的时候。这个数据集中的中年女性也比男性多。65-70 岁年龄段中有相当数量的老年人。

收入怎么样？您可以用下面的代码来看看这个发行版:

![](img/ca77fc91280d13d008aaabb46fec46ba.png)

Distribution of income

大部分收入介于 60 美元和 85，000 美元之间。性别对此有影响吗？

![](img/4dd4a59b81d03cb91246b035326d7f7f.png)

Distribution of income by gender

这个数据集中的女性比男性挣钱少。他们的支出分数是什么样的，相比之下又如何呢？

男性的平均支出分数为 48.5，女性为 51.5。在这个数据集中，女性挣得更少，但在这个商场花得更多。

您可以进一步增加复杂性，以便更好地理解数据。因为大部分是定量变量和一个干净的二元分类变量，所以做一些散点图是有帮助的。

![](img/b8e1bbbf408ba0d405dc959f24852139.png)

Age and income, colored by gender

没有明确的相关性。事实上，你可以量化这一点，并且很容易地对所有变量进行量化。就叫`sns.heatmap(customers.corr(), annot=True)`。

![](img/8b279e9831714bcb2da9f4daf563454d.png)

Correlation heat map of each variable

从上面的图中可以看出，唯一稍微相关的变量是支出分数和年龄。这是一种负相关关系，因此在这个数据集中，客户的年龄越大，他们的消费得分就越低。但是因为是 0.33，所以根本不是强相关。它的信息量仍然很少，并且遵循基本的逻辑。

编码下面的图显示了这一趋势。

![](img/d46daa8515942bdeb6bbe3f056bf5dd5.png)

Age to spending score by gender

你现在可以看到轻微的负相关。你难道不想知道是男人还是女人有更强的相关性吗？您可以通过之前创建的两个按性别划分的数据框中的热图来验证这一点。

![](img/e5f58eaab2077c92863bca9a01ca39f5.png)

Correlation heat map of female customers

将`female_customers`数据框替换为男士数据框，为他们展示了以下情节:

![](img/cea2a277b4e0d61389a5971fcc265e85.png)

Correlation heat map of male customers

在这种情况下，年龄对女性的支出分数影响更大。没有任何其他东西真的有足够强的相关性来说明任何事情。

现在你可以用一个漂亮的`lmplot`放大女性消费分数与年龄的关系。

![](img/5c806eeeeca756c700ada5a73f512f8c.png)

Scatter of age to spending score for women, with a regression line and bootstrap interval about the line

最后，您可以使用以下代码查看按性别着色的收入支出比得分:

![](img/a84f397d8c812a7a64981b6e662e3468.png)

Spending score and income by gender

这里有一些模式。但是零相关。但是你可以把这些看作是客户群:

1.  低收入，低支出分数
2.  低收入，高支出分数
3.  中等收入，中等支出分数
4.  高收入，低支出分数
5.  高收入，高支出分数

## 解释和行动

回到这类分析的业务和营销用例，可以测试以下假设。

1.  向女性推销更便宜的商品会改变购买频率或数量吗？
2.  对年轻女性进行更多的营销会导致更高的销售额吗，因为她们的消费得分往往更高？
3.  广告、定价、品牌和其他策略如何影响老年女性(40 岁以上)的消费分数？

要回答这些问题，需要更多的数据。

计划如何收集更多数据以构建具有更多功能的数据集将会很有帮助。功能越多，就越能理解是什么决定了支出分数。一旦更好地理解了这一点，你就能理解什么因素会导致支出分数增加，从而带来更大的利润。

## KPI

本着业务用例的精神，我将定义下面的 KPI 作为一个例子来展示你如何知道你的努力是否有回报。

1.  在推出更多针对妇女的营销活动后，妇女购买的频率和数量发生了变化。
2.  引入针对年轻女性的营销活动后，支出分数的变化。
3.  引入针对老年女性的营销活动后，消费得分的变化。

如果你觉得这篇文章很有用或者学到了新的东西，[考虑捐赠](https://www.patreon.com/rileypredum)任何数量的钱来支付给下一个学习者！

感谢阅读和快乐编码！

奢侈的生活