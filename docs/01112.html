<html>
<head>
<title>IPython Alias to Preload Your Favorite Modules and Activate Autoreload</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">IPython Alias 预加载您喜爱的模块并激活自动加载</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/tips-ipython-d5ea85c5e9be?source=collection_archive---------23-----------------------#2019-02-20">https://towardsdatascience.com/tips-ipython-d5ea85c5e9be?source=collection_archive---------23-----------------------#2019-02-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f138" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用一种非常简单的方法获得您自己的强大的 IPython</h2></div><h1 id="0ac4" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">TL；速度三角形定位法(dead reckoning)</h1><p id="3aab" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">您只需复制下面的别名，并将其粘贴到您的<code class="fe lt lu lv lw b">.bashrc</code>、<code class="fe lt lu lv lw b">.zshrc</code>或某个配置文件中:</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="9d50" class="mf kg iq lw b gy mg mh l mi mj">alias ipy="ipython --no-confirm-exit --no-banner --quick --InteractiveShellApp.extensions=\"['autoreload']\" --InteractiveShellApp.exec_lines=\"['%autoreload 2', 'import os,sys']\""</span></pre><figure class="lx ly lz ma gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="mm mn di mo bf mp"><div class="gh gi mk"><img src="../Images/cc69e4d2381c6b079a5e3443eaa57d06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BNpgQTab_BgySJ14z2vgHQ.jpeg"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Photo by <a class="ae mw" href="https://unsplash.com/photos/8CwoHpZe3qE?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Geetanjal Khanna</a> on <a class="ae mw" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="f8c2" class="pw-post-body-paragraph kx ky iq kz b la mx jr lc ld my ju lf lg mz li lj lk na lm ln lo nb lq lr ls ij bi translated">我经常使用 IPython 来开发我的库或做一些研究，因为 IPython 有如下非常好的特性:</p><ul class=""><li id="77e6" class="nc nd iq kz b la mx ld my lg ne lk nf lo ng ls nh ni nj nk bi translated">运行常见的 shell 命令:ls、cp、rm 等。</li><li id="ee16" class="nc nd iq kz b la nl ld nm lg nn lk no lo np ls nh ni nj nk bi translated">此外，运行任何 shell 命令！(一些命令)。</li><li id="f359" class="nc nd iq kz b la nl ld nm lg nn lk no lo np ls nh ni nj nk bi translated">IPython 提供了许多<a class="ae mw" href="https://ipython.readthedocs.io/en/stable/interactive/magics.html#built-in-magic-commands" rel="noopener ugc nofollow" target="_blank">神奇的命令</a> : run、debug、timeit 等</li><li id="87ea" class="nc nd iq kz b la nl ld nm lg nn lk no lo np ls nh ni nj nk bi translated">伟大的自动完成</li><li id="9a61" class="nc nd iq kz b la nl ld nm lg nn lk no lo np ls nh ni nj nk bi translated"><strong class="kz ir">在 Python 中预装你喜欢的模块</strong></li><li id="8874" class="nc nd iq kz b la nl ld nm lg nn lk no lo np ls nh ni nj nk bi translated"><a class="ae mw" href="https://ipython.readthedocs.io/en/stable/config/extensions/autoreload.html#autoreload" rel="noopener ugc nofollow" target="_blank"> <strong class="kz ir">自动重装扩展</strong> </a></li></ul><p id="2861" class="pw-post-body-paragraph kx ky iq kz b la mx jr lc ld my ju lf lg mz li lj lk na lm ln lo nb lq lr ls ij bi translated">我想你已经知道 IPython 提供了一个很好的 Python 解释器，但是也知道你需要准备<code class="fe lt lu lv lw b">profile</code>来定制 IPython，比如预加载或者激活一个扩展。我觉得这有点麻烦。所以我在这篇文章中解释了预加载你喜欢的模块或者激活<code class="fe lt lu lv lw b">autoreload</code>而不需要配置文件的方法。</p><h1 id="b872" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">在 Python 中预装你喜欢的模块</h1><p id="096f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">当 IPython 启动时，您可以像下面这样执行 Python 代码。在这种情况下，我预加载 os 和 sys 模块。</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="b3e3" class="mf kg iq lw b gy mg mh l mi mj">ipython --InteractiveShellApp.exec_lines="['import os,sys']"</span></pre><p id="4685" class="pw-post-body-paragraph kx ky iq kz b la mx jr lc ld my ju lf lg mz li lj lk na lm ln lo nb lq lr ls ij bi translated">如果你想预装 PyTorch 或 Tensorflow，这里是你想要的:</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="b67a" class="mf kg iq lw b gy mg mh l mi mj">ipython --InteractiveShellApp.exec_lines="['import torch', 'import tensorflow as tf']"</span></pre><h1 id="3811" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">激活自动重新装入扩展</h1><p id="6028" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><code class="fe lt lu lv lw b">autoreload</code>在执行代码之前自动重新加载模块。您可以按如下方式激活<code class="fe lt lu lv lw b">autoreload</code>:</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="dac0" class="mf kg iq lw b gy mg mh l mi mj">ipython --InteractiveShellApp.extensions="['autoreload']" --InteractiveShellApp.exec_lines="['%autoreload 2']"</span></pre><p id="cbff" class="pw-post-body-paragraph kx ky iq kz b la mx jr lc ld my ju lf lg mz li lj lk na lm ln lo nb lq lr ls ij bi translated">通过使用<code class="fe lt lu lv lw b">--InteractiveShellApp.extensoins</code>，可以加载 IPython 扩展。要启用<code class="fe lt lu lv lw b">autoreload</code>，需要执行<code class="fe lt lu lv lw b">%autoreload 2</code>。</p><h1 id="fdf8" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">其他提示</h1><figure class="lx ly lz ma gt ml gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/5c284baa5a1892f1d4df290421f39b5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*-IEBQgWZSlQQKJqoon7mWg.png"/></div></figure><p id="4414" class="pw-post-body-paragraph kx ky iq kz b la mx jr lc ld my ju lf lg mz li lj lk na lm ln lo nb lq lr ls ij bi translated">您可以删除横幅:</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="404f" class="mf kg iq lw b gy mg mh l mi mj">ipython --no-banner</span></pre><figure class="lx ly lz ma gt ml gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/88f1e571332fff76c21104b01074426c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*qNyo07OQZFj3ZnFkKx05mA.png"/></div></figure><p id="f0a9" class="pw-post-body-paragraph kx ky iq kz b la mx jr lc ld my ju lf lg mz li lj lk na lm ln lo nb lq lr ls ij bi translated">此外，您还可以删除确认:</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="c5ce" class="mf kg iq lw b gy mg mh l mi mj">ipython --no-confirm-exit</span></pre><h1 id="df51" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">获取您自己的强大 IPython</h1><p id="57b6" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我建议您将所有内容组合起来，并使其成为别名:</p><pre class="lx ly lz ma gt mb lw mc md aw me bi"><span id="cd84" class="mf kg iq lw b gy mg mh l mi mj">alias ipy="ipython --no-confirm-exit --no-banner --quick --InteractiveShellApp.extensions=\"['autoreload']\" --InteractiveShellApp.exec_lines=\"['%autoreload 2', 'import os,sys']\""</span></pre><p id="9213" class="pw-post-body-paragraph kx ky iq kz b la mx jr lc ld my ju lf lg mz li lj lk na lm ln lo nb lq lr ls ij bi translated">注意<code class="fe lt lu lv lw b">--quick</code>是一个无需配置文件的快速启动选项。现在，您可以轻松地以自己喜欢的方式更改这个别名。您可能想要加载额外的模块，如<code class="fe lt lu lv lw b">PyTorch</code>、<code class="fe lt lu lv lw b">TensorFlow</code>、<code class="fe lt lu lv lw b">Keras</code>、<code class="fe lt lu lv lw b">scikit-learn</code>等等。</p><p id="0604" class="pw-post-body-paragraph kx ky iq kz b la mx jr lc ld my ju lf lg mz li lj lk na lm ln lo nb lq lr ls ij bi translated">我的帖子到此为止。在这篇文章中，我解释了用一种非常简单的方法定制你的 IPython 并使它强大的方法。这篇文章是写给那些不喜欢建立自己的配置文件，并且想要一个更简单的方法来做这件事的人的。希望我的帖子能帮到你。如果你想更多地定制 IPython 或使用 Jupyter，请查看这篇精彩的帖子:<a class="ae mw" rel="noopener" target="_blank" href="/how-to-automatically-import-your-favorite-libraries-into-ipython-or-a-jupyter-notebook-9c69d89aa343">如何将你最喜欢的库自动导入 IPython 或 Jupyter 笔记本</a>。感谢您的阅读。</p></div></div>    
</body>
</html>