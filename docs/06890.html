<html>
<head>
<title>Pandas Hacks: read_clipboard()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫黑客:read_clipboard()</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pandas-hacks-read-clipboard-94a05c031382?source=collection_archive---------23-----------------------#2019-09-30">https://towardsdatascience.com/pandas-hacks-read-clipboard-94a05c031382?source=collection_archive---------23-----------------------#2019-09-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5782" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">嗯，这不是一个黑客，但它节省了你很多时间。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8c62e6c15aa5708288e3aa257a540ba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2MYU_Qoa6xLBFTi6.png"/></div></div></figure><p id="4069" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们都有过这样的经历:我们在 Kaggle、StackOverflow 或者 Google 第二页的某个不知名的网站上读到一段有趣的数据(yikes！)，它有足够的微光来激起我们的好奇心，引诱我们玩它，因为我们(酷的数据科学人)只是对他们甜蜜的数据见解感兴趣。我们准备好了我们的 Jupyter 笔记本，导入了我们最喜欢的 EDA 库，并准备好探索我们全新的数据集。</p><p id="887a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">但是等等——我们犹豫了。我们意识到，我们必须经历下载数据、将数据保存到正确的文件夹，以及用正确的文件夹路径导入数据集的所有麻烦(哦，数据科学家的悲哀)！简单来说，没有人有那样的时间。嗯，我们有，但是如果我们对自己诚实，像这样的小障碍通常会让我们决定是否要做某事。幸运的是，有<code class="fe lq lr ls lt b">pandas.read_clipboard()</code>来帮助我们。</p><h2 id="837f" class="lu lv it bd lw lx ly dn lz ma mb dp mc ld md me mf lh mg mh mi ll mj mk ml mm bi translated">例如</h2><p id="cce8" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld mp lf lg lh mq lj lk ll mr ln lo lp im bi translated"><code class="fe lq lr ls lt b">pandas.read_clipboard()</code>方法听起来很简单:它读取复制粘贴的表格数据并将其解析到数据框中。例如，尝试在复制以下数据框后运行方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="4f12" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">瞧啊。就这么简单。没有更多不必要的保存随机 csv 文件在您的计算机上。现在，您只需复制您的数据，并在几秒钟内开始挖掘！成为一名数据科学家是多么美好的时光。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mt l"/></div></figure><h2 id="1130" class="lu lv it bd lw lx ly dn lz ma mb dp mc ld md me mf lh mg mh mi ll mj mk ml mm bi translated">还有几件事</h2><p id="95ed" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld mp lf lg lh mq lj lk ll mr ln lo lp im bi translated">在幕后，<code class="fe lq lr ls lt b">pandas.read_clipboard()</code>方法将您复制的数据传递给<code class="fe lq lr ls lt b">pandas.read_csv()</code>方法，这使得这个方法更加强大。这意味着您不必将自己局限于已经清理干净的数据。通过 read_csv 可以读取的内容，都可以通过 read_clipboard 读取。以下面这个 csv 文件为例，它来自于<a class="ae mv" href="https://www.kaggle.com/hesh97/titanicdataset-traincsv" rel="noopener ugc nofollow" target="_blank"> Kaggle 的 Titanic 数据集</a>，并且去掉了文件头:</p><pre class="kj kk kl km gt mw lt mx my aw mz bi"><span id="a09c" class="lu lv it lt b gy na nb l nc nd">1,0,3,"Braund, Mr. Owen Harris",male,22,1,0,A/5 21171,7.25,,S<br/>2,1,1,"Cumings, Mrs. John Bradley (Florence Briggs Thayer)",female,38,1,0,PC 17599,71.2833,C85,C<br/>3,1,3,"Heikkinen, Miss. Laina",female,26,0,0,STON/O2. 3101282,7.925,,S<br/>4,1,1,"Futrelle, Mrs. Jacques Heath (Lily May Peel)",female,35,1,0,113803,53.1,C123,S<br/>5,0,3,"Allen, Mr. William Henry",male,35,0,0,373450,8.05,,S<br/>6,0,3,"Moran, Mr. James",male,,0,0,330877,8.4583,,Q<br/>7,0,1,"McCarthy, Mr. Timothy J",male,54,0,0,17463,51.8625,E46,S<br/>8,0,3,"Palsson, Master. Gosta Leonard",male,2,3,1,349909,21.075,,S<br/>9,1,3,"Johnson, Mrs. Oscar W (Elisabeth Vilhelmina Berg)",female,27,0,2,347742,11.1333,,S<br/>10,1,2,"Nasser, Mrs. Nicholas (Adele Achem)",female,14,1,0,237736,30.0708,,C<br/>11,1,3,"Sandstrom, Miss. Marguerite Rut",female,4,1,1,PP 9549,16.7,G6,S<br/>12,1,1,"Bonnell, Miss. Elizabeth",female,58,0,0,113783,26.55,C103,S<br/>13,0,3,"Saundercock, Mr. William Henry",male,20,0,0,A/5. 2151,8.05,,S<br/>14,0,3,"Andersson, Mr. Anders Johan",male,39,1,5,347082,31.275,,S<br/>15,0,3,"Vestrom, Miss. Hulda Amanda Adolfina",female,14,0,0,350406,7.8542,,S<br/>16,1,2,"Hewlett, Mrs. (Mary D Kingcome) ",female,55,0,0,248706,16,,S<br/>17,0,3,"Rice, Master. Eugene",male,2,4,1,382652,29.125,,Q<br/>18,1,2,"Williams, Mr. Charles Eugene",male,,0,0,244373,13,,S<br/>19,0,3,"Vander Planke, Mrs. Julius (Emelia Maria Vandemoortele)",female,31,1,0,345763,18,,S<br/>20,1,3,"Masselmani, Mrs. Fatima",female,,0,0,2649,7.225,,C<br/>21,0,2,"Fynney, Mr. Joseph J",male,35,0,0,239865,26,,S<br/>22,1,2,"Beesley, Mr. Lawrence",male,34,0,0,248698,13,D56,S<br/>23,1,3,"McGowan, Miss. Anna ""Annie""",female,15,0,0,330923,8.0292,,Q<br/>24,1,1,"Sloper, Mr. William Thompson",male,28,0,0,113788,35.5,A6,S<br/>25,0,3,"Palsson, Miss. Torborg Danira",female,8,3,1,349909,21.075,,S<br/>26,1,3,"Asplund, Mrs. Carl Oscar (Selma Augusta Emilia Johansson)",female,38,1,5,347077,31.3875,,S<br/>27,0,3,"Emir, Mr. Farred Chehab",male,,0,0,2631,7.225,,C<br/>28,0,1,"Fortune, Mr. Charles Alexander",male,19,3,2,19950,263,C23 C25 C27,S</span></pre><p id="6a87" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">如果您复制并运行 read_clipboard，您会注意到第一行的数据将被用作标题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/16d3d9a1741f7a9d371df0d2323b40f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EpHXyHfp6qkJb2GvQiau8g.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk">First Row of Data is Used as Header</figcaption></figure><p id="6dff" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">就像我们在使用 read_csv 时一样，我们可以将<code class="fe lq lr ls lt b">header=None</code>和<code class="fe lq lr ls lt b">names=col_names</code>关键字参数传递给 read_clipboard，以便修复问题并提供标题。复制上面的 csv 文件后，运行以下代码:</p><pre class="kj kk kl km gt mw lt mx my aw mz bi"><span id="9ca0" class="lu lv it lt b gy na nb l nc nd">import pandas as pd</span><span id="cd9a" class="lu lv it lt b gy nj nb l nc nd">columns = [<br/>    'PassengerId', 'Survived', 'Pclass', 'Name',<br/>    'Sex', 'Age', 'SibSp', 'Parch', 'Ticket', 'Fare',<br/>    'Cabin', 'Embarked',<br/>]<br/>pd.read_clipboard(header=None, names=columns)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/fbbf5e0f45d83a38b47bb9f41b4cf1f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iNHOu_VWN671kGZM_u4rHg.png"/></div></div><figcaption class="nf ng gj gh gi nh ni bd b be z dk">That’s Better</figcaption></figure><p id="6e6b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从上面的图片中可以看到，第一行不再用于标题，我们的标题现在被正确命名了。很好。</p><h2 id="ddd1" class="lu lv it bd lw lx ly dn lz ma mb dp mc ld md me mf lh mg mh mi ll mj mk ml mm bi translated">最后的想法</h2><p id="2dc0" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld mp lf lg lh mq lj lk ll mr ln lo lp im bi translated">使用<code class="fe lq lr ls lt b">pd.read_clipboard()</code>有一个警告:它不适用于运行在云上的笔记本电脑或<a class="ae mv" href="https://scotch.io/bar-talk/trying-the-new-wsl-2-its-fast-windows-subsystem-for-linux" rel="noopener ugc nofollow" target="_blank"> WSL </a>(二进制抽泣)。所以对于那些远程使用 Jupyter 笔记本的人来说，我很抱歉地说，你现在必须坚持使用 read_csv。</p><p id="f5de" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">除此之外，这是一种快速获得数据并立即展开争论的有用方式。这对任何数据科学家来说都是一个很好的补充。</p></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><h1 id="4b86" class="ns lv it bd lw nt nu nv lz nw nx ny mc jz nz ka mf kc oa kd mi kf ob kg ml oc bi translated">关于阿德里安·佩雷亚</h1><p id="020d" class="pw-post-body-paragraph ku kv it kw b kx mn ju kz la mo jx lc ld mp lf lg lh mq lj lk ll mr ln lo lp im bi translated"><em class="od">兼职数据科学家，兼职科技写手，全职书呆子。我在教授机器学习和可管理的、</em> <strong class="kw iu"> <em class="od">字节</em> </strong> <em class="od">大小的程序中找到乐趣。是的，我也很搞笑。咖啡上瘾者。数据可视化的吸盘。愿意为下一个最好的树状图付出我的 1 和 0。</em></p><p id="17bd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="od">关注我上</em><a class="ae mv" href="https://twitter.com/adrianmarkperea" rel="noopener ugc nofollow" target="_blank"><em class="od">Twitter</em></a><em class="od">和</em><a class="ae mv" href="https://www.linkedin.com/in/adrian-perea/" rel="noopener ugc nofollow" target="_blank"><em class="od">LinkedIn</em></a><em class="od">。</em></p></div></div>    
</body>
</html>