<html>
<head>
<title>Reading a confusion matrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">阅读混淆矩阵</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/reading-a-confusion-matrix-60c4dd232dd4?source=collection_archive---------8-----------------------#2019-12-11">https://towardsdatascience.com/reading-a-confusion-matrix-60c4dd232dd4?source=collection_archive---------8-----------------------#2019-12-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="22d6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">精确度，召回，f 分数，真阳性，假阴性，真阴性，假阳性…你困惑了吗？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/50d43d544591d9584d5ac5248ea0c23e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tufJmFNdHkzOaoHGFCRBeA.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image from <a class="ae ky" href="https://pixabay.com/images/search/" rel="noopener ugc nofollow" target="_blank">https://pixabay.com</a></figcaption></figure><p id="b400" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文将尝试解释上述术语，并演示如何阅读混淆矩阵，以便从中获取最多信息。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="961e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">什么是混淆矩阵？</strong></p><p id="b23f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">混淆矩阵是一种可视化分类结果的方法。您已经建立了一个分类模型，该模型预测了测试集上的一些值，并且您还有一些目标变量的实际值要与之进行比较。困惑矩阵将向你展示你的预测是否与现实相符，以及它们是如何更详细地计算的。</p><p id="d284" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的混淆矩阵显示了预测值与实际值的对比，并给出了分类对的名称:真阳性、真阴性、假阴性和假阳性。我们将讨论每一个预测患者高血压的特殊例子的意义。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/c76a62ab1e51e6c82834cde3df91563d.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*RGhjjLAg2kWPaCFRR4qW1Q.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="e20e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">真阳性</strong></p><p id="e22b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在将考虑 130 名患者的数据集，其中基于一些特征集，我们试图预测患者是否患有高血压。在数据集中，有 46 名患者有高血压，其余 84 名没有。我们已经运行了我们的分类算法，并绘制了我们的模型相对于实际值的预测值。混淆矩阵如下所示。我们可以看到我们得到了 34 个真阳性。这对应于患有高血压的患者，并且我们的模型正确地识别了他们。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi md"><img src="../Images/27489ba242f6b828d6da05a1e4c91df0.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*jqqU-Nl1ugorTrvp1URdDg.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="e4de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">真底片</strong></p><p id="72e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到，我们也得到了 78 个真负对。这意味着我们的算法已经正确地发现了 78 名没有高血压的患者(他们没有高血压，并且模型也预测他们没有)。真正的否定和真正的肯定是我们的模型做对的部分。我们希望找到能最大化这两者的模型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi me"><img src="../Images/7a67c6a8168b5b4ed8793fb270654552.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*2DeIcc2X7dVVFaoGgOAjZA.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="b737" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">误报</strong></p><p id="6014" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们开始关注我们的模型表现不佳的部分。假阳性代表我们的模型归类为有高血压的患者的数量，但实际上，他们没有。对病人来说可能不是一个严重的错误，但是对治疗病人没有的疾病的医院机构来说可能是昂贵的。假阳性也称为 1 型错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/3a9987e9a0d61d7943fafeb4acfa865f.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*CKmnVCpD3jgfghE2hrkNrA.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="4f92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">假阴性</strong></p><p id="bbfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假阴性代表患者有高血压，但我们的模型预测他们没有。它也称为第二类错误，这种错误的含义可能不同于第一类错误。在我们的情况下，后果甚至可能是严重的，因为那些患有高血压的患者将被诊断为健康的，而没有得到治疗。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/3080341fbf2a0e8f80f0d8724072277d.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*5aw5QufQa8ZkPiksJdJ_gw.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="3fde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">精度</strong></p><p id="a239" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">累积正确预测并将该数字放入所有实例的对比中的度量是<strong class="lb iu">准确性</strong>。它将真阳性和真阴性相加，然后除以所有实例的数量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi md"><img src="../Images/8299325c99ef92d50867845a669854d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*YVi_ZtHwKENda0agfNfy7Q.png"/></div></figure><p id="971e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">准确度的实际公式如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/ae3eaa241016f494f5b8ef3facade457.png" data-original-src="https://miro.medium.com/v2/resize:fit:634/format:webp/1*XWhFFJoatH1MNGL-7S6wXQ.png"/></div></figure><p id="b95c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，我们将所有真值(真正值和真负值)相加，然后除以所有示例。在我们的例子中，这是(34+78)/130。我们得到的精度比 0.86 稍高一点。</p><p id="8985" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重要的是要注意，有一些例子，准确性本身可能会产生误导。因此，在我们的例子中，有 84 名患者没有高血压，因此，一个只预测所有患者没有高血压的模型将获得 64%的准确性(84/130=0.64)。因此，我们希望使用其他指标来帮助模型评估。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="a2ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">精度</strong></p><p id="592c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个非常重要的概念。这是模型正确识别的高血压患者数(真阳性)除以模型预测的所有高血压患者数(真阳性和假阳性)。换句话说，它衡量的是在我们模型的正面预测中，正确识别的实例所占的比例。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/62165ada2b90940087b87bc31ac708f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:404/format:webp/1*MYt9BpCeXIZMR65ICF23Ug.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="6fb2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">回忆</strong></p><p id="0914" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">召回代表正确识别的高血压患者(真阳性)除以患病患者总数(真阳性和假阴性)。换句话说，它衡量的是我们的模型能够正确识别的疾病患者的比例。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/768a77df3878cd4fc6fb6d21ebac7f92.png" data-original-src="https://miro.medium.com/v2/resize:fit:344/format:webp/1*Dfrifnp66FgxeV201KqL1w.png"/></div></figure><p id="16ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你仍然感到困惑，你可以把召回率理解为被模型正确分类的所有相关结果的百分比，把精确度理解为相关结果的百分比。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="1653" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> F 分数</strong></p><p id="f6e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">精确度和召回率可以结合成一个单一的指标，称为 f-score。如果你对回忆和精确给予同等的重视，你可以用它来优化你的模型。如果你不强调回忆和精确更重要的话，这可能是一个很好的折中方案。公式如下所示，它结合了我们讨论过的两个指标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/a828f24aad7cceb66589f05989f5570a.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/format:webp/1*RpdrtFSOvHYWi8wYgPL_Qg.png"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="ee2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">结论</strong></p><p id="d0cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我介绍了一个混淆矩阵，并给出了可以从它导出的度量标准。在评估分类问题时，查看上面提到的所有指标是很重要的。然而，当试图优化或选择最佳模型时，增加一个指标可能会导致另一个指标下降。根据模型应用选择折衷方案并理解这些决策的含义是很重要的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="e0a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ml">原载于 aboutdatablog.com: </em> <a class="ae ky" href="https://www.aboutdatablog.com/post/reading-a-confusion-matrix" rel="noopener ugc nofollow" target="_blank">阅读一个困惑矩阵</a>，<em class="ml">2019 年 12 月 11 日。</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="532f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ml"> PS:我正在 Medium 和</em><a class="ae ky" href="https://www.aboutdatablog.com/" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="ml"/></strong></a><em class="ml">上撰写深入浅出地解释基本数据科学概念的文章。你可以订阅我的</em> <a class="ae ky" href="https://medium.com/subscribe/@konkiewicz.m" rel="noopener"> <strong class="lb iu"> <em class="ml">邮件列表</em> </strong> </a> <em class="ml">每次我写新文章都会收到通知。如果你还不是中等会员，你可以在这里加入</em><em class="ml"/><a class="ae ky" href="https://medium.com/@konkiewicz.m/membership" rel="noopener"><strong class="lb iu"><em class="ml">。</em></strong></a></p><p id="e435" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一些你可能会喜欢的帖子</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><div class="kj kk kl km gt mm"><a rel="noopener follow" target="_blank" href="/what-are-lambda-functions-in-python-and-why-you-should-start-using-them-right-now-75ab85655dc6"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd iu gy z fp mr fr fs ms fu fw is bi translated">python 中的 lambda 函数是什么，为什么你现在就应该开始使用它们</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">初学者在 python 和 pandas 中开始使用 lambda 函数的快速指南。</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">towardsdatascience.com</p></div></div><div class="mv l"><div class="mw l mx my mz mv na ks mm"/></div></div></a></div><div class="nb nc gp gr nd mm"><a rel="noopener follow" target="_blank" href="/jupyter-notebook-autocompletion-f291008c66c"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd iu gy z fp mr fr fs ms fu fw is bi translated">Jupyter 笔记本自动完成</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">数据科学家的最佳生产力工具，如果您还没有使用它，您应该使用它…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">towardsdatascience.com</p></div></div><div class="mv l"><div class="ne l mx my mz mv na ks mm"/></div></div></a></div><div class="nb nc gp gr nd mm"><a rel="noopener follow" target="_blank" href="/7-practical-pandas-tips-when-you-start-working-with-the-library-e4a9205eb443"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd iu gy z fp mr fr fs ms fu fw is bi translated">当你开始与图书馆合作时，7 个实用的熊猫提示</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">解释一些乍一看不那么明显的东西…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">towardsdatascience.com</p></div></div><div class="mv l"><div class="nf l mx my mz mv na ks mm"/></div></div></a></div></div></div>    
</body>
</html>