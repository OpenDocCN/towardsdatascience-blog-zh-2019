<html>
<head>
<title>Building a Language Toxicity Classification Model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">建立语言毒性分类模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-a-language-toxicity-classification-model-b006ae6981a4?source=collection_archive---------30-----------------------#2019-09-24">https://towardsdatascience.com/building-a-language-toxicity-classification-model-b006ae6981a4?source=collection_archive---------30-----------------------#2019-09-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0f1e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用谷歌云自动语言</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2e0742e31fc2048ce8c5ebcb39c7c201.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EYojCjbZ5Jjry2ghDw-HUA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Left: Jigsaw (Conservation AI). Right: AutoML for Natural Language</figcaption></figure><p id="23a1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在线社区是互联网互动的重要组成部分。这种社区的兴起伴随着对社区节制的需要，以确保参与者遵守他们规定的指导方针，并避免“清楚和明显”的和客观的政策违反。</p><p id="3da9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于存在怀有恶意的不良行为者，节制工作带来了特殊的挑战。其中之一是由于不良行为者的规模，花费在调节在线社区上的时间。更重要的是，这些违规行为的数量可能会导致他们中的一些人越过版主，并且在特定的社区中可能是极其危险的。一个例子是一个淫秽文本在一个 K-12 儿童的在线社区中通过了版主。</p><p id="e83e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">此外，适度的工作可能会导致其他挑战，如判断的一致性，更重要的是，由于不断接触图形和淫秽材料，心理上的危险。</p><p id="2e3c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Google Cloud AutoML for Natural Language 为语言识别用例提供了设计和开发定制语言模型的平台。本文使用 Google Cloud AutoML for Natural Language 开发了一个端到端的语言毒性分类模型来识别淫秽文本。使用神经架构搜索和转移学习的概念来寻找最佳网络架构和最佳超参数设置，以提高模型的性能。</p><h1 id="82c4" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">关于数据集</h1><p id="5d3b" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">这个项目使用的数据来自 Jigsaw 和 Google 在 Kaggle 上发起的<a class="ae mr" href="https://www.kaggle.com/c/jigsaw-toxic-comment-classification-challenge" rel="noopener ugc nofollow" target="_blank">有毒评论分类挑战。数据被修改为具有 16，000 个有毒和 16，000 个无毒单词的样本作为输入，以在 AutoML NLP 上构建模型。</a></p><h1 id="1dfb" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">第 1 部分:在 GCP 上启用自动语言</h1><p id="b58a" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">(1).去云控制台:【https://cloud.google.com/ T2】</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/565ccc3bdc054c5b1552257edd88f72a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UpIh-WmZRDwYnsrPGTctRQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Google Cloud Homepage</figcaption></figure><p id="b2b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(2).通过单击 GCP 仪表盘左上角的三连破折号打开 Cloud AutoML 自然语言。选择人工智能产品部分下的<strong class="la iu"> <em class="mt">自然语言</em> </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/a816da5d121d44ca0f9c533b9bc45584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5_EnLpf5bpnOmMSXSSNIzg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Open AutoML Natural Language</figcaption></figure><p id="ea09" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(3).选择自动自然语言下的文本分类。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/edd7917397ae5bb7e456b6dedcd3111d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_dvpEWbV4YtXkdqYpsXjjw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Text Classification under AutoML Natural Language</figcaption></figure><p id="d634" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(4).设置项目 API、权限和云存储桶，以存储用于建模和其他 AutoML 资产的文本文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/179412608c195b676346a7b31322ef28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PZfw2pn3Ol_Dfc6XfxJy2Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Setup Project APIs and Permissions</figcaption></figure><p id="0d66" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(5).询问时，从下拉列表中选择您的 GCP 帐单项目。现在我们准备创建一个数据集，用于在 AutoML 上构建定制分类模型。在将原始数据集从 Kaggle 下载到云存储并准备好用于 AutoML 建模的数据后，我们将返回这里。</p><p id="d4b4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这种情况下，自动创建的 bucket 被称为:g <strong class="la iu"> s://ekabasandbox-lcm </strong>。</p><h1 id="cbb0" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">第 2 部分:将数据集下载到 Google 云存储中</h1><p id="f464" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">(1).激活<strong class="la iu">云外壳</strong>(红色圆圈中)以启动临时 VM 实例来存放从 Kaggle 下载的数据集，将其解压缩并上传到存储桶。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/e9c47f58be15793d57e96a6e1af97ea8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gwD6AYhKMfGw4xHvOzLNjw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Activate Cloud Shell</figcaption></figure><p id="5a26" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(2).安装 Kaggle 命令行界面。这个工具将允许我们从 Kaggle 下载数据集。运行以下代码:</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="838f" class="nb lv it mx b gy nc nd l ne nf">sudo pip install kaggle</span></pre><p id="642a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，请注意，云外壳实例是短暂的，当会话结束时，它不会保存系统范围内的更改。此外，如果数据集特别大，还有其他选择，例如启动计算虚拟机，下载数据集，将其解压缩，然后上传到云存储。可以设计其他高级数据管道，将数据输入 GCP 进行分析/机器学习。</p><p id="eb4d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(3).下载 Kaggle API 令牌密钥，使 Kaggle CLI 能够针对 Kaggle 进行身份验证/授权，以下载所需的数据集。</p><ul class=""><li id="aa9b" class="ng nh it la b lb lc le lf lh ni ll nj lp nk lt nl nm nn no bi translated">登录您的 Kaggle 帐户。</li><li id="de4e" class="ng nh it la b lb np le nq lh nr ll ns lp nt lt nl nm nn no bi translated">前往:<a class="ae mr" href="https://www.kaggle.com/[KAGGLE_USER_NAME]/account" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/[ka ggle _ USER _ NAME]/账号</a></li><li id="11ce" class="ng nh it la b lb np le nq lh nr ll ns lp nt lt nl nm nn no bi translated">点击:创建新的 API 令牌。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/77c93d01009cd5119ae9acad371afd80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cZEuHxNz5X5zdUUT.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Create API Token</figcaption></figure><ul class=""><li id="a9c2" class="ng nh it la b lb lc le lf lh ni ll nj lp nk lt nl nm nn no bi translated">将令牌下载到您的本地机器，并将其上传到云 shell。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/880cc9a1e5e2c13b367cb5fc32155c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*48n05xpidmKju7-5.png"/></div></div></figure><ul class=""><li id="e739" class="ng nh it la b lb lc le lf lh ni ll nj lp nk lt nl nm nn no bi translated">将上传的<code class="fe nw nx ny mx b">.json</code>键移动到目录<code class="fe nw nx ny mx b">.kaggle</code>中。使用下面的代码:</li></ul><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="8684" class="nb lv it mx b gy nc nd l ne nf">mv kaggle.json .kaggle/kaggle.json</span></pre><p id="b4b7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(4).从 Kaggle 下载数据集到 Google 云存储。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="b3d4" class="nb lv it mx b gy nc nd l ne nf">kaggle competitions download -c jigsaw-toxic-comment-classification-challenge</span></pre><p id="7ccc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(5).解压缩下载的数据集</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="2bb1" class="nb lv it mx b gy nc nd l ne nf">unzip jigsaw-toxic-comment-classification-challenge.zip</span></pre><p id="1b71" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(6).将数据集从临时云外壳实例移动到创建的云存储桶。在此插入您的存储桶名称。</p><pre class="kj kk kl km gt mw mx my mz aw na bi"><span id="a1b9" class="nb lv it mx b gy nc nd l ne nf">gsutil -m cp -r train.csv test.csv gs://<strong class="mx iu">ekabasandbox-lcm</strong>/toxicity/</span></pre><h1 id="300f" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">第 3 部分:为建模准备数据集</h1><p id="8d97" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">(1).在谷歌云 AI 平台上推出 Jupyter 笔记本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/61534e863dca4f41d307e4671690a2b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DG3PImG2tkXeFxXDwNxp1Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Notebooks of GCP AI Platform</figcaption></figure><p id="2915" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(2).创建新的笔记本实例。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/86d0d18900f04afae9cca3b9ba0af90d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*S2Z51tgTGYJKOgq3.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Start a new JupyterLab instance</figcaption></figure><p id="c36a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(3).选择实例名称并创建。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/1dd12240e2833ccf66edf5968a16fbee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bSXLjTUWSSk-YWbs-NRd0A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Choose an instance name and create</figcaption></figure><p id="cb21" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(4).打开 JupyterLab。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/bb09d74e10e50459159aa3d005f9e077.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6Y6DLkvX3oqhNU_lyFckTw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Open JupyterLab</figcaption></figure><p id="4e66" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(5).在使用 AutoML Cloud 自然语言构建自定义语言分类模型之前，必须以特定格式准备数据集:</p><ol class=""><li id="03b2" class="ng nh it la b lb lc le lf lh ni ll nj lp nk lt ob nm nn no bi translated">培训输入可以是(.txt)格式或作为(.csv)文件。多个文本可以组合成一个压缩的(。zip)文件。</li><li id="3b00" class="ng nh it la b lb np le nq lh nr ll ns lp nt lt ob nm nn no bi translated">对于此项目，文本文件放置在子文件夹中，其输出标签作为文件夹名称。这在以后用于创建包含数据文件路径及其标签的 CSV 文件。文件夹结构示例如下所示:<br/> →【文件】<br/> — →【有毒】<br/> — →【干净】</li><li id="45a9" class="ng nh it la b lb np le nq lh nr ll ns lp nt lt ob nm nn no bi translated">接下来，生成一个指向文本路径及其相应标签的 CSV。云 NLP 使用 CSV 文件指向训练文档或单词的位置及其对应的标签。CSV 文件放在配置 AutoML NLP 时创建的同一个 GCS 存储桶中。在我们的例子中，这个桶被命名为 gs:// <strong class="la iu"> ekabasandbox-lcm </strong>。</li></ol><p id="e190" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(6).从 Github 克隆预处理脚本。点击用红色圈出的图标，输入 Github URL<a class="ae mr" href="https://github.com/dvdbisong/automl-toxicity-classification.git" rel="noopener ugc nofollow" target="_blank">https://Github . com/dvdbisong/automl-toxity-classification . git</a>，用预处理代码克隆 repo。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/bb93c14cc8e83264f79aea0a2cfcaed3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UxtmmmfAZ6uzM-BaRJlDVA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Clone preprocessing script</figcaption></figure><p id="ea18" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(7).运行笔记本<code class="fe nw nx ny mx b">nlp_preprocessing.ipynb</code>中的所有单元格，创建包含图像路径和标签的 CSV 文件，并将该文件上传到云存储。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/f593dec81e2cb4e5916412ce5239a131.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XmPYmePv8urybLI_h7tsRA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Run notebook cells</figcaption></figure><h1 id="f72a" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">第 4 部分:用 Cloud AutoML 自然语言建模</h1><p id="783f" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">(1).从 AutoML 自然语言仪表板中单击“新建数据集”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/e88b344b0f76c11420453d55dc5cec49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yBkcxLO-88vSe5Fe1pGZ-g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Create New Dataset</figcaption></figure><p id="b811" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(2).填写数据集名称，并从 AutoML 创建的云存储桶中选择 CSV 文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/b2ef27868729b62f65daad14876c4fcb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kX1bEOOYd-aKSsgvuTXpHQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Create Dataset</figcaption></figure><p id="4420" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(3).现在，如果您看到错误消息“找到重复的文件”,您可以退出。据我所知，从文件名来看，情况并非如此。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/8b5f2ea289fd3d1d4fa841cb128a687f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E8gMbmTqHgtVLuBmtT06KQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Cloud AutoML Processed Text</figcaption></figure><p id="9516" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(4).点击<strong class="la iu">列车</strong>，如上图红色所示，启动 Cloud AutoML 建模。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/e11a552a8510723b82c4eb35d75129b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hYdFJblXfqs-POYBi5BtwA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Start AutoML Training</figcaption></figure><p id="f4fa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(5).开始模特训练。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/b8c3c7a9d54c60425aa8f36532049a1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s2RHVm_9415k0UgAHuGajQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Train the New Model</figcaption></figure><p id="4d50" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(6).模型训练完成后，单击“评估”查看模型的性能指标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/b0a5d7f45ae3045e24220f361e908aa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TtVDm87y5CdIiuQxNzKI2g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Evaluate model performance</figcaption></figure><p id="6cab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(7).评估性能指标(精确度、召回率和混淆矩阵)。</p><div class="kj kk kl km gt ab cb"><figure class="oe kn of og oh oi oj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/b35e32a79e9ed75dc1754f8ca363e9b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*Dr0O0GWdx5OwR1cvoELyxQ.png"/></div></figure><figure class="oe kn ok og oh oi oj paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/abd12d44eaa8b3d4ace1f26652292e05.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*X1OSgt9ocKfSmsofL2F5kA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk ol di om on">Evaluation page. Left: Precision and Recall score. Right: Confusion matrix and precision, recall graphs</figcaption></figure></div><h1 id="604c" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">第 5 部分:测试模型</h1><p id="90eb" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">(1).点击<strong class="la iu">预测</strong>选项卡测试模型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/9468283789c2ac86fd6f6bf6458d6263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zHjCGxDojvNH0qZAQHPrBg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Predict model</figcaption></figure><p id="f8fe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">(2).我们可以通过从维基百科传入关于尼日利亚的介绍性文本来探索这个模型。我们期望模型预测是<strong class="la iu">干净的。</strong>通过进一步探索，该模型在“清晰明显”的有毒样本上表现良好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/c2c1a726021d797cf214613a1238cc9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BpmYKT7NkdgG3pdwCe-jWg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Model test: clean text prediction</figcaption></figure><p id="8b41" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">定制语言分类模型也作为 REST 或 Python API 公开，用于集成到软件应用程序中，作为推理的预测服务。</p><h1 id="5ee9" class="lu lv it bd lw lx ly lz ma mb mc md me jz mf ka mg kc mh kd mi kf mj kg mk ml bi translated">第六部分:结论</h1><p id="b00f" class="pw-post-body-paragraph ky kz it la b lb mm ju ld le mn jx lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">本文提供了一个通过利用 Google 云平台 AutoML 自然语言为定制用例设计强大的语言分类模型的演练。此外，该模型托管在云上，用于作为预测服务进行推理。这是构建和部署语言分类产品的强大机制。我相信这个示例可以作为使用 AutoML 构建自然语言产品的模板。最后，确保删除不再需要的模型和数据集，这将节省云成本。</p><p id="f67b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">本文节选自 Apress (Springer Nature)出版的《在 Google 云平台上构建机器学习和深度学习模型》一书<a class="ae mr" href="https://amzn.to/2Hz1n5B" rel="noopener ugc nofollow" target="_blank"/>。</p></div></div>    
</body>
</html>