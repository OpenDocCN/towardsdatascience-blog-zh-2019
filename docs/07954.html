<html>
<head>
<title>A Serverless Pipeline to retrieve, validate, and immerse the data to Azure SQL Server from Twitter.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个无服务器管道，用于从 Twitter 检索、验证数据，并将数据放入 Azure SQL Server。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-serverless-pipeline-to-retrieve-validate-and-immerse-the-data-to-azure-sql-server-from-twitter-1a5757b39bc8?source=collection_archive---------24-----------------------#2019-11-02">https://towardsdatascience.com/a-serverless-pipeline-to-retrieve-validate-and-immerse-the-data-to-azure-sql-server-from-twitter-1a5757b39bc8?source=collection_archive---------24-----------------------#2019-11-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="cb5a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">学习如何做数据科学就像学习滑雪一样。你必须这么做。</h2></div></div><div class="ab cl ki kj hx kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="im in io ip iq"><h2 id="6268" class="kp kq it bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">项目陈述:</h2><p id="3cd7" class="pw-post-body-paragraph ll lm it ln b lo lp ju lq lr ls jx lt ky lu lv lw lc lx ly lz lg ma mb mc md im bi translated">给定一个 twitter ID，获得最少 100 个关注者(修改后保持在 Azure 功能 5-10 分钟超时时间)，每个关注者收集最多 200 条推文。<br/>将元组(twitterID，followerID，tweetID，tweet)存储到 Azure SQL 服务管理的表中。<br/> 1)您必须创建并设置一个免费的 Azure 帐户。<br/> 2)在 Azure 账户中创建一个数据库和一个表。用 API 创建一个 twitter 账户<br/> 4)。给定 twitter ID，收集该 twitter ID 的追随者 ID <br/> 4.1)为每个追随者 ID 收集多达 200 条原始推文<br/> — —不包括转发、消息<br/> 5)将其存储到 Azure 表中<br/> 6)编写一个客户端来查询 Azure 表。<br/> 6.1)列出给定 twitter ID 的所有推文<br/> 6.2)列出给定 twitter ID 的关注者 ID</p><h2 id="07d5" class="kp kq it bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">使用的技术:</h2><ol class=""><li id="51f4" class="me mf it ln b lo lp lr ls ky mg lc mh lg mi md mj mk ml mm bi translated">计算机编程语言</li><li id="b5f0" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md mj mk ml mm bi translated">Twython 库提取 tweeter 数据</li><li id="f4dc" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md mj mk ml mm bi translated">Azure 函数</li><li id="cd8a" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md mj mk ml mm bi translated">Azure SQL server</li></ol><h2 id="83e7" class="kp kq it bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">我学到的东西:</h2><ol class=""><li id="88a5" class="me mf it ln b lo lp lr ls ky mg lc mh lg mi md mj mk ml mm bi translated">从本地主机以及 Azure 无服务器和 Azure 数据块使用 Azure SQL Server。</li><li id="c770" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md mj mk ml mm bi translated">Azure 功能。</li><li id="2ed6" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md mj mk ml mm bi translated">学会了使用 twython 库来提取推文。</li></ol></div><div class="ab cl ki kj hx kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="im in io ip iq"><h2 id="26d0" class="kp kq it bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">进行<a class="ae ms" href="https://github.com/ksw25/Extract-Data-From-Tweeter-And-Save-In-Azure-SQL-Using-Azure-ServerLess" rel="noopener ugc nofollow" target="_blank">项目</a>时遵循的步骤的简要总结:</h2><ol class=""><li id="6172" class="me mf it ln b lo lp lr ls ky mg lc mh lg mi md mj mk ml mm bi translated">创建了一个<a class="ae ms" href="https://developer.twitter.com/en/apply-for-access.html" rel="noopener ugc nofollow" target="_blank"> Tweeter 开发者账号</a>。</li><li id="053e" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md mj mk ml mm bi translated">编写了一个 python 脚本来提取给定用户 ID 的追随者 ID。</li></ol><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Code for getting followers ID for a Given User ID</figcaption></figure><p id="7899" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">3.编写了一个 python 脚本，获取上一步提取的关注者 ID，并为每个人检索最多 200 条推文。</p><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Code for getting followers Tweet</figcaption></figure><p id="2f40" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">4.创建了 Azure SQL 数据库。</p><p id="9d41" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">5.编写了一个 python 脚本来获取步骤 3 的结果，并将其保存到 Azure SQL server。</p><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">Code to Save extracted data to Azure SQL server</figcaption></figure><p id="96ff" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">6.我创建了一个 Azure 函数项目和 func。修改脚本以处理 Azure 函数。</p><p id="14ed" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">7.出于以下目的，再创建 2 个客户端函数。</p><ul class=""><li id="1452" class="me mf it ln b lo ne lr nf ky nj lc nk lg nl md nm mk ml mm bi translated">列出给定 twitter ID 的所有推文</li></ul><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">List all tweets for a given twitter ID</figcaption></figure><ul class=""><li id="0b7a" class="me mf it ln b lo ne lr nf ky nj lc nk lg nl md nm mk ml mm bi translated">列出给定 twitter ID 的关注者 ID</li></ul><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">List follower ID for a given twitter ID</figcaption></figure></div><div class="ab cl ki kj hx kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="im in io ip iq"><h2 id="1030" class="kp kq it bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">每个 Azure 功能的链接:</h2><p id="5a98" class="pw-post-body-paragraph ll lm it ln b lo lp ju lq lr ls jx lt ky lu lv lw lc lx ly lz lg ma mb mc md im bi translated">(这些是模板，供大家过目。我已经关闭了这些链接的激活，这样它们就不会工作了。很遗憾，我并不富有😢 😭。</p><p id="cde6" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">任务 1:保存关注者的 ID 和他们各自的推文。(放在 MyFunctionProj 目录的 TweetWork 中)</p><ul class=""><li id="e614" class="me mf it ln b lo ne lr nf ky nj lc nk lg nl md nm mk ml mm bi translated"><a class="ae ms" href="https://demo.azurewebsites.net/api/Tweetwork" rel="noopener ugc nofollow" target="_blank">https://demo.azurewebsites.net/api/Tweetwork</a></li><li id="fa1e" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md nm mk ml mm bi translated">比如 https://demo.azurewebsites.net/api/Tweetwork?name=25073877 的<a class="ae ms" href="https://demo.azurewebsites.net/api/Tweetwork?name=25073877" rel="noopener ugc nofollow" target="_blank"/></li></ul><p id="9a4b" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">任务 2:列出给定 twitter ID 的所有推文。(放在 MyFunctionProj 目录下的 Client1BigData 中)</p><ul class=""><li id="40f0" class="me mf it ln b lo ne lr nf ky nj lc nk lg nl md nm mk ml mm bi translated"><a class="ae ms" href="https://demo.azurewebsites.net/api/Client1BigData?code=NyhLElXnjBz08QButk1jkbaYLVdJE9vAKnX09CN1vrg==" rel="noopener ugc nofollow" target="_blank">https://demo.azurewebsites.net/api/Client1BigData?code = nyhlelxnjbz 08 qbutk 1 jkbaylvdje 9 vaknx 09 cn 1 vrg = =</a></li><li id="8f31" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md nm mk ml mm bi translated">例如 https://demo.azurewebsites.net/api/Client1BigData?的<a class="ae ms" href="https://demo.azurewebsites.net/api/Client1BigData?code=NyhLElXnjBz08QButk1jkbaYLVdJE9vAK9CN1vrg==&amp;name=979178022367461376" rel="noopener ugc nofollow" target="_blank">code = nyhlelxnjbz 08 qbutk 1 jkbaylvdje 9 vak 9 cn 1 vrg = =&amp;name = 979178022367461376</a></li></ul><p id="0eb9" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">任务 3:列出给定 twitter ID 的关注者 ID。(放在 MyFunctionProj 目录下的 Client2BigData 中)</p><ul class=""><li id="d451" class="me mf it ln b lo ne lr nf ky nj lc nk lg nl md nm mk ml mm bi translated">【https://demo.azurewebsites.net/api/Client1BigData? T4】code = nyhlelxnjbz 08 qbutk 1 jkbaylvdje 9 vak 9 cn 1 vrg = =</li><li id="48f8" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md nm mk ml mm bi translated">例如<a class="ae ms" href="https://demo.azurewebsites.net/api/client2bigdata?code=2MO/r/Wvk5JQFsbQ1KKkA0hdWF1OCfdeyZjpENpoNkVGIS57Waw==&amp;name=25073877" rel="noopener ugc nofollow" target="_blank">https://demo.azurewebsites.net/api/client2bigdata?code = 2MO/r/wvk 5 jqfsbq 1 kka 0 hdwf 1 cfdeyzjpenponkvgis 57 waw = =&amp;name = 25073877</a></li></ul><h2 id="59f7" class="kp kq it bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">面临的挑战:</h2><ul class=""><li id="42a5" class="me mf it ln b lo lp lr ls ky mg lc mh lg mi md nm mk ml mm bi translated">如果你在 Visual studio 中使用 Mac 调试 Azure 函数，这是非常困难的，因为有时 Visual Studio 不会创建一个确切的扩展/帮助文件来进行调试。我个人觉得，对我来说，一点效果都没有。每次我想检查它的时候，我不得不把功能推到在线。但是我现在找到了解决办法。里面有三个文件。vscode 有时会出错。我会提到他们，应该是什么样子。即，</li></ul><ol class=""><li id="cc36" class="me mf it ln b lo ne lr nf ky nj lc nk lg nl md mj mk ml mm bi translated"><em class="nn"> task.json </em></li></ol><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk">task.json</figcaption></figure><p id="ee90" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated"><em class="nn"> 2。launch.json </em></p><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk"><em class="no">launch.json</em></figcaption></figure><p id="746e" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated"><em class="nn"> 3。settings.json </em></p><figure class="mt mu mv mw gt mx"><div class="bz fp l di"><div class="my mz l"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk"><em class="no">settings.json</em></figcaption></figure><ul class=""><li id="117c" class="me mf it ln b lo ne lr nf ky nj lc nk lg nl md nm mk ml mm bi translated">与 AWS lambda 相比，Azure Functions 有其局限性。当我开始写它的时候，我以为它会和 AWS lambda 一样，因为两者都是无服务器的，但是实现它非常困难，原因有二。第一，Azure 功能不允许在线代码编辑，这是 AWS 提供的。</li></ul><h2 id="28d9" class="kp kq it bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">跟进:</h2><ul class=""><li id="132a" class="me mf it ln b lo lp lr ls ky mg lc mh lg mi md nm mk ml mm bi translated">如果我是为一家公司做这个，并且有足够的资源，我会选择 Azure function Dedicated App Plan，它的最大时间限制是 30 分钟。</li></ul></div><div class="ab cl ki kj hx kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="im in io ip iq"><p id="3004" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">github:<a class="ae ms" href="https://github.com/ksw25/Extract-Data-From-Tweeter-And-Save-In-Azure-SQL-Using-Azure-ServerLess" rel="noopener ugc nofollow" target="_blank">https://github . com/ksw 25/Extract-Data-From-Tweeter-And-Save-In-Azure-SQL-Using-Azure-server less</a></p></div><div class="ab cl ki kj hx kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="im in io ip iq"><h2 id="804c" class="kp kq it bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">致谢:</h2><ul class=""><li id="1931" class="me mf it ln b lo lp lr ls ky mg lc mh lg mi md nm mk ml mm bi translated">这是我在 NYU 坦登工程学院完成的 CS6513 大数据工具和技术的一部分</li><li id="07ee" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md nm mk ml mm bi translated">我感谢 IBM Power Systems 学术计划对计算资源的支持。</li><li id="b5f9" class="me mf it ln b lo mn lr mo ky mp lc mq lg mr md nm mk ml mm bi translated">我感谢 MSFT Azure 为学生提供免费的 Azure 访问。</li></ul></div><div class="ab cl ki kj hx kk" role="separator"><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn ko"/><span class="kl bw bk km kn"/></div><div class="im in io ip iq"><p id="f23e" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">问候，</p><p id="e334" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">卡兰普里特·辛格·瓦德瓦</p><p id="76d6" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated"><strong class="ln iu">硕士</strong>在<strong class="ln iu">计算机科学</strong>| 2020 级</p><p id="a1d0" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">纽约大学坦登工程学院</p><p id="6a25" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated">研究生助教—计算机视觉|纽约大学</p><p id="a8d3" class="pw-post-body-paragraph ll lm it ln b lo ne ju lq lr nf jx lt ky ng lv lw lc nh ly lz lg ni mb mc md im bi translated"><a class="ae ms" href="mailto:karan.wadhwa@nyu.edu" rel="noopener ugc nofollow" target="_blank">karan.wadhwa@nyu.edu</a>|(929)287–9899 |<a class="ae ms" href="https://www.linkedin.com/in/karanpreet-wadhwa-540388175/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>|<a class="ae ms" href="https://github.com/ksw25" rel="noopener ugc nofollow" target="_blank">Github</a></p></div></div>    
</body>
</html>