<html>
<head>
<title>Exploratory Data Analysis: A Practical Guide and Template for Structured Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索性数据分析:结构化数据的实用指南和模板</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/exploratory-data-analysis-eda-a-practical-guide-and-template-for-structured-data-abfbf3ee3bd9?source=collection_archive---------2-----------------------#2019-09-24">https://towardsdatascience.com/exploratory-data-analysis-eda-a-practical-guide-and-template-for-structured-data-abfbf3ee3bd9?source=collection_archive---------2-----------------------#2019-09-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/40df181ef84be05ae87780ba25f766fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v_DZB7xz29kyOpdCHMwx-w.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Photo by <a class="ae kf" href="https://depositphotos.com/portfolio-3591429.html" rel="noopener ugc nofollow" target="_blank">Rawpixel</a> on <a class="ae kf" href="https://depositphotos.com/63016959/stock-photo-man-working-on-a-computer.html" rel="noopener ugc nofollow" target="_blank">depositphotos</a></figcaption></figure><p id="bafe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi le translated">通常，最难的不是画画，而是在一张白纸上画什么会难倒人。</p><p id="6c8d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，对于数据科学，人们可能想知道在收到数据集后如何开始。这就是探索性数据分析(EDA)的用武之地。</p><p id="25c2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">根据维基百科，EDA“是一种分析数据集以总结其主要特征的方法，通常采用可视化方法”。用我自己的话来说，它是关于了解你的数据，在你开始从数据中提取洞察力之前，对数据有一定程度的熟悉。</p><p id="ff55" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于 EDA 对于所有数据科学项目来说都是至关重要的第一步，懒惰的 me 决定编写一个代码模板，用于在结构化数据集上执行 EDA。这个想法是花更少的时间编码，更多地关注数据本身的分析。向下滚动到代码链接的底部，但是请继续阅读，找到更多关于 EDA 的信息，并理解代码的作用。</p><h1 id="bc72" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">EDA 在数据科学过程中处于什么位置</h1><p id="c04a" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">在我们深入研究 EDA 之前，首先了解 EDA 在整个数据科学过程中的位置非常重要。</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mq"><img src="../Images/b88b718fc13ab21f7bbc76743e462cdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*03D9umtAeoGnFXYH-Ycm8A.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Image by author, inspired by <a class="ae kf" href="https://commons.wikimedia.org/wiki/File:Data_visualization_process_v1.png" rel="noopener ugc nofollow" target="_blank">Farcaster at English Wikipedia</a></figcaption></figure><p id="3fa8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">参考维基百科中的流程图，在收集数据后，在清理之前会进行一些处理，然后执行 EDA。请注意，在 EDA 之后，我们可能会回到数据的处理和清理，也就是说，这可能是一个迭代过程。随后，我们可以使用干净的数据集和来自 EDA 的知识来执行建模和报告。</p><p id="55bd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，我们可以这样理解 EDA 的目标:</p><p id="c923" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="mv">了解数据，从数据中寻找线索，</em></p><ol class=""><li id="6e3b" class="mw mx it ki b kj kk kn ko kr my kv mz kz na ld nb nc nd ne bi translated"><em class="mv">为我们的建模制定假设和假说；和</em></li><li id="b99a" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated"><em class="mv">检查数据质量，必要时进行进一步处理和清理。</em></li></ol><p id="c23c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了更好地说明 EDA 的概念，我们将使用来自 Kaggle 的<a class="ae kf" href="https://www.kaggle.com/c/rossmann-store-sales/data" rel="noopener ugc nofollow" target="_blank"> Rossmann 商店销售“train.csv”数据。请记住，问题陈述是为了预测商店销售，因此，我们的 EDA 目标是:</a></p><ol class=""><li id="dc5b" class="mw mx it ki b kj kk kn ko kr my kv mz kz na ld nb nc nd ne bi translated">检查有助于预测销售的功能；和</li><li id="fbea" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">检查可能影响我们预测模型的异常或异常值。</li></ol><h1 id="4f03" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">EDA 概述</h1><p id="98fd" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">我们的代码模板将执行以下步骤:</p><ol class=""><li id="dbd9" class="mw mx it ki b kj kk kn ko kr my kv mz kz na ld nb nc nd ne bi translated">预览数据</li><li id="2c2a" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">检查条目总数和列类型</li><li id="2586" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">检查任何空值</li><li id="85ce" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">检查重复条目</li><li id="1b0d" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">数值数据的图分布(单变量和成对联合分布)</li><li id="bcdd" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">分类数据的绘图计数分布</li><li id="2889" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">按每日、每月和每年的频率分析数字数据的时间序列</li></ol><p id="1216" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">必要的依赖关系如下:</p><pre class="mr ms mt mu gt nk nl nm nn aw no bi"><span id="bfcc" class="np lo it nl b gy nq nr l ns nt">import pandas as pd<br/>import numpy as np<br/>import matplotlib<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>import missingno<br/>%matplotlib inline</span></pre><h1 id="07cc" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">初步数据处理</h1><p id="eb92" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">首先，我们读入数据集，并生成数据的简单预览和统计。</p><pre class="mr ms mt mu gt nk nl nm nn aw no bi"><span id="943f" class="np lo it nl b gy nq nr l ns nt">df = pd.read_csv('train.csv')<br/>df.info()<br/>df.head()</span></pre><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/6fac6d76d294bcf111462a736819cf70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Pi7g3oSRSgAMCdupd0cuQ.png"/></div></div></figure><p id="0f32" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出显示我们有大约 100 万个条目，有 9 列。没有空值，但应该更改一些列的数据类型。正如我们将在后面看到的，正确设置数据类型可以在我们的数据科学过程中帮助我们。简而言之，有三种常见的数据类型(分类、数字和日期时间),我们对每种类型都有不同的 EDA 过程。</p><p id="53f0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们的初步处理中，我们以下列方式更改了数据类型:</p><ul class=""><li id="fbbf" class="mw mx it ki b kj kk kn ko kr my kv mz kz na ld nv nc nd ne bi translated">设置标识符<em class="mv">将</em>存储为字符串。</li><li id="2148" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nv nc nd ne bi translated">对于分类的列，也就是说，可能值的数量有限且通常是固定的列，我们将它们的类型设置为“category”。例如性别、血型和国家都是分类数据。</li><li id="8591" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nv nc nd ne bi translated">对于数值型的列，我们可以将它们的类型设置为“int64”(整数)或“float64”(浮点数)。例如，销售额、温度和人数都是数字数据。</li><li id="8127" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nv nc nd ne bi translated">将<em class="mv">日期</em>设置为“日期时间 64”数据类型。</li></ul><pre class="mr ms mt mu gt nk nl nm nn aw no bi"><span id="2c74" class="np lo it nl b gy nq nr l ns nt"># set identifier "Store" as string<br/>df['Store'] = df['Store'].astype('str')</span><span id="2362" class="np lo it nl b gy nw nr l ns nt"># set categorical data<br/>df['DayOfWeek'] = df['DayOfWeek'].astype('category')<br/>df['Open'] = df['Open'].astype('category')<br/>df['Promo'] = df['Promo'].astype('category')<br/>df['StateHoliday'] = df['StateHoliday'].astype(str).str.strip().astype('category')<br/>df['SchoolHoliday'] = df['SchoolHoliday'].astype('category')</span><span id="cc89" class="np lo it nl b gy nw nr l ns nt"># set datetime data<br/>df['Date'] = pd.to_datetime(df['Date'])</span></pre><h1 id="2412" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">我们的 EDA 开始了</h1><p id="c65c" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">设置完数据类型后，我们就可以开始娱乐了。</p><p id="8ac6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要建立这个聚会，我们只需复制、粘贴并运行包含各种函数的<a class="ae kf" href="https://gist.github.com/jiahao87/c97214065f996b76ab8fe4ca1964b2b5" rel="noopener ugc nofollow" target="_blank">代码模板</a>，然后运行函数<em class="mv"> eda </em>，该函数接收熊猫数据帧作为输入。</p><pre class="mr ms mt mu gt nk nl nm nn aw no bi"><span id="4743" class="np lo it nl b gy nq nr l ns nt">eda(df)</span></pre><p id="6a55" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就是这样！简单:)</p><p id="e668" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们来看一下输出的显著部分，以了解如何利用我们的 EDA 结果。</p><h1 id="ccc5" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">缺少值和重复条目</h1><p id="8695" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">在我们的例子中，没有缺少值的条目。</p><p id="0d8a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是，如果缺少值，代码将生成一个类似于下图的图表。注意<em class="mv"> CustomerID </em>和<em class="mv">描述</em>下的空格；这些是缺失的值。因此，一眼就能看出我们价值观缺失的程度。</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nx"><img src="../Images/5484090b24282a9d236ddd28ffa5aba5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q6qUGUdN_cbfqx1xBa-NCA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Missing entries chart</figcaption></figure><p id="e137" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">与检查缺失值相关的代码部分如下。</p><pre class="mr ms mt mu gt nk nl nm nn aw no bi"><span id="29e3" class="np lo it nl b gy nq nr l ns nt"># generate preview of entries with null values<br/>if df.isnull().any(axis=None):<br/>    print("\nPreview of data with null values:\nxxxxxxxxxxxxx")<br/>    print(df[df.isnull().any(axis=1)].head(3))<br/>    missingno.matrix(df)<br/>    plt.show()</span></pre><p id="5bf2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们的例子中，也没有重复的条目，代码将通过输出“没有找到重复的条目”直接指出这一点。</p><p id="6c62" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果出现重复条目，输出将显示重复条目的数量以及这些条目的预览。</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/48a7bc7e00bae86f80a3fb9f9e29798d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PxawFQV8QUXGpBhvpvnVxA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Duplicated entries sample output</figcaption></figure><p id="0408" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">检查重复条目的代码:</p><pre class="mr ms mt mu gt nk nl nm nn aw no bi"><span id="8d99" class="np lo it nl b gy nq nr l ns nt"># generate count statistics of duplicate entries<br/>if len(df[df.duplicated()]) &gt; 0:<br/>    print("No. of duplicated entries: ", len(df[df.duplicated()]))<br/>    print(df[df.duplicated(keep=False)].sort_values(by=list(df.columns)).head())<br/>else:<br/>    print("No duplicated entries found")</span></pre><p id="2fe1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果有任何丢失的值或重复的条目，您应该在进一步处理 EDA 的其他部分之前决定所需的清理步骤。</p><p id="ee45" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关于如何处理缺失值的参考，您可以参考这篇由<a class="nz oa ep" href="https://medium.com/u/330285ecbc54?source=post_page-----abfbf3ee3bd9--------------------------------" rel="noopener" target="_blank">吴俊</a>撰写的<a class="ae kf" rel="noopener" target="_blank" href="/handling-missing-data-for-a-beginner-6d6f5ea53436">文章</a>。</p><p id="a367" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于重复的条目，检查它们确实是重复的，并通过下面的代码删除它们。</p><pre class="mr ms mt mu gt nk nl nm nn aw no bi"><span id="b2ed" class="np lo it nl b gy nq nr l ns nt">df.drop_duplicates(inplace=True)</span></pre><h1 id="1e14" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">分类数据 EDA</h1><p id="6702" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">我们针对分类数据的主要 EDA 目标是了解唯一值及其对应的计数。</p><p id="8dfb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用 Rossmann 商店销售额，例如列<em class="mv"> Promo </em>指示商店当天是否在进行促销。根据<em class="mv"> Promo </em>的独特值对其进行计数显示，促销活动非常频繁，占据了大约 40% (388，080 / 1，017，209)的店铺天数。这可能表明<em class="mv">宣传片</em>是预测销量的一个重要特征。</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/498ebd6616d0cc6447cdec8614fd0c59.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*pzOpbdFWM9Fo5hz_bWPsYg.png"/></div></figure><p id="1556" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为分类数据生成 EDA 的函数是<em class="mv">分类 eda </em>。</p><pre class="mr ms mt mu gt nk nl nm nn aw no bi"><span id="6834" class="np lo it nl b gy nq nr l ns nt">def categorical_eda(df):<br/>    """Given dataframe, generate EDA of categorical data"""<br/>    print("To check: Unique count of non-numeric data")<br/>    print(df.select_dtypes(include=['category']).nunique())<br/>    top5(df)<br/>    # Plot count distribution of categorical data<br/>    for col in df.select_dtypes(include='category').columns:<br/>        fig = sns.catplot(x=col, kind="count", data=df)<br/>        fig.set_xticklabels(rotation=90)<br/>        plt.show()</span></pre><h1 id="7ec0" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">数字数据 EDA</h1><p id="b91e" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">对于数字数据，我们的 EDA 方法如下:</p><ol class=""><li id="cbfd" class="mw mx it ki b kj kk kn ko kr my kv mz kz na ld nb nc nd ne bi translated">绘制每个数字数据的单变量分布图</li><li id="2dd7" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">如果分类数据可用，按每个分类值绘制单变量分布图</li><li id="5f79" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nb nc nd ne bi translated">绘制数值数据的两两联合分布</li></ol><p id="84a4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在运行<em class="mv"> eda </em>函数之前，我们通过将<em class="mv">销售额</em>除以<em class="mv">客户</em>创建了一个新列<em class="mv"> ave_sales </em>，这样我们就可以分析每个客户每天的平均销售额。</p><p id="b8a1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们的数字数据 EDA 的第一个输出显示了一些简单的分布统计，包括平均值、标准差和四分位数。</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oc"><img src="../Images/d07210c44c2662265defb4c0b3768898.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dreT0gM-3iaarod4KAepcQ.png"/></div></div></figure><p id="e15b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以从输出中获得的一些要点包括:</p><ul class=""><li id="5ce5" class="mw mx it ki b kj kk kn ko kr my kv mz kz na ld nv nc nd ne bi translated">所有数值数据都没有负值。如果有任何负值，这可能意味着我们必须进一步调查，因为销售额和客户数量不太可能是负数，然后我们可能必须清理数据。</li><li id="e854" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nv nc nd ne bi translated">数值数据的最大值与 75%相差甚远，表明我们可能有异常值。</li></ul><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi od"><img src="../Images/d4da60edccd7a4c0536e4a91b7182112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KvaiJ9bObSJOKclE0YaoJw.png"/></div></div></figure><p id="cf73" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">箱线图进一步证实了存在<em class="mv">销售额</em>超过 40，000 或<em class="mv">客户</em>超过 7，000 的异常值。因此，我们可能会进行检查，看看这是一个错误，还是有其他特殊情况导致的异常数字。</p><p id="9dbf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还按类别值为每个数字数据绘制了小提琴图，以调查<em class="mv">促销</em>对<em class="mv">销售</em>的影响。</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oe"><img src="../Images/e7b95c787967ded95d4e7f3e4f0be7af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i2NH7-rSQQAYFXReasMFhA.png"/></div></div></figure><p id="c65b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从上面的小提琴图中，我们可以推断，在促销日，从小提琴图的更宽部分可以看出，销售额通常会增加。对于<em class="mv"> Promo </em> =0，靠近 0 <em class="mv">销售</em>的地块的宽部分可能是由于关闭的商店。在移除<em class="mv">打开</em> =0 的条目后，稍后再次运行<em class="mv"> eda </em>函数，显示 0 附近的宽段不再存在，从而证实了我们的假设。</p><p id="b124" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数字数据 EDA 的最后一个输出是成对联合分布图。</p><p id="826f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了获得更深入的信息，我们运行了函数<em class="mv"> numeric_eda </em>并添加了参数<em class="mv"> hue='DayOfWeek' </em>。这使得我们可以根据一周中的每一天来给我们的成对绘图着色。</p><pre class="mr ms mt mu gt nk nl nm nn aw no bi"><span id="7f9b" class="np lo it nl b gy nq nr l ns nt">numeric_eda(df, hue='DayOfWeek')</span></pre><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi of"><img src="../Images/5b6f9d6883b72875fc707b377dc7d9b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*__p9TiZ04Lf0CgmlppgRfg.png"/></div></div></figure><p id="e09a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过将<em class="mv"> DayOfWeek </em>合并到图中，我们注意到周日的 ave_sales(用粉色表示)相对来说比其他几天更稳定。因此，这是一个可以进一步研究和考虑的预测因素。</p><h1 id="4d66" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">时间序列 EDA</h1><p id="a849" class="pw-post-body-paragraph kg kh it ki b kj ml kl km kn mm kp kq kr mn kt ku kv mo kx ky kz mp lb lc ld im bi translated">最后，我们还绘制了时间序列图来检查趋势和季节性。</p><p id="b055" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了便于分析，在绘制图表之前，我们的代码会按照每天、每月和每年的频率自动汇总数字数据。这是通过<a class="ae kf" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.resample.html" rel="noopener ugc nofollow" target="_blank">熊猫的重采样方法</a>实现的。</p><figure class="mr ms mt mu gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi og"><img src="../Images/da36939e34db0f12d9d7035e34223590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eFBQAu30zUN6K18YZpBkuQ.png"/></div></div></figure><p id="4f34" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们的例子中，年度图表没有用，因为数据只包含 2015 年的部分数据，因此我们在截图中没有显示。</p><p id="9dfd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从日图可以看出，2013 年 12 月底有异常值。这也体现在每月的剧情上。</p><p id="3a89" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">月度图还显示了一些季节性，即二月份销售额较低，这可能是由于短月效应，以及接近年底时销售额较高。如果我们要预测月销售额，我们的预测必须考虑这种季节性影响。</p></div><div class="ab cl oh oi hx oj" role="separator"><span class="ok bw bk ol om on"/><span class="ok bw bk ol om on"/><span class="ok bw bk ol om"/></div><div class="im in io ip iq"><p id="dc2b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过上面的例子，我们希望能够展示 EDA 是如何用于为我们的建模制定假设和假说，以及检查数据质量以进行进一步处理和清理的。</p><p id="ad54" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你错过了<a class="ae kf" href="https://gist.github.com/jiahao87/c97214065f996b76ab8fe4ca1964b2b5" rel="noopener ugc nofollow" target="_blank">代码模板链接</a>，这里再次出现。</p><p id="0b54" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，请注意，根据您的数据科学问题陈述，您可能希望执行额外的 EDA 步骤。尽管如此，代码模板应该能够涵盖基本的 EDA 并让您快速上手。</p><p id="b64c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您也在考虑为文本数据执行 EDA，请查看这篇由<a class="nz oa ep" href="https://medium.com/u/a7a4a9e70d82?source=post_page-----abfbf3ee3bd9--------------------------------" rel="noopener" target="_blank"> neptune.ai </a>撰写的关于用于自然语言处理的<a class="ae kf" href="https://neptune.ai/blog/exploratory-data-analysis-natural-language-processing-tools" rel="noopener ugc nofollow" target="_blank"> EDA 的文章。在这篇文章中，作者举例说明了几乎所有可以用来理解文本数据的主要技术。</a></p><p id="591c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读，我希望代码和文章是有用的。如果您有任何问题或建议，请随时发表评论。</p><h1 id="7afc" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">参考</h1><ul class=""><li id="a366" class="mw mx it ki b kj ml kn mm kr oo kv op kz oq ld nv nc nd ne bi translated">https://en . Wikipedia . org/wiki/explorative _ data _ analysis # target text = In % 20 statistics % 2C % 20 explorative % 20 data % 20 analysis，modeling % 20 or % 20 hypothesis % 20 testing % 20 task。</li><li id="b916" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nv nc nd ne bi translated"><a class="ae kf" rel="noopener" target="_blank" href="/exploratory-data-analysis-eda-techniques-for-kaggle-competition-beginners-be4237c3c3a9">https://towards data science . com/explorative-data-analysis-EDA-techniques-for-ka ggle-competition-初学者-be4237c3c3a9 </a></li><li id="0c5b" class="mw mx it ki b kj nf kn ng kr nh kv ni kz nj ld nv nc nd ne bi translated"><a class="ae kf" href="https://medium.com/@aiden.dataminer/the-data-science-method-dsm-exploratory-data-analysis-bc84d4d8d3f9" rel="noopener">https://medium . com/@ aiden . data miner/the-data-science-method-DSM-explorative-data-analysis-BC 84d 4d 8d 3 f 9</a></li></ul></div></div>    
</body>
</html>