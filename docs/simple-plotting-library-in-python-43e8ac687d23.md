# python ä¸­çš„ç®€å•ç»˜å›¾(å› æ­¤æ‚¨å¯ä»¥ä¸“æ³¨äºæ›´å¤§çš„äº‹æƒ…)

> åŸæ–‡ï¼š<https://towardsdatascience.com/simple-plotting-library-in-python-43e8ac687d23?source=collection_archive---------33----------------------->

![](img/9688ba02647964c086255efb326b1037.png)

Today itâ€™s all about having the numbers

**TLDR** :ä½¿ç”¨[çš„çº¸ç¬”](https://github.com/ikamensh/pennpaper)åœ¨å»ºé€ åŸå‹æ—¶å¿«é€Ÿå¯åŠ¨ä½ çš„ç»˜å›¾å’Œæ´å¯ŸåŠ›

æ‰€ä»¥ä½ æœ‰äº†æ–°çš„å®éªŒæƒ³æ³•ğŸ’¡ã€‚ä¹Ÿè®¸æ˜¯ä¸€ç§æ–°çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Ÿæ–°å“ˆå¸Œè¡¨ï¼Ÿæˆ‘ä¸ä¼šå†å°è¯•çŒœæµ‹äº†:)ä¸ºä»€ä¹ˆè¦çŒœæµ‹ï¼Œå½“æˆ‘ç¡®å®šä½ éœ€è¦åšä¸€ä»¶äº‹ï¼Œæ— è®ºè¿™ä¸ªæƒ³æ³•æ˜¯ä»€ä¹ˆï¼Œæ¥éªŒè¯å®ƒâ€”â€”ä½ éœ€è¦ç»˜åˆ¶ä¸€äº›å®éªŒæ•°æ®ã€‚æ‰€ä»¥ä½ çŸ¥é“å¦‚ä½•ç”¨ python å®ç°ä½ çš„æƒ³æ³•ï¼Œè€Œä¸”ä½ åœ¨ä¸€ä¸ªä»¤äººæƒŠè®¶çš„çŸ­æ—¶é—´å†…å°±åšåˆ°äº†ã€‚ç°åœ¨æ˜¯æ—¶å€™è§‚å¯Ÿè¿™ä¸ªæƒ³æ³•åœ¨ä¸€äº›ä¸åŒçš„è¾“å…¥ä¸Šçš„è¡¨ç°äº†ã€‚å¹¶æŸ¥çœ‹æ€§èƒ½æ˜¯å¦å¯é ï¼Œæˆ–è€…æ¯æ¬¡è¿è¡Œä»£ç æ—¶æ€§èƒ½æ˜¯å¦ä¼šå‘ç”Ÿå˜åŒ–ã€‚

é‚£ä¹ˆï¼ŒæŠ½è±¡åœ°è¯´ï¼Œä½ å°†é‡‡å–ä»€ä¹ˆæ­¥éª¤æ¥å¯è§†åŒ–ä½ æ­£åœ¨è¿è¡Œçš„è¿‡ç¨‹ï¼Ÿä»¥ä¸‹æ˜¯æˆ‘åœ¨å®éªŒä¸­çš„æƒ³æ³•:

1.  å®šä¹‰æˆ‘è¦æµ‹é‡çš„é‡' **Y'** ã€‚ç¤ºä¾‹:æ‰¹æ¬¡æŸå¤±
2.  å®šä¹‰ **Y** æ‰€ä¾èµ–çš„æ•°é‡' **x** '(è€ƒè™‘æ—¶é—´æ­¥é•¿æˆ–è¾“å…¥å¤§å°)
3.  åœ¨æˆ‘çš„ä»£ç ä¸­æ‰¾åˆ°ä¾¿äºè®°å½•è¿™äº›é‡çš„å€¼çš„åœ°æ–¹
4.  é‡å¤å‡ æ¬¡å®éªŒï¼Œä¹Ÿè®¸æ˜¯é’ˆå¯¹ç³»ç»Ÿçš„ä¸€äº›ä¸åŒé…ç½®ã€‚
5.  äº§ç”Ÿé‚£äº›ç¾ä¸½è€Œæœ‰è§åœ°çš„æƒ…èŠ‚ã€‚

è¿™æ˜¯ä¸€ä¸ªæ˜ç¡®çš„è®¡åˆ’ã€‚ç„¶è€Œï¼Œå¾ˆå°‘æœ‰æŠ€æœ¯æŒ‘æˆ˜é€ƒè¿‡æˆ‘ä»¬çš„æ³¨æ„:å¦‚æœæˆ‘ä»¬è¿è¡Œå‡ æ¬¡å®éªŒï¼Œä»¥æŸç§æ–¹å¼åœ¨å›¾ä¸­å¹³å‡ç»“æœå¹¶æ˜¾ç¤ºå®ƒä»¬çš„æ–¹å·®/æ ‡å‡†å·®æ˜¯æœ‰æ„ä¹‰çš„ã€‚

..æ­¤å¤–ï¼Œä»é•¿è¿œæ¥çœ‹ï¼Œå°†æ‰€æœ‰ä¿¡æ¯å­˜å‚¨åœ¨ä¸€ä¸ªå·¨å¤§çš„å…¨çƒå­—å…¸ä¸­å¯èƒ½æ˜¯ä¸€ä»¶ç—›è‹¦çš„äº‹æƒ…ã€‚

â€¦æ­¤å¤–ï¼Œè¿™äº›å™ªå£°å›¾å¯ä»¥ä½¿ç”¨ä¸€äº›è¿‡æ»¤ã€‚

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼Œçœ‹çœ‹æˆ‘ä»¬å¦‚ä½•è§£å†³å®ƒã€‚è®©æˆ‘ä»¬å‡è®¾ä¸€äº›æ·»åŠ äº†å™ªå£°çš„æ•°å­¦å‡½æ•°æ˜¯æ‚¨æ­£åœ¨å¼€å‘çš„æ–°åŸå‹:

ç»“æœï¼Œå—¯ï¼Œä¸æ˜¯å¾ˆå¥½:

![](img/92033cc576280f93bdd2e42fc5ff1e16.png)

ä»‹ç»[**pen ' n ' paper**](https://github.com/ikamensh/pennpaper)â€”ä¸€ä¸ªç®€å•æ–¹ä¾¿ç»˜å›¾çš„ python åº“ï¼›

```
**import** pennpaper **as** pp

metrics = **[]for** name, func **in** funcs.items***()***:
    m = pp.Metric***(***name***)*** m.add_arrays***(***X, func***(***X***))*** metrics.append***(***m***)*** pp.plot_group***(***metrics, smoothen=**True*)***
```

å¥½äº†ï¼Œè¿™ç»™äº†æˆ‘ä»¬ä¸€ä¸ªæœ‰åå­—çš„ä¼ è¯´ï¼Œå¹¶ä¸”å»æ‰äº†å¤§éƒ¨åˆ†çš„å™ªéŸ³:

![](img/e49eb0276e586d19cef2150a003bc39a.png)

æ¥ä¸‹æ¥æˆ‘æƒ³åšçš„æ˜¯ï¼Œé€šè¿‡å¯¹è¿‡ç¨‹è¿›è¡Œå¤šæ¬¡é‡‡æ ·ï¼Œå¹¶å°†æœ‰å…³æ ‡å‡†å·®çš„ä¿¡æ¯æ·»åŠ åˆ°å›¾ä¸­ï¼Œè¿›ä¸€æ­¥é™ä½å™ªå£°ã€‚ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œè®©æˆ‘ä»¬ä»ä¸€ä¸ªå‡½æ•°å¼€å§‹â€”â€”æ­£å¼¦æ³¢ã€‚

æˆ‘ä»¬å¾—åˆ°äº†å•ç‹¬ç­–åˆ’çš„ç½ªæ¶:

```
**import** pennpaper **as** pp

name = **'sin'** func = funcs***[***name***]*** m1 = pp.Metric***(***name***)*** m1.add_arrays***(***X, func***(***X***))*** pp.plot***(***m1, smoothen=**True*)***
```

![](img/c740adf424cf2a34322b96882c205fb4.png)

ä½ å¯ä»¥åšçš„æ˜¯å°†çº¸ç¬”æŒ‡æ ‡ç›¸åŠ :

```
m1 = pp.Metric***(***name***)*** m1.add_arrays***(***X, func***(***X***))*** m2 = pp.Metric***(***name***)*** m2.add_arrays***(***X, func***(***X***))*** m3 = pp.Metric***(***name***)*** m3.add_arrays***(***X, func***(***X***))*** pp.plot***(***m1 + m2 + m3, smoothen=**True*)***
```

![](img/52986fa3b3bef34fb3c79dda8115ddfb.png)

ä¼¼ä¹æœ‰ 3 ä¸ªåº¦é‡æ ‡å‡†æœ‰æ‰€å¸®åŠ©ã€‚è®©æˆ‘ä»¬æœ‰ 300ï¼Ÿ

```
metrics = ***[]* for** i **in** range***(***300***)***:
    m = pp.Metric***(***name***)*** m.add_arrays***(***X, func***(***X***))*** metrics.append***(***m***)*** pp.plot***(***sum***(***metrics***)***, smoothen=**True*)***
```

![](img/5e31a28276f47428b7254a78abe73a58.png)

å¤§æ•°å®šå¾‹åœ¨æˆ‘ä»¬è¿™è¾¹ï¼Œæˆ‘ä»¬å¾—åˆ°ç›¸å½“ç²¾ç¡®çš„å›¾ã€‚å¦è¯·æ³¨æ„ï¼Œé˜´å½±åŒºåŸŸçš„å¤§å°ä»£è¡¨æ ‡å‡†å·®ï¼Œä¸æ­£å¼¦æ³¢ç›¸å·® 2 ä¸ªå•ä½ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬åœ¨å™ªå£°å…¬å¼ä¸­è¾“å…¥çš„å€¼:y += np.random.normal(0ï¼Œ2ï¼Œsize=y.size)ã€‚

è®©æˆ‘ä»¬æŠŠæˆ‘ä»¬æ‰€å­¦çš„æ”¾åœ¨ä¸€èµ·ï¼Œç”»å‡ºæ‰€æœ‰ 3 ä¸ªå‡½æ•°ï¼Œç”»å‡ºä¸€ä¸ªå¸¦å¹³æ»‘çš„å›¾å’Œä¸€ä¸ªä¸å¸¦å¹³æ»‘çš„å›¾:

```
**import** pennpaper **as** pp
**from** collections **import** defaultdict

metrics = defaultdict***(***list***)* for** i **in** range***(***90***)***:
    **for** name, f **in** funcs.items***()***:
        m = pp.Metric***(***name***)*** m.add_arrays***(***X, f***(***X***))*** metrics***[***m.name***]***.append***(***m***)*** metrics = ***[***sum***(***v***)* for** v **in** metrics.values***()]*** pp.plot_group***(***metrics***)*** pp.plot_group***(***metrics, smoothen=**True*)***
```

![](img/a818960241464d37965db53d06b90e07.png)

No smoothing, just the effect of averaging 90 tries

![](img/b6bd82896082eb1e35e4fa994127050c.png)

Smooth version

**æ€»ç»“**:æˆ‘ä»¬å·²ç»å­¦ä¼šäº†å¦‚ä½•ä½¿ç”¨ pen'n'paper Metric class è½»æ¾ç»„åˆå¤šä¸ªæµ‹é‡å€¼ï¼Œå¹¶ä½¿ç”¨ã€‚plot()å’Œã€‚plot_many()æ–¹æ³•ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®‰è£…ç¬”å’Œçº¸:

```
pip install pennpaper
```

ç»™å®ƒä¸€é¢—æ˜ŸğŸŒŸè¿™é‡Œ:[https://github.com/ikamensh/pennpaper](https://github.com/ikamensh/pennpaper)

è¿™æ˜¯ä¸€ä¸ªæˆ‘ä¸ºä¸ªäººä½¿ç”¨è€Œå†™çš„ä¾¿åˆ©å·¥å…·ï¼Œä½†æ˜¯æˆ‘æƒ³ä½ å¯èƒ½ä¼šå‘ç°å®ƒçš„ç”¨å¤„ï¼:)