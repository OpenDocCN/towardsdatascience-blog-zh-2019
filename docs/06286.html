<html>
<head>
<title>Level up your regex skills</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提升你的正则表达式技能</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-use-regex-7aeaf4dd25e9?source=collection_archive---------15-----------------------#2019-09-10">https://towardsdatascience.com/how-to-use-regex-7aeaf4dd25e9?source=collection_archive---------15-----------------------#2019-09-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c302" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为了乐趣和利益的正则表达式</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://xkcd.com/1313/"><div class="gh gi ki"><img src="../Images/b4f6bcb1fffc797512aebdc8c84a05aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_j7XilcCld70c8FZvwbtmQ.png"/></div></a></figure><p id="b9eb" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">正则表达式名声不好。它们很硬，不透明，会打碎东西。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi lm"><img src="../Images/f1e6c0c07f839a63963923df503261f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gde2kdfg8scE1pV_Dx9lrg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">They even <a class="ae lv" href="https://stackstatus.net/post/147710624694/outage-postmortem-july-20-2016" rel="noopener ugc nofollow" target="_blank">broke Stack Overflow</a>.</figcaption></figure><p id="8362" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">依赖内置模块进行字符串匹配对于某些任务来说是不错的，但是您将错过编写自己的正则表达式所带来的强大功能和灵活性。(如果你真的很专注，你甚至可以让他们<a class="ae lv" href="https://regex101.com/r/xF5sEs/1" rel="noopener ugc nofollow" target="_blank">做算术</a>。)</p><p id="cf23" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">这篇文章将向你展示一些你以前可能没有尝试过的正则表达式的用例，并给你一些资源，让学习它们变得有趣。</p><h2 id="76f3" class="lw lx it bd ly lz ma dn mb mc md dp me kz mf mg mh ld mi mj mk lh ml mm mn mo bi translated"><strong class="ak">让你的 f 弦更加百搭</strong></h2><p id="088f" class="pw-post-body-paragraph kq kr it ks b kt mp ju kv kw mq jx ky kz mr lb lc ld ms lf lg lh mt lj lk ll im bi translated">Python 的<a class="ae lv" href="https://realpython.com/python-f-strings/" rel="noopener ugc nofollow" target="_blank"> f-strings </a>非常棒——它们可读性强、简洁，并且比旧的%格式化方法更不容易出错。</p><p id="f7cd" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">使用 regex，您可以从中获得更多。为表达式加上前缀<em class="mu"> r </em>表示“raw ”,这告诉 Python 忽略所有的转义字符。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mv"><img src="../Images/a83f41a51c428f2656502371373639c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QvWb3aaGZ3zdc3oODW01kw.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">But beware, even a raw string can’t consist <strong class="bd mw">entirely</strong> of a single backslash.</figcaption></figure><p id="7f45" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">当你需要交换你的正则表达式的部分时，结合使用前缀<em class="mu"> r </em>和前缀<em class="mu"> f </em>。您可以用它来编写更短的循环，或者为您还没有或不需要编译的值保留一个位置。(<a class="ae lv" href="https://nbviewer.jupyter.org/github/lorarjohns/Miniprojects/blob/master/notebooks/Python/Regex%20for%20Eric.ipynb" rel="noopener ugc nofollow" target="_blank">这里有一个后一种情况的例子</a>。)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mx"><img src="../Images/611c3d8c5728a20b91d6b3249d69ebc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2aNGnat0GOZCSHb_YbQr5A.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Use re.compile to pre-compile a regular expression object.</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi my"><img src="../Images/852af0ac05451fde9b2cedd244c4942b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A7CPIZT8LRJfVkuZ1hji4Q.png"/></div></div></figure><h2 id="d9a3" class="lw lx it bd ly lz ma dn mb mc md dp me kz mf mg mh ld mi mj mk lh ml mm mn mo bi translated">精确查找和替换文本</h2><p id="78e8" class="pw-post-body-paragraph kq kr it ks b kt mp ju kv kw mq jx ky kz mr lb lc ld ms lf lg lh mt lj lk ll im bi translated">正则表达式为您提供了一种改变字符串内容的简洁方法。在一行中，您可以使用捕获组来定位要替换和更改的项目。</p><p id="32ee" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在这里，我用这种技术扫描新闻文章中的句子，并用单词“alien”制作标签。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi mz"><img src="../Images/03d7b313c6dd11d119d5694acbcde296.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IcPEAyRpGvucrW-Z7XQK1g.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Use a numbered reference to the capturing group enclosed in parentheses.</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi na"><img src="../Images/4a165e8f63b6d760d206be4e115254b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*egcKGfYhAbr1oKzLVWugFQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">The second expression replaces the targeted substring in the call to re.sub.</figcaption></figure><h2 id="e630" class="lw lx it bd ly lz ma dn mb mc md dp me kz mf mg mh ld mi mj mk lh ml mm mn mo bi translated">从嘈杂的数据中获取有价值的信息</h2><p id="4161" class="pw-post-body-paragraph kq kr it ks b kt mp ju kv kw mq jx ky kz mr lb lc ld ms lf lg lh mt lj lk ll im bi translated">我在日常生活中使用 regex 来简化其他任务(是的，真的)。例如，我想要 requirements.txt 文件中的包列表，但是不想要它们的具体版本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="gh gi nb"><img src="../Images/47a3a21eac3269433f2fc80e6e3cf641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kfA-ZHTjh-ZVcAhLdlXosQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Not pleasant.</figcaption></figure><p id="89e8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">Regex 避免了手动提取包名的繁琐。你可以在<a class="ae lv" href="https://regex101.com/r/9r8tGT/2/" rel="noopener ugc nofollow" target="_blank"> Regex101 </a>看到我是怎么做的。为此，我喜欢使用<a class="ae lv" href="https://www.barebones.com/products/bbedit/" rel="noopener ugc nofollow" target="_blank"> BBEdit </a>(以前的 TextWrangler)，但是你也可以使用 Regex101 中的“导出匹配”特性。这个网站给了你实时调试你的表达的额外好处。</p><p id="44f8" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">花在学习正则表达式上的时间可以让你从繁琐的搜索中解脱出来，从而获得数倍的回报。我使用正则表达式从其他 Python 脚本中提取正则表达式，并在命令行中使用 T2 对文件进行 grepping。</p><h2 id="5523" class="lw lx it bd ly lz ma dn mb mc md dp me kz mf mg mh ld mi mj mk lh ml mm mn mo bi translated">训练你的大脑，享受挑战</h2><p id="8458" class="pw-post-body-paragraph kq kr it ks b kt mp ju kv kw mq jx ky kz mr lb lc ld ms lf lg lh mt lj lk ll im bi translated">在应用正则表达式时，您将通过分解搜索问题、抽象模式并在算法上应用它们来提高您的计算思维技能。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><a href="https://regexcrossword.com"><div class="gh gi nc"><img src="../Images/34ebfc825e4ed5e13500ecbe24a06ae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yD9djCtAIvse_GrPNiqiXA.png"/></div></a><figcaption class="lr ls gj gh gi lt lu bd b be z dk">I’m fun at parties.</figcaption></figure><p id="a47e" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">但是使用正则表达式的最好理由可能是它们只是<em class="mu">的乐趣</em>。如果你是那种喜欢解谜的人，你会沉迷于寻找不同的方法来解决同一个问题和解决边缘案例。</p><p id="ece4" class="pw-post-body-paragraph kq kr it ks b kt ku ju kv kw kx jx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">虽然正则表达式确实很难，有时甚至很危险，但生活中大多数美好的事情都是如此。做几个<a class="ae lv" href="https://regexcrossword.com" rel="noopener ugc nofollow" target="_blank">填字游戏</a>，打一点<a class="ae lv" href="https://nbviewer.jupyter.org/url/norvig.com/ipython/xkcd1313.ipynb" rel="noopener ugc nofollow" target="_blank"> regex 高尔夫</a>，看你合不同意。</p></div></div>    
</body>
</html>