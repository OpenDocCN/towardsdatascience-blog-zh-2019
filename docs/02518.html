<html>
<head>
<title>Apache Hadoop — What Is YARN | HDFS | MapReduce</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Apache Hadoop —什么是 YARN | HDFS | MapReduce</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/big-data-what-is-apache-hadoop-3dafda16c98e?source=collection_archive---------20-----------------------#2019-04-24">https://towardsdatascience.com/big-data-what-is-apache-hadoop-3dafda16c98e?source=collection_archive---------20-----------------------#2019-04-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/343c2611c2096c4ee3d98a8bc0919333.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xEggq2GoZSUT9AG6.png"/></div></div></figure><div class=""/><p id="b659" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">目前，围绕大数据有很多炒作。在接下来的文章中，我将试图澄清人们所说的<em class="kz">大数据</em>和<em class="kz"> </em>提供了一种称为 Hadoop 的核心技术的高级概述，该技术在工业中用于存储和处理大量数据。</p><p id="f920" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">大数据中的<strong class="kd jf"> <em class="kz">大</em> </strong>是指数据量。随着电子商务、社交媒体和物联网设备等技术的出现，自 21 世纪初以来，整个社会产生的数据量一直在呈指数级增长。据估计，到 2025 年，全球数据圈将从 2018 年的 33 吉字节(1 吉字节相当于 1 万亿吉字节)增长到 175 ZB。</p><figure class="lb lc ld le gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi la"><img src="../Images/05dafed775a5386ca2209664bf008b1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wi0fNd5PfpTuZXrSq2nOZw.png"/></div></div></figure><p id="9d4f" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">许多组织正在转向 Apache Hadoop 和其他大数据技术，利用这些大量数据的价值来推动业务决策。</p><p id="4cdd" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">数据越多，处理数据所需的计算能力就越强。谈到计算能力，您有两种选择:</p><ul class=""><li id="fece" class="lf lg je kd b ke kf ki kj km lh kq li ku lj ky lk ll lm ln bi translated">垂直扩展(即更多 RAM、内核和硬盘)</li><li id="ef85" class="lf lg je kd b ke lo ki lp km lq kq lr ku ls ky lk ll lm ln bi translated">水平扩展(即分布式计算)</li></ul><p id="01c5" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">纵向扩展的问题之一是，由于各种限制，在可预见的未来，处理器速度将徘徊在 4 GHz 左右。此外，较高等级组件的成本不是线性的。换句话说，两个系统比一个规格两倍的系统花费更少。</p><p id="0774" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，公司主要使用分布式计算进行数据处理(即商业分析、训练机器学习模型)。分布式计算听起来很简单，但在实践中，需要考虑很多因素。例如，不同的系统如何共享信息，我们如何将问题分解，以便每个系统都可以同时处理它，如果一个或多个节点出现故障，我们该怎么办。</p><p id="0075" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">根据官方文档，Apache Hadoop 是一个开源框架，允许跨计算机集群分布式处理大型数据集。Apache Hadoop 项目分为 HDFS、YARN 和 MapReduce。</p><h2 id="cec1" class="lt lu je bd lv lw lx dn ly lz ma dp mb km mc md me kq mf mg mh ku mi mj mk ml bi translated">HDFS (Hadoop 分布式文件系统)</h2><p id="d605" class="pw-post-body-paragraph kb kc je kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">假设您在某个初创公司担任数据工程师，负责建立存储面向客户的应用程序产生的所有数据的基础设施。您决定使用硬盘驱动器作为主要的非易失性存储介质，因为固态驱动器太贵，而磁带对于任何类型的处理都太慢。传统上，您会将存储(存放数据的地方)和计算(处理数据的地方)分开。在这类系统中，数据将通过一个非常快速的网络传输到计算机，然后由计算机进行处理。事实证明，从时间的角度来看，在网络上移动数据是非常昂贵的。或者，我们可以在存储数据的地方处理数据。数据局部性是从分离存储和计算的彻底转变，分离存储和计算曾经是处理大规模数据系统的流行方式。Hadoop 是最先采用这种方法的技术之一。由于显而易见的原因，通过网络传输 mapReduce 代码比试图将数 Pb 的数据发送到程序所在的地方要快得多。数据局部性从根本上消除了网络瓶颈，从而实现了线性可伸缩性。</p><p id="6602" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在，问题来了，我们如何无缝地访问存储在不同节点上的数据。显然，我们不希望每次需要访问硬盘上的文件时都必须远程访问计算机。Hadoop 分布式文件系统为我们解决了这个问题。HDFS 实现为主从架构，由一个 NameNode(主节点)和一个或多个 DataNodes(从节点)组成。NameNode 负责告诉客户端将数据发送到哪个节点，或者在检索的情况下，哪个节点包含它们正在寻找的数据。然后，客户端可以连接到 DataNode 并开始传输数据，而不再需要 NameNode 的参与。前面的过程使 Hadoop 能够有效地水平扩展。</p><p id="c392" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">默认情况下，HDFS 会在集群中存储您文件的三个副本。在这种情况下，发生了一些故障，暂时只有两个副本，你永远不会知道，因为这都是由 NameNode 在幕后处理的。</p><p id="292b" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">存储在 HDFS 的文件是只读的。一旦你写了一个文件，它将会有那个内容，直到它被删除。这个实现细节意味着 HDFS 不需要进行同步的改变，而同步的改变会在分布式系统中引起多个问题。</p><h2 id="eea4" class="lt lu je bd lv lw lx dn ly lz ma dp mb km mc md me kq mf mg mh ku mi mj mk ml bi translated">YARN(又一个资源谈判者)</h2><p id="b259" class="pw-post-body-paragraph kb kc je kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">除了用于管理计算资源之外，关于 YARN 没有太多可说的。在 YARN 之前，大多数资源协商都是在操作系统级别处理的。后者会导致多重低效。因此，社区发明了 YARN 来更智能地在集群上分配工作负载，并告诉每台计算机应该运行什么以及应该给它多少资源。</p><h2 id="d0c1" class="lt lu je bd lv lw lx dn ly lz ma dp mb km mc md me kq mf mg mh ku mi mj mk ml bi translated">MapReduce</h2><p id="81a4" class="pw-post-body-paragraph kb kc je kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">在编程中，map 通常意味着将一些函数应用于列表中的每个元素，并将每个操作的结果作为列表返回。需要注意的是，地图函数的应用顺序并不重要。假设您想将一个映射函数应用于一个包含一万亿个整数的列表。当由单台计算机顺序执行时，需要一段时间。因此，我们可以将负载分布在集群内部的许多节点上，以便并发处理。换句话说，每个节点将在列表的子集上执行 map 函数。考虑到应用映射函数的顺序并不重要，我们避免了分布式系统中最大的挑战之一，即让不同的计算机就完成事情的顺序达成一致。</p><p id="26b3" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">传统的 reduce 操作将函数和列表作为参数，将函数应用于列表的前两个元素，获取结果，然后将函数重新应用于结果和下一个元素，继续这个过程，直到到达列表的末尾。在 Hadoop 中，reduce 从 map 阶段获取结果，按键将它们分组，并执行聚合操作，如求和、计数和平均。</p><p id="cb89" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用 Hadoop 的主要好处之一是它抽象出了在分布式系统上运行代码的所有复杂性。完全相同的 MapReduce 代码可以在 10，000 个节点的集群或单台笔记本电脑上运行。因此，开发变得更容易，出错的机会也更少。</p><h1 id="ac15" class="mr lu je bd lv ms mt mu ly mv mw mx mb my mz na me nb nc nd mh ne nf ng mk nh bi translated">最后的想法</h1><p id="2e65" class="pw-post-body-paragraph kb kc je kd b ke mm kg kh ki mn kk kl km mo ko kp kq mp ks kt ku mq kw kx ky im bi translated">Hadoop 简化了集群内不同节点之间的数据存储和处理。Hadoop 利用数据局部性来处理大量数据，而无需通过网络发送。HDFS 负责处理分布式系统中的许多复杂问题，比如当一个节点不可避免地出现故障时如何处理。使用 MapReduce，我们可以分解一个工作负载，并将其分布在多台计算机上并发执行，然后在 Reduce 阶段之后可以获得聚合结果。</p></div></div>    
</body>
</html>