<html>
<head>
<title>How to Monitor and Control Deep Learning Experiments Through Your Phone</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何通过手机监控深度学习实验</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-monitor-and-control-deep-learning-experiments-through-your-phone-35ef1704928d?source=collection_archive---------17-----------------------#2019-01-25">https://towardsdatascience.com/how-to-monitor-and-control-deep-learning-experiments-through-your-phone-35ef1704928d?source=collection_archive---------17-----------------------#2019-01-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a980" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">介绍 TeleGrad 一个免费开源的电报机器人，可以与深度学习实验无缝交互。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/b8917470c10a27cb13242a912d30715a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WV9azqeR-i2QQ5u022wn8g.jpeg"/></div></div></figure></div><div class="ab cl kr ks hu kt" role="separator"><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw kx"/><span class="ku bw bk kv kw"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/bd3f4c942dcdab793b0ef5477e9232da.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*k4KUYRuUvrZ56w2cJFQiyQ.gif"/></div></figure><p id="f600" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">深度学习培训过程通常会运行数小时/数天，并且您不会总是在您的工作站附近查看进展情况或进行调整。使用这个电报机器人，你可以通过手机无缝地获得持续更新，甚至控制你的训练过程。</p><h1 id="3d63" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">特征</h1><ul class=""><li id="6abb" class="mn mo iq lb b lc mp lf mq li mr lm ms lq mt lu mu mv mw mx bi translated">获得每个时期的损失、准确性等的更新。</li><li id="ee8a" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">改变学习速度</li><li id="8cef" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">获取损耗收敛图</li><li id="5ed3" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">扼杀训练过程</li><li id="b1dc" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">查询最新的 LR 或指标</li><li id="2972" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">限制对特定电报用户 id 的访问</li></ul><p id="a8db" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated"><strong class="lb ir">完整的安装和使用说明可以在</strong> <a class="ae nd" href="https://github.com/eyalzk/telegrad" rel="noopener ugc nofollow" target="_blank"> <strong class="lb ir"> GitHub 资源库</strong> </a> <strong class="lb ir">中找到。</strong></p><p id="f676" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">要开始使用 TeleGrad，您需要遵循 3 个简单的步骤:</p><ol class=""><li id="baa4" class="mn mo iq lb b lc ld lf lg li ne lm nf lq ng lu nh mv mw mx bi translated">创建一个电报机器人</li><li id="8d0a" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu nh mv mw mx bi translated">安装库依赖项</li><li id="a54e" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu nh mv mw mx bi translated">使用 TeleGrad 的 API 将机器人包含在您的代码中</li></ol><h1 id="dafc" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">1.创建一个电报机器人</h1><p id="e7ea" class="pw-post-body-paragraph kz la iq lb b lc mp jr le lf mq ju lh li ni lk ll lm nj lo lp lq nk ls lt lu ij bi translated">使用电报应用程序创建一个电报机器人非常简单，有一个机器人可以做到这一点！只需遵循以下步骤:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/f3bd2fe0ae54cc4223a106d626b9f320.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPAD3yhXrZHZNxV3bAWnWQ.jpeg"/></div></div><figcaption class="nm nn gj gh gi no np bd b be z dk">Search for the botfather user</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/699449c7a4cb0ec970896930caf95acb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UMQYxNu1G3O_WZFkHRGuzg.jpeg"/></div></div></figure><p id="3c86" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">1.打开电报应用程序</p><p id="86ec" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">2.搜索僵尸父亲用户</p><p id="6546" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">3.开始与机器人父亲对话，然后点击<code class="fe nr ns nt nu b">start</code></p><p id="e66e" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">4.发送<code class="fe nr ns nt nu b">/newbot</code>并按照屏幕上的指示操作</p><p id="d8b3" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">5.复制 bot 令牌。<strong class="lb ir">使用 TeleGrad API </strong>时，您将需要它</p><p id="afbd" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">就是这样！你现在自豪地拥有了一个电报机器人。</p><h1 id="90d1" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">2.安装依赖项</h1><p id="1047" class="pw-post-body-paragraph kz la iq lb b lc mp jr le lf mq ju lh li ni lk ll lm nj lo lp lq nk ls lt lu ij bi translated">要使用 TeleGrad，您需要以下依赖项:</p><ul class=""><li id="e214" class="mn mo iq lb b lc ld lf lg li ne lm nf lq ng lu mu mv mw mx bi translated"><a class="ae nd" href="https://github.com/python-telegram-bot/python-telegram-bot" rel="noopener ugc nofollow" target="_blank"> python-telegram-bot </a></li><li id="a7c2" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">matplotlib(可选，发送收敛图)</li><li id="6799" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">一个深度学习 API。例子包括 Keras &amp; TensorFlow</li></ul><p id="152a" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">只需遵循以下步骤:</p><ol class=""><li id="ffbb" class="mn mo iq lb b lc ld lf lg li ne lm nf lq ng lu nh mv mw mx bi translated">安装<a class="ae nd" href="https://github.com/python-telegram-bot/python-telegram-bot" rel="noopener ugc nofollow" target="_blank">python-telegram-bot</a>:<br/>T2】</li><li id="08dc" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu nh mv mw mx bi translated">克隆<a class="ae nd" href="https://github.com/eyalzk/telegrad" rel="noopener ugc nofollow" target="_blank"> TeleGrad </a>仓库:<br/>T3】</li><li id="7aef" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu nh mv mw mx bi translated">将<code class="fe nr ns nt nu b">dl_bot.py</code>添加到您的项目中</li><li id="9095" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu nh mv mw mx bi translated">将<code class="fe nr ns nt nu b">telegram_bot_callback.py</code>添加到您的项目中(可选，仅当您使用 Keras 时)</li></ol><h1 id="d916" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">3.使用 TeleGrad API</h1><p id="01a8" class="pw-post-body-paragraph kz la iq lb b lc mp jr le lf mq ju lh li ni lk ll lm nj lo lp lq nk ls lt lu ij bi translated">如果您使用的是 Keras，只需将包含的回调传递给 fit 方法，就可以自动与机器人进行交互。否则，自己定制交互(包括 TensorFlow 示例)。</p><p id="e030" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated"><strong class="lb ir">使用 Keras: </strong></p><p id="0f68" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">要使用 Keras Telegram bot 回调，您只需使用以下块:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="923a" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">现在只需将<code class="fe nr ns nt nu b">telegram_callback</code>添加到传递给 model.fit 的回调列表中:</p><pre class="kg kh ki kj gt nx nu ny nz aw oa bi"><span id="81a7" class="ob lw iq nu b gy oc od l oe of">model.fit(x_train, y_train,<br/>          batch_size=batch_size,<br/>          epochs=epochs,<br/>          verbose=1,<br/>          validation_data=(x_test, y_test),<br/>          callbacks=[telegram_callback])</span></pre><p id="9d4c" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">就这样，你可以走了！</p><p id="d591" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated"><code class="fe nr ns nt nu b"><a class="ae nd" href="https://github.com/eyalzk/telegrad/blob/master/keras_mnist_example.py" rel="noopener ugc nofollow" target="_blank">keras_mnist_example.py</a></code>中包含了一个用法示例</p><p id="fe42" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated"><strong class="lb ir">自定义消息:</strong></p><p id="8c68" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">如果您正在使用 TensorFlow(或任何其他框架，并且您想要自定义与机器人的交互)，首先在脚本中包含以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nv nw l"/></div></figure><p id="450e" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">在这种情况下，您需要实现对<code class="fe nr ns nt nu b">/setlr</code>、<code class="fe nr ns nt nu b">/getlr</code>、<code class="fe nr ns nt nu b">/status</code>、<code class="fe nr ns nt nu b">/stoptraining</code>和<code class="fe nr ns nt nu b">/quiet</code>消息的响应。<br/>此外，为了使用<code class="fe nr ns nt nu b">/plot</code>命令，你需要向机器人发送每个时期的损失值。<br/>包含这些响应相当容易，TensorFlow 示例包含在<code class="fe nr ns nt nu b"><a class="ae nd" href="https://github.com/eyalzk/telegrad/blob/master/tf_mnist_example.py" rel="noopener ugc nofollow" target="_blank">tf_mnist_example.py</a></code>中</p><h1 id="3031" class="lv lw iq bd lx ly lz ma mb mc md me mf jw mg jx mh jz mi ka mj kc mk kd ml mm bi translated">使用机器人</h1><p id="1962" class="pw-post-body-paragraph kz la iq lb b lc mp jr le lf mq ju lh li ni lk ll lm nj lo lp lq nk ls lt lu ij bi translated">TeleGrad 机器人会向你发送自动更新，或者回复来自应用程序的消息。<strong class="lb ir">注意，只有在你从应用程序向它发送</strong> <code class="fe nr ns nt nu b"><strong class="lb ir">/start</strong></code> <strong class="lb ir">消息后，机器人才会开始发送消息。</strong></p><p id="bad2" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">要开始与机器人交互，请发送<code class="fe nr ns nt nu b">/start</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/5f88cf4db18ddd7a826f29d151688f1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ScR3CR138DP-6NSCD7R4-g.jpeg"/></div></div></figure><p id="8c11" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated"><strong class="lb ir">自动历元更新:</strong></p><ul class=""><li id="93d3" class="mn mo iq lb b lc ld lf lg li ne lm nf lq ng lu mu mv mw mx bi translated">一旦你从电报应用程序发送<code class="fe nr ns nt nu b">/start</code>,机器人将开始向你发送每个时期的更新</li><li id="588f" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">您可以通过发送<code class="fe nr ns nt nu b">/quiet</code>停止获取这些自动更新</li><li id="6978" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">要重新打开更新，请再次发送<code class="fe nr ns nt nu b">/start</code>。</li><li id="de96" class="mn mo iq lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">在任何时候(即使在安静模式下)，发送<code class="fe nr ns nt nu b">/status</code>获取最新的纪元更新:</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/607ffe922817d57468ea9bb0205bb127.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gDyI8KI80e3C_Jm4qiVxHA.jpeg"/></div></div></figure><p id="879c" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated"><strong class="lb ir">修改学习率:</strong></p><p id="c6ab" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">如果您的模型收敛停滞，并且您想要改变优化器的学习速率，只需发送<code class="fe nr ns nt nu b">/setlr</code>。</p><p id="1554" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">您也可以通过发送<code class="fe nr ns nt nu b">\getlr</code>随时查询当前的学习率</p><div class="kg kh ki kj gt ab cb"><figure class="og kk oh oi oj ok ol paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/f0f9faa93cf347c2099efb6abf362caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:490/format:webp/1*lPT7sJ1duPjCVg3HA0UJ4Q.jpeg"/></div></figure><figure class="og kk om oi oj ok ol paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/bb2f83ac7053dffb4987c1f31b33cf7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*86FLA9uU6blDobeUhcGzdQ.jpeg"/></div></figure><figure class="og kk on oi oj ok ol paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/58d448208c48b20b5dc18a486a7a749b.png" data-original-src="https://miro.medium.com/v2/resize:fit:714/format:webp/1*7ew5odA1RudfgLrkAxeq1Q.jpeg"/></div><figcaption class="nm nn gj gh gi no np bd b be z dk oo di op oq">Setting and getting the learning rate</figcaption></figure></div><p id="391b" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated"><strong class="lb ir">绘制收敛图</strong></p><p id="0859" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">要获得损失的收敛图，从应用程序发送<code class="fe nr ns nt nu b">/plot</code>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/d3a7d7277bd89682e407652a5d7b62a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u5SwTxC48zfBGcoNo4zW9w.jpeg"/></div></div></figure><p id="3ca0" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated"><strong class="lb ir">停止训练过程</strong></p><p id="cabf" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">您可以使用应用程序停止训练过程。只需发送<code class="fe nr ns nt nu b">/stoptraining</code>并点击“是”按钮。通过 Keras 回调，训练可以安全地停止，因为计划在训练后进行的其他操作仍然会发生。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/e1b780786a2ac7641a506fd500eb86db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WdKmhRqclsaTk0Q7pLQ4gQ.jpeg"/></div></div></figure><p id="54f2" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">就是这样！你现在可以使用手机轻松监控和控制你的深度学习实验。</p><p id="6945" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">TeleGrad 目前是它的第一个工作版本，所以欢迎改进和新功能的想法！</p><p id="27be" class="pw-post-body-paragraph kz la iq lb b lc ld jr le lf lg ju lh li lj lk ll lm ln lo lp lq lr ls lt lu ij bi translated">更多项目，请访问我的网站:【https://eyalzk.github.io/ T4】</p></div></div>    
</body>
</html>