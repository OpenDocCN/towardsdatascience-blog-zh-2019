<html>
<head>
<title>Create Desktop Notifications from R to improve your Data Science Productivity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从 R 创建桌面通知，以提高您的数据科学生产力</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-desktop-notifications-from-r-7aeefa90d649?source=collection_archive---------20-----------------------#2019-03-05">https://towardsdatascience.com/create-desktop-notifications-from-r-7aeefa90d649?source=collection_archive---------20-----------------------#2019-03-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/795d419c342ca8b17118e1af1328e780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/0*xiU8daNGKGrRUfvu.png"/></div></figure><p id="4980" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">虽然通知会分散我们对深层工作的注意力，但如果有效处理，通知也可以帮助我们变得更有效率。桌面通知是让用户了解任务完成或一些信息的一种非常好的方式。比方说，您的模型一直在运行，最后，您只需发送 AUC 分数的通知。拥有不是很好吗？有了这个 R 包<code class="fe ks kt ku kv b">notifier</code>，就可以做到了。</p><h1 id="10cb" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">关于通知程序:</h1><p id="58c8" class="pw-post-body-paragraph ju jv iq jw b jx lu jz ka kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr ij bi translated"><code class="fe ks kt ku kv b"><a class="ae lz" href="https://github.com/gaborcsardi/notifier" rel="noopener ugc nofollow" target="_blank">notifier</a></code>是 RStudio 知名<a class="ae lz" href="https://twitter.com/gaborcsardi" rel="noopener ugc nofollow" target="_blank"> Gábor Csárdi </a>的 R 包。<code class="fe ks kt ku kv b">notifier</code>可用于在 macOS、Windows 和 Linux 上发送来自 R 的桌面通知。<code class="fe ks kt ku kv b">notifier</code>跨平台(Windows / Mac/ Linux)运行，但以下代码是在 macOS High Sierra 机器上编写和测试的。</p><h1 id="e17f" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">通知程序安装和加载</h1><p id="0677" class="pw-post-body-paragraph ju jv iq jw b jx lu jz ka kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr ij bi translated"><code class="fe ks kt ku kv b">notifier</code>目前仅在 github 上可用，因此可以使用以下代码安装:</p><pre class="ma mb mc md gt me kv mf mg aw mh bi"><span id="9a7e" class="mi kx iq kv b gy mj mk l ml mm">#install.packages("devtools") if devtools is not installed<br/>devtools::install_github("gaborcsardi/notifier")</span></pre><p id="ee4e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们可以使用下面的代码将<code class="fe ks kt ku kv b">notifier</code>加载到当前的 R 会话中(就像其他 R 包一样)。</p><pre class="ma mb mc md gt me kv mf mg aw mh bi"><span id="3f76" class="mi kx iq kv b gy mj mk l ml mm">library(notifier)</span></pre><h1 id="bf4f" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">它是如何工作的？</h1><p id="a70b" class="pw-post-body-paragraph ju jv iq jw b jx lu jz ka kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr ij bi translated">如文档中所述，通知是这样显示的:</p><ul class=""><li id="218e" class="mn mo iq jw b jx jy kb kc kf mp kj mq kn mr kr ms mt mu mv bi translated">在 macOS 上，通知程序使用终端通知程序工具，参见<a class="ae lz" href="https://github.com/julienXX/terminal-notifier" rel="noopener ugc nofollow" target="_blank">https://github.com/julienXX/terminal-notifier</a></li><li id="18fa" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">在 Linux 和*BSD 系统(包括 Solaris)上，使用 notify-send 命令行工具。这需要 Ubuntu/Debian 和类似系统上的 libnotify-bin 包，或者 RedHat/CentOS/Fedora 和类似系统上的 libnotify 包。</li><li id="cc25" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">在 Windows 8 或更新的 Windows 版本上，通知程序使用烤面包机工具，参见<a class="ae lz" href="https://github.com/nels-o/toaster" rel="noopener ugc nofollow" target="_blank">https://github.com/nels-o/toaster</a>。</li><li id="8a5f" class="mn mo iq jw b jx mw kb mx kf my kj mz kn na kr ms mt mu mv bi translated">在较旧的 Windows 版本上，通知程序使用 notifu 程序，参见<a class="ae lz" href="https://www.paralint.com/projects/notifu" rel="noopener ugc nofollow" target="_blank">https://www.paralint.com/projects/notifu</a>。</li></ul><h1 id="2dc9" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">基本用法</h1><p id="3f6b" class="pw-post-body-paragraph ju jv iq jw b jx lu jz ka kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr ij bi translated"><code class="fe ks kt ku kv b">notifier</code>非常简单，用一个函数创建一个通知，或者如该函数所说，“用<strong class="jw ir">通知</strong>”。函数<code class="fe ks kt ku kv b">notify()</code>有以下三个参数:</p><p id="9f39" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">*标题—消息标题。<br/> * msg —实际通知消息。<br/> *图像—图像，以及消息—可选。</p><h1 id="6ae7" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">你好世界</h1><p id="ab9f" class="pw-post-body-paragraph ju jv iq jw b jx lu jz ka kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr ij bi translated">如同每个计算机编程练习一样，让我们从一个简单的 Hello World 通知消息开始。</p><pre class="ma mb mc md gt me kv mf mg aw mh bi"><span id="80d5" class="mi kx iq kv b gy mj mk l ml mm">#composing the first notification message</span><span id="7505" class="mi kx iq kv b gy nb mk l ml mm">notify(<br/>  title = "Here goes the Title",<br/>  msg = c("Hello","World")<br/>  )</span></pre><p id="3f83" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">给出此通知(屏幕截图):</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/e26f9517d22086b4d071de7077f850ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/0*55D6bC6H3Qcc0aHC.png"/></div></figure><h1 id="d332" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">稍微有用一点</h1><p id="88a8" class="pw-post-body-paragraph ju jv iq jw b jx lu jz ka kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr ij bi translated">现在我们已经学会了如何从 R 发送桌面通知，让我们试着让通知有一些意义和用途。我能立即想到的是一个世界时钟或不同国家的时间。下面是我们如何做到这一点的代码。</p><p id="6719" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这段代码只是获取当前的系统时间，并按照各自的时区对其进行格式化。记住，参数<code class="fe ks kt ku kv b">msg</code>只接受字符类型，因此我们需要将日期类型转换为字符类型，默认情况下，我们已经使用了<code class="fe ks kt ku kv b">paste0</code>。</p><pre class="ma mb mc md gt me kv mf mg aw mh bi"><span id="b171" class="mi kx iq kv b gy mj mk l ml mm">#composing a slightly complex and also useful notification</span><span id="e12e" class="mi kx iq kv b gy nb mk l ml mm">notify(<br/>  title = "World Clock",<br/>  msg = c(paste0(" India - ", format(Sys.time(), format = "%H:%M:%S" ,tz = "Asia/Calcutta"),"\n",<br/>                 paste0("Singapore - ", format(Sys.time(), format = "%H:%M:%S" ,tz = "Asia/Singapore"),"\n"))<br/>          )<br/>)</span></pre><p id="91d0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">给出此通知(屏幕截图):</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/a6bf671dfda783269799a69c2a3e362f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/0*jQ7FIbnKbTScuYkY.png"/></div></figure><h1 id="fda9" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">激励通知</h1><p id="7d35" class="pw-post-body-paragraph ju jv iq jw b jx lu jz ka kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr ij bi translated">由于我们已经使用 base-R 函数创建了一个稍微有意义的通知，让我们升级到一个可以激励我们的好通知——以引用的形式。为此，我们将使用另一个 R 包— <a class="ae lz" href="https://cran.r-project.org/web/packages/randquotes/index.html" rel="noopener ugc nofollow" target="_blank"> randquotes </a>。</p><pre class="ma mb mc md gt me kv mf mg aw mh bi"><span id="b75c" class="mi kx iq kv b gy mj mk l ml mm">#composing a different use-case notification<br/></span><span id="928a" class="mi kx iq kv b gy nb mk l ml mm">library(randquotes)<br/>notify(<br/>  title = "Quote of the Day",<br/>  msg = c(randquote_simple())<br/>)</span></pre><p id="2a94" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">给出此通知(屏幕截图):</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/795d419c342ca8b17118e1af1328e780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/0*xiU8daNGKGrRUfvu.png"/></div></figure><h1 id="6caf" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">进一步改进</h1><p id="c5b6" class="pw-post-body-paragraph ju jv iq jw b jx lu jz ka kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr ij bi translated">通过使用 Task Scheduler(在 Windows 上)或 Shell Scripting Automation(在 Linux/Mac 上)定期自动发送通知，比如每天早上显示报价通知，可以进一步改善这种情况。</p><h1 id="97cb" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">摘要</h1><p id="d468" class="pw-post-body-paragraph ju jv iq jw b jx lu jz ka kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr ij bi translated">我希望这篇文章能帮助你了解这个 R 包通知程序，它使得从 R 发送桌面通知成为可能——我甚至不知道这是可能的。这篇文章中使用的完整代码可以在<a class="ae lz" href="https://github.com/amrrs/blogpost_codes/blob/master/notifier_desktop_notifications.R" rel="noopener ugc nofollow" target="_blank">我的 github </a>上找到。如果你对学习处理 web 数据感兴趣，可以看看这篇关于处理 Web 数据的教程<a class="ae lz" href="https://www.datacamp.com/courses/foundations-of-functional-programming-with-purrr?tap_a=5644-dce66f&amp;tap_s=210728-e54afe" rel="noopener ugc nofollow" target="_blank"/></p><p id="d87b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">请在评论中告诉我们你想尝试或已经尝试过的通知！</p><p id="d1a7" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ne">本文原载于</em> <a class="ae lz" href="https://datascienceplus.com/send-desktop-notifications-from-r-in-windows-linux-and-mac/" rel="noopener ugc nofollow" target="_blank"> <em class="ne"> DS+ </em> </a></p></div></div>    
</body>
</html>