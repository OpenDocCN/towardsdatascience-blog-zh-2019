<html>
<head>
<title>The Basics of EDA (with candy)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">EDA 基础(带糖果)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-basics-of-eda-with-candy-83b2e8ad9e63?source=collection_archive---------6-----------------------#2019-07-05">https://towardsdatascience.com/the-basics-of-eda-with-candy-83b2e8ad9e63?source=collection_archive---------6-----------------------#2019-07-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/53057a7eb76876004dbb48db68d0863b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*al4jLxRe-euvgms7MYkpxg.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">image: Adobe Stock/biotin</figcaption></figure><div class=""/><div class=""><h2 id="0e81" class="pw-subtitle-paragraph kf jh ji bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dk translated">探索性数据分析——什么是探索性数据分析，我该如何做？</h2></div><p id="f724" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">目标是将数据转化为信息，将信息转化为洞察力</p><ul class=""><li id="5094" class="lu lv ji kz b la lb ld le lg lw lk lx lo ly ls lz ma mb mc bi translated"><strong class="kz jj">卡莉·菲奥莉娜</strong>，惠普公司前首席执行官</li></ul><p id="0d1c" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">作为一名数据科学家，据说我们会把 80%左右的时间花在 EDA 上。因此，尽管看起来很乏味，但在开始有趣的事情之前掌握这个过程是个好主意。该过程包括清理、分类和检查特征相关性，以剔除噪声，并有希望获得一些关于哪些片段最有用的见解。</p><p id="2fa5" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">这个例子的数据集是来自科学创意季刊网站的 2017 年糖果等级。如果你想跟进，你可以在这里找到并下载 csv <a class="ae md" href="https://www.scq.ubc.ca/so-much-candy-data-seriously/" rel="noopener ugc nofollow" target="_blank">。我在 Jupyter 笔记本里用的是 Python 3.7。</a></p><p id="6604" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">我在这里分享的一些步骤是个人喜好，你可以随意修改，但是，这些前几个步骤总是非常重要的。</p><p id="af4a" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kz jj">导入:</strong></p><ul class=""><li id="1ec7" class="lu lv ji kz b la lb ld le lg lw lk lx lo ly ls lz ma mb mc bi translated">pandas——数据分析库，几乎所有数据操作都需要它</li><li id="9452" class="lu lv ji kz b la me ld mf lg mg lk mh lo mi ls lz ma mb mc bi translated">numpy——对于线性代数函数来说，即使您并不期望需要它，也应该拥有它。</li><li id="219f" class="lu lv ji kz b la me ld mf lg mg lk mh lo mi ls lz ma mb mc bi translated">Matplotlib —用于绘图和图形的可视化库</li><li id="4178" class="lu lv ji kz b la me ld mf lg mg lk mh lo mi ls lz ma mb mc bi translated">Seaborn —实现更加可定制的数据可视化</li></ul><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mj"><img src="../Images/60ecc25a106b7249e37c74f51d07b04a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8-TZv8EV2uET6Yaku5BMiA.png"/></div></div></figure><p id="a569" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kz jj">读入您的数据:</strong></p><p id="b760" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">使用 pandas pd.read_csv 函数，以字符串形式输入您的数据源，并将其保存为变量，该变量将成为您的数据帧的名称。很多人用<strong class="kz jj"> <em class="lt"> df </em> </strong>，我喜欢用一些更具描述性的东西，所以这次我会用<strong class="kz jj"> <em class="lt"> candy </em> </strong>。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mo"><img src="../Images/68d74a44c86aeb7e473a9e4b9bdb8e1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NCeEf6QDmo1Rvu7l6W7o0Q.png"/></div></div></figure><p id="4f3b" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">接下来，您需要检查数据的前几行，以获得您将处理的数据的峰值。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mp"><img src="../Images/11a0f45456c3b26a0033f3d112bfc905.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nTGX2UZYTUsBbspgTuwNfA.png"/></div></div></figure><p id="b443" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><em class="lt"> candy.head( ) </em>是一个返回前 5 行数据的方法。如果你想要更多或更少，只需输入括号中的数字。例如，头(10)。</p><p id="9e6c" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">candy.shape 是一个属性，告诉你数据帧中的行数和列数。从上面可以看到，<em class="lt"> candy </em>有 2460 行 120 列。</p><p id="b706" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">在检查了数据字典后，我发现每一行都是被调查的个人。数据字典提供了关于数据集中提供什么信息的更多细节。如果可能的话，复习一下总是个好主意。</p><p id="7a6b" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kz jj">检查缺失值:</strong></p><p id="d29b" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">用<em class="lt"> candy.isnull( ) </em>。这种方法有很多种。添加<em class="lt">。sum() </em>到最后会给出每列的总 NaNs 和<em class="lt">。mean( ) </em>将告诉您每一列中缺失值的百分比。我喜欢补充。<em class="lt">sort _ values(ascending = False)</em>此外，按照从缺失最多到最少的顺序显示列。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mq"><img src="../Images/2252a2e7549604f0430a6b870dcfce8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0PhLepYUDx0rZilf4KV6rQ.png"/></div></div></figure><p id="7c13" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">此时，您需要检查数据字典，确定丢失的数据是否意味着什么？还是只是未知？决定是否可以用<em class="lt">删除丢失的单元格。dropna( ) </em>或者是否应该用<em class="lt">来代替它们。菲尔娜()</em>。</p><p id="4e9c" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kz jj">下降列</strong>:</p><p id="36cc" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">对于这个例子，我们可以看到['Unnamed: 113']和['Click Coordinates (x，y)']列没有信息，也没有用，所以我们可以使用。<em class="lt">drop(columns =[' insert column names ']，inplace=True </em>)。在此之前，我使用了<em class="lt">。value_counts(dropna=False) </em>查看包括 nan 在内的那些列中包含的值，并确认其中没有重要的内容。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mr"><img src="../Images/778bbb707f2ba7cb2b8e94ac1a94fe2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*buNal5XtJCdLVP-Jg8RZ5w.png"/></div></div></figure><p id="6279" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">数据字典没有说明调查者可以跳过任何让他们不舒服的问题，所以我们可以假设一些缺失的数据就是因为这个原因。大多数问题都是要求糖果评级，从快乐到中性到绝望。如果你从来没有吃过糖果，就没有盒子可以选择。因此，我们可以做出的另一个假设是，这些列中的 nan 属于这一类。在这种情况下，它们可以用“未知”或您选择的字符串来填充。这真的没关系，因为为了让评级对衡量或预测某件事更有用，我们最终需要将它们转换成数字。</p><p id="791e" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kz jj">检查数据类型:</strong></p><p id="6c1c" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">在填 NaNs 之前，我通常使用<em class="lt">。属性来查看每一列的数据类型，并寻找任何奇怪的东西。</em></p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ms"><img src="../Images/46e3d4cf9dfe318e84736a06e24d6fcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vXqxkgKs4j6YO6jET36fXQ.png"/></div></div></figure><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ms"><img src="../Images/0257048fbbf63d7c79b57e02c9411dbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*45TB2Jt0zXHh2pzncFNxsA.png"/></div></div></figure><p id="0bae" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">正如所料，大多数列都是对象类型，这意味着字符串。</p><p id="5a6f" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">Q3 是年龄，应为整数。</p><p id="4be2" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">Q12 是唯一的浮点类型。它有四个答案，并被自动分成虚拟列，其中 1.0 是“是”，NaN 是“否”。因此我们知道可以用 0.0 填充这些答案。</p><p id="229f" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kz jj">填写 NaNs: </strong></p><p id="18f3" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">一旦我弄清楚了所有的类型，我喜欢创建一个 for 循环，它将同时处理我所有丢失的值。我用 0 填充任何整数或浮点数列，用字符串' unknown '填充任何对象列。然后检查是否还有空值。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mt"><img src="../Images/ab08d7d2cd26f1a0bc69df3d1aeea538.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*45HzJJ-G5XjQ_dBQd3dnww.png"/></div></div></figure><p id="3d0a" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><strong class="kz jj">重命名列:</strong></p><p id="fba9" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">接下来，我想将列名修改为小写，并且不包含特殊字符。这通常使它们更容易阅读和理解。可以使用<em class="lt">。columns </em>属性来检查列的当前名称。然后我用<em class="lt">进行列表理解。lower( ) </em>和<em class="lt"> .str.replace( ) </em>进行我想要的修改。这些名字需要更多的工作，但这只是让你知道如何开始。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mu"><img src="../Images/413f016a93f58a8d3ee9caefb60f919a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qg3gk8mZzGHP2Dyzs-1N7Q.png"/></div></div></figure><p id="7fef" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">如果有更少的列，并且您想完全重写名称，您可以使用 dictionary 方法。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mv"><img src="../Images/84b78c756d371c75cc3ef5da6258d4fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*igH4S5TBUMHyAHL7hxWzLQ.png"/></div></div></figure><p id="40a9" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">最后，我开始使用<em class="lt">。value_counts( ) </em>来更深入地挖掘和探索它们的用处。在这一部分，我可能会将评级改为数值，并将性别和外出等特征二进制化，如果这些特征对我的问题陈述似乎很重要的话。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mw"><img src="../Images/c7897b9027c178331629f1b6a4b5e0db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*INiKPuOrjIhT022VpwP05g.png"/></div></div></figure><p id="b506" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">在上面的剪辑中，我创建了一个地图，其中所有欢乐的细胞将变为 3，所有 MEH 细胞将变为 2，绝望变为 1。然后我用了<em class="lt">。对 lambda 函数执行 applymap( ) </em>操作，该函数基本上循环遍历数据帧的单元格，如果它找到了映射中列出的值，它将使用指定的替换值替换它，否则如果它不在映射中，它将保持不变。</p><p id="8ac0" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">如果我只想看看 Q6，关于人们的糖果评级，可以设置这些行等于一个新的变量，如<em class="lt"> candy_only </em>。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mv"><img src="../Images/4631d98b68f27766a60036e43dcdc169.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GY6OY3ctI5vv6hlNBMdZgA.png"/></div></div></figure><p id="3797" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated"><em class="lt"> candy.describe( ) </em>将向我们显示描述性统计数据，如平均值、标准差和最小/最大值。</p><p id="136f" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">由于我们没有目标变量，也就是我们试图预测的东西，我将使用这些数据来计算出最受欢迎的 10 种糖果。</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mx"><img src="../Images/4566dd9591fa1ffbd5ea3f0c28234422.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zadhsXKTYOPN16S2qBRgag.png"/></div></div></figure><p id="8824" class="pw-post-body-paragraph kx ky ji kz b la lb kj lc ld le km lf lg lh li lj lk ll lm ln lo lp lq lr ls im bi translated">首先，我用<em class="lt">找到了每一列的平均值。mean( ) </em>，然后我把值从大到小排序，只显示前 10 名。最后我用<em class="lt">。plot(kind= "bar") </em>绘制条形图。此外，任何排在第一位的全尺寸糖果，人们最喜欢 Kit Kats，Reeses 和 cash！</p><figure class="mk ml mm mn gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi my"><img src="../Images/e0daef7fb4942f8905d07dacdb5e5dd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mCDj1Sc9QlHzvsbk.jpg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk">photo: amazon</figcaption></figure></div></div>    
</body>
</html>