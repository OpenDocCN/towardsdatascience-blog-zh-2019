<html>
<head>
<title>Name That Genre</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">说出那种类型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/music-genre-prediction-with-spotifys-audio-features-8a2c81f1a22e?source=collection_archive---------19-----------------------#2019-09-01">https://towardsdatascience.com/music-genre-prediction-with-spotifys-audio-features-8a2c81f1a22e?source=collection_archive---------19-----------------------#2019-09-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d938" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用算法确定流派需要什么？</h2></div><p id="c341" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">任何行业的流派都是主观的。定义会随着时间的推移而改变，你越想得到具体的定义，越多的人会愤怒地告诉你你错了。但是基本的类型将会有几个主要的方面，使它们更容易被识别。</p><p id="0ba9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在很大程度上，流派是由它们唤起的体验和共同的 T2 元素定义的。恐怖电影用可怕的怪物和令人不安的情节吓你，动作片用快速的汽车和没有情节把你放在座位的边缘。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi lb"><img src="../Images/14684c42d4681700e9a355a456882aa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*TA2dTLu7w0UtFBqebL6mnA.gif"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">It works really well though. (Source: <a class="ae ln" href="https://giphy.com" rel="noopener ugc nofollow" target="_blank">giphy.com</a>)</figcaption></figure><p id="16a8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么我们能通过算法预测流派吗？理想的过程应该是确定<em class="lo">一个娱乐媒体的所有</em>代表性特征，找出如何从原始资料中解读这些特征的价值，抓取一堆数据，将其投入一个分类算法，然后嘣，流派！</p><p id="0d53" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在尝试为音乐做这件事时，我中途遇到了 Spotify 的音频功能。他们在收集代表不同音乐流派目标体验的特征方面做得很好，比如可跳性或效价(一首歌有多“快乐”)，以及节奏或调等结构元素。</p><p id="d6f0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">数据:</strong>11 个流派各 100 首歌曲，全部来自 Spotify:蓝调、古典、乡村、迪斯科、hiphop、爵士、金属、流行、雷鬼、摇滚、电子。我为第一次运行保持了广泛的东西；我们不需要在流派数量上有太多的颗粒度，就能找到我们需要知道的东西。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi lp"><img src="../Images/5d1a2f37c36c7efa32f9f94e90daab67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D94O6GoR-Eoyx9yiXkxdMA.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk"><a class="ae ln" href="http://everynoise.com/" rel="noopener ugc nofollow" target="_blank">everynoise.com</a> has a ton of different, unique genres, and Spotify playlists for all of them.</figcaption></figure><p id="7580" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">工具:</strong> <a class="ae ln" href="https://spotipy.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> Spotipy </a>对于使用 Python 中的 Spotify API 来说是一个非常有用的库。我用它来收集这个项目的数据。<a class="ae ln" href="https://scikit-learn.org/stable/" rel="noopener ugc nofollow" target="_blank"> Sk-learn </a>非常适合构建和测试不同的模型，而<a class="ae ln" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Pandas </a>非常适合存储数据。我还用 Flask 帮忙做了 app。</p><p id="4195" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">作为使用 Spotipy 的一个例子，我用来获取这 1100 首曲目数据的代码如下。我后来得到的数据帧也显示出来了。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="lu lv l"/></div></figure><p id="a2ca" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">方法:</strong>分类。名义上的目标类和对可解释模型的访问使它非常适合。我尝试了几个不同的模型，最后我用了一个<a class="ae ln" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html" rel="noopener ugc nofollow" target="_blank">随机森林</a>，因为它给了我最好的精确度。我使用的特征是:可舞性、声音、语速、能量、响度、乐器性、效价、节奏、活力、基调和调式。</p><p id="1adc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这一步是关于模型的。我将我的数据分为训练集和测试集，使用这些集训练所有这些模型，并基于以下方面做出我的决定…</p><p id="a928" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">公制:</strong>准确度。对于这个问题，最重要的是要知道预测的流派是否正确，所以唯一重要的统计数据是训练好的模型正确预测流派的频率。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/15090b21ba4b0a43bb06ef80d2a557c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*7jJ7GVjXbB5qkullZotjbA.png"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Random Forest had the best accuracy of all the models I tried.</figcaption></figure><p id="0e39" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我收集了 1100 首歌曲的上述特征，将其分为训练集和测试集，在这些集上拟合各种模型，并制作了一个应用程序，让你可以在 Spotify 上搜索任何歌曲的预测流派。(警告:它有 63.64%的准确率，所以如果你认为它预测错了，你可能是对的:)</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi lx"><img src="../Images/7c43ff326ebf797eff117db899cfe77b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F_fjDwdKRAMRMCEbLsoKcg.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk"><a class="ae ln" href="https://name-that-genre.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">Check out my app here!</a></figcaption></figure><p id="9f21" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Spotify 的音频功能相当不错，但仅凭这些似乎不足以每次正确预测一个流派。我尝试了一些优化方法来获得更好的准确性分数，比如使用网格因子分解来尝试和优化模型超参数。我还标准化了速度的值，努力使它们与大多数其他值相比具有相似的尺度。然而，这些方法并没有产生非常重要的结果。接下来的步骤将包括 Spotify 的片段和节拍数据，他们按照歌曲结构的片段来划分歌曲，如合唱、桥段等。，并以均匀的时间间隔。我还会收集更多歌曲的数据。</p><p id="6c9c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">按照我在开始时描述的理想过程，我们应该能够达到接近 100%的准确率。虽然很难确定具体的子类型，但是任何媒体的主要类型都是相当明确的。大多数体裁都有经常出现的比喻，这些比喻几乎总是一种或多种成分的特定风格。流派本身通常根据它们试图传达的体验来分类。真正的困难在于量化一种媒体的组成元素，使之有可能识别这些比喻。然而，一旦它们都被量化，预测流派就变得容易多了。这是另一个有趣的问题，但不幸的是，我将不得不把它留给另一篇文章。现在，享受预测一些流派吧！</p><p id="3af6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lo">附录</em></p><p id="3d79" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae ln" href="https://github.com/Ydu/genre_prediction" rel="noopener ugc nofollow" target="_blank"> Github </a>、<a class="ae ln" href="https://linkedin.com/in/yash-dua/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>、<a class="ae ln" href="https://name-that-genre.herokuapp.com" rel="noopener ugc nofollow" target="_blank"> App </a></p></div></div>    
</body>
</html>