<html>
<head>
<title>Machine Learning — Diagnosing faults on vehicle fleet trackers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习——诊断车队跟踪器的故障</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/machine-learning-diagnosing-faults-on-vehicle-fleet-trackers-56b123d77cf5?source=collection_archive---------19-----------------------#2019-04-08">https://towardsdatascience.com/machine-learning-diagnosing-faults-on-vehicle-fleet-trackers-56b123d77cf5?source=collection_archive---------19-----------------------#2019-04-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f5e8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">本文提出了一种数据驱动的解决方案来诊断车队跟踪模块的故障。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/4082de9ef9f0ba2ad15d6f87973822aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*m5BpkY7ncckxi2HX-9P_8w.jpeg"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Figure 1: <a class="ae ku" href="https://www.shortlandinsurance.com/module_resources/page_management/36/Fotolia_37500680_L.jpg" rel="noopener ugc nofollow" target="_blank">https://www.shortlandinsurance.com/module_resources/page_management/36/Fotolia_37500680_L.jpg</a></figcaption></figure><h1 id="a678" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">介绍</h1><p id="399a" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">许多运输和物流公司使用模块来跟踪他们的车辆，一些模块不能按预期工作并不罕见。例如，可能需要丢弃追踪器，可能会收集到车辆的错误数据，或者可能会将技术支持人员派到很远的地方去分析问题。因此，有必要对这些模块进行远程故障诊断，因为当它们出现故障时，可能会造成经济损失。</p><p id="01db" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">由于这些模块不断地向数据库发送数据，本研究的目的是使用这些数据来诊断模块上的故障。有必要开发一种方法来预处理由车辆模块发送的收集数据。在此之后，机器学习技术被应用于创建模型，模型被分析和比较。但是，错在哪里呢？</p><p id="262a" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">故障是系统的至少一个属性或特征参数的不允许的偏差[1]。诊断故障有三个步骤，即:</p><ol class=""><li id="a952" class="mo mp it lp b lq mj lt mk lw mq ma mr me ms mi mt mu mv mw bi translated"><strong class="lp iu">故障检测</strong>:是故障诊断最基本的任务，用于检查系统中的故障或失效，并确定故障发生的时间；</li><li id="de7e" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi mt mu mv mw bi translated"><strong class="lp iu">故障隔离</strong>:隔离的作用是检测故障的位置或者是哪个部件有缺陷；</li><li id="a22a" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi mt mu mv mw bi translated"><strong class="lp iu">故障标识</strong>:该标识用于确定故障的类型、形式和大小。</li></ol><p id="0d5b" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">通常，故障识别过程只包括故障检测和隔离(FDI)。这并没有否定故障识别的效用。然而，如果不涉及重新配置动作，这个过程可能不是必需的[2]。</p><h1 id="9d07" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">发展</h1><p id="6399" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">首先，要执行任何机器学习解决方案，都需要数据。在本案例研究中，一家巴西物流公司提供了许多追踪器发送的一些数据，<strong class="lp iu">因此所有使用的数据都是真实的。</strong></p><h2 id="9d02" class="nc kw it bd kx nd ne dn lb nf ng dp lf lw nh ni lh ma nj nk lj me nl nm ll nn bi translated">问题描述</h2><p id="ede9" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">安装在车辆中的模块在整个运行期间发送数据。该公司提供了 12586 个注册表。该公司提供了 12586 个注册表。注册表由一个模块在一天内传输的所有数据组成。平均每个模块每天发 1116.67 分。每个点有八个属性:</p><ul class=""><li id="b19b" class="mo mp it lp b lq mj lt mk lw mq ma mr me ms mi no mu mv mw bi translated"><strong class="lp iu">电池电压</strong>:车载电池电压的浮动值；</li><li id="ea19" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">经度</strong>:车辆经度的浮点值；</li><li id="1c0c" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">纬度</strong>:车辆纬度的浮点值；</li><li id="42f6" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">点火</strong>:表示点火<br/>是否打开的布尔值；</li><li id="4050" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">里程表</strong>:车辆里程表的浮点值；</li><li id="3edf" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu"> GPS 信号</strong>:表示 GPS 信号<br/>是否有效的布尔值；</li><li id="ec88" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">速度</strong>:车速的浮点值；</li><li id="985a" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">内存索引</strong>:模块中<br/>点保存的内存位置的整数值。</li></ul><p id="384f" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">因为模块根据每个模块以不同的频率定期发送数据，所以每个注册表具有不同的大小。这样，每个注册表的大小就是发送的点数乘以 8(属性的数量)。</p><p id="57f8" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">目的是识别注册中心可能存在的错误或其是否正常工作。这样，这是一个多类分类问题，这里有八类；一类为无故障的注册表，七种可能的故障，如下所列:</p><ul class=""><li id="b645" class="mo mp it lp b lq mj lt mk lw mq ma mr me ms mi no mu mv mw bi translated"><strong class="lp iu">故障 1 </strong>:脉冲设置错误；</li><li id="2d1d" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">故障二</strong>:里程表锁定；</li><li id="a5c3" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">故障三</strong> : GPS 锁定；</li><li id="66a3" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">故障 4 </strong>:点火线释放；</li><li id="93d5" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">故障 5 </strong>:加速计故障；</li><li id="263d" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">故障 6 </strong>:模块缓冲有问题；</li><li id="7808" class="mo mp it lp b lq mx lt my lw mz ma na me nb mi no mu mv mw bi translated"><strong class="lp iu">故障 7 </strong> : GPS 出现位置跳变；</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/f66fea3b41f9ef1d96e59de633ff5c73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*EHoIxQXsO3_Eyx6aLmHOGQ.png"/></div></figure><p id="5881" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">这些故障中的一些有几次出现得太低。不足 3%的瑕疵都被贴上了“其他”的标签。每个故障的数据量可以在左边看到。</p><h2 id="5f5c" class="nc kw it bd kx nd ne dn lb nf ng dp lf lw nh ni lh ma nj nk lj me nl nm ll nn bi translated">数据预处理</h2><p id="34f3" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">因为特征提取过程是一项大规模的工作，会显著影响最终结果[3]。这种方法使用来自系统的知识来执行数据转换，以显著降低数据维度。</p><p id="194a" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">初始属性是时间序列(电池电压、纬度等。)，从它们中，我创建了 21 个新属性，如下表所示。此后，数据转换将原始数据从二维转换为一维。这些新属性中的大多数都可以很容易地计算出来，因此没有复杂的公式或算法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nq"><img src="../Images/8155814c665045210d3b55b642b0f29a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l0Fy9fTN_60e_Ans5h7VHA.png"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">New Attributes description table.</figcaption></figure><p id="2643" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">大多数属性都是二进制的，所以不需要规范化。然而，诸如点数、关于电池电压的数据和存储器索引中的跳跃之类的属性可以被标准化。由于没有对异常值进行分析，传统的归一化会导致数据被一些高值所抑制，因此使用 RobustScaler。此缩放器使用第一个和第三个四分位数作为约束，而不是最大值和最小值，因此这种归一化更健壮，并保留了异常值。</p><p id="2e39" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">由于某些属性可能与其他属性高度相关，因此计算了所有可能的相关性。经度和纬度变化具有 0.996315 的皮尔逊相关性，这在大多数 ML 项目中建议我们应该丢弃这些属性中的一个。然而，由于模型的目标是诊断模块的 GPS 中的故障，尽管相关性很高，但这两个属性都是有用的。</p><p id="8c4f" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">而且，点数和 GPS 无效的点数有很高的相关性，0.962769。这是因为点数是有效 GPS 点数与无效 GPS 点数之和。因此，由于这种线性组合，属性“点数”被丢弃。最后，日期和序列字段也被丢弃，因为它们用于识别车辆和模块，并且不提供关于模块操作的任何信息。</p><h1 id="4893" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">训练 ML 模型</h1><p id="4639" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">为了运行算法，数据集被分成训练集和测试集。对于每个实验，20%的注册表用于测试，80%用于训练。</p><p id="803c" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">我想找出哪种传统算法更适合这种数据，所以我测试了过采样和欠采样的每种算法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/58b6a59edff4899d70bd897d1ab775e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*9dbSXlBk7erl8yYaWExExQ.png"/></div></figure><p id="3a41" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">考虑到最大似然技术，所有的随机森林都使用 100 个估计器，所有的最大似然都使用架构(5，10，5)，lr = 0:001 和 200 次最大迭代。</p><p id="962c" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">获得的指标可以在下表中看到:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nr ns di nt bf nu"><div class="gh gi nw"><img src="../Images/979db2f3ef160ef9198271a734586d00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l3bGLrh9MhqqQdpWcaJ27A.png"/></div></div></figure><p id="a8ab" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">通过过采样，随机森林的归一化混淆矩阵如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/85d8e26f6eb9dd7ab88c4a555a78a416.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*Rp9DiYYNRnlXdCjDCAvskQ.png"/></div></figure><p id="d30d" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">除了最大似然技术的评价指标，还计算了模型的训练和评价时间。在最坏的情况下，这个时间是 0.37 <em class="ny"> ms </em>，在这个案例研究中，这个时间可以被认为是应用程序<br/>的实时响应。</p><h1 id="a4a1" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">结论</h1><p id="23b5" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">正如所提出的，这些模型可以检测和识别具有高性能指标的车队跟踪模块上的故障。然而，有广泛的功能工程，可以由 LSTM 或 CNN 自动执行。我也，做了一些 CNN 的模型来做这个故障诊断，也许我会在下一篇文章中详细介绍。</p><p id="c0ba" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">所采用的方法的局限性包括模型不能发现未被映射的故障，因此任何未被学习的故障将被错误地分类为已知故障之一。</p><p id="bc97" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">和文章中一样，这里没有任何代码，你可以在我的 GitHub 库中随意查看。</p><div class="nz oa gp gr ob oc"><a href="https://github.com/lmeazzini/Tracker-fault-diagnosis" rel="noopener  ugc nofollow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd iu gy z fp oh fr fs oi fu fw is bi translated">lmeazzini/Tracker-故障诊断</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">故障诊断模型检测和识别车队跟踪模块上的故障。…</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">github.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq ko oc"/></div></div></a></div><h1 id="361e" class="kv kw it bd kx ky kz la lb lc ld le lf jz lg ka lh kc li kd lj kf lk kg ll lm bi translated">参考</h1><p id="1b44" class="pw-post-body-paragraph ln lo it lp b lq lr ju ls lt lu jx lv lw lx ly lz ma mb mc md me mf mg mh mi im bi translated">[1] D. van Schrick，“关于<br/>监督、故障检测和诊断领域术语的说明”，IFAC 会议录<br/>卷，第 30 卷，第 18 期，第 959-964 页，1997 年。</p><p id="6a14" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">[2] D. Wang 和 W. T. Peter，“基于移动平均磨损退化指数<br/>和一般<br/>顺序蒙特卡罗方法的泥浆泵预测”，机械系统和<br/>信号处理，第 56 卷，第 213–229 页，2015 年。</p><p id="369a" class="pw-post-body-paragraph ln lo it lp b lq mj ju ls lt mk jx lv lw ml ly lz ma mm mc md me mn mg mh mi im bi translated">[3] L. Wen，X. Li，L. Gao，Y. Zhang，“一种新的基于卷积<br/>神经网络的数据驱动故障诊断方法”，<br/>IEEE Transactions on Industrial Electronics，vol. 65，no. 7，<br/>PP . 5990–5998，2018，</p></div></div>    
</body>
</html>