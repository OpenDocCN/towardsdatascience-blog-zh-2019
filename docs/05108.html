<html>
<head>
<title>Creating word clouds with python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 python 创建单词云</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-word-clouds-with-python-f2077c8de5cc?source=collection_archive---------5-----------------------#2019-07-31">https://towardsdatascience.com/creating-word-clouds-with-python-f2077c8de5cc?source=collection_archive---------5-----------------------#2019-07-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/25c622da4e0432c58bd28649cdeaa6ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bMt1xhiVw9HEyFy-6ODNSQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Image from <a class="ae kc" href="https://culturacolectiva.com/movies/game-thrones-season-8-opening-map-astrolabe" rel="noopener ugc nofollow" target="_blank">culturacolectiva</a></figcaption></figure><p id="fd5c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在最近的一个 NLP 项目中，我看到了一篇文章，文章中用美国总统就职演说中的单词创建了单词云。虽然我使用了单词云来可视化文档中最常见的单词，但我没有考虑过使用它和遮罩来表示主题。这让我开始思考...</p><p id="5057" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">几个月前，在《权力的游戏》第一季到第七季的最后一集播出前不久，我急切地等待着大结局——以至于我去寻找任何我能在网上找到的《权力的游戏》数据，以预测谁将在第八季的混乱中幸存下来，以及 7 个王国将会发生什么。不幸的是，我没有时间了，但我确实找到了人们收集的大量<a class="ae kc" href="https://www.reddit.com/r/datasets/comments/769nhw/game_of_thrones_datasets_xpost_from_rfreefolk/" rel="noopener ugc nofollow" target="_blank">数据</a>和可视化。当我偶然发现就职词云时，我想知道我是否可以使用《权力的游戏》的数据，特别是剧本，以及角色的图像遮罩来创建一些非常酷的可视化效果。在本文中，正如<a class="ae kc" href="https://github.com/kaparker/gameofthrones-wordclouds/blob/master/WordClouds_CodeUPXTechNomads_240719.pdf" rel="noopener ugc nofollow" target="_blank">在最近的一次技术会议上展示</a>一样，我将逐步使用 python 创建《权力的游戏》单词云。</p><h1 id="5254" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">入门指南</h1><p id="2692" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在处理基于文本的数据时，遵循与就职词云文章相似的方法，涉及几个步骤。这些步骤是:</p><ol class=""><li id="08b7" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la mj mk ml mm bi translated">查找相关数据</li><li id="d850" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">清理数据</li><li id="4bf7" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">从图像创建遮罩</li><li id="d622" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la mj mk ml mm bi translated">生成单词云</li></ol><p id="8cb3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为我将在本教程中使用 python，所以有许多库可以帮助完成上述步骤，另外<a class="ae kc" rel="noopener" target="_blank" href="/a-practitioners-guide-to-natural-language-processing-part-i-processing-understanding-text-9f4abfd13e72"> Dipanjan Sarkar 的自然语言处理指南</a>提供了文本分析技术的全面介绍，如果你正在寻找关于该主题的进一步阅读。</p><p id="3f2a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在开始第一步之前，我定义了项目的目标，以确保不会遗漏任何重要步骤，并对目标有一个清晰的愿景。</p><p id="437e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">项目目标:</strong>为《权力的游戏》中被图像掩盖的角色创建文字云。</p><h1 id="5ea0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">1.查找相关数据</h1><p id="e518" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">网上有大量的《权力的游戏》数据——我通常首先在 GitHub 和<a class="ae kc" href="https://kaggle.com" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上搜索数据集——我很快找到了一个包含<a class="ae kc" href="https://github.com/shekharkoirala/Game_of_Thrones/tree/master/Data" rel="noopener ugc nofollow" target="_blank">脚本</a>的数据集。</p><p id="9fe0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了实现项目目标，每个角色的台词都需要陈述——第一个问题是:角色台词可用吗？</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/8955ab660995348ef027bdcfb87dbdfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*mIC-irxn5-rFaD9qwsQZ2w.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Snippet of Game of Thrones script</figcaption></figure><p id="8612" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看第一集的一个片段，人物数据是有的！然而，在探索下一集和下一季时，角色名字的格式会有所不同。</p><p id="1cf0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上面的例子中，只使用了角色的名字，而且都是大写的，而在其他季节中，角色的全名都是大写的。舞台指示也可以包含在角色名称中。</p><p id="2b5d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，通过字符名称搜索所有行，可以使用带有字符名称的正则表达式:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="0593" class="nc lc iq my b gy nd ne l nf ng">re.findall(r'(^'+name+r'.*:.*)', line, re.IGNORECASE)</span></pre><p id="7e05" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个表达式搜索一行的开始(^)，后面是我们作为变量输入的字符名，后面是任何文本(。*)，然后是一个冒号，表示这是一个字符行(:)，后跟任何文本(。*).通过将该正则表达式包含在括号中，返回整行。最后忽略大小写，所以角色名可以是大写/小写/字母大小写。</p><p id="eaa7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用下面的函数将返回一个字符的所有行:</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="2ec3" class="nc lc iq my b gy nd ne l nf ng"># final_data taken from:  <br/># <a class="ae kc" href="https://github.com/shekharkoirala/Game_of_Thrones" rel="noopener ugc nofollow" target="_blank">https://github.com/shekharkoirala/Game_of_Thrones</a></span><span id="44cb" class="nc lc iq my b gy nh ne l nf ng"># get data for characters<br/>def get_char_lines(char):    <br/>    output = []          <br/>    print('Getting lines for', char)        <br/><br/>    with open('final_data.txt', 'r') as f:<br/>        for line in f:<br/>            if re.findall(r'(^'+char+r'.*:.*)',line,re.IGNORECASE):<br/>                output.append(line)<br/>    f.close()<br/>    print(char, 'has ', len(output), 'lines')</span><span id="961e" class="nc lc iq my b gy nh ne l nf ng">return output</span><span id="fcdf" class="nc lc iq my b gy nh ne l nf ng"># get lines using<br/>get_char_lines('arya')</span></pre><h1 id="c241" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">2.清理数据</h1><p id="ce29" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">现在我们有了角色的线条，这些需要被清理。</p><p id="0cac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以下技术用于清洁生产线，这些相同的技术也在上面提到的<a class="ae kc" rel="noopener" target="_blank" href="/a-practitioners-guide-to-natural-language-processing-part-i-processing-understanding-text-9f4abfd13e72"> NLP 指南</a>中详细描述。正则表达式在替换或删除字符时也很有用:</p><ul class=""><li id="d2dc" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la ni mk ml mm bi translated">移除线路信息，例如<code class="fe nj nk nl my b">JON:</code></li></ul><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="293e" class="nc lc iq my b gy nd ne l nf ng">re.sub(r'.*:', '', text)</span></pre><ul class=""><li id="6c80" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la ni mk ml mm bi translated">删除括号—从字符行中删除任何舞台方向</li></ul><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="8d22" class="nc lc iq my b gy nd ne l nf ng">re.sub('[\(\[].*?[\)\]]', ' ', text)</span></pre><ul class=""><li id="eae1" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la ni mk ml mm bi translated">删除重音字符，并使用<code class="fe nj nk nl my b">unicodedata</code>库进行规范化</li></ul><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="c0ad" class="nc lc iq my b gy nd ne l nf ng">unicodedata.normalize('NFKD', text).encode('ascii', 'ignore').decode('utf-8', 'ignore')</span></pre><ul class=""><li id="844e" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la ni mk ml mm bi translated">扩展任何缩略词，例如，不要→不要<br/>这里有一个 python 库，将<code class="fe nj nk nl my b">contractions.py</code>复制到您的工作目录，来自:<br/><a class="ae kc" href="https://github.com/dipanjanS/practical-machine-learning-with-python/blob/master/bonus%20content/nlp%20proven%20approach/contractions.py" rel="noopener ugc nofollow" target="_blank">https://github . com/dipanjanS/practical-machine-learning-with-python/</a></li></ul><figure class="mt mu mv mw gt jr"><div class="bz fp l di"><div class="nm nn l"/></div></figure><ul class=""><li id="38a8" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la ni mk ml mm bi translated">(可选):在一个单词被词干化为字典中的一个词根的情况下应用词条解释，例如 is，are → be <br/>当前没有使用词条解释，因为它不能很好地处理一些单词，例如 Stannis → Stanni</li><li id="b274" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la ni mk ml mm bi translated">将所有文本转换为小写</li></ul><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="7529" class="nc lc iq my b gy nd ne l nf ng">text.lower()</span></pre><ul class=""><li id="25ec" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la ni mk ml mm bi translated">删除特殊字符(*、。！？)以及删除数字的选项—默认设置为 false</li></ul><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="9934" class="nc lc iq my b gy nd ne l nf ng">pattern = r'[^a-zA-Z0-9\s]' if not remove_digits else r'[^a-zA-Z\s]'    re.sub(pattern, '', text)</span></pre><ul class=""><li id="f08a" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la ni mk ml mm bi translated">删除停用词，使用<code class="fe nj nk nl my b">nltk</code>库中的停用词，首先对文本进行标记，将字符串分割成子字符串列表，然后删除所有停用词</li></ul><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="5050" class="nc lc iq my b gy nd ne l nf ng">stopword_list = stopwords.words('english')    <br/>tokens = nltk.word_tokenize(text)    <br/>tokens = [token.strip() for token in tokens]    <br/>' '.join([token for token in tokens if token not in stopword_list])</span></pre><p id="8e3f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些清洁技术基于几种不同的来源，并且这些步骤有许多变化以及可以使用的其他清洁技术。这些初始清洁步骤已经在这个<a class="ae kc" href="https://github.com/kaparker/gameofthrones-wordclouds/blob/master/gotwordcloud.py" rel="noopener ugc nofollow" target="_blank">项目</a>中使用。</p><h1 id="f0cb" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">3.从图像创建遮罩</h1><p id="5b4d" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">基于就职词云，<code class="fe nj nk nl my b">PIL</code>库用于打开图像，从图像创建<code class="fe nj nk nl my b">numpy</code>数组以创建遮罩。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="2cd4" class="nc lc iq my b gy nd ne l nf ng">char_mask = np.array(Image.open("images/image.jpeg"))    image_colors = ImageColorGenerator(char_mask)</span></pre><p id="b307" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可选地，<code class="fe nj nk nl my b">numpy</code>阵列可以和<code class="fe nj nk nl my b">wordcloud.ImageColorGenerator</code>一起使用，然后<code class="fe nj nk nl my b">recolor</code>单词云代表图像的颜色，或者其他。这将在下一节中讨论。</p><p id="68a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在最初将一幅图像作为文字云遮罩进行测试后，图像中的背景产生了太多的噪声，以至于字符的形状没有被很好地定义。为了避免这种情况，移除图像背景并替换为白色背景会很有用。</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/b2f24026b81c3de1f09b63f15b430e63.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/1*yKQxyCc5v8ifMOz_KsmfKA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Remove background from image and replace with white background</figcaption></figure><h1 id="1489" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">4.生成单词云</h1><p id="4873" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">最后一步是使用<code class="fe nj nk nl my b">generate()</code>函数创建单词云。</p><pre class="mt mu mv mw gt mx my mz na aw nb bi"><span id="c62c" class="nc lc iq my b gy nd ne l nf ng">wc = WordCloud(background_color="white", max_words=200, width=400, height=400, mask=char_mask, random_state=1).generate(text)</span><span id="eb35" class="nc lc iq my b gy nh ne l nf ng"># to recolour the image<br/>plt.imshow(wc.recolor(color_func=image_colors))</span></pre><p id="f913" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">单词云将被图像掩盖，文本的大小将基于词频。</p><p id="7bac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以调整单词云的参数——尝试增加<code class="fe nj nk nl my b">max_words</code>来查看一些不常用的单词，注意，这应该少于文档中唯一单词的数量。</p><p id="35b3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如前一节所述，<code class="fe nj nk nl my b">recolor</code>步骤是可选的，这里用于表示原始图像颜色。</p><h1 id="2711" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">权力的游戏单词云</h1><p id="120c" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">对《权力的游戏》角色的图像使用上述步骤，生成的单词云呈现如下:</p><h2 id="00da" class="nc lc iq bd ld np nq dn lh nr ns dp ll ko nt nu lp ks nv nw lt kw nx ny lx nz bi translated"><strong class="ak">艾莉亚</strong></h2><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/c41d34ef229a9525c23ac8325ef21335.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hmp_uwkdfW2EO-mLOosf5Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Arya word cloud</figcaption></figure><h2 id="705a" class="nc lc iq bd ld np nq dn lh nr ns dp ll ko nt nu lp ks nv nw lt kw nx ny lx nz bi translated"><strong class="ak">琼恩·雪诺</strong></h2><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/4561635f08a9c5881342e108d5392da8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*liuB_vfT8yHGeMNnEFOr2A.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Jon Snow word cloud</figcaption></figure><h2 id="6e3d" class="nc lc iq bd ld np nq dn lh nr ns dp ll ko nt nu lp ks nv nw lt kw nx ny lx nz bi translated">丹妮莉丝</h2><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/b2730a5bcf106527baeeee03fbfae218.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jQefoqmu6zpswXLDoWo3Qg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Daenerys word cloud</figcaption></figure><h2 id="8378" class="nc lc iq bd ld np nq dn lh nr ns dp ll ko nt nu lp ks nv nw lt kw nx ny lx nz bi translated">达沃斯爵士</h2><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/d64a88f09a84e30ad3e0a395570f7dbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-NjYPnJMwLii4aBPwVO4Qg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Ser Davos word cloud</figcaption></figure><p id="b835" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这也被扩展到基于房屋生成单词云:</p><h2 id="1aa8" class="nc lc iq bd ld np nq dn lh nr ns dp ll ko nt nu lp ks nv nw lt kw nx ny lx nz bi translated">兰尼斯特家族</h2><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/1f146df942109a5bb5c51cecd8b6b94d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*02ESF7ucOaIEfRSiSIvn3g.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Lannister word cloud</figcaption></figure><h2 id="3abc" class="nc lc iq bd ld np nq dn lh nr ns dp ll ko nt nu lp ks nv nw lt kw nx ny lx nz bi translated">史塔克家族</h2><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/7119deae5d5c323379abe6119b73d198.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L5PxjLDHy0Gb9gSXp1-2Ug.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Stark word cloud</figcaption></figure><p id="8e9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有了这些单词云，项目的最初目标就达到了！</p><h1 id="52fc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">丰富</h1><p id="7d11" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">有几种方法可以改进这些单词云。</p><ul class=""><li id="4c27" class="me mf iq kf b kg kh kk kl ko mg ks mh kw mi la ni mk ml mm bi translated"><strong class="kf ir">常用字:</strong>在所有的汉字书写中，都有一些重复出现的常用字。目前，词云是基于词频生成的，然而，另一种方法是 TFIDF，它基于词在文档中的频率和相对于语料库的频率对词进行加权。或者，可以生成一个自定义停用词表来删除其他常用词</li><li id="d0c7" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la ni mk ml mm bi translated"><strong class="kf ir">词汇匹配/词干匹配</strong>:词汇匹配在上面的例子中没有使用，因为一些《权力的游戏》特有的单词在测试时被缩短了(Stannis → Stanni)，然而这确实意味着来自同一个词根的单词没有联系，并且在单词云中出现了几次，例如 say，said。可以使用替代的引理方法或词干技术。</li><li id="0573" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la ni mk ml mm bi translated"><strong class="kf ir">文本清理:</strong>还可以使用进一步的清理或数据准备步骤</li><li id="3856" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la ni mk ml mm bi translated"><strong class="kf ir">单词云功能:</strong>我用不同的单词颜色、背景颜色和单词云参数进行了测试，灰色和黑色背景在这种情况下可以工作，但一些参数可以进一步优化</li><li id="dcf9" class="me mf iq kf b kg mn kk mo ko mp ks mq kw mr la ni mk ml mm bi translated"><strong class="kf ir">进一步的文本分析:</strong>从这个数据集中可以得出很多真知灼见。更大的分析范围！</li></ul><h1 id="aa5e" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">延伸——陌生的事物</h1><p id="d452" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">通过进一步观察，我最终发现了<a class="ae kc" href="https://www.springfieldspringfield.co.uk/episode_scripts.php?tv-show=stranger-things-2016" rel="noopener ugc nofollow" target="_blank">更奇怪的东西脚本</a>——尽管它们缺少字符行，但数据仍可用于<a class="ae kc" href="https://github.com/kaparker/stranger-things" rel="noopener ugc nofollow" target="_blank">生成单词云</a>……</p><figure class="mt mu mv mw gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/1d3d749837a5cb7e51c3a06b16bdd3a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5BhesvlDaBTXKqq37k3qhQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Stranger Things word cloud</figcaption></figure><h1 id="6bcf" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">摘要</h1><p id="d749" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">在这篇文章中，我已经完成了生成单词云的基本步骤，这些单词云被一个图像所掩盖。</p><p id="4bff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这只是我尝试单词云的开始！该项目还有很大的发展和改进空间，我希望您能按照步骤使用 word clouds 创建自己的项目！\</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><p id="0382" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">感谢您的阅读！如果你喜欢我的文章，那么<a class="ae kc" href="https://kaparker.substack.com/" rel="noopener ugc nofollow" target="_blank">订阅</a>我的每月简讯，在那里你可以将我的最新文章和顶级资源直接发送到你的收件箱！</p><p id="f270" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以在<a class="ae kc" href="https://medium.com/@_kaparker" rel="noopener"> Medium </a>上关注我以获取更多文章，在<a class="ae kc" href="https://twitter.com/_kaparker" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我或者在我的<a class="ae kc" href="http://kaparker.com/" rel="noopener ugc nofollow" target="_blank">网站</a>上了解更多关于我正在做的事情。</p></div></div>    
</body>
</html>