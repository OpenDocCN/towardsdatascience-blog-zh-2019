<html>
<head>
<title>Recipes for the Visualizations of Data Distributions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据分布可视化的方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/recipes-for-the-visualizations-of-data-distributions-a1527a0faf77?source=collection_archive---------18-----------------------#2019-10-22">https://towardsdatascience.com/recipes-for-the-visualizations-of-data-distributions-a1527a0faf77?source=collection_archive---------18-----------------------#2019-10-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1bf5" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" rel="noopener" target="_blank" href="https://towardsdatascience.com/data-visualization/home">可视化</a></h2><div class=""/><p id="db77" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">直方图、KDE 图、箱形图和小提琴图等</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi kx"><img src="../Images/3e4728ea0a0a0d0f52edde2f358d048b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wq27JtUpuSHpY8LY"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Photo by <a class="ae ln" href="https://unsplash.com/@heftiba?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Toa Heftiba</a> on <a class="ae ln" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="916b" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">作为一名初露头角的数据科学家，我意识到，在项目启动期间，编写第一段代码总是为了了解数据集中一个或几个变量的分布。可视化变量的分布对于立即掌握有价值的参数非常重要，如频率、峰值、偏斜度、中心、模态以及变量和异常值在数据范围内的表现。</p><p id="ae9f" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">带着分享知识的兴奋，我写了这篇关于单变量(单变量)分布的总结解释的博文，分享我从几篇文章和文档中得出的推论。我将提供绘制分布函数的步骤，而不深入理论，并保持我的帖子简单。</p><p id="5ef0" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">我将首先解释使用 Matplotlib 和 Seaborn 库用 Python 可视化数据分布的函数。可视化背后的代码可以在这个<a class="ae ln" href="https://github.com/cereniyim/Visualization-of-Data-Distributions/blob/master/life_expectancy_distribution_visualization.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>中找到。</p><p id="ab0c" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">为了便于说明，我使用了<a class="ae ln" href="https://www.gapminder.org/" rel="noopener ugc nofollow" target="_blank"> Gapminder </a>寿命预期数据，清理后的版本可以在这个 GitHub <a class="ae ln" href="https://github.com/resbaz/r-novice-gapminder-files/tree/master/data" rel="noopener ugc nofollow" target="_blank">库</a>中找到。</p><p id="8085" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">数据集显示了 142 个国家在 1952 年至 2007 年间的出生时预期寿命、人口和人均 GDP。我将绘制出生时的预期寿命，使用:</p><ol class=""><li id="f478" class="lo lp it kb b kc kd kg kh kk lq ko lr ks ls kw lt lu lv lw bi translated">柱状图</li><li id="8ac3" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw lt lu lv lw bi translated">核密度估计和分布图</li><li id="586c" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw lt lu lv lw bi translated">箱形图</li><li id="450b" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw lt lu lv lw bi translated">博兴图</li><li id="9fcd" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw lt lu lv lw bi translated">小提琴情节</li></ol><h1 id="7bf9" class="mc md it bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">1)直方图</h1><p id="b87f" class="pw-post-body-paragraph jz ka it kb b kc na ke kf kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw im bi translated">直方图是显示数据分布的最简单方式。下面是制作直方图的方法:</p><ul class=""><li id="67d6" class="lo lp it kb b kc kd kg kh kk lq ko lr ks ls kw nf lu lv lw bi translated">创建桶(箱)通过将数据区域划分成相等的大小，数据中子集的数量就是箱的数量。</li><li id="c2f4" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw nf lu lv lw bi translated">记录落入每个箱中的数据点的计数。</li><li id="de67" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw nf lu lv lw bi translated">在 x 轴上并排想象每个桶。</li><li id="18c2" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw nf lu lv lw bi translated">计数值将显示在 y 轴上，显示每个箱子中有多少物品。</li></ul><p id="2571" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">你有了一个全新的直方图！</p><p id="6a13" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">这是最简单、最直观的方法。然而，一个缺点是决定必要的箱的数量。</p><p id="4e61" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">在这个图中，我确定了 25 个 bin，这在使用 Matplotlib hist 函数中的<code class="fe ng nh ni nj b">bins </code>参数后似乎是最佳的。</p><pre class="ky kz la lb gt nk nj nl nm aw nn bi"><span id="fbdb" class="no md it nj b gy np nq l nr ns"># set the histogram<br/>plt.hist(df.life_expectancy, <br/>         range=(df.life_expectancy.min(),<br/>                df.life_expectancy.max()+1), <br/>         bins=25, <br/>         alpha=0.5) <br/># set title and labels<br/>plt.xlabel(“Life Expectancy”) <br/>plt.ylabel(“Count”) <br/>plt.title(“Histogram of Life Expectancy between 1952 and 2007 in the World”) <br/>plt.show()</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/24efdd71207045009f9275c1b308e112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kc7JbyrS3qouy6B0gTEeYQ.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Histogram with 25 bins</figcaption></figure><p id="4107" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">不同数量的容器会显著改变数据分布的外观。这是同样的数据分布，有 5 个箱，看起来像一个完全不同的数据集，对吗？</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/31e33434e4d30627dda5dff7fdd33032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oqbtzpKD9usuWD0bmTxkeQ.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Histogram with 5 bins</figcaption></figure><p id="cc7f" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">如果您不想被箱数确定所困扰，那么让我们跳到核密度估计函数和分布图。</p><h1 id="7d79" class="mc md it bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">2)核密度估计和分布图</h1><p id="9816" class="pw-post-body-paragraph jz ka it kb b kc na ke kf kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw im bi translated"><a class="ae ln" href="https://en.wikipedia.org/wiki/Kernel_density_estimation" rel="noopener ugc nofollow" target="_blank">核密度估计</a> (KDE)图通过平滑直方图将您从决定面元大小的麻烦中解救出来。遵循以下逻辑创建 KDE 图:</p><ul class=""><li id="ab24" class="lo lp it kb b kc kd kg kh kk lq ko lr ks ls kw nf lu lv lw bi translated">围绕每个数据点绘制一条<a class="ae ln" href="https://en.wikipedia.org/wiki/Normal_distribution" rel="noopener ugc nofollow" target="_blank">高斯(正态)曲线</a>。</li><li id="b9f3" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw nf lu lv lw bi translated">将曲线相加，在每个点创建一个密度。</li><li id="cd9e" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw nf lu lv lw bi translated">归一化最终曲线，使其下方的面积等于 1，从而得到概率密度函数。以下是这 3 个步骤的直观示例:</li></ul><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nu"><img src="../Images/1132f222af4245dcb3ef6c93d493df19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0FafUt1gljfgeP5j"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk"><a class="ae ln" href="https://www.wikizeroo.org/index.php?q=aHR0cDovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zL3RodW1iLzQvNDEvQ29tcGFyaXNvbl9vZl8xRF9oaXN0b2dyYW1fYW5kX0tERS5wbmcvODAwcHgtQ29tcGFyaXNvbl9vZl8xRF9oaXN0b2dyYW1fYW5kX0tERS5wbmc" rel="noopener ugc nofollow" target="_blank">Image Source</a>: Histograms and Kernel Density Estimations</figcaption></figure><ul class=""><li id="74bb" class="lo lp it kb b kc kd kg kh kk lq ko lr ks ls kw nf lu lv lw bi translated">你会发现 x 轴上的数据范围和 y 轴上的随机变量的概率密度函数。由<a class="nv nw ep" href="https://medium.com/u/e2f299e30cb9?source=post_page-----a1527a0faf77--------------------------------" rel="noopener" target="_blank">威尔·科尔森</a>在本<a class="ae ln" rel="noopener" target="_blank" href="/histograms-and-density-plots-in-python-f6bda88f5ac0">篇</a>中定义的概率密度函数如下:</li></ul><blockquote class="nx ny nz"><p id="864f" class="jz ka oa kb b kc kd ke kf kg kh ki kj ob kl km kn oc kp kq kr od kt ku kv kw im bi translated">您可能认为密度图上的 y 轴只是不同类别之间的相对比较值。</p></blockquote><p id="83d9" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">幸运的是，您不必记住并手动应用所有这些步骤。Seaborn 的 KDE 绘图函数为您完成所有这些步骤，只需将您的数据框或 Numpy 数组的列传递给它即可！</p><pre class="ky kz la lb gt nk nj nl nm aw nn bi"><span id="ce36" class="no md it nj b gy np nq l nr ns"># set KDE plot, title and labels<br/>ax = sns.kdeplot(df.life_expectancy, shade=True, color=”b”) <br/>plt.title(“KDE Plot of Life Expectancy between 1952 and 2007 in the World”) <br/>plt.ylabel(“Density”)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/6160c1049dd1974d25e50eaac6b59112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*702zIqzwIpNxHEgZGaMEkw.png"/></div></div></figure><p id="37ad" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">如果你想结合直方图和 KDE 图，Seaborn 有另一个很酷的方法在一个图形中显示直方图和 KDE 图:分布图，它绘制 KDE 图，通过改变函数中的<code class="fe ng nh ni nj b">hist </code>参数可以灵活地打开和关闭直方图。</p><pre class="ky kz la lb gt nk nj nl nm aw nn bi"><span id="1686" class="no md it nj b gy np nq l nr ns"># set distribution plot, title and labels<br/>ax = sns.distplot(df.life_expectancy, hist=True, color=”b”)<br/>plt.title(“Distribution Plot of Life Expectancy between 1952 and 2007 in the World”) <br/>plt.ylabel(“Density”)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/63bee30ee63183777e591695e0fbaa44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tqt_sZb0jPjmoHe-kVlhVg.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Distribution plot with histogram and Kernel Density Estimation function</figcaption></figure><p id="8a5a" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">KDE 图也能够显示不同类别之间的分布:</p><pre class="ky kz la lb gt nk nj nl nm aw nn bi"><span id="13c6" class="no md it nj b gy np nq l nr ns"># create list of continents <br/>continents = df[‘continent’].value_counts().index.tolist() </span><span id="c676" class="no md it nj b gy oe nq l nr ns"># set kde plot for each continent <br/>for c in continents: <br/>   subset = df[df[‘continent’] == c]<br/>   sns.kdeplot(subset[“life_expectancy”], label=c, linewidth=2) </span><span id="52bc" class="no md it nj b gy oe nq l nr ns"># set title, x and y labels <br/>plt.title(“KDE Plot of Life Expectancy Among Continents Between 1952 and 2007”) <br/>plt.ylabel(“Density”) <br/>plt.xlabel(“Life Expectancy”)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/108352bdbf970cd924d5a1768493d7ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RxiH7v1yxPw8gH4QZOPhTA.png"/></div></div></figure><p id="5000" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">尽管与直方图相比，KDE 图或分布图需要更多的计算和数学，但通过观察连续的线，更容易理解分布的形态、对称性、偏斜度和中心。一个缺点可能是，缺少关于汇总统计的信息。</p><p id="fb7d" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">如果您希望直观地提供分布的汇总统计数据，那么让我们转到箱线图。</p><h1 id="6d30" class="mc md it bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">3)箱线图</h1><p id="b652" class="pw-post-body-paragraph jz ka it kb b kc na ke kf kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw im bi translated">箱线图显示了包含五个数字的汇总统计数据的数据分布(最小值、第一个四分位数 Q1、第二个四分位数中值、第三个四分位数 Q3、最大值)。下面是绘制它们的步骤:</p><ul class=""><li id="d980" class="lo lp it kb b kc kd kg kh kk lq ko lr ks ls kw nf lu lv lw bi translated">对数据进行排序，以确定最小值、<a class="ae ln" href="https://en.wikipedia.org/wiki/Quartile" rel="noopener ugc nofollow" target="_blank">四分位数</a>(第一、第二和第三)和最大值。</li><li id="623f" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw nf lu lv lw bi translated">在第一个四分位数和第三个四分位数之间画一个方框，然后在对应于中间值的方框中画一条垂直线。</li><li id="c627" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw nf lu lv lw bi translated">在盒子外面画一条水平线，把盒子一分为二，把最小值和最大值放在边上。这些线条将成为你的胡须。</li><li id="ba55" class="lo lp it kb b kc lx kg ly kk lz ko ma ks mb kw nf lu lv lw bi translated">胡须的末端等于数据的最小值和最大值，如果你看到任何数据，放在一边的小菱形被解释为“异常值”。</li></ul><p id="7db0" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">手动创建方框图的步骤很简单，但我更喜欢从 Seaborn 方框图功能中获得一些支持。</p><pre class="ky kz la lb gt nk nj nl nm aw nn bi"><span id="d9c7" class="no md it nj b gy np nq l nr ns"># set the box plot and title <br/>sns.boxplot(x=”life_expectancy”, data=df, palette=”Set3") plt.title(“Boxplot of Life Expectancy between 1952 and 2007 in the World”)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/6460822c1843eb645df8461b1fd41fc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8C98zmWqbT2pNN9zkwGdnA.png"/></div></div></figure><p id="6841" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">有几种不同的方法<a class="ae ln" href="https://discuss.analyticsvidhya.com/t/how-to-calculate-the-length-of-whisker-in-a-box-plot/6969" rel="noopener ugc nofollow" target="_blank"/>来计算胡须的长度，Seaborn box plot 函数默认从第一个和第三个四分位数延伸 1.5 倍的<a class="ae ln" href="https://en.wikipedia.org/wiki/Interquartile_range" rel="noopener ugc nofollow" target="_blank">四分位数间距</a> (IQR)来确定胡须。因此，任何大于 Q3+(1.5*IQR)或小于 Q1-(1.5*IQR)的数据点都将被视为异常值。您可以通过调整<code class="fe ng nh ni nj b">whis </code>参数来改变胡须的计算。</p><p id="3347" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">像 KDE 图一样，箱线图也适合可视化类别间的分布:</p><pre class="ky kz la lb gt nk nj nl nm aw nn bi"><span id="dcd9" class="no md it nj b gy np nq l nr ns"># set the box plot with the ordered continents and title sns.boxplot(x=”continent”, y=”life_expectancy”, data=df,<br/>            palette=”Set3", <br/>            order=[“Africa”, “Asia”, “Americas”, “Europe”,<br/>                   “Oceania”]) <br/>plt.title(“Boxplot of Life Expectancy Among Continents Between 1952 and 2007”)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/450557a3a1576910648a1b6d72efade6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NwO_RbNb8AnY9ZgwSnMU-Q.png"/></div></div></figure><p id="04f3" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">盒状图提供了统计数据的故事，一半的数据在那里，通过观察盒状和须状提供了整个范围的数据。另一方面，你不知道盒子外面的数据的故事。这就是为什么一些科学家发表了一篇关于 boxen 图的论文，被称为扩展盒图。</p><h1 id="591f" class="mc md it bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">4)博兴图</h1><p id="a950" class="pw-post-body-paragraph jz ka it kb b kc na ke kf kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw im bi translated">Boxen 图，或字母值图或扩展盒图，可能是数据分布可视化中最少使用的方法，但它们传达了大型数据集的更多信息。</p><p id="e597" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">要创建一个博森情节，我们先来了解一下什么是字母值汇总。<a class="ae ln" href="https://mgimond.github.io/ES218/Week08b.html" rel="noopener ugc nofollow" target="_blank">字母值汇总</a>是关于连续确定一个排序数据的中间值。</p><p id="07c3" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">首先，确定所有数据的中间值，并创建两个切片。然后，确定这两个切片的中值，并在达到停止标准或不再有数据需要分离时重复这个过程。</p><p id="deb7" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">确定的第一个中间值是中值。在第二次迭代中确定的中间值称为四分之一，在第三次迭代中确定的中间值称为八分之一。</p><p id="8bd5" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">现在让我们画一个方框图，并在方框图之外可视化字母值摘要，而不是胡须。换句话说，绘制一个具有对应于切片中间值(八分之一、十六分之一等等)的延长盒边的盒图..)</p><pre class="ky kz la lb gt nk nj nl nm aw nn bi"><span id="6e67" class="no md it nj b gy np nq l nr ns"># set boxen plot and title <br/>sns.boxenplot(x=”life_expectancy”, data=df,palette=”Set3") plt.title(“Boxenplot of Life Expectancy Among Continents Between 1952 and 2007”)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/cee888275b18d7b78d551be77602828a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H0MB_Oerhm04Ql0Gd4eDVA.png"/></div></div></figure><p id="50b7" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">它们在讲述不同类别的数据故事方面也很有效:</p><pre class="ky kz la lb gt nk nj nl nm aw nn bi"><span id="e049" class="no md it nj b gy np nq l nr ns"># set boxen plot with ordered continents and title sns.boxenplot(x=”continent”, y=”life_expectancy”, data=df,<br/>              palette=”Set3", <br/>              order=[“Africa”, “Asia”, “Americas”, “Europe”,<br/>                     “Oceania”]) <br/>plt.title(“Boxenplot of Life Expectancy Among Continents Between 1952 and 2007”)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/b1fdba83c13ececa1b3f4e15074f5351.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XBNCCABjkBgTTQojd2TXCQ.png"/></div></div></figure><p id="cc27" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">Boxen 图的出现是为了更有效地可视化较大的数据集，它显示了数据在主框之外的分布情况，并更加强调异常值，因为异常值和 IQR 之外的数据在较大的数据集中更为重要。</p><p id="c6ac" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">有两个视角提供了关于数据分布的线索，数据分布的形状和汇总统计。要同时从两个角度解释一个分布，我们先来学煮一些小提琴的剧情。</p><h1 id="b8d1" class="mc md it bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">5)小提琴情节</h1><p id="b15e" class="pw-post-body-paragraph jz ka it kb b kc na ke kf kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw im bi translated">小提琴情节是盒子情节和 KDE 情节的完美结合。他们提供的汇总统计数据内部是箱形图，分布形状的侧面是 KDE 图。</p><p id="59bc" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">这是我最喜欢的图，因为数据表达了所有的细节。你还记得我们之前绘制的预期寿命分布图和汇总统计数据吗？Seaborn violin 的剧情功能现在将为我们融合它。</p><p id="2935" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">瞧啊！</p><pre class="ky kz la lb gt nk nj nl nm aw nn bi"><span id="6f5e" class="no md it nj b gy np nq l nr ns"># set violin plot and title <br/>sns.violinplot(x=”life_expectancy”, data=df, palette=”Set3") plt.title(“Violinplot of Life Expectancy between 1952 and 2007 in the World”)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/1182a6f1a7fbf4988e6c83c64a2d7d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8yZOg6PfB_vqWIh_Eim1Hg.png"/></div></div></figure><p id="efb7" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">你可以通过观察边上的分布来观察 70 左右的数据峰值，通过注意里面细长的方框来观察 50 到 70 之间聚集的一半数据点。</p><p id="2553" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">这些漂亮的小提琴可以用来可视化分类数据，如果您愿意，可以通过更改<code class="fe ng nh ni nj b">inner </code>参数用点、虚线或线条表示汇总统计数据。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/f4696e6f552c174210d0aaf160e90cb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-CJFrSWoMFdo43NcNOhWig.gif"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Violin plots with inner set to quartile, point and stick respectively</figcaption></figure><p id="18d0" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">好处是显而易见的:可视化的形状分布和汇总统计同时进行！</p><p id="a355" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">小提琴剧情加分:</strong>通过设置<code class="fe ng nh ni nj b">scale </code>参数进行计数，还可以显示你在每个类别中有多少数据点，从而强调每个类别的重要性。当我改变<code class="fe ng nh ni nj b">scale</code>的时候，非洲和亚洲扩张了，大洋洲收缩了，结论是大洋洲的数据点较少，而非洲和亚洲的数据点较多。</p><pre class="ky kz la lb gt nk nj nl nm aw nn bi"><span id="3853" class="no md it nj b gy np nq l nr ns"># set the violin plot with different scale, inner parameter and title <br/>sns.violinplot(x=”continent”, y=”life_expectancy”, data=df,<br/>               palette=”Set3", <br/>               order=[“Africa”, “Asia”, “Americas”, “Europe”,<br/>                      “Oceania”], <br/>               inner=None, scale=”count”) <br/>plt.title(“Violinplot of Life Expectancy Among Continents Between 1952 and 2007”)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/467362b95562c4ea5f06a04eb257d40c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ChCwzjyaCHpTy-FMI0DdJA.png"/></div></div></figure><h1 id="2622" class="mc md it bd me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz bi translated">结论</h1><p id="cf31" class="pw-post-body-paragraph jz ka it kb b kc na ke kf kg nb ki kj kk nc km kn ko nd kq kr ks ne ku kv kw im bi translated">所以，这些关于可视化分布的方法解释了每个图背后的核心思想。有很多选项可以显示单变量或单变量分布。</p><p id="95f0" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">直方图、KDE 图和分布图很好地解释了数据形态。此外，分布图可以结合直方图和 KDE 图。</p><p id="176d" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">箱线图和 boxen 图最适合交流汇总统计数据，boxen 图更适合处理大型数据集，而 violin 图则完全胜任。</p><p id="2d71" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">他们都是有效的沟通者，并且每个都可以用 Python 中的 Seaborn 库快速构建。您的可视化选择取决于您的项目(数据集)和您想要传递给观众的信息。如果你对这篇文章感到兴奋并想了解更多，你可以查看一下<a class="ae ln" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Seaborn </a>和<a class="ae ln" href="https://matplotlib.org/3.1.0/gallery/statistics/hist.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>文档。</p></div><div class="ab cl of og hx oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="im in io ip iq"><p id="a2e8" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">最后但同样重要的是，这是我对数据科学的第一篇贡献，我希望你喜欢阅读！我感谢您的建设性反馈，并希望在回复中或在<a class="ae ln" href="https://twitter.com/cereniyim" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上听到您对这篇博文的看法。</p></div></div>    
</body>
</html>