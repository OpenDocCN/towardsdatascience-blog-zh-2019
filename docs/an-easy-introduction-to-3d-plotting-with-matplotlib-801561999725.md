# ä½¿ç”¨ Matplotlib è¿›è¡Œ 3D ç»˜å›¾çš„ç®€å•ä»‹ç»

> åŸæ–‡ï¼š<https://towardsdatascience.com/an-easy-introduction-to-3d-plotting-with-matplotlib-801561999725?source=collection_archive---------1----------------------->

> æƒ³è·å¾—çµæ„Ÿï¼Ÿå¿«æ¥åŠ å…¥æˆ‘çš„ [**è¶…çº§è¡Œæƒ…å¿«è®¯**](https://www.superquotes.co/?utm_source=mediumtech&utm_medium=web&utm_campaign=sharing) ã€‚ğŸ˜

æ¯ä¸ªæ•°æ®ç§‘å­¦å®¶éƒ½åº”è¯¥çŸ¥é“å¦‚ä½•åˆ›å»ºæœ‰æ•ˆçš„æ•°æ®å¯è§†åŒ–ã€‚æ²¡æœ‰è§‚æƒ³ï¼Œä½ å°†ä¼šè¢«å›°åœ¨è¯•å›¾å¤„ç†æ•°å­—å’Œåœ¨ä½ çš„å¤´è„‘ä¸­æƒ³è±¡æˆåƒä¸Šä¸‡çš„æ•°æ®ç‚¹ï¼

é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜æ˜¯ä¸éæŠ€æœ¯ä¸šåŠ¡åˆ©ç›Šç›¸å…³è€…è¿›è¡Œæœ‰æ•ˆæ²Ÿé€šçš„é‡è¦å·¥å…·ï¼Œè¿™äº›åˆ©ç›Šç›¸å…³è€…é€šè¿‡å›¾ç‰‡è€Œéæ–‡å­—æ›´å®¹æ˜“ç†è§£æ‚¨çš„ç»“æœã€‚

å¤§å¤šæ•°æ•°æ®å¯è§†åŒ–æ•™ç¨‹éƒ½å±•ç¤ºäº†ç›¸åŒçš„åŸºæœ¬å†…å®¹:æ•£ç‚¹å›¾ã€çº¿å›¾ã€ç®±çº¿å›¾ã€æ¡å½¢å›¾å’Œçƒ­å›¾ã€‚è¿™äº›å¯¹äºå¿«é€Ÿè·å¾—å¯¹æ•°æ®é›†çš„é«˜å±‚æ¬¡æ´å¯Ÿéƒ½æ˜¯éå¸¸æ£’çš„ã€‚

ä½†æ˜¯å¦‚æœæˆ‘ä»¬æ›´è¿›ä¸€æ­¥ã€‚2D å›¾åªèƒ½æ˜¾ç¤ºä¸€å¯¹è½´ *x* - *y* ä¹‹é—´çš„å…³ç³»ï¼›å¦ä¸€æ–¹é¢ï¼Œ3D ç»˜å›¾å…è®¸æˆ‘ä»¬æ¢ç´¢ *3 å¯¹è½´*çš„å…³ç³»: *x* - *y* ã€ *x* - *z* å’Œ *y* - *z* ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨ç®€å•ä»‹ç»å¦‚ä½•ä½¿ç”¨ Matplotlib å®ç° 3D æ•°æ®å¯è§†åŒ–ã€‚æœ€ç»ˆï¼Œæ‚¨å°†èƒ½å¤Ÿå°† 3D ç»˜å›¾æ·»åŠ åˆ°æ‚¨çš„æ•°æ®ç§‘å­¦å·¥å…·åŒ…ä¸­ï¼

åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œè¯·æŸ¥çœ‹ [***äººå·¥æ™ºèƒ½æ™ºèƒ½ç®€è®¯***](https://aismart.substack.com/subscribe)*ä»¥é˜…è¯»äººå·¥æ™ºèƒ½ã€æœºå™¨å­¦ä¹ å’Œæ•°æ®ç§‘å­¦æ–¹é¢çš„æœ€æ–°å’Œæœ€æ£’çš„ä¿¡æ¯ï¼*

# *ä¸‰ç»´æ•£ç‚¹å›¾å’ŒæŠ˜çº¿å›¾*

*Matplotlib ä¸­çš„ 3D ç»˜å›¾ä»å¯ç”¨å®ç”¨å·¥å…·åŒ…å¼€å§‹ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¼å…¥`mplot3d`åº“æ¥å¯ç”¨è¿™ä¸ªå·¥å…·åŒ…ï¼Œè¿™ä¸ªåº“é€šè¿‡ pip ä¸æ‚¨çš„æ ‡å‡† Matplotlib å®‰è£…ä¸€èµ·æä¾›ã€‚åªæ˜¯è¦ç¡®ä¿ä½ çš„ Matplotlib ç‰ˆæœ¬æ˜¯ 1.0 ä»¥ä¸Šã€‚*

*å¯¼å…¥è¯¥å­æ¨¡å—åï¼Œå¯é€šè¿‡å°†å…³é”®å­—`projection="3d"`ä¼ é€’ç»™ Matplotlib ä¸­çš„ä»»ä½•å¸¸è§„è½´åˆ›å»ºå‡½æ•°æ¥åˆ›å»º 3D å›¾:*

```
**from* mpl_toolkits *import* mplot3d

*import* numpy *as* np
*import* matplotlib.pyplot *as* plt

fig = plt.figure()
ax = plt.axes(projection="3d")

plt.show()*
```

*![](img/71c0e95be986dba3dadb2c8ed2de4623.png)*

*ç°åœ¨æˆ‘ä»¬çš„è½´å·²ç»åˆ›å»ºå¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹ 3D ç»˜å›¾äº†ã€‚3D ç»˜å›¾åŠŸèƒ½éå¸¸ç›´è§‚:æˆ‘ä»¬ä¸ä»…ä»…è°ƒç”¨`scatter`è€Œæ˜¯è°ƒç”¨`scatter3D`ï¼Œä¸ä»…ä»…ä¼ é€’ *x* å’Œ *y* æ•°æ®ï¼Œè€Œæ˜¯ä¼ é€’ *x* ã€ *y* å’Œ *z* ã€‚æ‰€æœ‰å…¶ä»–åŠŸèƒ½è®¾ç½®ï¼Œå¦‚é¢œè‰²å’Œçº¿å‹ï¼Œä¸ 2D ç»˜å›¾åŠŸèƒ½ä¿æŒä¸€è‡´ã€‚*

*è¿™æ˜¯ä¸€ä¸ªç»˜åˆ¶ 3D çº¿å’Œ 3D ç‚¹çš„ç¤ºä¾‹ã€‚*

```
*fig = plt.figure()
ax = plt.axes(projection="3d")

z_line = np.linspace(0, 15, 1000)
x_line = np.cos(z_line)
y_line = np.sin(z_line)
ax.plot3D(x_line, y_line, z_line, 'gray')

z_points = 15 * np.random.random(100)
x_points = np.cos(z_points) + 0.1 * np.random.randn(100)
y_points = np.sin(z_points) + 0.1 * np.random.randn(100)
ax.scatter3D(x_points, y_points, z_points, c=z_points, cmap='hsv');

plt.show()*
```

*![](img/bfa23788f10c8f0af39b2148dadc43a9.png)*

*ä¸‹é¢æ˜¯ 3D ç»˜å›¾æœ€æ£’çš„éƒ¨åˆ†:**äº¤äº’æ€§**ã€‚ä¸€æ—¦ä½ åœ¨ 3D ä¸­ç»˜å›¾ï¼Œç»˜å›¾çš„äº¤äº’æ€§å¯¹äºæ¢ç´¢ä½ çš„å¯è§†åŒ–æ•°æ®å˜å¾—éå¸¸æœ‰ç”¨ã€‚æŸ¥çœ‹æˆ‘é€šè¿‡ç®€å•çš„ç‚¹å‡»å’Œæ‹–åŠ¨åˆ›å»ºçš„ä¸€äº›ä¸åŒçš„è§†å›¾ï¼*

*![](img/a6b77f5bef2ad5b31bcb6eab9f95da78.png)**![](img/99e4b6b1b355c19f21e709fc6a76a206.png)**![](img/a07ea9639d06f6331c71b18681cc41ba.png)*

# *è¡¨é¢å›¾*

*è¡¨é¢å›¾å¯ä»¥å¾ˆå¥½åœ°æ˜¾ç¤ºæ•´ä¸ª 3D æ™¯è§‚ä¸­ 3 ä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»ã€‚å®ƒä»¬ç»™å‡ºäº†ä¸€ä¸ªå®Œæ•´çš„ç»“æ„å’Œè§†å›¾ï¼Œæ˜¾ç¤ºäº†æ¯ä¸ªå˜é‡çš„å€¼å¦‚ä½•åœ¨å…¶ä»–ä¸¤ä¸ªå˜é‡çš„è½´ä¸Šå˜åŒ–ã€‚*

*åœ¨ Matplotlib ä¸­æ„å»ºæ›²é¢å›¾éœ€è¦ä¸‰ä¸ªæ­¥éª¤ã€‚*

*(1)é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆæ„æˆè¡¨é¢å›¾çš„å®é™…ç‚¹ã€‚ç°åœ¨ï¼Œç”Ÿæˆ 3D è¡¨é¢çš„æ‰€æœ‰*ç‚¹æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºå®ƒä»¬çš„æ•°é‡æ˜¯æ— é™çš„ï¼å› æ­¤ï¼Œæˆ‘ä»¬å°†ç”Ÿæˆè¶³ä»¥ä¼°è®¡è¡¨é¢çš„æ•°æ®ï¼Œç„¶åå¤–æ¨å…¶ä½™çš„ç‚¹ã€‚æˆ‘ä»¬å°†å®šä¹‰ *x* å’Œ *y* ç‚¹ï¼Œç„¶åä½¿ç”¨å‡½æ•°è®¡ç®— *z* ç‚¹ã€‚**

```
*fig = plt.figure()
ax = plt.axes(projection="3d")*def* z_function(*x*, *y*):
    *return* np.sin(np.sqrt(*x* ** 2 + *y* ** 2))

x = np.linspace(-6, 6, 30)
y = np.linspace(-6, 6, 30)

X, Y = np.meshgrid(x, y)
Z = z_function(X, Y)*
```

*(2)ç¬¬äºŒæ­¥æ˜¯ç»˜åˆ¶ä¸€ä¸ªçº¿æ¡†â€”â€”è¿™æ˜¯æˆ‘ä»¬å¯¹è¡¨é¢çš„ä¼°è®¡ã€‚*

```
*fig = plt.figure()
ax = plt.axes(projection="3d")ax.plot_wireframe(X, Y, Z, color='green')
ax.set_xlabel('x')
ax.set_ylabel('y')
ax.set_zlabel('z')

plt.show()*
```

*![](img/2c01810359e660a1db47609b37345fdc.png)**![](img/5d93bf390803cf3c7e202a8d7671d84f.png)**![](img/f34c6c05282bf2af5fa853d40bd85bc2.png)*

*(3)æœ€åï¼Œæˆ‘ä»¬å°†æŠŠæˆ‘ä»¬çš„è¡¨é¢æŠ•å½±åˆ°æˆ‘ä»¬çš„çº¿æ¡†ä¼°è®¡ä¸Šï¼Œå¹¶å¤–æ¨æ‰€æœ‰ç‚¹ã€‚*

```
*ax = plt.axes(projection='3d')
ax.plot_surface(X, Y, Z, rstride=1, cstride=1,
                cmap='winter', edgecolor='none')
ax.set_title('surface');*
```

*![](img/11117c0a9f28b55767f555772a2c887d.png)**![](img/050b9355169ce815651448adc4dc05c8.png)**![](img/e5a87e3f588304463c99d35aa5619580.png)*

*ç¾å¥³ï¼è¿™æ˜¯æˆ‘ä»¬ä¸°å¯Œå¤šå½©çš„ 3D è¡¨é¢ï¼*

# *ä¸‰ç»´æ¡å½¢å›¾*

*æŸ±çŠ¶å›¾åœ¨æ•°æ®å¯è§†åŒ–é¡¹ç›®ä¸­ç»å¸¸ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä»¬èƒ½å¤Ÿä»¥ç®€å•ç›´è§‚çš„æ–¹å¼ä¼ è¾¾ä¿¡æ¯ï¼Œé€šå¸¸æ˜¯æŸç§ç±»å‹çš„æ¯”è¾ƒã€‚ä¸‰ç»´æ¡å½¢å›¾çš„ç¾å¦™ä¹‹å¤„åœ¨äºï¼Œå®ƒä»¬ä¿æŒäº† 2D æ¡å½¢å›¾çš„ç®€å•æ€§ï¼ŒåŒæ—¶æ‰©å±•äº†å…¶è¡¨ç¤ºæ¯”è¾ƒä¿¡æ¯çš„èƒ½åŠ›ã€‚*

*æ¡å½¢å›¾ä¸­çš„æ¯ä¸€æ¡éƒ½éœ€è¦ 2 æ ·ä¸œè¥¿:ä½ç½®å’Œå¤§å°ã€‚å¯¹äº 3D æ¡å½¢å›¾ï¼Œæˆ‘ä»¬å°†ä¸ºæ‰€æœ‰ä¸‰ä¸ªå˜é‡ *xï¼Œyï¼Œz* æä¾›è¯¥ä¿¡æ¯ã€‚*

*æˆ‘ä»¬å°†é€‰æ‹© *z* è½´æ¥ç¼–ç æ¯ä¸ªæ¡å½¢çš„é«˜åº¦ï¼›å› æ­¤ï¼Œæ¯ä¸ªæ¡å½¢å°†ä» *z = 0* å¼€å§‹ï¼Œå…¶å¤§å°ä¸æˆ‘ä»¬è¯•å›¾æ˜¾ç¤ºçš„å€¼æˆæ¯”ä¾‹ã€‚ *x* å’Œ *y* ä½ç½®å°†ä»£è¡¨æ¨ªè¿‡ *z = 0 çš„ 2D å¹³é¢çš„æ†çš„åæ ‡ã€‚*æˆ‘ä»¬å°†æŠŠæ¯ä¸ªæ¡å½¢çš„ *x* å’Œ *y* å°ºå¯¸è®¾ç½®ä¸º 1ï¼Œè¿™æ ·æ‰€æœ‰çš„æ¡å½¢éƒ½å…·æœ‰ç›¸åŒçš„å½¢çŠ¶ã€‚*

*æŸ¥çœ‹ä¸‹é¢çš„ä»£ç å’Œ 3D å›¾ä½œä¸ºç¤ºä¾‹ï¼*

```
*fig = plt.figure()
ax = plt.axes(projection="3d")

num_bars = 15
x_pos = random.sample(xrange(20), num_bars)
y_pos = random.sample(xrange(20), num_bars)
z_pos = [0] * num_bars
x_size = np.ones(num_bars)
y_size = np.ones(num_bars)
z_size = random.sample(xrange(20), num_bars)

ax.bar3d(x_pos, y_pos, z_pos, x_size, y_size, z_size, color='aqua')
plt.show()*
```

*![](img/e385161721ff960db35641d64e374f55.png)**![](img/3de35573e3a7c49f6c9e23d496c4b259.png)**![](img/413a7f21d4ef08b285a7e54861369085.png)*