<html>
<head>
<title>Basics: Virtual Environment In Anaconda With Tensorflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基础知识:使用 Tensorflow 在 Anaconda 中创建虚拟环境</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/basics-virtual-environment-in-anaconda-with-tensorflow-aecb60fb56ab?source=collection_archive---------18-----------------------#2019-11-26">https://towardsdatascience.com/basics-virtual-environment-in-anaconda-with-tensorflow-aecb60fb56ab?source=collection_archive---------18-----------------------#2019-11-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/33c98976106dc938a4faf42d61f2d7c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WdDVVdMqGNf42EkK"/></div></div></figure><p id="7b19" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为您的机器和深度学习模型创建一个虚拟环境是保护它们的一个重要的主动步骤。这个隔离的内存空间将允许使用同一个包的不同版本。发生的更新将被严格管理和手动更新。让我们创建一个机器和深度学习虚拟 python 环境设置。</p><h1 id="69a1" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">蟒蛇</h1><p id="9682" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">如果您没有 Anaconda，请下载并安装最新版本。否则，继续更新 conda 和目前它里面的所有包。</p><h1 id="c57f" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">安装 Anaconda</h1><p id="9f86" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">前往<a class="ae lz" href="https://anaconda.com/distribution" rel="noopener ugc nofollow" target="_blank">https://anaconda.com/distribution</a>。页面中间是基于 Python 版本的安装程序选项。挑选你的毒药，安装在你喜欢的地方。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/c1137dc3fd8c2a875e750a3e3281111e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/0*z1jbBW16mzeV0bzX"/></div></figure><p id="197b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我会推荐安装 Python 3.7。Python 2.7 不再维护。已经“退休”了。</p><h1 id="ae5f" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">更新 Conda</h1><p id="957b" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">康达是巨蟒之首。它是一个开源的软件包管理系统和环境管理系统，用于安装多个版本的软件包..“就像您应该更新 pip 一样，conda 也经常需要更新。当我们这样做的时候，并且对你的其他项目来说是安全的，我们将在此刻更新 Anaconda 中的所有包。</p><p id="3e9c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为此，打开 Anaconda Powershell 提示符。键入以下内容:conda update conda。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/df175ef79bcea277a97e8fbc7ccce763.png" data-original-src="https://miro.medium.com/v2/resize:fit:310/format:webp/0*4FwjG-tq4we-uEsH.png"/></div></figure><p id="1415" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在某些时候，系统会提示您说是或否，以越过不可返回的点。如果你准备好了，按“y”键，让它继续。一旦完成，让我们更新所有当前安装的软件包。使用以下命令:conda update -all。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/65cd35c3c9a1a3c48ef341955644ff2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:310/format:webp/0*m48_F7qKCjUHBJCS.png"/></div></figure><p id="2028" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将有相同的“是”或“否”提示。</p><h1 id="d6d4" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">第二步:GPU 利用率</h1><p id="72af" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">这一步绝对是可选的。如果你有一个可以被 NVIDIA 的 cuDNN 和 CUDA 使用的 GPU，那就去用吧。<a class="ae lz" href="https://www.geforce.com/hardware/technology/cuda/supported-gpus" rel="noopener ugc nofollow" target="_blank">这里</a>是支持 CUDA 的 GPU 列表。</p><h1 id="fec6" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">库达</h1><p id="7ded" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><a class="ae lz" href="https://blogs.nvidia.com/blog/2012/09/10/what-is-cuda-2/" rel="noopener ugc nofollow" target="_blank"> CUDA </a>是一种简化 GPU 利用的计算和编程模型。要下载，请单击<a class="ae lz" href="https://developer.nvidia.com/cuda-downloads?target_os=Windows&amp;target_arch=x86_64" rel="noopener ugc nofollow" target="_blank">此处</a>并为您的电脑选择合适的选项。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/d83217b25696138dbff56b296beacf51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CnxqR4ewZJb6Q9Bi.png"/></div></div></figure><p id="7f16" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦您选择了适当的选项，正确的安装程序将会出现。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/5c694bf6bf6c14eec80bc2be0e973e3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5XclWWlj0fK7tpte.png"/></div></div></figure><p id="bbfb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本文中，10.2.89 版不需要任何补丁。如果您要安装的版本有修补程序，请确保在基本安装程序之后安装这些修补程序。</p><p id="581b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击下载按钮并安装 CUDA。这将需要几分钟的时间，但是您可以使用安装程序中的默认选项。</p><h1 id="66a5" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">cuDNN</h1><p id="26fd" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">cuDNN 是 CUDA 深度神经网络库的简称。它类似于最初的 CUDA，但正如其名称所示，它是用于深度神经网络的。</p><p id="9658" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要下载，你需要创建一个<a class="ae lz" href="https://developer.nvidia.com/cudnn" rel="noopener ugc nofollow" target="_blank"> NVIDIA 的开发者</a>账户。做起来很简单。一旦你创建了一个帐户，继续下载最新版本。下载文件将是一个 zip 文件夹。将它解压缩到计算机的 C:驱动器，然后将其添加到环境路径中。</p><h2 id="0c8f" class="mh kx iq bd ky mi mj dn lc mk ml dp lg kj mm mn lk kn mo mp lo kr mq mr ls ms bi translated">环境路径</h2><p id="b3f5" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">通过按 Win + R 打开“运行”窗口。要访问系统属性，您需要打开“sysdm.cpl”。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/67fd192ac90f99fdc223d873b8ba1275.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/0*NGoAK-l1KVH3Ku9B.png"/></div></figure><p id="628c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击“确定”,然后系统属性窗口将会打开。点击“高级”标签，然后点击底部附近的环境标签按钮。在系统变量框下，有一个“新建”按钮，按一下。你可以给这个变量起任何你喜欢的名字，它的值将会是 cudnn 文件夹中 bin 文件夹的路径。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/709ac05b3355a6c5b831ce57f398a3f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/0*SWTcV_gx69BhDfTP.png"/></div></figure><h1 id="bd1a" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">步骤 3:创建虚拟环境</h1><p id="5154" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">要创建虚拟环境，您将使用以下命令结构:conda create-n env _ name pip python = version。因此，env_name 是您将赋予环境的名称，python=version 是您将使用的 python 版本。我们将继续创建一个名为 virtEnv 的环境，版本为 3.7。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/00719072d85511a1a94d04d4e20b111f.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/0*kG5Roiiv1PNWqdgb.png"/></div></figure><p id="d4db" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在某个时候，系统会提示您按 y 或 n 继续创建。准备好了就按“y”键。</p><p id="cc0b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦创建了虚拟环境，我们就可以激活它了！为此，请使用命令 conda activate env_name。在我们的情况下，这将是康达激活 virtEnv。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/eed16375dc5d0f148c3fb08ec461405f.png" data-original-src="https://miro.medium.com/v2/resize:fit:372/format:webp/0*KwySKFYJk4nC2Plf.png"/></div></figure><p id="5994" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">提示符应该从(base)变为(virtEnv)或您为环境命名的任何名称。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/db3e393803e1548e03c375d22f470888.png" data-original-src="https://miro.medium.com/v2/resize:fit:246/format:webp/0*eLa_y6MWttqs5EAi.png"/></div></figure><h1 id="e93d" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">步骤 4:安装必要的库</h1><p id="a067" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">既然虚拟环境已经激活，我们就可以安装库了。这些库可以是项目所需的任何版本。对于这种环境，我们将安装 Tensorflow。因为我们在利用自己的 GPU 优势，所以会安装 Tensorflow 的 GPU 版本。如果您不想要那个版本，就放弃调用的'-gpu '部分。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi my"><img src="../Images/59b9e6252bca27def096228f115896b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:472/format:webp/0*afCxIudCzYTioJVY.png"/></div></figure><p id="51c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将安装 Tensorflow 2.0 及其所有依赖项。这可能需要一段时间。</p><h1 id="d34a" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">步骤 5:检查 Tensorflow 是否已安装</h1><p id="9e10" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">我们快完成了！只差一步了。我们需要检查 Tensorflow 是否安装正确。通过在 Powershell 中键入“python”来打开解释器。当解释器打开时，它将显示您正在使用的 python 版本以及下面的&gt; &gt; &gt;。那是我们将要打字的地方。</p><p id="881f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一行我们将使用“导入张量流为 tf”来导入张量流。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/36e5c83f0c12086bac60b40fc47ed1e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/format:webp/0*LKtschqI5YCh0LIY.png"/></div></figure><p id="0cb7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，我们将打印带有' print(tf。__ 版本 _ _)。如果成功，版本号将出现在下面。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/6ef6cee12b9e2971eafd5226f40d24a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:404/format:webp/0*hsIedRxCcU9I43Sc.png"/></div></div></figure><p id="e2b6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果一切正常，按 ctrl+z 退出解释器。至此，您已经准备好在新创建的虚拟环境中创建项目了！</p><h1 id="2e3c" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">虚拟</h1><p id="8554" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">好吧，我们可以解决房间里的大象。还有一个不涉及 Anaconda 的选项。Python 有一个名为 virtualenv 的库，用于为 python 项目创建虚拟环境。根据您使用的 python 版本，您可能需要也可能不需要安装 virtualenv 库。如果您正在使用 Python 2，那么您将需要使用 pip 来安装 virtualenv，然后创建一个新目录。在 Python 3 中，venv 模块是一个标准库，您只需要创建并激活环境。</p><h1 id="1cd7" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">虚拟环境管理</h1><p id="487c" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated">现在我们有了一个虚拟环境，您可能想要创建更多。在这一点上，它可以成为一个集群…乱七八糟。以下是一些有助于管理虚拟环境和保持头脑清醒的有用命令:</p><h1 id="6d88" class="kw kx iq bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">虚拟环境命令</h1><p id="0955" class="pw-post-body-paragraph jy jz iq ka b kb lu kd ke kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv ij bi translated"><strong class="ka ir">查看您电脑上的环境</strong>:(两者做同样的事情)</p><ul class=""><li id="653f" class="nb nc iq ka b kb kc kf kg kj nd kn ne kr nf kv ng nh ni nj bi translated">康达信息-envs</li><li id="2eb7" class="nb nc iq ka b kb nk kf nl kj nm kn nn kr no kv ng nh ni nj bi translated">康达环境列表</li></ul><p id="5811" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">查看某环境下安装的软件包列表</strong>:</p><ul class=""><li id="a894" class="nb nc iq ka b kb kc kf kg kj nd kn ne kr nf kv ng nh ni nj bi translated"><strong class="ka ir">当前未激活的环境</strong> : conda list -n env_name</li><li id="6576" class="nb nc iq ka b kb nk kf nl kj nm kn nn kr no kv ng nh ni nj bi translated"><strong class="ka ir">当前激活的环境</strong> : conda 列表</li></ul><p id="9984" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">查看是否安装了某个包</strong> : (env_name 是您的环境名，package_name 是您查询的包。)</p><ul class=""><li id="acb2" class="nb nc iq ka b kb kc kf kg kj nd kn ne kr nf kv ng nh ni nj bi translated">conda list -n 环境名称包名称</li></ul><p id="3bf7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">启动环境</strong>:</p><ul class=""><li id="a109" class="nb nc iq ka b kb kc kf kg kj nd kn ne kr nf kv ng nh ni nj bi translated">conda 激活环境名称</li></ul><p id="c053" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">停止环境</strong>:</p><ul class=""><li id="25a4" class="nb nc iq ka b kb kc kf kg kj nd kn ne kr nf kv ng nh ni nj bi translated">康达停用</li></ul><p id="04f0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">移除环境</strong>:</p><ul class=""><li id="e05b" class="nb nc iq ka b kb kc kf kg kj nd kn ne kr nf kv ng nh ni nj bi translated">conda 环境移除-n 环境名称</li></ul><p id="46d8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">既然您的工具箱中已经有了虚拟环境技能，现在您可以创建许多不同的项目。都是相互独立的包版本！甚至是那些可以利用神经网络的，你可以在<a class="ae lz" rel="noopener" target="_blank" href="/neural-networks-basics-29cc093b82be">基础:神经网络</a>帖子中了解到。</p><p id="b94c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们重新学习之前，</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/6a2258d33dec0b184c9fbab1417d75e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/0*FInb90YmfP1hsHtW.png"/></div></figure></div></div>    
</body>
</html>