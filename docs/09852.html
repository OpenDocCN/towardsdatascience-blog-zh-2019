<html>
<head>
<title>How to Use Progress Bars in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Python 中使用进度条</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/learning-to-use-progress-bars-in-python-2dc436de81e5?source=collection_archive---------3-----------------------#2019-12-26">https://towardsdatascience.com/learning-to-use-progress-bars-in-python-2dc436de81e5?source=collection_archive---------3-----------------------#2019-12-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bcb3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">4 个不同库的介绍(命令行和用户界面)</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f86b50a37d1eebba351acc736b298337.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BtQKHOPb8KA43HzK"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@arget?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arget</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/532fbd0fc6fc44400c146f06317f40c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*JAQfXWEmuu-9Cvvd5LZPpg.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Types of bars from ProgressBar (gif from the library’s page)</figcaption></figure><h1 id="4f93" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">进度条太棒了</h1><p id="204b" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">进度条是一个可视化的表示，表示一个过程还剩下多长时间才能完成。它们让您不必担心进程是否已经挂起，或者试图预测您的代码进展如何。您可以实时直观地看到脚本的进展情况！</p><p id="5b38" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">如果你以前从未想过或使用过进度条，很容易认为它们会给你的代码增加不必要的复杂性，并且很难维护。这与事实相去甚远。在短短几行代码中，我们将看到如何在命令行脚本和 PySimpleGUI UIs 中添加进度条。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="b5c7" class="la lb it bd lc ld na lf lg lh nb lj lk jz nc ka lm kc nd kd lo kf ne kg lq lr bi translated">使用进度</h1><p id="f943" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">第一个要回顾的 python 库是<em class="nf"> Progress。</em></p><p id="48b3" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">你需要做的就是定义你期望做的迭代次数，bar 的类型，并在每次迭代时让 bar 知道。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="8be9" class="nl lb it nh b gy nm nn l no np">import time<br/>from progress.bar import IncrementalBar</span><span id="b421" class="nl lb it nh b gy nq nn l no np">mylist = [1,2,3,4,5,6,7,8]</span><span id="84a1" class="nl lb it nh b gy nq nn l no np">bar = IncrementalBar('Countdown', max = len(mylist))</span><span id="168c" class="nl lb it nh b gy nq nn l no np">for item in mylist:<br/>    bar.next()<br/>    time.sleep(1)</span><span id="cdfd" class="nl lb it nh b gy nq nn l no np">bar.finish()</span></pre><p id="ae9c" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">返回:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/9e1ce59b2d2d1656672450b46d408be6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*usScpX_12czha4AG24sqrw.gif"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Incremental Bar of Progressbar</figcaption></figure><p id="daa1" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">如果你不喜欢进度条的格式，有很多供你选择:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/532fbd0fc6fc44400c146f06317f40c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*JAQfXWEmuu-9Cvvd5LZPpg.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Types of bars from ProgressBar (gif from the library’s page)</figcaption></figure><p id="c14b" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">别忘了查看他们的<a class="ae ky" href="https://pypi.org/project/progress/1.5/" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="e38a" class="la lb it bd lc ld na lf lg lh nb lj lk jz nc ka lm kc nd kd lo kf ne kg lq lr bi translated">使用 tqdm</h1><p id="d907" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">在我们的评论中，下一个是<em class="nf"> tqdm </em>库。</p><blockquote class="ns"><p id="6399" class="nt nu it bd nv nw nx ny nz oa ob mn dk translated">Python 和 CLI 的快速、可扩展进度条</p></blockquote><p id="db80" class="pw-post-body-paragraph ls lt it lu b lv oc ju lx ly od jx ma mb oe md me mf of mh mi mj og ml mm mn im bi translated">就像前面的库一样，我们已经看到，通过几行代码我们可以引入一个进度条。在设置方面只有一点不同:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="fe0f" class="nl lb it nh b gy nm nn l no np">import time<br/>from tqdm import tqdm</span><span id="159e" class="nl lb it nh b gy nq nn l no np">mylist = [1,2,3,4,5,6,7,8]</span><span id="3bd8" class="nl lb it nh b gy nq nn l no np">for i in tqdm(mylist):<br/>    time.sleep(1)</span></pre><p id="7bdb" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">给了我们:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/06236d24bd7eafe2b095aa2ca5fbecdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*-dDa1EurOdi6bQn20kk6-g.gif"/></div></div></figure><p id="7be4" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">和以前一样，酒吧也有一些选择。务必检查<a class="ae ky" href="https://github.com/tqdm/tqdm" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="e85e" class="la lb it bd lc ld na lf lg lh nb lj lk jz nc ka lm kc nd kd lo kf ne kg lq lr bi translated">使用实时进度</h1><p id="835e" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">顾名思义，这个库试图让进度条活起来。它比我们之前看到的进度条多了一些动画。然而，就代码而言，它们非常相似:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="4ffb" class="nl lb it nh b gy nm nn l no np">from alive_progress import alive_bar<br/>import time</span><span id="52bd" class="nl lb it nh b gy nq nn l no np">mylist = [1,2,3,4,5,6,7,8]</span><span id="f985" class="nl lb it nh b gy nq nn l no np">with alive_bar(len(mylist)) as bar:<br/>    for i in mylist:<br/>        bar()<br/>        time.sleep(1)</span></pre><p id="460f" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">酒吧看起来像预期的那样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/b73d67a6c1e787438de2d21a18837fa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*JNtR3GIui44TbscV3eObZA.gif"/></div></div></figure><p id="56ca" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">再一次，不要忘记探索图书馆的<a class="ae ky" href="https://github.com/rsalmei/alive-progress" rel="noopener ugc nofollow" target="_blank">不同特性</a>。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="b3bf" class="la lb it bd lc ld na lf lg lh nb lj lk jz nc ka lm kc nd kd lo kf ne kg lq lr bi translated">使用 PySimpleGUI 的图形进度条</h1><p id="3b9f" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">本着我们到目前为止所看到的同样的精神，我们可以添加一行代码来获得命令行脚本的图形化进度条。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/b88824829d058428be6b177f33871839.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Z8hHu8hT1DLapcHtk1MgfQ.gif"/></div></div></figure><p id="793d" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">为了实现上述目标，我们需要的是:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="f500" class="nl lb it nh b gy nm nn l no np">import PySimpleGUI as sg<br/>import time</span><span id="6c03" class="nl lb it nh b gy nq nn l no np">mylist = [1,2,3,4,5,6,7,8]</span><span id="b51f" class="nl lb it nh b gy nq nn l no np">for i, item in enumerate(mylist):<br/>    sg.one_line_progress_meter('This is my progress meter!', i+1, len(mylist), '-key-')<br/>    time.sleep(1)</span></pre><p id="c0f8" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated"><em class="nf">感谢</em> <a class="oi oj ep" href="https://medium.com/u/bc85c7e63ea3?source=post_page-----2dc436de81e5--------------------------------" rel="noopener" target="_blank"> <em class="nf">麦克</em> </a> <em class="nf">指出这一点！</em></p><h1 id="74dc" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">PySimpleGUI 应用程序中的进度条</h1><p id="cd2f" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">如果你一直关注我最近的博客，我们探索了如何<a class="ae ky" rel="noopener" target="_blank" href="/learn-how-to-quickly-create-uis-in-python-a97ae1394d5">快速启动 Python UI</a>，然后我们构建了一个带有 UI 的<a class="ae ky" rel="noopener" target="_blank" href="/building-a-python-ui-for-comparing-data-13c10693d9e4">比较工具。为了继续我们的学习之旅，今天我们将探讨如何集成一个进度条。</a></p><p id="3256" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">用户界面:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/496fed05d6826193da1b5d3d902b52e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*HZJWd7lyHDOR24BMXaxfbA.gif"/></div></div></figure><p id="ccaa" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">代码:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="2e74" class="nl lb it nh b gy nm nn l no np">import PySimpleGUI as sg<br/>import time</span><span id="f872" class="nl lb it nh b gy nq nn l no np">mylist = [1,2,3,4,5,6,7,8]</span><span id="566e" class="nl lb it nh b gy nq nn l no np">progressbar = [<br/>    [sg.ProgressBar(len(mylist), orientation='h', size=(51, 10), key='progressbar')]<br/>]<br/>outputwin = [<br/>    [sg.Output(size=(78,20))]<br/>]</span><span id="c230" class="nl lb it nh b gy nq nn l no np">layout = [<br/>    [sg.Frame('Progress',layout= progressbar)],<br/>    [sg.Frame('Output', layout = outputwin)],<br/>    [sg.Submit('Start'),sg.Cancel()]<br/>]</span><span id="cb2f" class="nl lb it nh b gy nq nn l no np">window = sg.Window('Custom Progress Meter', layout)<br/>progress_bar = window['progressbar']</span><span id="1075" class="nl lb it nh b gy nq nn l no np">while True:<br/>    event, values = window.read(timeout=10)<br/>    if event == 'Cancel'  or event is None:<br/>        break<br/>    elif event == 'Start':<br/>        for i,item in enumerate(mylist):<br/>            print(item)<br/>            time.sleep(1)<br/>            progress_bar.UpdateBar(i + 1)</span><span id="664a" class="nl lb it nh b gy nq nn l no np">window.close()</span></pre></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="4276" class="la lb it bd lc ld na lf lg lh nb lj lk jz nc ka lm kc nd kd lo kf ne kg lq lr bi translated">结论</h1><p id="86fb" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">伙计们，这就是了！只需几行代码，您就可以在 python 脚本中实现进度条！这没什么太复杂的，你不必再猜测你的剧本进展如何了！</p><p id="a0ad" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">希望你觉得这有用！</p></div></div>    
</body>
</html>