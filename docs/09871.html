<html>
<head>
<title>Reproducible Data Science using Kaggle and GitHub Actions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Kaggle 和 GitHub 操作的可再现数据科学</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/reproducible-data-science-using-kaggle-and-github-actions-b0d78380bf8e?source=collection_archive---------22-----------------------#2019-12-26">https://towardsdatascience.com/reproducible-data-science-using-kaggle-and-github-actions-b0d78380bf8e?source=collection_archive---------22-----------------------#2019-12-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4f39" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">本教程演示了如何将 Kaggle 与 GitHub 操作集成在一起，以便更好地再现数据科学项目。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6fe7bc50a3fbf92324279b43733a2e73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JYjYc3aqH6hpFDoKHWS2LQ.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Reproducibility means hitting the right target, every time (Photo by <a class="ae ky" href="https://unsplash.com/@snxiiy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Oliver Buchmann</a> on <a class="ae ky" href="https://unsplash.com/s/photos/bullseye?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a>)</figcaption></figure><p id="a8e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随着数据科学中出现的<a class="ae ky" rel="noopener" target="_blank" href="/data-sciences-reproducibility-crisis-b87792d88513">再现性危机，对数据科学研究人员来说，提供对其代码的开放访问变得越来越重要。其中一个基本要素是确保现有实验在代码变化时的持续性能。通过使用测试和记录良好的代码，可以提高正在进行的项目的可重复性。</a></p><h1 id="c9ff" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">Kaggle 和 GitHub 操作</h1><p id="47be" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated"><a class="ae ky" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>是最知名的数据科学社区之一，致力于寻找数据集、与其他数据科学家合作以及参加竞赛。对于所有级别的从业者来说，这是一个极好的资源，并且提供了一个<a class="ae ky" href="https://www.kaggle.com/docs/api#getting-started-installation-&amp;-authentication" rel="noopener ugc nofollow" target="_blank">强大的 API </a>来访问它的资源。通过使用这个 API，可以创建自动下载数据集的测试，算法可以根据这些数据集运行，确保算法在代码更新时继续按预期执行。</p><p id="0806" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">GitHub 最近发布了<a class="ae ky" href="https://github.com/features/actions" rel="noopener ugc nofollow" target="_blank"> GitHub Actions </a>，这是一个直接从 GitHub 仓库自动化工作流的集成平台。本文的其余部分演示了如何将 GitHub 动作与 Kaggle API 一起使用，以允许对数据科学应用程序进行连续测试。使用 Kaggle API 的 GitHub 动作的完整实现可以在<a class="ae ky" href="https://github.com/JAEarly/KaggleActionsExample" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><h1 id="5b5d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">工作流程分解</h1><p id="3644" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">下面详细介绍了将 Kaggle 与 GitHub 动作集成的最基本设置。这不包括数据科学测试脚本的实际执行，因为它们依赖于语言。相反，它展示了如何在 GitHub 动作中运行 Kaggle API 命令，到达可以执行测试脚本的地方。</p><p id="121b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">工作流程的基本要素如下:</p><ol class=""><li id="4722" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">在测试环境中设置 Python</li><li id="8462" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">安装 Kaggle Python API</li><li id="b296" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">执行 Kaggle 命令</li><li id="5eb3" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">运行测试脚本(省略)</li></ol><h1 id="6a17" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">履行</h1><p id="aac3" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">GitHub 操作是使用 YAML 文件创建作业并指定作业中的步骤来实现的。以下作业中的每个步骤都与上面工作流中的元素相对应。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="44b1" class="nl lw it nh b gy nm nn l no np">- name: Setup python<br/>  uses: actions/setup-python@v1<br/>  with:<br/>    python-version: 3.6<br/>    architecture: x64<br/>- name: Setup Kaggle<br/>  run: pip install kaggle<br/>- name: Run Kaggle command<br/>  run: kaggle competitions list <br/>  env:<br/>    KAGGLE_USERNAME: ${{ secrets.KaggleUsername }}<br/>    KAGGLE_KEY: ${{ secrets.KaggleKey }}</span></pre><p id="6556" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个实现利用了 Kaggle PyPi 包，该包允许 Kaggle API 命令通过命令行运行。在这个例子中，job 简单地列出了 Kaggle 上可用的竞争对手。可用 Kaggle API 命令的分类可以在<a class="ae ky" href="https://github.com/Kaggle/kaggle-api" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="1c72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也可以像 GitHub actions 中的其他任务一样，将多个 Kaggle 命令链接在一起。在这里，工作流步骤显示 Kaggle 版本，然后列出所有可用的竞赛。</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="0462" class="nl lw it nh b gy nm nn l no np">- name: Run multiple Kaggle commands<br/>      run: |<br/>        kaggle --version<br/>        kaggle competitions list<br/>      env:<br/>        KAGGLE_USERNAME: ${{ secrets.KaggleUsername }}<br/>        KAGGLE_KEY: ${{ secrets.KaggleKey }}</span></pre><h1 id="f059" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">向 Kaggle 认证</h1><p id="a75b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">使用 Kaggle API 需要一个访问令牌。这些可以在 Kaggle 网站上<a class="ae ky" href="https://www.kaggle.com/docs/api#getting-started-installation-&amp;-authentication" rel="noopener ugc nofollow" target="_blank">创建。令牌通常通过文件提供给 Kaggle API，但是 KAGGLE_USERNAME 和 KAGGLE_KEY 环境变量也可以用来进行身份验证。可以在 GitHub actions </a>中配置环境变量<a class="ae ky" href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions/using-environment-variables" rel="noopener ugc nofollow" target="_blank">，如上面代码中的 env 参数所示。令牌变量被保存为</a><a class="ae ky" href="https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-and-using-encrypted-secrets" rel="noopener ugc nofollow" target="_blank"> GitHub secrets </a>以确保个人令牌不被暴露。</p><p id="49d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这段代码的完整实现可以在<a class="ae ky" href="https://github.com/JAEarly/KaggleActionsExample" rel="noopener ugc nofollow" target="_blank">这里</a>找到。希望本指南为您提供了在 GitHub actions 中使用 Kaggle API 的快速介绍，并允许您开始更彻底地测试您的数据科学代码！</p></div></div>    
</body>
</html>