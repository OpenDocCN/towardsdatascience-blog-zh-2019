<html>
<head>
<title>DeepPiCar — Part 2: Raspberry Pi Setup and PiCar Assembly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DeepPiCar —第 2 部分:Raspberry Pi 设置和 PiCar 装配</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/deeppicar-part-2-8512be2133f3?source=collection_archive---------2-----------------------#2019-05-02">https://towardsdatascience.com/deeppicar-part-2-8512be2133f3?source=collection_archive---------2-----------------------#2019-05-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="bbf5" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/deep-pi-car" rel="noopener" target="_blank"> DeepPiCar 系列</a></h2><div class=""/><div class=""><h2 id="38b6" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">组装 PiCar 硬件并安装所有软件驱动程序。让它在客厅里运行</h2></div><h1 id="dde9" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">行动纲要</h1><p id="bc6b" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">欢迎回来！在本指南中，我们将首先介绍要购买的硬件以及我们为什么需要它们。接下来，我们将设置它们，以便在本文结束时，我们将有一个 PiCar 在我们的客厅中运行。</p><h1 id="638b" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">硬件供应清单</h1><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/ed591e0570312c1822e2da5110d4d9bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*BxFrnHdOkpuFjkZDopxi1g.jpeg"/></div></figure><ul class=""><li id="dfc4" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">1 个<a class="ae mv" href="https://www.amazon.com/CanaKit-Raspberry-Power-Supply-Listed/dp/B07BC6WH7V/" rel="noopener ugc nofollow" target="_blank">树莓 Pi 3 型号 B+套件，带 2.5A 电源</a> ($50)这是你 DeepPiCar 的大脑。这款最新型号的 Raspberry Pi 具有 1.4Ghz 64 位四核处理器、双频 wifi、蓝牙、4 个 USB 端口和一个 HDMI 端口。我推荐这个套件(不仅仅是 Raspberry Pi 板),因为它配有一个电源适配器，你需要在进行非驱动编码和测试时插入，还有两个芯片散热器，这将防止你的 Raspberry Pi CPU 过热。</li><li id="ac53" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">1 个<a class="ae mv" href="https://www.amazon.com/Kingston-64GB-microSDHC-microSD-SDCS/dp/B079GVC5B8/" rel="noopener ugc nofollow" target="_blank"> 64 GB 微型 SD 卡</a> ($8)这是你的树莓派的操作系统和我们所有软件的存储位置。任何品牌的 micro SD 卡应该都可以。你家里可能就有一个。32GB 应该也可以。我选择 64 GB 是因为我计划在我的汽车行驶时录制大量视频，以便我可以在以后分析它的行为，并在以后的项目中使用这些视频进行深度学习训练。</li></ul><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/a71c172a0cce2823dda6fabd26ac4310.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*Vadg2dAN-nb1CPO9Kp5X-A.jpeg"/></div></figure><ul class=""><li id="7c25" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">1 x <a class="ae mv" href="https://www.amazon.com/SunFounder-Raspberry-Graphical-Programming-Electronic/dp/B06XWSVLL8/" rel="noopener ugc nofollow" target="_blank"> SunFounder PiCar-V 套件</a> ($115)这是 DeepPiCar 的主体。确保你得到的是如上图所示的 V 型车(又名 2.0 版)。它配备了机器人汽车所需的一切，除了树莓派和电池。市场上有许多 Raspberry Pi 车载套件，我选择了这个车载套件，因为它带有开源 python API 来控制汽车，而其他供应商有其专有的 API 或基于 C 的 API。我们知道，python 现在是机器学习和深度学习的首选语言。此外，开源很重要，因为如果我们发现 API 中的错误，我们可以自己修补汽车 API 的内部，而不必等待制造商提供软件更新。</li><li id="58b5" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">4 节<a class="ae mv" href="https://www.amazon.com/Garberiel-5000mAh-Rechargeable-Flashlight-Universal/dp/B07QD2432Q/" rel="noopener ugc nofollow" target="_blank"> 18650 电池和 1 节电池充电器</a> ($20)您可以获得任何 18650 电池和兼容充电器。这些电池用于高消耗应用，例如驱动 Raspberry Pi 板和 PiCar。PiCar 只需要两节电池，但你总是希望身边有另一节刚刚充电的电池，这样你就可以让你的车一直在赛道上行驶。我建议在晚上给两套充电，这样你就不用担心测试时电池没电了。</li></ul><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/fd87039b89a13b43f716c88deefa5a5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*gmoi99Uadi8TyD5axK02NA.jpeg"/></div></figure><ul class=""><li id="8beb" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">1 x <a class="ae mv" href="https://coral.withgoogle.com/products/accelerator" rel="noopener ugc nofollow" target="_blank">谷歌边缘 TPU USB 加速器</a> ($75)每个英雄都需要一个助手。谷歌的 Edge TPU (Edge 意味着它用于移动和嵌入式设备，TPU 代表张量处理单元)是 Raspberry Pi 板的一个很好的附加组件。虽然 Pi CPU 将大量计算能力打包在一个微小的包中，但它不是为深度学习而设计的。另一方面，谷歌新发布的 Edge TPU(2019 年 3 月)是专门为运行用 TensorFlow 编写的深度学习模型而设计的。在本系列的第 6 部分中，我们将在 TensorFlow 中构建一个实时交通标志检测模型。这个模型有 200+层深！仅在 Raspberry Pi 的 CPU 上运行该模型只能处理每秒 1 帧(FPS)，这几乎不是实时的。此外，它消耗 100%的 CPU，使所有其他程序无响应。但是在 Edge TPU 的帮助下，我们现在可以处理 12 FPS，这对于实时工作来说已经足够了。我们的 CPU 保持凉爽，可以用来做其他处理任务，如控制汽车。</li></ul><div class="md me mf mg gt ab cb"><figure class="nb mh nc nd ne nf ng paragraph-image"><img src="../Images/db81ddf1d649530a02a459ce2554329e.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*79NOQOk2Pd3m0EudNPOMGA.jpeg"/></figure><figure class="nb mh nh nd ne nf ng paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><img src="../Images/6c5978007c599037f0c3d1d01457b5b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*v3Bx16IahflxijtPTcWv7g.jpeg"/></div></figure></div><ul class=""><li id="fb67" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">1 套<a class="ae mv" href="https://www.amazon.com/Wooden-Street-Playset-Traffic-Perfect/dp/B01A8XTHHA/" rel="noopener ugc nofollow" target="_blank">微型交通标志</a>(15 美元)和一些乐高玩具。如果你的小宝宝在游戏室里有这些玩具标志和乐高玩具，你可能就不需要买了。你可以使用你找到的任何标志来训练模型，只要确保它们<em class="nm">不要太大</em>！</li></ul><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/c982322223ca8aa7ba657b22d42b6d4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*wxu8VHnjNBL5scfsIqv1uQ.jpeg"/></div></figure><ul class=""><li id="458a" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">(可选)1 个<a class="ae mv" href="https://www.amazon.com/ELP-2-1mm-Camera-industrial-system/dp/B01N07O9CQ" rel="noopener ugc nofollow" target="_blank"> 170 度广角 USB 摄像头</a>(40 美元)。这是一个可选配件。我买它是为了取代 SunFounder PiCar 附带的库存相机，以便汽车可以拥有广阔的视野。库存相机很棒，但没有我喜欢的广角，它看不到前轮前 3-4 英寸的车道线。最初，我在第 4 部分中用库存相机编写了车道跟踪代码。在尝试了几个镜头后，我发现这个广角相机大大提高了车道跟踪的准确性和稳定性。控制你的硬件和软件是很好的(相对于在汽车模拟器中驾驶一辆汽车)，因为如果一个问题不能简单地通过软件解决，你可以求助于硬件修复。</li><li id="bb02" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">接受 HDMI 输入的 USB 键盘/鼠标和显示器。您只需要在 Pi 的初始设置阶段使用它们。之后，我们可以通过 VNC 或 Putty 远程控制 Pi。</li><li id="0288" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">一台运行 Windows/Mac 或 Linux 的台式机或笔记本电脑，从这里开始我将称之为“PC”。我们将使用这台 PC 远程访问 Pi 计算机并将代码部署到 Pi 计算机。</li></ul><p id="e749" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">有时候，让我惊讶的是，我们汽车的大脑树莓派仅售 30 美元，比我们的许多其他配件都便宜。事实上，随着时间的推移，硬件越来越便宜，功能越来越强大，而软件则完全免费且丰富。我们不是生活在一个伟大的时代吗？！</p><p id="4565" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">组装完成后，这就是最终产品。我这里用的是广角相机。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi nq"><img src="../Images/cd09a0fd69ead6be9206abf2469040f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZczTjWEZuBf1Plhpv--x2Q.jpeg"/></div></div></figure><h1 id="3d89" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">树莓 Pi 设置</h1><h2 id="7674" class="nr kp iq bd kq ns nt dn ku nu nv dp ky lp nw nx la lt ny nz lc lx oa ob le iw bi translated">Raspberry Pi 操作系统设置(1 小时)</h2><ul class=""><li id="25fa" class="mk ml iq li b lj lk lm ln lp oc lt od lx oe mb mr ms mt mu bi translated">按照这个优秀的<a class="ae mv" href="https://projects.raspberrypi.org/en/projects/raspberry-pi-setting-up" rel="noopener ugc nofollow" target="_blank">一步一步的指导</a>将 NOOBS Raspbian 操作系统(Linux 的一个变种)安装到一个微型 SD 卡上。这大约需要 20 分钟和 4GB 的磁盘空间。安装和重启后，您应该会看到一个完整的 GUI 桌面，如下所示。这感觉就像你在一个 Windows 或者 Mac 的 GUI 环境中，不是吗？</li></ul><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi of"><img src="../Images/84cd59588a034644bafefa4d161b509f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0IIdVI_gbhYuY-m4D-aMpA.jpeg"/></div></div></figure><ul class=""><li id="ab3e" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">在安装过程中，Pi 会要求您更改默认用户<code class="fe og oh oi oj b">pi</code>的密码。比如我们把密码设为<code class="fe og oh oi oj b">rasp</code>。</li><li id="9cb5" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">初次安装后，Pi 可能需要升级到最新的软件。这可能还需要 10-15 分钟。</li></ul><h2 id="cdff" class="nr kp iq bd kq ns nt dn ku nu nv dp ky lp nw nx la lt ny nz lc lx oa ob le iw bi translated">设置远程访问</h2><p id="939e" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">设置远程访问允许 Pi 计算机无头运行(即没有显示器/键盘/鼠标),这使我们不必一直连接显示器和键盘/鼠标。这个<a class="ae mv" href="https://www.youtube.com/watch?v=IDqQIDL3LKg&amp;list=PLQVvvaa0QuDesV8WWHLLXW_avmTzHmJLv&amp;index=3" rel="noopener ugc nofollow" target="_blank">视频</a>给出了一个非常好的关于如何设置 SSH 和 VNC 远程访问的教程。不管怎样，这是步骤。</p><ul class=""><li id="4cdb" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">打开终端应用程序，如下所示。终端应用程序是一个非常重要的程序，因为我们在后面文章中的大多数命令都将从终端输入。</li></ul><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/f44fcba892363022e762b4a0f2d3bfd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*oWEdMfJTH1TuRIN2JQfeng.jpeg"/></div></figure><ul class=""><li id="b58a" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">通过运行<code class="fe og oh oi oj b">ifconfig</code>找到 Pi 的 IP 地址。在这个例子中，我的 Pi 的 IP 地址是<code class="fe og oh oi oj b">192.168.1.120</code>。</li></ul><pre class="md me mf mg gt ol oj om on aw oo bi"><span id="ec3e" class="nr kp iq oj b gy op oq l or os">pi@raspberrypi:~ $ <strong class="oj ja">ifconfig | grep wlan0 -A1</strong><br/>wlan0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500<br/>        inet <strong class="oj ja">192.168.1.120</strong>  netmask 255.255.255.0  broadcast 192.168.1.255</span></pre><ul class=""><li id="dd95" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">在终端运行<code class="fe og oh oi oj b">sudo raspi-config</code>，启动“树莓 Pi 软件配置工具”。可能会提示您输入用户<code class="fe og oh oi oj b">pi</code>的密码</li></ul><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi ot"><img src="../Images/72a11d9a2e1e10d4050c67e83b155029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PG1uTJWXdeTUOaSYn9I11A.jpeg"/></div></div></figure><ul class=""><li id="8642" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">启用 SSH 服务器:选择<code class="fe og oh oi oj b">5. Interface Options</code>-&gt;-<code class="fe og oh oi oj b">SSH</code>-&gt;-<code class="fe og oh oi oj b">Enable</code></li><li id="fa1b" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">启用 VNC 服务器:选择<code class="fe og oh oi oj b">5. Interface Options</code>-&gt;-<code class="fe og oh oi oj b">VNC</code>-&gt;-<code class="fe og oh oi oj b">Enable</code></li><li id="820b" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">下载并<a class="ae mv" href="https://www.realvnc.com/en/connect/download/viewer/" rel="noopener ugc nofollow" target="_blank">安装 RealVNC 浏览器</a>到你的电脑上。</li><li id="d4db" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">连接到 Pi 的 IP 地址使用真正的 VNC 浏览器。您将看到与 Pi 正在运行的桌面相同的桌面。</li><li id="9aa5" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">此时，您可以安全地断开显示器/键盘/鼠标与 Pi 计算机的连接，只保留电源适配器。</li></ul><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi ou"><img src="../Images/c2e0ce08a168cc9b8ba1c8569b22a3e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E-Z-fOghfDqd6u8jJGuRfg.jpeg"/></div></div></figure><h2 id="a058" class="nr kp iq bd kq ns nt dn ku nu nv dp ky lp nw nx la lt ny nz lc lx oa ob le iw bi translated">设置远程文件访问</h2><p id="80fe" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">由于我们的 Pi 将无头运行，我们希望能够从远程计算机访问 Pi 的文件系统，以便我们可以轻松地将文件传输到 Pi 计算机或从 Pi 计算机传输文件。我们将在 Pi 上安装 Samba 文件服务器。</p><pre class="md me mf mg gt ol oj om on aw oo bi"><span id="0872" class="nr kp iq oj b gy op oq l or os">pi@raspberrypi:~ $ <strong class="oj ja">sudo apt-get update &amp;&amp; sudo apt-get upgrade -y</strong><br/>Get:1 <a class="ae mv" href="http://archive.raspberrypi.org/debian" rel="noopener ugc nofollow" target="_blank">http://archive.raspberrypi.org/debian</a> stretch InRelease [25.4 kB]<br/>Packages [45.0 kB]<br/>[omitted...]<br/>Unpacking lxplug-ptbatt (0.5) over (0.4) ...<br/>Setting up lxplug-ptbatt (0.5) ...</span><span id="e794" class="nr kp iq oj b gy ov oq l or os">pi@raspberrypi:~ $ <strong class="oj ja">sudo apt-get install samba samba-common-bin -y</strong><br/>Reading package lists... Done<br/>Building dependency tree       <br/>[omitted...]<br/>Processing triggers for libc-bin (2.24-11+deb9u4) ...<br/>Processing triggers for systemd (232-25+deb9u11) ...</span><span id="3918" class="nr kp iq oj b gy ov oq l or os">pi@raspberrypi:~ $ <strong class="oj ja">sudo rm /etc/samba/smb.conf</strong></span><span id="61f1" class="nr kp iq oj b gy ov oq l or os">pi@raspberrypi:~ $ <strong class="oj ja">sudo nano /etc/samba/smb.conf</strong></span></pre><p id="fff1" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">然后将下面几行粘贴到 nano 编辑器中</p><pre class="md me mf mg gt ol oj om on aw oo bi"><span id="0f99" class="nr kp iq oj b gy op oq l or os">[global]<br/>netbios name = Pi<br/>server string = The PiCar File System<br/>workgroup = WORKGROUP<br/><br/>[HOMEPI]<br/>path = /home/pi<br/>comment = No comment<br/>browsable = yes<br/>writable = Yes<br/>create mask = 0777<br/>directory mask = 0777<br/>public = no</span></pre><p id="2104" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">按 Ctrl-X 保存并退出 nano，按 Yes 保存更改。</p><p id="1140" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">然后设置一个 Samba 服务器密码。为了简单起见，我们将使用相同的<code class="fe og oh oi oj b">rasp</code>作为 Samba 服务器密码。设置密码后，重启 Samba 服务器。</p><pre class="md me mf mg gt ol oj om on aw oo bi"><span id="636e" class="nr kp iq oj b gy op oq l or os"># create samba password<br/>pi@raspberrypi:~ $ <strong class="oj ja">sudo smbpasswd -a pi</strong><br/>New SMB password:<br/>Retype new SMB password:<br/>Added user pi.</span><span id="2208" class="nr kp iq oj b gy ov oq l or os"># restart samba server<br/>pi@raspberrypi:~ $ <strong class="oj ja">sudo service smbd restart</strong></span></pre><p id="5012" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">此时，您应该能够通过 Pi 的 IP 地址(我的 Pi 的 IP 是 192.168.1.120)从 PC 连接到 Pi 计算机。转到您的 PC (Windows)，打开命令提示符(cmd.exe)并键入:</p><pre class="md me mf mg gt ol oj om on aw oo bi"><span id="6e3b" class="nr kp iq oj b gy op oq l or os"># mount the Pi home directory to R: drive on PC<br/>C:\&gt;<strong class="oj ja">net use r: \\192.168.1.120\homepi</strong><br/>The command completed successfully.<br/>C:\Users\dctia&gt;r:</span><span id="50c8" class="nr kp iq oj b gy ov oq l or os">C:\&gt;<strong class="oj ja">dir r:</strong><br/> Volume in drive R is HOMEPI<br/> Volume Serial Number is 61E3-70FF</span><span id="2a46" class="nr kp iq oj b gy ov oq l or os">Directory of R:\</span><span id="ae84" class="nr kp iq oj b gy ov oq l or os">05/02/2019  03:57 PM    &lt;DIR&gt;          .<br/>04/08/2019  04:48 AM    &lt;DIR&gt;          ..<br/>04/08/2019  05:43 AM    &lt;DIR&gt;          Desktop<br/>04/08/2019  05:43 AM    &lt;DIR&gt;          Documents<br/>04/08/2019  05:43 AM    &lt;DIR&gt;          Downloads<br/>04/08/2019  05:15 AM    &lt;DIR&gt;          MagPi<br/>04/08/2019  05:43 AM    &lt;DIR&gt;          Music<br/>05/02/2019  03:43 PM    &lt;DIR&gt;          Pictures<br/>04/08/2019  05:43 AM    &lt;DIR&gt;          Public<br/>04/08/2019  05:43 AM    &lt;DIR&gt;          Templates<br/>04/08/2019  05:43 AM    &lt;DIR&gt;          Videos<br/>               0 File(s)              0 bytes<br/>              11 Dir(s)  22,864,379,904 bytes free</span></pre><p id="98f9" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">事实上，这是我们的 Pi 计算机的文件系统，我们可以从它的文件管理器中看到。这将是非常有用的，因为我们可以直接从我们的 PC 编辑驻留在 Pi 上的文件。例如，我们可以先使用 PyCharm IDE 在 Pi 上编辑 Python 程序，然后只需使用 Pi 的终端(通过 VNC)运行这些程序。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/f8a4dedd3801d66c1238f0bf1850d506.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*FmFHv12n5ROnMN12HyFYMw.png"/></div></figure><p id="629f" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">如果你有一台 Mac，这里是如何连接到 Pi 的文件服务器。点击 Command-K 调出“连接到服务器”窗口。输入网络驱动器路径(替换为您的 Pi 的 IP 地址)，即 smb://192.168.1.120/homepi，然后单击连接。输入登录/密码，即 pi/rasp，然后单击 OK 以安装网络驱动器。然后，该驱动器将出现在您的桌面上和 Finder 窗口的边栏中。关于 Mac 更深入的网络连接指导，请查看<a class="ae mv" href="http://osxdaily.com/2010/09/20/map-a-network-drive-on-a-mac/" rel="noopener ugc nofollow" target="_blank">这篇优秀的文章</a>。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/8ffea0d3f432373f6176c6d041b5e4a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*1KFX8Jv9i6ZqOpM1LY9EuQ.jpeg"/></div></figure><h2 id="7223" class="nr kp iq bd kq ns nt dn ku nu nv dp ky lp nw nx la lt ny nz lc lx oa ob le iw bi translated">安装 USB 摄像头</h2><p id="44c4" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">USB 摄像头的设备驱动程序应该已经带有 Raspian 操作系统。我们将安装一个视频摄像头查看器，这样我们就可以看到现场视频。</p><ul class=""><li id="fd7b" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">从 PiCar 套件中取出 USB 摄像头，并将其插入 Pi 计算机的 USB 端口</li><li id="c4f4" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">从终端运行<code class="fe og oh oi oj b">sudo apt-get install cheese</code>安装“Cheese”，相机浏览器。</li></ul><pre class="md me mf mg gt ol oj om on aw oo bi"><span id="561c" class="nr kp iq oj b gy op oq l or os">pi@raspberrypi:~ $ <strong class="oj ja">sudo apt-get install cheese -y</strong><br/>Reading package lists... Done<br/>Building dependency tree       <br/>Reading state information... Done<br/>....<br/>cheese is the newest version (3.22.1-1).</span></pre><ul class=""><li id="2f06" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">通过<code class="fe og oh oi oj b">Raspberry Pi button(Top Left Corner)</code>-&gt;-<code class="fe og oh oi oj b">Sound &amp; Video</code>-&gt;-<code class="fe og oh oi oj b">Cheese</code>启动奶酪应用程序，您应该会看到一个直播视频，如上图所示。</li></ul><h1 id="369e" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">SunFounder PiCar-V 软件配置(偏离手册)</h1><p id="b16b" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">在组装 PiCar 之前，我们需要安装 PiCar 的 python API。SunFounder 发布了其 Python API 的服务器版本和客户端版本。用于远程控制 PiCar 的客户端 API 代码运行在您的 PC 上，并且使用 Python 版本 3。服务器 API 代码运行在 PiCar 上，不幸的是，它使用的是 Python 版本 2，这是一个过时的版本。由于我们编写的自动驾驶程序只能在 PiCar 上运行，PiCar 服务器 API 也必须在 Python 3 中运行。幸运的是，SunFounder 的所有 API 代码都在<a class="ae mv" href="https://github.com/sunfounder/SunFounder_PiCar-V" rel="noopener ugc nofollow" target="_blank"> Github </a>上开源，我做了一个<a class="ae mv" href="https://github.com/dctian/SunFounder_PiCar-V" rel="noopener ugc nofollow" target="_blank"> fork </a>并将整个 repo(包括服务器和客户端)更新到 Python 3。(我将很快向 SunFounder 提交我的更改，这样一旦 SunFounder 批准，它就可以合并回主 repo。)</p><p id="0028" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">目前，运行以下命令(粗体<strong class="li ja">代替 SunFounder 手册中的软件命令。您不必运行手册第 20-26 页上的命令。</strong></p><pre class="md me mf mg gt ol oj om on aw oo bi"><span id="2c98" class="nr kp iq oj b gy op oq l or os"># route all calls to python (version 2) to python3, <br/># pip (version 2) to pip3, even in sudo mode <br/># note: `sudo abcd` runs `abcd` command in administrator mode<br/><strong class="oj ja">alias python=python3<br/>alias pip=pip3<br/>alias sudo='sudo '</strong></span><span id="e1aa" class="nr kp iq oj b gy ov oq l or os"># Download patched PiCar-V driver API, and run its set up<br/>pi@raspberrypi:~ $ <strong class="oj ja">cd</strong></span><span id="69fc" class="nr kp iq oj b gy ov oq l or os">pi@raspberrypi:~ $ <strong class="oj ja">git clone </strong><a class="ae mv" href="https://github.com/dctian/SunFounder_PiCar.git" rel="noopener ugc nofollow" target="_blank"><strong class="oj ja">https://github.com/dctian/SunFounder_PiCar.git</strong></a><br/>Cloning into 'SunFounder_PiCar'...<br/>remote: Enumerating objects: 9, done.<br/>remote: Counting objects: 100% (9/9), done.<br/>remote: Compressing objects: 100% (9/9), done.<br/>remote: Total 276 (delta 0), reused 2 (delta 0), pack-reused 267<br/>Receiving objects: 100% (276/276), 53.33 KiB | 0 bytes/s, done.<br/>Resolving deltas: 100% (171/171), done.<br/>pi@raspberrypi:~ $ <strong class="oj ja">cd ~/SunFounder_PiCar/picar/</strong><br/><br/>pi@raspberrypi:~/SunFounder_PiCar/picar $ <strong class="oj ja">git clone </strong><a class="ae mv" href="https://github.com/dctian/SunFounder_PCA9685.git" rel="noopener ugc nofollow" target="_blank"><strong class="oj ja">https://github.com/dctian/SunFounder_PCA9685.git</strong></a><br/>Cloning into 'SunFounder_PCA9685'...<br/>remote: Enumerating objects: 7, done.<br/>remote: Counting objects: 100% (7/7), done.<br/>remote: Compressing objects: 100% (5/5), done.<br/>remote: Total 87 (delta 2), reused 6 (delta 2), pack-reused 80<br/>Unpacking objects: 100% (87/87), done.</span><span id="5e5a" class="nr kp iq oj b gy ov oq l or os">pi@raspberrypi:~/SunFounder_PiCar/picar $ <strong class="oj ja">cd ~/SunFounder_PiCar/</strong><br/>pi@raspberrypi:~/SunFounder_PiCar $ <strong class="oj ja">sudo python setup.py install</strong><br/>Adding SunFounder-PiCar 1.0.1 to easy-install.pth file<br/>Installing picar script to /usr/local/bin<br/>[omitted....]</span><span id="1ebf" class="nr kp iq oj b gy ov oq l or os"># Download patched PiCar-V applications<br/># and install depedent software<br/>pi@raspberrypi:~/SunFounder_PiCar/picar $ <strong class="oj ja">cd</strong><br/>pi@raspberrypi:~ $ <strong class="oj ja">git clone </strong><a class="ae mv" href="https://github.com/dctian/SunFounder_PiCar-V.git" rel="noopener ugc nofollow" target="_blank"><strong class="oj ja">https://github.com/dctian/SunFounder_PiCar-V.git</strong></a><br/>Cloning into 'SunFounder_PiCar-V'...<br/>remote: Enumerating objects: 969, done.<br/>remote: Total 969 (delta 0), reused 0 (delta 0), pack-reused 969<br/>Receiving objects: 100% (969/969), 9.46 MiB | 849.00 KiB/s, done.<br/>Resolving deltas: 100% (432/432), done.</span><span id="37aa" class="nr kp iq oj b gy ov oq l or os">pi@raspberrypi:~ $ <strong class="oj ja">cd SunFounder_PiCar-V</strong></span><span id="77da" class="nr kp iq oj b gy ov oq l or os">pi@raspberrypi:~/SunFounder_PiCar-V $ <strong class="oj ja">sudo ./install_dependencies</strong><br/>Adding SunFounder-PiCar 1.0.1 to easy-install.pth file<br/>Installing picar script to /usr/local/bin</span><span id="c03f" class="nr kp iq oj b gy ov oq l or os">Installed /usr/local/lib/python2.7/dist-packages/SunFounder_PiCar-1.0.1-py2.7.egg<br/>Processing dependencies for SunFounder-PiCar==1.0.1<br/>Finished processing dependencies for SunFounder-PiCar==1.0.1<br/>complete<br/>Copy MJPG-Streamer to an Alternate Location.  complete<br/>Enalbe I2C. complete</span><span id="19cf" class="nr kp iq oj b gy ov oq l or os">Installation result:<br/>django   Success<br/>python-smbus  Success<br/>python-opencv  Success<br/>libjpeg8-dev  Success<br/>The stuff you have change may need reboot to take effect.<br/>Do you want to reboot immediately? (yes/no)<strong class="oj ja">yes</strong></span></pre><p id="c766" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">当提示重新启动时，回答是。重新启动后，应安装所有必需的硬件驱动程序。我们将在汽车组装后测试它们。</p><h1 id="d913" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">皮卡装配</h1><p id="2ff8" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">组装过程紧密地重新组装一个复杂的乐高玩具，整个过程需要大约 2 个小时，大量的手眼协调，非常有趣。(在构建阶段，你甚至可以让你的年轻人参与进来。)PiCar 套件附带印刷的分步指导手册。但是我推荐这两个<em class="nm">额外的</em>资源。</p><ul class=""><li id="6a7d" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated"><a class="ae mv" href="https://www.sunfounder.com/learn/download/X1BWQ19SYXNwYmVycnlfUGlfU21hcnRfVmlkZW9fQ2FyX1YyLjAucGRm/dispi" rel="noopener ugc nofollow" target="_blank"> PDF 版本的指导手册</a>。打印手册很小，图表可能打印不太清楚，而 PDF 版本非常清晰，可以搜索和放大以了解更多细节。在组装阶段，我发现它对我笔记本电脑上的 PDF 非常有帮助。</li><li id="bd17" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">SunFounder 发布的 YouTube 4 集教学视频。不幸的是，这些视频是为老版本的 PiCar，所以有些部分(如伺服电机组件)是不同的。但是大部分零件和组装技术都是一样的。因此，如果您对组装手册中的某个图感到困惑，您可能需要看一下视频的相关部分。我希望 SunFounder 能为新的 PiCar-V 套件发布一组新的视频。</li></ul><figure class="md me mf mg gt mh"><div class="bz fp l di"><div class="oy oz l"/></div><figcaption class="pa pb gj gh gi pc pd bd b be z dk">Assembly Videos (4 Parts) for an Older Version of PiCar, a Useful reference</figcaption></figure><h2 id="4413" class="nr kp iq bd kq ns nt dn ku nu nv dp ky lp nw nx la lt ny nz lc lx oa ob le iw bi translated">当橡胶遇到路面！</h2><p id="71c7" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">既然 PiCar 的所有基本硬件和软件都已就绪，让我们试着运行它吧！</p><ul class=""><li id="46cf" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">从 PC 通过 VNC 连接到 PiCar</li><li id="d905" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">确保放入新电池，将开关切换到 ON 位置，并拔下 micro USB 充电电缆。请注意，您的 VNC 远程会话应该仍处于活动状态。</li><li id="9d28" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb mr ms mt mu bi translated">在 Pi 终端中，运行以下命令(粗体显示的<strong class="li ja"/>)。您应该:</li></ul><ol class=""><li id="b44f" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb pe ms mt mu bi translated">看到车开快了，再发出<code class="fe og oh oi oj b">picar.back_wheel.test()</code>就慢下来</li><li id="d3e2" class="mk ml iq li b lj mw lm mx lp my lt mz lx na mb pe ms mt mu bi translated">当你发出<code class="fe og oh oi oj b">picar.front_wheel.test()</code>时，看到前轮转向左、中、右。要停止这些测试，请按 Ctrl-C。要退出 python 程序，请按 Ctrl-D。</li></ol><pre class="md me mf mg gt ol oj om on aw oo bi"><span id="509d" class="nr kp iq oj b gy op oq l or os">pi@raspberrypi:~/SunFounder_PiCar/picar $ <strong class="oj ja">python3</strong> <br/>Python 3.5.3 (default, Sep 27 2018, 17:25:39) <br/>[GCC 6.3.0 20170516] on linux<br/>Type "help", "copyright", "credits" or "license" for more information.</span><span id="8023" class="nr kp iq oj b gy ov oq l or os">&gt;&gt;&gt; <strong class="oj ja">import picar</strong><br/>&gt;&gt;&gt; <strong class="oj ja">picar.setup()</strong></span><span id="b3b6" class="nr kp iq oj b gy ov oq l or os">&gt;&gt;&gt; <strong class="oj ja">picar.front_wheels.test()</strong><br/>DEBUG "front_wheels.py": Set debug off<br/>DEBUG "front_wheels.py": Set wheel debug off<br/>DEBUG "Servo.py": Set debug off<br/>turn_left<br/>turn_straight<br/>turn_right</span><span id="245f" class="nr kp iq oj b gy ov oq l or os">&gt;&gt;&gt; <strong class="oj ja">picar.back_wheels.test()</strong><br/>DEBUG "back_wheels.py": Set debug off<br/>DEBUG "TB6612.py": Set debug off<br/>DEBUG "TB6612.py": Set debug off<br/>DEBUG "PCA9685.py": Set debug off<br/>Forward, speed = 0<br/>Forward, speed = 1<br/>Forward, speed = 2<br/>Forward, speed = 3<br/>Forward, speed = 4<br/>Forward, speed = 5<br/>Forward, speed = 6<br/>Forward, speed = 7<br/>Forward, speed = 8<br/>Forward, speed = 9<br/>Forward, speed = 10<br/>Forward, speed = 11</span></pre><ul class=""><li id="2e5f" class="mk ml iq li b lj mm lm mn lp mo lt mp lx mq mb mr ms mt mu bi translated">如果您遇到错误或看不到轮子移动，那么要么是您的硬件连接或软件设置有问题。对于前者，请仔细检查你的电线连接，确保电池充满电。对于后者，请在评论区发布消息，详细说明您遵循的步骤和错误消息，我会尽力提供帮助。</li></ul><h1 id="a8a0" class="ko kp iq bd kq kr ks kt ku kv kw kx ky kf kz kg la ki lb kj lc kl ld km le lf bi translated">下一步是什么</h1><p id="33d5" class="pw-post-body-paragraph lg lh iq li b lj lk ka ll lm ln kd lo lp lq lr ls lt lu lv lw lx ly lz ma mb ij bi translated">恭喜你，你现在应该有一个 PiCar 可以看到(通过 Cheese)，运行(通过 python 3 代码)！这还不是一辆深度学习的汽车，但我们正在朝着它前进。当你准备好了，就开始第三部分吧，在那里我们将赋予 PiCar 计算机视觉和深度学习的超能力。</p><p id="83b4" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">以下是整个指南的链接:</p><p id="5dd7" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">第 1 部分:<a class="ae mv" href="https://medium.com/@dctian/deeppicar-part-1-102e03c83f2c" rel="noopener">概述</a></p><p id="2be7" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">第 2 部分:<a class="ae mv" href="https://medium.com/@dctian/deeppicar-part-2-8512be2133f3" rel="noopener"> Raspberry Pi 设置和 PiCar 装配</a>(本文)</p><p id="3609" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">第 3 部分:<a class="ae mv" href="https://medium.com/@dctian/deeppicar-part-3-d648b76fc0be" rel="noopener">让皮卡看到并思考</a></p><p id="4592" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">第 4 部分:<a class="ae mv" href="https://medium.com/@dctian/deeppicar-part-4-lane-following-via-opencv-737dd9e47c96?source=your_stories_page---------------------------" rel="noopener">通过 OpenCV 的自主车道导航</a></p><p id="a8a1" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">第五部分:<a class="ae mv" href="https://medium.com/@dctian/deeppicar-part-4-lane-following-via-opencv-737dd9e47c96?source=your_stories_page---------------------------" rel="noopener">自主</a> <a class="ae mv" href="https://medium.com/@dctian/deeppicar-part-5-lane-following-via-deep-learning-d93acdce6110?source=your_stories_page---------------------------" rel="noopener">通过深度学习进行车道导航</a></p><p id="009a" class="pw-post-body-paragraph lg lh iq li b lj mm ka ll lm mn kd lo lp nn lr ls lt no lv lw lx np lz ma mb ij bi translated">第六部分:<a class="ae mv" href="https://medium.com/@dctian/deeppicar-part-6-963334b2abe0?source=your_stories_page---------------------------" rel="noopener">交通标志和行人检测与处理</a></p></div></div>    
</body>
</html>