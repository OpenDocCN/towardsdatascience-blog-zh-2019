<html>
<head>
<title>LIVE Sentiment Analysis on Twitter Data using Tweepy, Keras, and Django</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨ Tweepyã€Keras å’Œ Django å¯¹ Twitter æ•°æ®è¿›è¡Œå®æ—¶æƒ…æ„Ÿåˆ†æ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/live-sentiment-analysis-on-twitter-data-using-tweepy-keras-and-django-99c344e90488?source=collection_archive---------4-----------------------#2019-06-16">https://towardsdatascience.com/live-sentiment-analysis-on-twitter-data-using-tweepy-keras-and-django-99c344e90488?source=collection_archive---------4-----------------------#2019-06-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/fd59b3edaef5cac3d765c5556548247a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*CSOrBEN3tb2MerPA"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@martenbjork?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Marten Bjork</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c47b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ¬¢è¿æ¥åˆ°è¿™ç¯‡å…³äºåœ¨æ¨ç‰¹ä¸Šè¿›è¡Œå®æ—¶æƒ…ç»ªåˆ†æçš„æ•™ç¨‹ã€‚æˆ‘ç›¸ä¿¡ä½ ä¸€å®šé‡åˆ°è¿‡å¤æ‚çš„ä»ªè¡¨æ¿ï¼Œä¸Šé¢æœ‰å¤§é‡çš„å›¾è¡¨å’Œæ•°å­—æ­£åœ¨è¢«å¤„ç†ï¼Œçœ‹èµ·æ¥å°±åƒç§‘å¹»ç”µå½±ä¸€æ ·ï¼Œä»¤äººæ•¬ç•ã€‚è¿™å°±æ˜¯æˆ‘ä»¬çš„ç›®æ ‡ã€‚</p><figure class="lc ld le lf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lb"><img src="../Images/43bd7da2810620d64e0b559dac0c5b5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*A7a92sCFdYDQ8wh1.jpg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Some Complex looking dashboard</figcaption></figure><p id="8d44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è™½ç„¶æˆ‘ä»¬çš„æœ€ç»ˆç»“æœä¸ä¼šåƒè¿™æ ·å¹¿æ³›ï¼Œä½†æ˜¯ï¼Œå®ƒä¼šæ•™ä½ å¦‚ä½•è¿›è¡Œå¿…è¦çš„æ•°æ®è¿æ¥ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä½¿å®ƒåƒä½ æƒ³è¦çš„é‚£æ ·å¤æ‚ã€‚ä½ å¯ä»¥ç»§ç»­æŠŠå®ƒä½œä¸ºä¸€ä¸ª SaaS ä¸šåŠ¡æˆ–ä¸€ä¸ªç§»åŠ¨åº”ç”¨ç¨‹åºï¼Œèµšä¸€äº›é’±ã€‚æˆ‘ä»¬çš„ç»“æœä¼šæ˜¯è¿™æ ·çš„:</p><figure class="lc ld le lf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lg"><img src="../Images/e7ff83ac9011bf89747c50acc09f01cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*romaYePXgiad-GYU.PNG"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Our Result</figcaption></figure><blockquote class="lh"><p id="f30d" class="li lj iq bd lk ll lm ln lo lp lq la dk translated">å®ƒå°†å¯¹ä»»ä½•æ ‡ç­¾åŠå…¶ç›¸å…³ä¸Šä¸‹æ–‡è¿›è¡Œå®æ—¶åˆ†æï¼Œå¹¶åœ¨æ–°æ¨æ–‡å‡ºç°æ—¶å‘æ‚¨å±•ç¤ºï¼ŒåŒæ—¶é™„ä¸Šä¸€ä»½æƒ…æ„Ÿã€‚</p></blockquote><p id="d41f" class="pw-post-body-paragraph kd ke iq kf b kg lr ki kj kk ls km kn ko lt kq kr ks lu ku kv kw lv ky kz la ij bi translated">å¤Ÿå…´å¥‹äº†å§ï¼Ÿå¾ˆå¥½ï¼Œæˆ‘ä»¬å¼€å§‹å§ã€‚æœ¬æ–‡åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†:</p><ol class=""><li id="1513" class="lw lx iq kf b kg kh kk kl ko ly ks lz kw ma la mb mc md me bi translated">åˆ¶ä½œæ¨¡å‹</li><li id="ada7" class="lw lx iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">åˆ¶ä½œ UI ç•Œé¢(å‰ç«¯)</li><li id="c99e" class="lw lx iq kf b kg mf kk mg ko mh ks mi kw mj la mb mc md me bi translated">åˆ¶ä½œåç«¯ï¼Œè·å–å®æ—¶æ•°æ®ï¼Œè¿æ¥ä¸€åˆ‡</li></ol><figure class="lc ld le lf gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/e125c5a09d468b90d7b66c0541fb13a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S4h_NDdtWnDZG5Gy8KfFrg.jpeg"/></div></div></figure><h1 id="7fe7" class="ml mm iq bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">1.æ¨¡ç‰¹çš„ä¸œè¥¿</h1><p id="0031" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">è™½ç„¶æƒ…æ„Ÿåˆ†æåœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸­æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„è¯é¢˜ï¼Œä½†æˆ‘ç°åœ¨åªç®€è¦ä»‹ç»ä¸€ä¸‹æ¨¡å‹æ¶æ„ï¼Œä½†ç¨åæˆ‘ä¼šå°±æ­¤å†™ä¸€ç¯‡å•ç‹¬çš„å¸–å­ã€‚</p><p id="23d7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä½¿ç”¨äº†<a class="ae kc" href="https://www.kaggle.com/kazanova/sentiment140" rel="noopener ugc nofollow" target="_blank">æ„ŸçŸ¥ 140 æ•°æ®é›†</a>è¿›è¡Œè®­ç»ƒï¼Œå®ƒåŒ…å«å¤§çº¦ã€‚160 ä¸‡æ¡æ¨ç‰¹ã€‚åœ¨é€šè¿‡è§„èŒƒåŒ–æ¸…ç†æ–‡æœ¬å¹¶åˆ é™¤ä»¥' @ 'å¼€å¤´çš„ç”¨æˆ·æ ‡ç­¾åï¼Œæˆ‘ä½¿ç”¨äº†<code class="fe no np nq nr b">gensim </code>åŒ…çš„<em class="ns"> Word2Vec </em>å‡½æ•°åœ¨æ•´ä¸ªè¯­æ–™åº“ä¸Šè®­ç»ƒå®ƒã€‚ç”±äºè¯­æ–™åº“ç›¸å½“åºå¤§ï¼Œæˆ‘æœ‰è¶³å¤Ÿçš„æ•°æ®æ¥è®­ç»ƒç›¸å½“å‡†ç¡®çš„åµŒå…¥ï¼Œå¦åˆ™ï¼Œæˆ‘ä¼šä½¿ç”¨é¢„è®­ç»ƒçš„çŸ¢é‡å™¨ã€‚</p><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="795a" class="nx mm iq nr b gy ny nz l oa ob">#Test word embeddings<br/>w2v_model.most_similar("hate")</span><span id="1902" class="nx mm iq nr b gy oc nz l oa ob">[('suck', 0.5254894495010376),<br/> ('stupid', 0.509635865688324),<br/> ('hat', 0.479534387588501),<br/> ('ugh', 0.4475134015083313),<br/> ('dislike', 0.44565698504447937),<br/> ('despise', 0.43604105710983276),<br/> ('fuck', 0.4104633331298828),<br/> ('annoy', 0.4004197418689728),<br/> ('ughh', 0.3961945176124573),<br/> ('fml', 0.39270931482315063)]</span></pre><p id="43fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä½¿ç”¨äº†<code class="fe no np nq nr b">keras</code> <em class="ns">æ ‡è®°å™¨</em>å°†è¾“å…¥æ•°æ®è½¬æ¢æˆæ ‡è®°ï¼Œå¹¶æ·»åŠ å¡«å……ç¬¦ä»¥ä½¿æ‰€æœ‰è¾“å…¥é•¿åº¦ç›¸åŒã€‚è¿™æ˜¯ NLP ä¸­æ•°æ®å‡†å¤‡çš„æ ‡å‡†è¿‡ç¨‹ã€‚æœ€åï¼Œæˆ‘æŠŠå‡†å¤‡å¥½çš„æ•°æ®ä¼ è¿›äº†ä¸€ä¸ª LSTM ç½‘ç»œã€‚</p><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="153c" class="nx mm iq nr b gy ny nz l oa ob">predict("@Nintendo I love your games!")</span><span id="b75b" class="nx mm iq nr b gy oc nz l oa ob">{'score': 0.820274293422699}</span></pre><p id="3b1c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æœ€ç»ˆçš„å‡†ç¡®ç‡ç«Ÿç„¶åœ¨<strong class="kf ir"> 78.4% </strong>å·¦å³ï¼Œç›®å‰æ¥çœ‹å·²ç»è¶³å¤Ÿå¥½äº†ã€‚æ•´ä¸ªå®ç°æ˜¯<a class="ae kc" href="https://github.com/agrawal-rohit/twitter-sentiment-analysis-web-app/blob/master/Twitter%20Sentiment%20Analysis.ipynb" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œæ˜¯</a></p><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="27ac" class="nx mm iq nr b gy ny nz l oa ob">ACCURACY: 0.784396875<br/>LOSS: 0.45383153524398806</span></pre><p id="122c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æœ€åï¼Œæˆ‘ä¿å­˜äº†æ¨¡å‹(ä½œä¸ºä¸€ä¸ª. h5 æ–‡ä»¶)å’Œç»è¿‡è®­ç»ƒçš„ Keras Tokenizer(ä½œä¸ºä¸€ä¸ª. pkl æ–‡ä»¶),ä»¥ä¾¿ä»¥ååœ¨æœåŠ¡å™¨è„šæœ¬çš„æ¨ç†è¿‡ç¨‹ä¸­ä½¿ç”¨å®ƒä»¬ã€‚æ‚¨å¯ä»¥åœ¨æ­¤ä¸‹è½½åŸ¹è®­æ–‡ä»¶<a class="ae kc" href="https://github.com/agrawal-rohit/twitter-sentiment-analysis-web-app/tree/master/main_app" rel="noopener ugc nofollow" target="_blank"/></p><blockquote class="od oe of"><p id="e562" class="kd ke ns kf b kg kh ki kj kk kl km kn og kp kq kr oh kt ku kv oi kx ky kz la ij bi translated"><strong class="kf ir">æ³¨æ„:</strong>æˆ‘å®ç°äº†å¦ä¸€ä¸ªæ¨¡å‹ï¼Œä½¿ç”¨ 1D å·ç§¯ä»£æ›¿ LSTM ç½‘ç»œè¿›è¡Œæ¯”è¾ƒï¼Œç»“æœæä¾›äº†å‡ ä¹ç›¸ä¼¼çš„ç»“æœã€‚å¯¹äºå¥½å¥‡çš„å­¦ä¹ è€…ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°è¿™ä¸ªå®ç°ã€‚</p></blockquote></div><div class="ab cl oj ok hu ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="ij ik il im in"><h1 id="3264" class="ml mm iq bd mn mo oq mq mr ms or mu mv mw os my mz na ot nc nd ne ou ng nh ni bi translated">2.UI å‰ç«¯çš„ä¸œè¥¿</h1><p id="ed12" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">æˆ‘ä½¿ç”¨äº†<strong class="kf ir"> ReactJS </strong>æ¥æ„å»ºæ¥å£ã€‚è¿™æ˜¯ä¸€ä¸ª Javascript æ¡†æ¶ï¼Œé€šè¿‡åˆ›å»ºç»„ä»¶å¹¶åƒä¹é«˜ç§¯æœ¨ä¸€æ ·é‡ç”¨å®ƒä»¬æ¥ä¿ƒè¿›<strong class="kf ir">æ¨¡å—åŒ–è®¾è®¡</strong>ã€‚æ¯ä¸ªç»„ä»¶éƒ½æœ‰å…¶ç”Ÿå‘½å‘¨æœŸï¼Œå› æ­¤å¦‚æœæŸä¸ªç»„ä»¶çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œåªæœ‰è¯¥ç»„ä»¶ä¼šåˆ·æ–°ã€‚è¿™å‡è½»äº†æµè§ˆå™¨çš„è´Ÿæ‹…ï¼Œå¹¶å‡å°‘äº†æ›´æ–°ä¿¡æ¯ä¹‹é—´çš„å»¶è¿Ÿã€‚</p><p id="1fa1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘ä¸æ‰“ç®—è¯¦è¿°æˆ‘æ˜¯å¦‚ä½•åˆ¶ä½œè¿™ä¸ªç½‘ç«™çš„ï¼Œå› ä¸ºå®ƒåªæ˜¯åŸºæœ¬çš„ CSS å’Œ Javascriptï¼Œå› æ­¤ä½ å¯ä»¥ç›´æ¥ç ”ç©¶<a class="ae kc" href="https://github.com/agrawal-rohit/twitter-sentiment-analysis-web-app/tree/master/react-frontend" rel="noopener ugc nofollow" target="_blank">åº“</a>ä¸­çš„ä»£ç ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·åœ¨ä¸‹é¢ç•™ä¸‹ä½ çš„å›å¤ï¼Œæˆ‘ä¼šå¾ˆä¹æ„ä¸ºä½ è§£ç­”ã€‚</p><h2 id="7f36" class="nx mm iq bd mn ov ow dn mr ox oy dp mv ko oz pa mz ks pb pc nd kw pd pe nh pf bi translated">ä½ åªéœ€è¦çŸ¥é“</h2><p id="e201" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º<code class="fe no np nq nr b"><strong class="kf ir">state</strong> </code>çš„å˜é‡ï¼Œå®ƒå±äºç½‘ç«™ï¼Œè¿™é‡Œçš„ä»»ä½•å˜åŒ–éƒ½ä¼šåˆ·æ–°ç»„ä»¶ã€‚</p><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="6b83" class="nx mm iq nr b gy ny nz l oa ob">this.state = {<br/>            hashtag: "",<br/>            options: {<br/>                colors: ['#F7464A', '#46BFBD', '#FDB45C'],<br/>                labels: ['Negative', 'Positive', 'Neutral'],<br/>                plotOptions: {<br/>                pie: {<br/>                  donut: {<br/>                    labels: {<br/>                      show: true<br/>                    }<br/>                  }<br/>                }<br/>              }<br/>            },<br/>            series: [44, 55, 41],<br/>            tweets: [],<br/>            hashtag_desc: ""<br/>        }</span></pre><p id="5642" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe no np nq nr b"><strong class="kf ir">hashtag</strong></code>åŒ…å«è¾“å…¥å­—æ®µçš„å€¼ï¼Œ<code class="fe no np nq nr b"><strong class="kf ir">options</strong></code>å€¼å±äºé¥¼å›¾çš„ä¸€äº›é€‰é¡¹ã€‚æˆ‘ä»¬åªå¯¹ä¸€ä¸ªåŠŸèƒ½æ„Ÿå…´è¶£:</p><ul class=""><li id="f5fa" class="lw lx iq kf b kg kh kk kl ko ly ks lz kw ma la pg mc md me bi translated">è¯¥å‡½æ•°åœ¨è¢«è°ƒç”¨æ—¶ä¼šå°†ä¸€ä¸ª<strong class="kf ir"> GET è¯·æ±‚</strong>è¿åŒ<code class="fe no np nq nr b"><strong class="kf ir">hashtag</strong> </code>å€¼ä¸€èµ·å‘é€åˆ°æˆ‘ä»¬ä½äºâ€˜http://localhost:8000/analyzehashtagâ€™çš„æœåŠ¡å™¨ã€‚å®ƒéœ€è¦ä»¥ä¸‹å½¢å¼çš„ JSON å“åº”:</li></ul><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="5507" class="nx mm iq nr b gy ny nz l oa ob">{<br/>...<br/>data: {<br/>    positive: 43,<br/>    negative: 23,<br/>    neutral: 12<br/>    }<br/>...<br/>}</span></pre><ul class=""><li id="a835" class="lw lx iq kf b kg kh kk kl ko ly ks lz kw ma la pg mc md me bi translated">è¯¥å‡½æ•°è¿˜å‘å…¬å…±ç»´åŸºç™¾ç§‘ API å‘é€ä¸€ä¸ª<strong class="kf ir"> GET è¯·æ±‚</strong>ï¼Œä»¥åŠ<code class="fe no np nq nr b"><strong class="kf ir">hashtag</strong> </code>å€¼ï¼Œä»¥è·å–ä¸€äº›å…³äºå®ƒçš„ç®€çŸ­ä¿¡æ¯ã€‚</li><li id="a19d" class="lw lx iq kf b kg mf kk mg ko mh ks mi kw mj la pg mc md me bi translated">æœ€åï¼Œè¯¥å‡½æ•°å°†å¦ä¸€ä¸ª GET è¯·æ±‚è¿åŒ<code class="fe no np nq nr b"><strong class="kf ir">hashtag</strong> </code>å€¼ä¸€èµ·å‘é€åˆ°æˆ‘ä»¬ä½äºâ€˜http://localhost:8000/gettweetsâ€™çš„æœåŠ¡å™¨ã€‚å®ƒéœ€è¦ä»¥ä¸‹å½¢å¼çš„ JSON å“åº”:</li></ul><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="1c34" class="nx mm iq nr b gy ny nz l oa ob">{<br/>    "results": [<br/>        {<br/>            "text": "Is it possible to wirelessly project my laptop                   to my #Xbox? #XboxOne <a class="ae kc" href="https://t.co/KMuSoD2C5j" rel="noopener ugc nofollow" target="_blank">https://t.co/KMuSoD2C5j</a>",<br/>            "username": "Xbox_One_Reddit",<br/>            "label": "Neutral",<br/>            "score": 0.5679275393486023<br/>        },<br/>        {<br/>            "text": "This year's #E3 had some big #XBOX news for the gaming industry. A glimpse at the future with Scarlet its Next Gen console, promising 4K &amp;amp; 8K gaming, and of course the franchise that started it all... #Halo Infinite announced!\n\nWhich was you favorite?? #E32019 #XboxE3 #Gaming <a class="ae kc" href="https://t.co/tykdIYezmr" rel="noopener ugc nofollow" target="_blank">https://t.co/tykdIYezmr</a>",<br/>            "username": "NrdRnx",<br/>            "label": "Positive",<br/>            "score": 0.9130105972290039<br/>        },<br/>        {<br/>            "text": "DOMED ğŸ’€ #apex #apexlegends #apexlegendsxbox #apexlegendsclips #apexlegendscommunity #apexlegendsplays #playapex #controllergang #xbox #mixer #twitch <a class="ae kc" href="https://t.co/itERG2vpaD" rel="noopener ugc nofollow" target="_blank">https://t.co/itERG2vpaD</a>",<br/>            "username": "gle_oh",<br/>            "label": "Negative",<br/>            "score": 0.26629960536956787<br/>        },<br/>        ...<br/>    ]<br/>}</span></pre><p id="f0ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">è¿™äº›æ•°æ®ç”¨äºå¡«å……å¤„ç†å®æ—¶ tweets çš„ç»„ä»¶ã€‚</p></div><div class="ab cl oj ok hu ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="ij ik il im in"><h1 id="92a2" class="ml mm iq bd mn mo oq mq mr ms or mu mv mw os my mz na ot nc nd ne ou ng nh ni bi translated">3.åç«¯çš„ä¸œè¥¿</h1><p id="9c8a" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">æœ€åï¼Œæˆ‘ä»¬è¿›å…¥è¿™ç¯‡æ–‡ç« çš„æ ¸å¿ƒã€‚å¯¹äºåç«¯ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Django æ¥åˆ›å»ºå®ƒã€‚</p><blockquote class="od oe of"><p id="3673" class="kd ke ns kf b kg kh ki kj kk kl km kn og kp kq kr oh kt ku kv oi kx ky kz la ij bi translated">æ³¨æ„:å¦‚æœä½ æ²¡æœ‰åç«¯å¼€å‘ç»éªŒï¼Œæˆ‘æ¨èç”¨ Flask ä»£æ›¿ Djangoã€‚Flask å¯¹ç”¨æˆ·éå¸¸å‹å¥½ï¼Œä½ å¯ä»¥åœ¨å‡ åˆ†é’Ÿå†…åˆ›å»ºå’Œæˆ‘åœ¨è¿™é‡Œåšçš„ä¸€æ ·çš„ä¸œè¥¿ã€‚æˆ‘ä½¿ç”¨ Django æ˜¯å› ä¸ºæˆ‘å‘ç°éƒ¨ç½²æ›´å®¹æ˜“ä¸€äº›ï¼Œè€Œä¸”å®ƒå¾ˆå®¹æ˜“æ‰©å±•åˆ°æ›´å¤æ‚çš„åº”ç”¨ç¨‹åºã€‚</p></blockquote><p id="9fed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä½ å¯ä»¥è°·æ­Œå¦‚ä½•åˆ›å»º Django é¡¹ç›®ï¼Œæˆ–è€…è·Ÿéšä»–ä»¬æ–‡æ¡£ä¸­ç»™å‡ºçš„æ•™ç¨‹ã€‚å®Œæˆåï¼Œå®ƒåº”è¯¥å…·æœ‰ä»¥ä¸‹æ–‡ä»¶å¤¹ç»“æ„:</p><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="251e" class="nx mm iq nr b gy ny nz l oa ob">â”‚   .gitattributes<br/>â”‚   db.sqlite3<br/>â”‚   manage.py<br/>â”‚<br/>â”œâ”€â”€â”€main_app<br/>â”‚   â”‚   admin.py<br/>â”‚   â”‚   apps.py<br/>â”‚   â”‚   config.py<br/>â”‚   â”‚   models.py<br/>â”‚   â”‚   Sentiment_LSTM_model.h5<br/>â”‚   â”‚   tests.py<br/>â”‚   â”‚   tokenizer.pickle<br/>â”‚   â”‚   twitter_query.py<br/>â”‚   â”‚   views.py<br/>â”‚   â”‚   __init__.py<br/>â”‚   â”‚<br/>â”‚   â”œâ”€â”€â”€migrations<br/>â”‚   â”‚<br/>â”‚   â””â”€â”€â”€__pycache__<br/>â”‚           admin.cpython-36.pyc<br/>â”‚           config.cpython-36.pyc<br/>â”‚           models.cpython-36.pyc<br/>â”‚           views.cpython-36.pyc<br/>â”‚           __init__.cpython-36.pyc<br/>â”‚<br/>â””â”€â”€â”€twitter_django<br/>    â”‚   settings.py<br/>    â”‚   urls.py<br/>    â”‚   wsgi.py<br/>    â”‚   __init__.py<br/>    â”‚<br/>    â””â”€â”€â”€__pycache__<br/>            settings.cpython-36.pyc<br/>            urls.cpython-36.pyc<br/>            wsgi.cpython-36.pyc<br/>            __init__.cpython-36.pyc</span></pre><p id="1aaf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">(è€Œä¸æ˜¯<code class="fe no np nq nr b"><strong class="kf ir">main_app</strong></code> <strong class="kf ir"> </strong>å’Œ<code class="fe no np nq nr b"><strong class="kf ir">twitter_django</strong></code>ï¼Œå®ƒä»¬å°†æ˜¯æ‚¨é€‰æ‹©çš„åº”ç”¨ç¨‹åºçš„åç§°)</p><p id="7c8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Django ç”¨â€œè§†å›¾â€çš„æ¦‚å¿µæ¥å°è£…è´Ÿè´£å¤„ç†ç”¨æˆ·è¯·æ±‚å’Œè¿”å›å“åº”çš„é€»è¾‘ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ”¶åˆ°çš„å¯¹æœåŠ¡å™¨çš„ä»»ä½•è¯·æ±‚éƒ½å°†åœ¨è¿™é‡Œå¤„ç†ã€‚æˆ‘ä»¬ä½¿ç”¨<code class="fe no np nq nr b"><strong class="kf ir">urls.py</strong></code> <em class="ns"> : </em>æ¥è¿æ¥è§†å›¾</p><p id="2c94" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªç‰¹å®šçš„ URL ç«¯ç‚¹æ¥æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œæ¯”å¦‚è¯´â€œ/gettweetsâ€ï¼Œå®ƒè§¦å‘æŒ‡å®šçš„å‡½æ•°â€”â€”åœ¨æœ¬ä¾‹ä¸­æ˜¯â€œviews.gettweetsâ€ã€‚åŠŸèƒ½çš„é€»è¾‘å†™åœ¨<code class="fe no np nq nr b"><strong class="kf ir">views.py</strong></code> <em class="ns">ä¸­ã€‚</em></p><p id="7069" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æ³¨æ„è¿™å‡ è¡Œ:</p><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="75be" class="nx mm iq nr b gy ny nz l oa ob">global graph<br/>graph = tf.get_default_graph()<br/>model = load_model('main_app/Sentiment_LSTM_model.h5')</span></pre><p id="d307" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">å¦‚æœæ²¡æœ‰å›¾è¡¨ï¼Œæ‚¨å°±æ— æ³•è¿è¡Œæ‚¨çš„æ¨¡å‹æ¥è·å¾—é¢„æµ‹(å› ä¸º Tensorflow çš„å·¥ä½œæ–¹å¼)ã€‚å¦‚æœä½ è¯•ç€è·‘ï¼Œ' model.predict(..)'è€Œæ²¡æœ‰æŒ‡å®šå›¾å½¢ï¼Œæ‚¨å°†å¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚å› æ­¤ï¼Œå½“ä½ è¯•å›¾ä½¿ç”¨ä½ çš„æ¨¡å‹æ—¶ï¼Œä¸è¦å¿˜è®°åŠ ä¸Š:</p><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="2918" class="nx mm iq nr b gy ny nz l oa ob">with graph.as_default():            <br/>    prediction = model.predict(...)</span></pre><h2 id="60b0" class="nx mm iq bd mn ov ow dn mr ox oy dp mv ko oz pa mz ks pb pc nd kw pd pe nh pf bi translated">åäºŒå²</h2><p id="6988" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">å¦‚æœä½ æƒ³ä» Twitter è·å–æ•°æ®ï¼ŒTweepy å°±åƒæ˜¯ä¸€ä¸ªåŒ…ã€‚ä½ å¯ä»¥ä½¿ç”¨<code class="fe no np nq nr b">pip.</code>æ¥å®‰è£…å®ƒï¼Œä½ æ‰€éœ€è¦çš„åªæ˜¯ä¸€äº›ç‹¬ç‰¹çš„å¯†é’¥ã€‚è¿™äº›å¯†é’¥å¯ä»¥é€šè¿‡åœ¨<a class="ae kc" href="https://developer.twitter.com/en.html" rel="noopener ugc nofollow" target="_blank"> Twitter å¼€å‘è€…ç½‘ç«™</a>æ³¨å†Œä¸€ä¸ªåº”ç”¨ç¨‹åºæ¥è·å¾—ã€‚</p><p id="bc1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸€æ—¦å®Œæˆï¼Œæˆ‘ä»¬å¯ä»¥å°†<code class="fe no np nq nr b">tweepy </code>åˆå§‹åŒ–ä¸º:</p><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="06c9" class="nx mm iq nr b gy ny nz l oa ob"># Twitter<br/>auth = tweepy.OAuthHandler(consumer_key,consumer_secret)<br/>auth.set_access_token(access_token, access_token_secret)<br/>api = tweepy.API(auth,wait_on_rate_limit=True)</span></pre><p id="f923" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨è¦è·å– tweetsï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ Cursor å‡½æ•°ã€‚æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå®šåˆ¶çš„æœç´¢æ ‡ç­¾(ä»å‰ç«¯æ¥æ”¶)å¹¶æ”¶é›†äº†ç›¸åŒçš„ tweetsã€‚</p><blockquote class="od oe of"><p id="45d3" class="kd ke ns kf b kg kh ki kj kk kl km kn og kp kq kr oh kt ku kv oi kx ky kz la ij bi translated"><strong class="kf ir">æ³¨æ„:</strong>æˆ‘ä½¿ç”¨<code class="fe no np nq nr b"><em class="iq">â€œ -filter:retweetsâ€</em></code>æ˜¯ä¸ºäº†åªè·å¾—å”¯ä¸€çš„æ¨æ–‡ï¼Œå¦åˆ™ï¼Œç”±äºä¸åŒçš„è½¬å‘é¢‘ç‡ï¼Œæƒ…æ„Ÿæ ‡ç­¾å¯èƒ½ä¼šæœ‰åå·®ã€‚</p></blockquote><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="5852" class="nx mm iq nr b gy ny nz l oa ob">tweepy.Cursor(api.search,q="#" + request.GET.get("text") + " -filter:retweets",rpp=5,lang="en", tweet_mode='extended').items(100)</span></pre><h2 id="2498" class="nx mm iq bd mn ov ow dn mr ox oy dp mv ko oz pa mz ks pb pc nd kw pd pe nh pf bi translated">åˆ¶ä½œä¸€ä¸ª REST API</h2><p id="ebdd" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">æˆ‘ä»¬çš„æœåŠ¡å™¨æœ‰ä¸¤ä¸ªé‡è¦çš„åŠŸèƒ½:</p><ol class=""><li id="ca5d" class="lw lx iq kf b kg kh kk kl ko ly ks lz kw ma la mb mc md me bi translated"><code class="fe no np nq nr b"><strong class="kf ir">analyzehashtag()</strong> </code> â€”æ¥å—æ ‡ç­¾å€¼ï¼Œä½¿ç”¨ tweepy è·å¾—è¯¥æ ‡ç­¾çš„å¤§é‡ tweetsï¼Œå¹¶å¯¹æ¯ä¸ª tweepy æ‰§è¡Œæƒ…æ„Ÿåˆ†æã€‚æœ€åï¼Œé€šè¿‡ç®€å•åœ°ç»Ÿè®¡è§‚å¯Ÿç»“æœï¼Œè®¡ç®—ç§¯æã€æ¶ˆæå’Œä¸­æ€§æ¨æ–‡åœ¨ç‰¹å®šæ ‡ç­¾ä¸­çš„åˆ†å¸ƒã€‚</li></ol><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="b86d" class="nx mm iq nr b gy ny nz l oa ob">def analyzehashtag(request):    <br/>positive = 0    <br/>neutral = 0    <br/>negative = 0    <br/>for tweet in tweepy.Cursor(api.search,q="#" + request.GET.get("text") + " -filter:retweets",rpp=5,lang="en", tweet_mode='extended').items(100):        <br/>    with graph.as_default():            <br/>    prediction = predict(tweet.full_text) <br/>           if(prediction["label"] == "Positive"):    <br/>        positive += 1       <br/>           if(prediction["label"] == "Neutral"):<br/>           neutral += 1<br/>        if(prediction["label"] == "Negative"):<br/>            negative += 1<br/>    return JsonResponse({"positive": positive, "neutral": neutral, "negative": negative});</span></pre><p id="0606" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.<code class="fe no np nq nr b"><strong class="kf ir">gettweets()</strong></code><strong class="kf ir"/>â€”è¿™ä¸ç¬¬ä¸€ä¸ªå‡½æ•°ç±»ä¼¼ï¼Œä½†å®ƒä¸æ˜¯è®¡ç®—åˆ†å¸ƒï¼Œè€Œæ˜¯æ”¶é›†æ›´å°‘æ•°é‡çš„æ¨æ–‡å¹¶è¿”å›æ¯ä¸ªæ¨æ–‡çš„ç»“æœã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥å®æ—¶æ˜¾ç¤ºæˆ‘ä»¬çš„æ¨¡å‹çš„ç†Ÿç»ƒç¨‹åº¦ï¼Œå¹¶æ£€æŸ¥å®ƒæ˜¯å¦ç¬¦åˆæˆ‘ä»¬çš„å¸¸è¯†ã€‚</p><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="77ba" class="nx mm iq nr b gy ny nz l oa ob">def gettweets(request):<br/>    tweets = []<br/>    for tweet in tweepy.Cursor(api.search,q="#" + request.GET.get("text") + " -filter:retweets",rpp=5,lang="en", tweet_mode='extended').items(50):<br/>        temp = {}<br/>        temp["text"] = tweet.full_text<br/>        temp["username"] = tweet.user.screen_name<br/>        with graph.as_default():<br/>            prediction = predict(tweet.full_text)<br/>        temp["label"] = prediction["label"]<br/>        temp["score"] = prediction["score"]<br/>        tweets.append(temp)<br/>    return JsonResponse({"results": tweets});</span></pre><p id="f40b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ç°åœ¨ï¼Œä¸ºäº†è®©æˆ‘ä»¬çš„å‰ç«¯èƒ½å¤Ÿè®¿é—®è¿™äº›å‡½æ•°ï¼Œæˆ‘ä»¬å°†æŠŠè¿™äº›å‡½æ•°ä½œä¸º APIã€‚ä½¿ç”¨<strong class="kf ir"> Django REST æ¡†æ¶</strong>å¯ä»¥å¾ˆå®¹æ˜“åœ°åšåˆ°è¿™ä¸€ç‚¹ã€‚</p><p id="c54f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">åªéœ€ä½¿ç”¨<code class="fe no np nq nr b">pip install djangorestframework</code>å®‰è£…ï¼Œå¹¶åœ¨æ¯ä¸ªåŠŸèƒ½å‰æ·»åŠ <code class="fe no np nq nr b"><a class="ae kc" href="http://twitter.com/api_view" rel="noopener ugc nofollow" target="_blank">@api_view</a>([â€œGETâ€])</code>ã€‚(å› ä¸ºæˆ‘ä»¬åœ¨è¿™é‡Œåªä½¿ç”¨äº† 2 ä¸ª GET è¯·æ±‚ï¼Œæ‰€ä»¥æˆ‘åœ¨è¿™é‡Œåªä½¿ç”¨ GET)ã€‚</p><p id="4978" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ä¸è¦å¿˜è®°åœ¨<code class="fe no np nq nr b">settings.py</code>æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚</p><pre class="lc ld le lf gt nt nr nu nv aw nw bi"><span id="3dca" class="nx mm iq nr b gy ny nz l oa ob">INSTALLED_APPS = [<br/>    'django.contrib.admin',<br/>    'django.contrib.auth',<br/>    'django.contrib.contenttypes',<br/>    'django.contrib.sessions',<br/>    'django.contrib.messages',<br/>    'django.contrib.staticfiles',<br/>    'rest_framework',<br/>    'corsheaders',<br/>    'main_app'<br/>]</span></pre><h1 id="7800" class="ml mm iq bd mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh ni bi translated">ç»“è®º</h1><p id="f50d" class="pw-post-body-paragraph kd ke iq kf b kg nj ki kj kk nk km kn ko nl kq kr ks nm ku kv kw nn ky kz la ij bi translated">ä½¿ç”¨<code class="fe no np nq nr b">python manage.py runserver</code>è¿è¡ŒæœåŠ¡å™¨ï¼Œäº«å—æ´å¯Ÿâ€œäººä»¬å¯¹æ–°é€‰ä¸¾çš„ååº”â€ï¼Œæˆ–è€…â€œäººä»¬å–œæ¬¢èµ›åšæœ‹å…‹ 2077 é¢„å‘Šç‰‡ä¸­çš„åŸºåŠªÂ·é‡Œç»´æ–¯å®¢ä¸²å—â€ã€‚å‘ç–¯å§ï¼</p><p id="fb01" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">æˆ‘çš„ GitHub ä¸Šæœ‰å®Œæ•´çš„ä»£ç å’Œå®‰è£…è¯´æ˜ã€‚å¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥å»çœ‹çœ‹ã€‚å†è§</p><div class="ph pi gp gr pj pk"><a href="https://github.com/agrawal-rohit?tab=repositories" rel="noopener  ugc nofollow" target="_blank"><div class="pl ab fo"><div class="pm ab pn cl cj po"><h2 class="bd ir gy z fp pp fr fs pq fu fw ip bi translated">agrawal-rohit â€”æ¦‚è¿°</h2><div class="pr l"><h3 class="bd b gy z fp pp fr fs pq fu fw dk translated">æ‹¥æœ‰ 3 å¹´ä»¥ä¸Šé¡¹ç›®å·¥ä½œç»éªŒçš„åˆçº§æ•°æ®ç§‘å­¦å®¶å’Œè½¯ä»¶å¼€å‘äººå‘˜ã€‚é«˜åº¦ç†Ÿç»ƒçš„æœºå™¨â€¦</h3></div><div class="ps l"><p class="bd b dl z fp pp fr fs pq fu fw dk translated">github.com</p></div></div><div class="pt l"><div class="pu l pv pw px pt py jw pk"/></div></div></a></div></div></div>    
</body>
</html>