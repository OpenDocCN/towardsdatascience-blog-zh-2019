<html>
<head>
<title>Top 3 Pandas Functions You Don't Know About (Probably)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你不知道的熊猫的三大功能(大概)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/top-3-pandas-functions-you-dont-know-about-probably-5ae9e1c964c8?source=collection_archive---------2-----------------------#2019-11-24">https://towardsdatascience.com/top-3-pandas-functions-you-dont-know-about-probably-5ae9e1c964c8?source=collection_archive---------2-----------------------#2019-11-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="0fff" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我以前写过关于熊猫的文章，原因很明显——它是一个用于数据分析甚至数据可视化的惊人的库。前一篇文章介绍了一些您应该经常使用的函数，因为它们:</p><ul class=""><li id="70e9" class="ko kp it js b jt ju jx jy kb kq kf kr kj ks kn kt ku kv kw bi translated">会让你的代码保持干净</li><li id="a4be" class="ko kp it js b jt kx jx ky kb kz kf la kj lb kn kt ku kv kw bi translated">不会让你重新发明轮子</li></ul><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/3d18ac6f0f3edbef765055a801bd3568.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FlOTvK5xSSGB1H1h"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Photo by <a class="ae ls" href="https://unsplash.com/@tannerboriack?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tanner Boriack</a> on <a class="ae ls" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9afb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你错过了它，这里有一个链接，这样你就可以在有时间的时候保存它:</p><div class="lt lu gp gr lv lw"><a rel="noopener follow" target="_blank" href="/3-pandas-functions-you-should-be-using-more-often-696b41e8d7ca"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd iu gy z fp mb fr fs mc fu fw is bi translated">你应该更经常使用的 3 个熊猫功能</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">停止重新发明轮子。说真的。</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">towardsdatascience.com</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk lm lw"/></div></div></a></div><p id="8c80" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，在今天的帖子中，我想把注意力转移到几个更有用的功能上，这些功能让我觉得自己在工作中完全是个白痴。你可能会问，这是为什么。嗯，我很懒，在我写代码之前我不喜欢谷歌，所以我甚至不知道这些功能的存在。</p><p id="9d46" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后的结果至少可以说是令人沮丧的。我成功地实现了所需的逻辑，但代价是几个小时，一把新的白发，当然，还有许多不必要的代码。</p><p id="37bb" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了避免同样的事情发生在你身上，请继续阅读。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="46e2" class="ms mt it bd mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np bi translated">idxmin()和 idxmax()</h1><p id="3bc9" class="pw-post-body-paragraph jq jr it js b jt nq jv jw jx nr jz ka kb ns kd ke kf nt kh ki kj nu kl km kn im bi translated">是的，我知道我在过去已经报道过这些，但是它们是这篇文章的<strong class="js iu">本质</strong>。你先不理解这几个就不会理解第二个有用的功能，那就言归正传吧。</p><p id="21bc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">简而言之，这些函数将<strong class="js iu">返回所需条目的 ID </strong> ( <em class="nv">索引位置</em>)。假设我创作了以下<strong class="js iu">熊猫系列</strong>:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/37dacfb0e3667870ae8b4896f49ed7e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:482/format:webp/1*5f1S-PArnKO4-PP8ex5YNg.png"/></div></figure><p id="b3a5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">并希望找到最小和最大项目的索引位置。当然，仅仅通过观察不难发现这一点，但是你绝不会(<em class="nv">我是说绝不会</em>)在你的项目上有这么少的数据点。</p><p id="a187" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这意味着您需要利用<strong class="js iu"> <em class="nv"> idxmin() </em> </strong>和<strong class="js iu"> <em class="nv"> idxmax() </em> </strong>函数的能力，让我们看看如何实现:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/10cb4332345152b3d881d4dd9348f864.png" data-original-src="https://miro.medium.com/v2/resize:fit:208/format:webp/1*ZnxQxD3e6hGgbpeaS23dzQ.png"/></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/8b55902e3a3c62f640b9a9f924b846e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:210/format:webp/1*cUowmJZtUf2qICv9Bmn2RA.png"/></div></figure><p id="9b5f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">请记住，这些函数将返回最小/最大值第一次出现的索引。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="1285" class="ms mt it bd mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np bi translated">ne()</h1><p id="ac37" class="pw-post-body-paragraph jq jr it js b jt nq jv jw jx nr jz ka kb ns kd ke kf nt kh ki kj nu kl km kn im bi translated">这个对我来说是一个大发现。不久前，我在工作中处理一些时间序列数据，遇到了第一个<em class="nv"> n </em>观测值为 0 的问题。</p><p id="6618" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了简单起见，想想你可能已经买了东西，但一段时间内没有消费掉。该物品在您手中，但由于您没有使用它，在给定日期的消费为 0。因为我只对你真正开始使用这该死的东西时的用法感兴趣，<strong class="js iu"><em class="nv">【ne()</em></strong>就是那个拯救了你的功能。</p><p id="0ca5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们考虑下面的场景。你有一个<strong class="js iu"> Pandas DataFrame </strong>对象，它的一些观察值在开始时为 0:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/0ad69b1583804f9cf0ac3fc849cc767a.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*LApcFTHboD92QatOa6cb3Q.png"/></div></figure><p id="1c01" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在<strong class="js iu"> <em class="nv"> ne() </em> </strong>要做的是，如果当前值不是您指定的值(<em class="nv">假设为 0 </em>)，则返回<em class="nv"> True </em>，否则返回<em class="nv"> False </em>:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/de2f3e6cbfa648c025b7e6a57df50a44.png" data-original-src="https://miro.medium.com/v2/resize:fit:356/format:webp/1*lbiCuLeFd41lwO4T-V_zsg.png"/></div></figure><p id="9011" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这本身没多大用处。你还记得我说过你需要知道 idxmax()来理解这一点吗？ 好吧，我没有说谎，你可以从上面的代码链<strong class="js iu"> <em class="nv"> idxmax() </em> </strong>:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/08302e69bc014a91890aaa27c3f32e33.png" data-original-src="https://miro.medium.com/v2/resize:fit:372/format:webp/1*VwNmP-gMq-ITrCciW-VCMA.png"/></div></figure><p id="bd7f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所以在索引位置 6，我们有第一个非零观测值。这又一次没有给你提供多少价值。好的一面是，我们可以使用该信息对<strong class="js iu">数据帧</strong>进行子集化，以仅显示从项目第一次使用时开始的值:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/6f36541a8d95d88a456a808b3afbc40a.png" data-original-src="https://miro.medium.com/v2/resize:fit:526/format:webp/1*dU2gAMD5zn1BpxEdIelbRA.png"/></div></figure><p id="b273" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当你处理时间序列数据的时候，这就派上用场了。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="c19d" class="ms mt it bd mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np bi translated">nsmallest()和 nlargest()</h1><p id="1009" class="pw-post-body-paragraph jq jr it js b jt nq jv jw jx nr jz ka kb ns kd ke kf nt kh ki kj nu kl km kn im bi translated">我猜你可以从名字中推断出这两个函数是关于什么的。假设我创建了下面的<strong class="js iu"> DataFrame </strong>对象:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi od"><img src="../Images/2a85e86a51c6cc83b05102aec05956e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*ZN6TZ_qB5YxhB1W2TjTO0A.png"/></div></figure><p id="89ef" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为了好玩，让我们假设这 5 个是在编写测试后观察到的分数。您有兴趣找出哪 3 名学生表现最差:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/4395eff1169d0eac915d8c0ad5e7ca32.png" data-original-src="https://miro.medium.com/v2/resize:fit:438/format:webp/1*5Q-blpX7nyeibocd6H53eA.png"/></div></figure><p id="eb96" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">或者哪三个学生表现最好:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi of"><img src="../Images/855ae19cea855571b5c8317c850a114a.png" data-original-src="https://miro.medium.com/v2/resize:fit:414/format:webp/1*lM1w9vxzxOmpj-wLl-6OjA.png"/></div></figure><p id="0acc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这两个函数是像<strong class="js iu"><em class="nv">sort _ values()</em></strong>这样的函数的绝佳替代品。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h1 id="3292" class="ms mt it bd mu mv mw mx my mz na nb nc nd ne nf ng nh ni nj nk nl nm nn no np bi translated">在你走之前</h1><p id="29ea" class="pw-post-body-paragraph jq jr it js b jt nq jv jw jx nr jz ka kb ns kd ke kf nt kh ki kj nu kl km kn im bi translated">随着时间的推移，我相信我会遇到更多值得在文章中提及的节省时间的功能，所以你肯定会看到更多这样的帖子。同时，请在评论区分享你最喜欢的熊猫功能。</p><p id="a79b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢阅读。保重。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><p id="5fe4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">喜欢这篇文章吗？成为 <a class="ae ls" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="nv">中等会员</em> </a> <em class="nv">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="lt lu gp gr lv lw"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd iu gy z fp mb fr fs mc fu fw is bi translated">通过我的推荐链接加入 Medium-Dario rade ci</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">medium.com</p></div></div><div class="mf l"><div class="og l mh mi mj mf mk lm lw"/></div></div></a></div></div></div>    
</body>
</html>