<html>
<head>
<title>Google Cloud AutoML Vision for Medical Image Classification</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于医学图像分类的谷歌云自动视觉</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/google-cloud-automl-vision-for-medical-image-classification-76dfbf12a77e?source=collection_archive---------3-----------------------#2019-05-10">https://towardsdatascience.com/google-cloud-automl-vision-for-medical-image-classification-76dfbf12a77e?source=collection_archive---------3-----------------------#2019-05-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fdf2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用胸部 X 射线图像的肺炎检测</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/29a80168f4b7ecf6e7e74384185f98b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t-_EXQ3tlb8KOx6H7HN09A.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">The normal chest X-ray (left panel) shows clear lungs without any areas of abnormal opacification in the image. Bacterial pneumonia (middle) typically exhibits a focal lobar consolidation, in this case in the right upper lobe (white arrows), whereas viral pneumonia (right) manifests with a more diffuse “interstitial” pattern in both lungs. (Source: Kermany, D. S., Goldbaum M., et al. 2018. Identifying Medical Diagnoses and Treatable Diseases by Image-Based Deep Learning. Cell. <a class="ae ky" href="https://www.cell.com/cell/fulltext/S0092-8674(18)30154-5" rel="noopener ugc nofollow" target="_blank">https://www.cell.com/cell/fulltext/S0092-8674(18)30154-5</a>)</figcaption></figure><p id="a6fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Google Cloud AutoML Vision 简化了图像识别用例的自定义视觉模型的创建。在引擎盖下使用神经架构搜索和转移学习的概念来寻找最佳网络架构和使模型的损失函数最小化的最佳超参数配置。本文使用 Google Cloud AutoML Vision 开发了一个端到端的医学图像分类模型，用于使用胸部 X 射线图像进行肺炎检测。</p><h1 id="7ddd" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">目录</h1><ul class=""><li id="679c" class="mn mo it lb b lc mp lf mq li mr lm ms lq mt lu mu mv mw mx bi translated"><a class="ae ky" href="https://medium.com/p/76dfbf12a77e#fdf2" rel="noopener">使用胸部 x 光图像进行肺炎检测</a></li><li id="fda8" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated"><a class="ae ky" href="https://medium.com/p/76dfbf12a77e#f2b1" rel="noopener">关于数据集</a></li><li id="e1fa" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated"><a class="ae ky" href="https://medium.com/p/76dfbf12a77e#0ba2" rel="noopener">第 1 部分:在 GCP 实现 AutoML 云愿景</a></li><li id="717b" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated"><a class="ae ky" href="https://medium.com/p/76dfbf12a77e#b4bd" rel="noopener">第 2 部分:将数据集下载到 Google 云存储中</a></li><li id="be3a" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated"><a class="ae ky" href="https://medium.com/p/76dfbf12a77e#cefd" rel="noopener">第 3 部分:为建模准备数据集</a></li><li id="407d" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated"><a class="ae ky" href="https://medium.com/p/76dfbf12a77e#5fd4" rel="noopener">第 4 部分:使用云自动视觉建模</a></li><li id="7922" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated"><a class="ae ky" href="https://medium.com/p/76dfbf12a77e#c62e" rel="noopener">第 5 部分:测试模型</a></li><li id="8056" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated"><a class="ae ky" href="https://medium.com/p/76dfbf12a77e#e3a3" rel="noopener">第 6 部分:结论</a></li></ul><h1 id="f2b1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">关于数据集</h1><p id="ef25" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">数据集包含:</p><ul class=""><li id="b69e" class="mn mo it lb b lc ld lf lg li ng lm nh lq ni lu mu mv mw mx bi translated">5232 张儿童胸部 x 光照片。</li><li id="cb06" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">其中 3883 张是细菌性(2538 张)和病毒性(1345 张)肺炎的样本。</li><li id="15bf" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">1349 个样本是健康的肺部 x 光图像。</li></ul><p id="da90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据集托管在 Kaggle 上，可通过<a class="ae ky" href="https://www.kaggle.com/paultimothymooney/chest-xray-pneumonia" rel="noopener ugc nofollow" target="_blank">胸部 x 光图像(肺炎)</a>访问。</p><h1 id="0ba2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">第 1 部分:在 GCP 上实现 AutoML 云愿景</h1><p id="76ba" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">(1).去云端控制台:<a class="ae ky" href="https://cloud.google.com/" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/441b7b94a10c083c245a8db424c4cd37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Bbs-yRQqcGZuQwDvu4rwg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Google Cloud Homepage</figcaption></figure><p id="3324" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(2).通过单击 GCP 仪表盘左上角的三点划线打开 Cloud AutoML Vision。选择人工智能产品部分下的视觉。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/d344f2eb7382ddea1f244e3d93d4ad60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_NW-g3fHk1ZFNtIpvKdJAw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Open AutoML Vision</figcaption></figure><p id="f171" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(3).选择自动视觉下的图像分类。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/ade1bf42383584939a528a008d1f3586.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sZa-wfeRIeOFby8MWtlhJg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image Classification under AutoML Vision</figcaption></figure><p id="0f88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(4).设置项目 API、权限和云存储桶，以存储用于建模和其他资产的图像文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/3ac9975cfe94a0aef8aa59e13eb7ab7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*44M0JH92NlMl4Jtqla2enQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Setup Project APIs and Permissions</figcaption></figure><p id="2997" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(5).询问时，从下拉列表中选择您的 GCP 帐单项目。现在我们准备创建一个数据集，用于在 AutoML 上构建定制分类模型。在将原始数据集从 Kaggle 下载到云存储并准备好用于 AutoML 建模的数据后，我们将返回这里。</p><p id="6b16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，自动创建的桶被称为:g <strong class="lb iu"> s://ekabasandbox-vcm </strong>。</p><h1 id="b4bd" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">第 2 部分:将数据集下载到 Google 云存储中</h1><p id="7e1d" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">(1).激活<strong class="lb iu">云外壳</strong>(红色圆圈中)以启动临时 VM 实例来存放从 Kaggle 下载的数据集，将其解压缩并上传到存储桶。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/0c0a3c2f8fa7b65b57e43913c25bfacc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wUeJUNmmPT_H73LmYp3e4w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Activate Cloud Shell</figcaption></figure><p id="db2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(2).安装 Kaggle 命令行界面。这个工具将允许我们从 Kaggle 下载数据集。运行以下代码:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="7be5" class="nt lw it np b gy nu nv l nw nx">sudo <!-- -->pip install kaggle</span></pre><p id="3408" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，请注意，云外壳实例是短暂的，当会话结束时，它不会保存系统范围内的更改。此外，如果数据集特别大，还有其他选择，例如启动计算虚拟机，下载数据集，解压缩，然后上传到云存储。可以设计其他高级数据管道，将数据输入 GCP 进行分析/机器学习。</p><p id="d0e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(3).下载 Kaggle API 令牌密钥，使 Kaggle CLI 能够针对 Kaggle 进行身份验证/授权，以下载所需的数据集。</p><ul class=""><li id="c207" class="mn mo it lb b lc ld lf lg li ng lm nh lq ni lu mu mv mw mx bi translated">登录您的 Kaggle 帐户。</li><li id="7548" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">转到:https://www . ka ggle . com/[ka ggle _ 用户名]/帐户</li><li id="f4c7" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu mu mv mw mx bi translated">点击:创建新的 API 令牌。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/041de06b58a49f569ed6c4a48c57244c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A-MpWN2-PYqigEEJPfRk4Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Create API Token</figcaption></figure><ul class=""><li id="124d" class="mn mo it lb b lc ld lf lg li ng lm nh lq ni lu mu mv mw mx bi translated">将令牌下载到您的本地机器，并将其上传到云 shell。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/0e1b817ff999b55609e6799bfe04b612.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZGEgROBVCZrk9Rq18JS0FQ.png"/></div></div></figure><ul class=""><li id="05de" class="mn mo it lb b lc ld lf lg li ng lm nh lq ni lu mu mv mw mx bi translated">将上传的<code class="fe nz oa ob np b">.json</code>键移动到目录<code class="fe nz oa ob np b">.kaggle</code>中。使用下面的代码:</li></ul><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="ae95" class="nt lw it np b gy nu nv l nw nx">mv kaggle.json .kaggle/kaggle.json</span></pre><p id="c8f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(4).从 Kaggle 下载数据集到 Google 云存储。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="766a" class="nt lw it np b gy nu nv l nw nx">kaggle datasets download paultimothymooney/chest-xray-pneumonia</span></pre><p id="b571" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(5).解压缩下载的数据集</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="7cbe" class="nt lw it np b gy nu nv l nw nx">unzip <!-- -->chest-xray-pneumonia<!-- -->.zip<br/>unzip chest_xray.zip</span></pre><p id="2e3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(6).将数据集从临时云外壳实例移动到创建的云存储桶。在此插入您的存储桶名称。</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="c50e" class="nt lw it np b gy nu nv l nw nx">gsutil -m cp -r chest_xray gs://<strong class="np iu">ekabasandbox-vcm</strong>/chest_xray/</span></pre><h1 id="cefd" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">第 3 部分:为建模准备数据集</h1><p id="e6a9" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">(1).在谷歌云 AI 平台上推出 Jupyter 笔记本。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/4910d71654dddb6e47e89c8f76c981bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pn0lNV50xWKGTOo2XMWJHw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Notebooks of GCP AI Platform</figcaption></figure><p id="f6a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(2).创建新的笔记本实例。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/66e660499fa5d845d128401eaca57ed5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kvg9pH90Gr8BvaYigWqYKw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Start a new JupyterLab instance</figcaption></figure><p id="db5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(3).选择实例名称并创建。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/f4bfed4d8c28b84bb5fea8144374ff34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PrVNpkuhljTNR5nr9_I2kw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Choose an instance name and create</figcaption></figure><p id="c58e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(4).打开 JupyterLab</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/4c73b24fe4b2284d5280076f231b544a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R-OIrPE_RgG-1OgPtOJAjQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Open JupyterLab</figcaption></figure><p id="7f1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(5).在使用 AutoML Cloud Vision 构建自定义图像识别模型之前，必须以特定格式准备数据集:</p><ol class=""><li id="ba00" class="mn mo it lb b lc ld lf lg li ng lm nh lq ni lu od mv mw mx bi translated">对于训练，支持 JPEG、PNG、WEBP、GIF、BMP、TIFF 和 ICO 图像格式，每个图像的最大大小为 30mb。</li><li id="aff6" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu od mv mw mx bi translated">为了便于推断，JPEG、PNG 和 GIF 图像格式受支持，每张图像的最大大小为 1.5mb。</li><li id="d540" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu od mv mw mx bi translated">最好将每个图像类别放入图像文件夹内的包含子文件夹中。例如，<br/>(图像目录)&gt;(图像类别 1-子目录)——(图像类别 n-子目录)</li><li id="8a51" class="mn mo it lb b lc my lf mz li na lm nb lq nc lu od mv mw mx bi translated">接下来，创建一个指向图像路径及其相应标签的 CSV。AutoML 使用 CSV 文件指向训练图像及其标签的位置。CSV 文件放在包含图像文件的同一个 GCS 存储桶中。使用配置 AutoML Vision 时自动创建的存储桶。在我们的例子中，这个桶被命名为 gs:// <strong class="lb iu"> ekabasandbox-vcm </strong>。</li></ol><p id="811d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(6).从 Github 克隆预处理脚本。点击标有(<strong class="lb iu"> 1) </strong>的红色圆圈图标，输入 Github URL<a class="ae ky" href="https://github.com/dvdbisong/automl-medical-image-classification" rel="noopener ugc nofollow" target="_blank">https://Github . com/dvdbisong/automl-medical-image-classification</a>，克隆带有预处理代码的 repo。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/e433cceaa8067325aa0f0febca526392.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9lqBMSCTufeGi00q2Hcp1A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Clone preprocessing script</figcaption></figure><p id="f999" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(7).运行笔记本<code class="fe nz oa ob np b">preprocessing.ipynb</code>中的所有单元格，创建包含图像路径和标签的 CSV 文件，并将该文件上传到云存储。务必更改<code class="fe nz oa ob np b">bucket_name</code>的参数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/f9f27e855cce89eedb5cb630e01f04a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JLHM-0D4809auTR8xoZnMQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Run notebook cells</figcaption></figure><h1 id="5fd4" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">第 4 部分:使用云自动视觉建模</h1><p id="865e" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">(1).从 AutoML Vision 仪表板中单击“新建数据集”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/9816e1fde65e5a8fadc0c9d228936fe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Tk48kGGFQC25CKCHeSFgg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Create New Dataset</figcaption></figure><p id="49b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(2).填写数据集名称，并从 AutoML 创建的云存储桶中选择 CSV 文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/883c935a5d55709b8ba883a1d4612a0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ngcp3fOOvVDmngYG0d6S4g.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Create Dataset</figcaption></figure><p id="ed09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(3).现在，如果您看到错误消息“找到重复的文件”,您可以退出。据我所知，从文件名来看，情况并非如此。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/5500799a3bf07a3ba6ca15ecbf17f4fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qF4LRY_MjDjpZVehwWi6Zw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Cloud AutoML Processed Images</figcaption></figure><p id="72bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(4).点击<strong class="lb iu">列车</strong>，如上图红色所示，启动 Cloud AutoML 建模。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/75fa0105e13873d1e69a6922a8165e6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HiTggkiQ-DrregyS8RPv3Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Start AutoML Training</figcaption></figure><p id="78bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(5).选择模型的托管方式和培训预算。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/bda38b21cc965a1b59228696c408ef73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*--dO2Y8j0cUT6g5uB9Qojw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Select training parameters</figcaption></figure><p id="39c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(6).模型训练完成后，单击“评估”查看模型的性能指标。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/0dd8ec33381aeff34b076cfda827c9f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4WWRoNm5xustWqR9j9_HCA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Evaluate model performance</figcaption></figure><p id="a869" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(7).评估性能指标(精确度、召回率和混淆矩阵)。</p><div class="kj kk kl km gt ab cb"><figure class="oj kn ok ol om on oo paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/0d8c37ff1296e83d82ef6b288a1e4410.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*WlhNmB1oNxkk4hpXP5s2xg.png"/></div></figure><figure class="oj kn op ol om on oo paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/c14eb204bd89793d04b094a807aafe75.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*mp07ZURUlC_trZauY28e5Q.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk oq di or os">Evaluation page. Left: Precision and Recall score. Right: Confusion matrix and precision, recall graphs</figcaption></figure></div><h1 id="c62e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">第 5 部分:测试模型</h1><p id="fb56" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">(1).点击<strong class="lb iu">预测</strong>标签来测试模型。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/641e9b8fa550e25084c1987767d4069c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JyhFCyjw5as8glOv_b4CqQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Predict model</figcaption></figure><p id="34a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">(2).这里有一个测试的例子。该图像是胸部 x 射线扫描，并未用于训练模型。阅读本文的医学专家可以验证模型预测的准确性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/c6a6366af52d532f0813a796ada38666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rDGszqW-o95yWGaD_anRcQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Model test</figcaption></figure><p id="a1aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">自定义图像识别模型也作为 REST 或 Python API 公开，用于集成到软件应用程序中，作为推断的预测服务。</p><h1 id="e3a3" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">第六部分:结论</h1><p id="ac6c" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">本文提供了一个通过利用 Google 云平台 AutoML vision 为定制用例设计强大的 Vision 模型的演练。此外，模型托管在云上，作为预测服务进行推理。这是一种强大的机制，可以在决定是否继续进行更细粒度和/或手动调整的建模工作之前，快速原型化和构建图像分类或对象检测用例。有了这个，我相信它将作为一个模板，适用于你关心的视力问题。此外，确保删除不再需要的模型和数据集，这将节省云成本。</p><p id="de0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文节选自 Apress (Springer Nature)出版的《在 Google 云平台上构建机器学习和深度学习模型》一书<a class="ae ky" href="https://amzn.to/2Hz1n5B" rel="noopener ugc nofollow" target="_blank"/>。</p></div></div>    
</body>
</html>