<html>
<head>
<title>Play with QuickDraw: A Real-time Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">玩 QuickDraw:一个实时应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/play-with-quickdraw-a-real-time-application-137e66ea9b60?source=collection_archive---------13-----------------------#2019-06-13">https://towardsdatascience.com/play-with-quickdraw-a-real-time-application-137e66ea9b60?source=collection_archive---------13-----------------------#2019-06-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="0d0f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用深度学习开发游戏应用的虚拟交互的一步。</h2></div><h1 id="545d" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated"><strong class="ak">什么是 QuickDraw？</strong></h1><p id="94d2" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">猜字谜是一种游戏，一个人在空中画出一个物体的形状或图片，另一个人必须猜出来。就像猜字谜一样，Quickdraw 是一种游戏，你在摄像机前画一个图案，然后让计算机猜你画了什么。</p><h1 id="b2a3" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">关于快速绘图数据库</h1><p id="907e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这个想法的起源是由谷歌研究院的 Magenta 团队提出的。其实游戏“快，画！”最初是在 2016 年的谷歌 I/O 上推出的，后来该团队训练了基于卷积神经网络(CNN)的模型来预测绘画模式。他们在网上做了这个游戏。用于训练模型数据集由跨越 345 个类别的 5000 万个绘图组成。这 5000 万个模式如图 1 所示。图片取自<a class="ae lt" href="https://github.com/googlecreativelab/quickdraw-dataset" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lu"><img src="../Images/f233683867007dac73db061898d4aea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*077Q3n_z1PnkqC2bnp006Q.jpeg"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">Figure 1: Sample of database images</figcaption></figure><p id="322c" class="pw-post-body-paragraph kx ky iq kz b la mk jr lc ld ml ju lf lg mm li lj lk mn lm ln lo mo lq lr ls ij bi translated">该团队将数据库公开使用，以帮助研究人员训练自己的 CNN 模型。整个数据集分为 4 类:</p><ol class=""><li id="2101" class="mp mq iq kz b la mk ld ml lg mr lk ms lo mt ls mu mv mw mx bi translated"><a class="ae lt" href="https://console.cloud.google.com/storage/quickdraw_dataset/full/raw" rel="noopener ugc nofollow" target="_blank">原始文件</a> ( <code class="fe my mz na nb b">.ndjson</code>)</li><li id="1065" class="mp mq iq kz b la nc ld nd lg ne lk nf lo ng ls mu mv mw mx bi translated"><a class="ae lt" href="https://console.cloud.google.com/storage/quickdraw_dataset/full/simplified" rel="noopener ugc nofollow" target="_blank">简化图纸文件</a> ( <code class="fe my mz na nb b">.ndjson</code>)</li><li id="b24f" class="mp mq iq kz b la nc ld nd lg ne lk nf lo ng ls mu mv mw mx bi translated"><a class="ae lt" href="https://console.cloud.google.com/storage/quickdraw_dataset/full/binary" rel="noopener ugc nofollow" target="_blank">二进制文件</a> ( <code class="fe my mz na nb b">.bin</code>)</li><li id="1d53" class="mp mq iq kz b la nc ld nd lg ne lk nf lo ng ls mu mv mw mx bi translated"><a class="ae lt" href="https://console.cloud.google.com/storage/quickdraw_dataset/full/numpy_bitmap" rel="noopener ugc nofollow" target="_blank"> Numpy 位图文件</a> ( <code class="fe my mz na nb b">.npy</code>)</li></ol><p id="afbf" class="pw-post-body-paragraph kx ky iq kz b la mk jr lc ld ml ju lf lg mm li lj lk mn lm ln lo mo lq lr ls ij bi translated">一些研究人员使用这个数据集并成功地开发了训练好的 CNN 模型来预测绘画模式。你可以在这里找到这些实验和教程<a class="ae lt" href="https://github.com/googlecreativelab/quickdraw-dataset#get-the-data" rel="noopener ugc nofollow" target="_blank">。他们还在网上制作源代码来帮助其他研究人员。</a></p><h1 id="ee63" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated"><strong class="ak">使用 CNN 开发实时 QuickDraw 应用</strong></h1><p id="6d30" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在这里，我们开发了一个基于 tensorflow 的 QuickDraw 应用程序，使用了 15 个对象，而不是使用整个数据库图像。我们下载了 15 个班级的图片。npy 格式来自<a class="ae lt" href="https://console.cloud.google.com/storage/browser/quickdraw_dataset/full/numpy_bitmap" rel="noopener ugc nofollow" target="_blank">这里的</a>。这 15 类包括苹果、蜡烛、领结、门、信封、吉他、冰淇淋、鱼、山、月亮、牙刷、星星、帐篷和手表。</p><p id="5d40" class="pw-post-body-paragraph kx ky iq kz b la mk jr lc ld ml ju lf lg mm li lj lk mn lm ln lo mo lq lr ls ij bi translated">下载的数据集保存在名为“data”的文件夹中。用这些图像样本训练 CNN 模型。对于小数据集，我们用 3 个卷积层训练 CNN 模型，然后是最大池和丢弃。在拉平网络后，使用两个密集层。可训练参数的数量如图 2 所示。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/a4583546f4ab79775dc82d20ef72c35f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*hac6cuUsJcXgefCQgkLrpw.png"/></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk">Figure 2: Summary of CNN model used to train with QuickDraw dataset.</figcaption></figure><p id="dba7" class="pw-post-body-paragraph kx ky iq kz b la mk jr lc ld ml ju lf lg mm li lj lk mn lm ln lo mo lq lr ls ij bi translated">我们在用 OpenCV 库中指定的默认学习速率训练网络时使用了 Adam 优化。然而，我们也使用随机梯度下降(SGD ),但在这种情况下，您必须手动设置这些参数，因为默认学习率 SGD 给出的训练和验证精度较低。我们用 50 个纪元训练它。在 6GB RAM 的 CPU 中训练 CNN 模型需要大约 2 个小时。模型的准确率在 94%左右。实时测试的输出显示在下面的视频中。Bandicam 软件用于记录桌面活动。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="dcee" class="pw-post-body-paragraph kx ky iq kz b la mk jr lc ld ml ju lf lg mm li lj lk mn lm ln lo mo lq lr ls ij bi translated">该应用程序找到蓝色指针，并围绕它画一个圆，然后找到圆心，用手移动来画直线或曲线。你也可以用其他颜色替换蓝色指针。为此，您需要在代码中给出适当的 RGB 颜色组合。根据绘图模式，模型猜测并显示预测的表情符号作为输出。然而，有时它不能正确地分类物体。明显的原因是实时应用对噪声、背景颜色和用于采集视频流的传感器的质量敏感。然而，系统的准确性可以通过用更多的历元训练它来提高，保持手与蓝色指针足够接近网络摄像头。</p><p id="c30d" class="pw-post-body-paragraph kx ky iq kz b la mk jr lc ld ml ju lf lg mm li lj lk mn lm ln lo mo lq lr ls ij bi translated">这个应用程序的源代码可以在<a class="ae lt" href="https://github.com/gautamkumarjaiswal/QucikDraw" rel="noopener ugc nofollow" target="_blank"> GitHub </a>资源库中找到。你可以下载并使用它来训练你自己的 CNN 模型。在<a class="ae lt" href="https://github.com/gautamkumarjaiswal/QucikDraw" rel="noopener ugc nofollow" target="_blank"> GitHub </a>页面也提到了所需软件包的安装过程。</p><p id="17c7" class="pw-post-body-paragraph kx ky iq kz b la mk jr lc ld ml ju lf lg mm li lj lk mn lm ln lo mo lq lr ls ij bi translated">感谢 Jayeeta Chakraborty，他帮助我开发了这个项目。我还要感谢<a class="ae lt" href="https://github.com/akshaybahadur21/QuickDraw" rel="noopener ugc nofollow" target="_blank">阿克谢·巴哈杜尔</a>的精彩教程和代码。然而，我在 CNN 架构上做了一些改进，增加了额外的卷积和丢弃层来提高系统的性能。希望本文和代码能帮助您开发其他类似的实时应用程序。</p></div></div>    
</body>
</html>