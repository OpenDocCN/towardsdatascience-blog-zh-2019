<html>
<head>
<title>How to use Pipenv with Jupyter and VSCode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将 Pipenv 与 Jupyter 和 VSCode 一起使用</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-use-pipenv-with-jupyter-and-vscode-ae0e970df486?source=collection_archive---------4-----------------------#2019-10-23">https://towardsdatascience.com/how-to-use-pipenv-with-jupyter-and-vscode-ae0e970df486?source=collection_archive---------4-----------------------#2019-10-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/87e8cdecc89397f29628f44024acf7f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vbWVanTI44iDgzIq"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Activating the right environment in VSCode for Jupyter Notebook</figcaption></figure><h1 id="c11f" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">更新 2021</h1><p id="2c6a" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">本文写于 2019 年。在多年的开发过程中，我遇到了 pipenv 设置的各种问题。我将环境和依赖管理改为使用一个<em class="mb"> conda 环境和一个带有 pip-compile </em>的需求文件。在我的新文章“<strong class="lf iu">如何开始一个数据科学项目</strong>”<a class="ae mc" rel="noopener" target="_blank" href="/how-to-start-a-data-science-project-boilerplate-in-2021-33d81393e50">https://towards data science . com/How-to-start-a-data-science-project-boilerplate-in-2021-33d 81393 e50</a>中描述了我的最新设置</p><p id="b93e" class="pw-post-body-paragraph ld le it lf b lg md li lj lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma im bi translated">如果你还想用 pipenv，那么这篇文章应该还是有价值的。享受吧。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="03e2" class="kf kg it bd kh ki mp kk kl km mq ko kp kq mr ks kt ku ms kw kx ky mt la lb lc bi translated">介绍</h1><p id="4dae" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">目前，我在 JKU 大学学习人工智能，对于一些练习，我们需要使用<a class="ae mc" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> jupyter 笔记本</a>。使用 Python 一点点之后，包管理器<a class="ae mc" href="https://pipenv-fork.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> pipenv </a>被证明是有价值的。现在，我在 Jupyter 笔记本和 VSCode 中使用它时遇到了一些问题。因此，一个简短的指导我如何解决它。</p><h1 id="263d" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">目录</h1><ul class=""><li id="bd4e" class="mu mv it lf b lg lh lk ll lo mw ls mx lw my ma mz na nb nc bi translated"><a class="ae mc" href="https://github.com/Createdd/Writing/blob/feature/pipenvJupyterVscode/2019/articles/VSCodePipenv.md#the-issue" rel="noopener ugc nofollow" target="_blank">问题</a></li><li id="bf2b" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma mz na nb nc bi translated"><a class="ae mc" href="https://github.com/Createdd/Writing/blob/feature/pipenvJupyterVscode/2019/articles/VSCodePipenv.md#developing-with-jupyter-notebook-in-the-browser" rel="noopener ugc nofollow" target="_blank">在浏览器中使用 Jupyter 笔记本开发</a></li><li id="d682" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma mz na nb nc bi translated"><a class="ae mc" href="https://github.com/Createdd/Writing/blob/feature/pipenvJupyterVscode/2019/articles/VSCodePipenv.md#develop-with-jupyter-notebook-in-vscode" rel="noopener ugc nofollow" target="_blank">在 VSCode 中用 Jupyter 笔记本开发</a></li><li id="101d" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma mz na nb nc bi translated"><a class="ae mc" href="https://github.com/Createdd/Writing/blob/feature/pipenvJupyterVscode/2019/articles/VSCodePipenv.md#about" rel="noopener ugc nofollow" target="_blank">关于</a></li></ul><h1 id="dac4" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">问题</h1><p id="f04a" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">正如我在上一篇文章<a class="ae mc" rel="noopener" target="_blank" href="/working-with-vscode-and-jupyter-notebook-style-5ecaf47f9f84">使用 Jupyter 和 VSCode </a>中所描述的，我使用 pyenv 和 pipenv 来管理我的 python 开发中的所有包。我还参考了一些文章，为什么这种方式是有帮助的，易于使用。现在，有必要再深入一点。有两种方法可以让你用 jupyter notebook 进行开发。您可以直接在浏览器中或在 VSCode 中使用它。在这两种用例中，都会出现问题。</p><h1 id="3d49" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">在浏览器中用 Jupyter 笔记本开发</h1><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ni"><img src="../Images/4e134ac996612501edbc0f139bbc3aa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*h_D1DMMlqPp01-uS.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Jupyter Notebook in the browser</figcaption></figure><p id="adf6" class="pw-post-body-paragraph ld le it lf b lg md li lj lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma im bi translated">假设您的系统上已经有了合适的 python 环境，现在您想为一个项目创建一个特定的环境。</p><ol class=""><li id="0dda" class="mu mv it lf b lg md lk me lo nn ls no lw np ma nq na nb nc bi translated">首先，创建一个 Pipenv 环境。</li><li id="53c8" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma nq na nb nc bi translated">确保导航到正确的目录。</li><li id="f49a" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma nq na nb nc bi translated">使用<code class="fe nr ns nt nu b">pipenv install &lt;packages&gt;</code>来安装你所有的软件包。</li><li id="874b" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma nq na nb nc bi translated">然后用<code class="fe nr ns nt nu b">pipenv shell</code>激活你的外壳。</li><li id="c436" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma nq na nb nc bi translated">然后用<code class="fe nr ns nt nu b">pipenv install jupyter</code>，之后用<code class="fe nr ns nt nu b">pipenv run jupyter notebook</code>。</li></ol><p id="8177" class="pw-post-body-paragraph ld le it lf b lg md li lj lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma im bi translated">现在 jupyter 服务器已经启动，您的笔记本将可以访问正确的环境。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nv"><img src="../Images/e9819d6b4f626ea4d8a150268591c2f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0lUqQQhJR2PzL91W"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Activating the right environment for Jupyter notebook in the browser</figcaption></figure><h1 id="dd11" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">在 VSCode 中用 Jupyter 笔记本开发</h1><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nw"><img src="../Images/a139c676fc7fc2ec1a42393327e29bb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TRs96-57izBuPxur.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Jupyter Notebook in VSCode</figcaption></figure><p id="0ba9" class="pw-post-body-paragraph ld le it lf b lg md li lj lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma im bi translated">现在来看看 VSCode 中的工作流。在这里，了解不同的 shells 是很重要的。我经常使用单独的终端(iterm2 ),有时激活的 shell 无法被 VSCode 识别，或者您位于错误的目录中，或者它没有被激活。所有这些都会带来问题。因此我的工作流程如下:</p><ol class=""><li id="0000" class="mu mv it lf b lg md lk me lo nn ls no lw np ma nq na nb nc bi translated">首先，创建一个 Pipenv 环境。</li><li id="9c8e" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma nq na nb nc bi translated">确保导航到正确的目录。</li><li id="4cef" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma nq na nb nc bi translated">使用<code class="fe nr ns nt nu b">pipenv install &lt;packages&gt;</code>来安装你所有的软件包。</li><li id="595b" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma nq na nb nc bi translated">然后，确保在 vscode 文件夹中有一个正确的设置文件，其内容如下:</li></ol><pre class="nj nk nl nm gt nx nu ny nz aw oa bi"><span id="f029" class="ob kg it nu b gy oc od l oe of">{<br/>    "python.venvPath": "${workspaceFolder}/.venv/bin/python",<br/>    "python.pythonPath": ".venv/bin/python",<br/>}</span></pre><ul class=""><li id="e23d" class="mu mv it lf b lg md lk me lo nn ls no lw np ma mz na nb nc bi translated">之后，您可以在 VSCode 中选择合适的 python 环境。(应该是用 Pipenv 创建的！)现在，python 文件可以识别正确的环境。</li></ul><p id="a84d" class="pw-post-body-paragraph ld le it lf b lg md li lj lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma im bi translated">通常这对于 VSCode 应该足够了，你可以在其中启动 Jupyter 服务器。</p><p id="cd7e" class="pw-post-body-paragraph ld le it lf b lg md li lj lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma im bi translated">但是有时你改变了环境，或者设置文件有问题。如果是这种情况，您需要打开 VSCode 终端并运行<code class="fe nr ns nt nu b">pipenv shell</code>来激活 shell。(检查是否仍在 VSCode 中选择了正确的环境):</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/279be6ff19c49d4384713b872e1b15b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IEo4btpNrnAMu52M"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Activating the right environment in VSCode for Jupyter Notebook</figcaption></figure><p id="136e" class="pw-post-body-paragraph ld le it lf b lg md li lj lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma im bi translated">现在打开。ipynb 文件，您将能够运行单元格，而不会得到错误<code class="fe nr ns nt nu b">"... was not able to start jupyter server in environment xxx"</code></p><p id="01ca" class="pw-post-body-paragraph ld le it lf b lg md li lj lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma im bi translated">如果有帮助，或者在 VSCode 和 Jupyter Notebook 中使用 Pipenv 有其他问题或解决方案，请告诉我。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><figure class="nj nk nl nm gt ju gh gi paragraph-image"><a href="https://www.buymeacoffee.com/createdd"><div class="gh gi og"><img src="../Images/83466a0fecfad25d83533bd8e919086d.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*mW8ks3kpW9KQewTN8fe25w.png"/></div></a><figcaption class="kb kc gj gh gi kd ke bd b be z dk">You can support me on <a class="ae mc" href="https://www.buymeacoffee.com/createdd" rel="noopener ugc nofollow" target="_blank">https://www.buymeacoffee.com/createdd</a></figcaption></figure><h1 id="772a" class="kf kg it bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc bi translated">关于</h1><p id="72e1" class="pw-post-body-paragraph ld le it lf b lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">我认为自己是一个解决问题的人。我的强项是在复杂的环境中导航，提供解决方案并分解它们。我的知识和兴趣围绕商业法和编程机器学习应用发展。我在构建数据分析和评估业务相关概念方面提供服务。</p><figure class="nj nk nl nm gt ju gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/6192c4a1ef64c7b5f505870595a7c9a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/0*6R3nwk2smvEu7Qmf"/></div></figure><p id="ff00" class="pw-post-body-paragraph ld le it lf b lg md li lj lk me lm ln lo mf lq lr ls mg lu lv lw mh ly lz ma im bi translated"><strong class="lf iu">接通:</strong></p><ul class=""><li id="8467" class="mu mv it lf b lg md lk me lo nn ls no lw np ma mz na nb nc bi translated"><a class="ae mc" href="https://www.linkedin.com/in/createdd" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="b805" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma mz na nb nc bi translated"><a class="ae mc" href="https://github.com/Createdd" rel="noopener ugc nofollow" target="_blank"> Github </a></li><li id="1860" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma mz na nb nc bi translated"><a class="ae mc" href="https://medium.com/@createdd" rel="noopener">中等</a></li><li id="cfc4" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma mz na nb nc bi translated"><a class="ae mc" href="https://twitter.com/_createdd" rel="noopener ugc nofollow" target="_blank">推特</a></li><li id="2225" class="mu mv it lf b lg nd lk ne lo nf ls ng lw nh ma mz na nb nc bi translated"><a class="ae mc" href="https://www.instagram.com/create.dd/" rel="noopener ugc nofollow" target="_blank"> Instagram </a></li></ul></div></div>    
</body>
</html>