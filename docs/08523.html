<html>
<head>
<title>Topic Modeling with Gensim</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Gensim 进行主题建模</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/topic-modeling-with-gensim-a5609cefccc?source=collection_archive---------14-----------------------#2019-11-18">https://towardsdatascience.com/topic-modeling-with-gensim-a5609cefccc?source=collection_archive---------14-----------------------#2019-11-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c689" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用 Python 的 Gensim 库预处理文本和主题建模的入门指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/be3dc8f0c857ad42f0d4405d7b7b8670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KQP9LUafyHgMiqKR_Hm0Gw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@ilumire?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Jelleke Vanooteghem</a> on <a class="ae ky" href="https://unsplash.com/s/photos/words?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="840e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Topic_model" rel="noopener ugc nofollow" target="_blank">主题建模</a>是一种发现出现在文档集合中的主题的方法。它可以用于从聚类到降维的任务。</p><p id="177d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">主题模型在许多场景中都很有用，包括文本分类和趋势检测。</p><p id="f867" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，一个主要的挑战是提取高质量、有意义和清晰的主题。Gensim 是一个 Python 库，它将自己定义为“人类的主题建模”,这有助于使我们的任务变得简单一些。</p><p id="a793" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://radimrehurek.com/gensim/intro.html" rel="noopener ugc nofollow" target="_blank"> Gensim 的介绍</a>中，它被描述为“被设计成尽可能高效(对计算机而言)和无痛(对人类而言)地从文档中自动提取语义主题。”</p><p id="2281" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对我来说，这使得使用它进行主题建模变得显而易见。</p><h2 id="202b" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">数据和目标</h2><p id="76bf" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们将继续使用我们的<a class="ae ky" rel="noopener" target="_blank" href="/my-first-twitter-app-1115a327349e">唐纳德·特朗普推特数据集</a>。它相对较小，易于使用，并且涵盖了非常多样的主题。</p><p id="fc65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">鉴于推特的数据集，我们将尝试识别关键话题或主题。</p><h2 id="e5af" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">文本预处理</h2><p id="d616" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">Gensim 的网站称其“旨在处理原始的、非结构化的数字文本”,并为此配备了一个<a class="ae ky" href="https://radimrehurek.com/gensim/parsing/preprocessing.html" rel="noopener ugc nofollow" target="_blank">预处理</a>模块。</p><p id="09bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mt mu mv mw b">preprocess_string</code>方法使得准备文本变得非常容易。默认情况下，它会去掉标点符号、HTML 标签、多个空格、非字母字符和停用词，甚至会对文本进行词干处理！它返回一个完全处理过的字符串列表:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx my l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Preprocess_string example</figcaption></figure><p id="78f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不幸的是，对于我们的 twitter 数据集，默认设置可能不是最好的选择:链接被分成两个标记，其中第二个标记似乎没有意义。</p><p id="4f97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，我们仍然可以使用<code class="fe mt mu mv mw b">preprocess_string</code>并声明一个定制的过滤器变量来选择我们想要使用的过滤器:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/f1890aa757521fb4cf1bc91b00c62ee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LUvpWGgik3RQ8L-mUa3AaQ.png"/></div></div></figure><p id="7277" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样更好看！我们已经对文本进行了预处理，保持了链接的完整性。</p><h2 id="16c1" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">词典和语料库创建</h2><p id="2f28" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">Gensim 要求将令牌转换为字典。在这种情况下，字典是单词和它们的整数 id 之间的映射。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/45011b935ed96990d8418a7ae57e790e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4yJt3UMhi04sD37hPjdkKg.png"/></div></div></figure><h2 id="ffda" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">主题和转换</h2><p id="7629" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">Gensim 支持几种不同的转换，但这里我们将只关注 TF-IDF 和 LDA。</p><p id="cb72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">TF-IDF 或术语频率逆文档频率类似于词袋，但它降低了频繁出现的标记的权重。</p><p id="f136" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据 Gensim 的文档，LDA 或潜在狄利克雷分配是“从词袋计数到低维度主题空间的转换”。。。LDA 的主题可以解释为单词的概率分布。</p><p id="e583" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们首先将 TF-IDF 应用于我们的语料库，然后是 LDA，试图获得最佳质量的主题。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/62085a3d2ec10108c40ee528c398e87d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tUK0bU2rUgqg3PUNXc6epA.png"/></div></div></figure><h2 id="e16f" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">形象化</h2><p id="a804" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们可以使用<a class="ae ky" href="https://pyldavis.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> PyLDAVis </a>轻松地可视化和解释我们的 LDA 模型中的主题。</p><p id="6384" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当解释我们的视觉化时，请记住，较大的主题表明它们更频繁，彼此更接近的主题更相似。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/185f34374f17de4b4dad0aa12631cd7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tTE2Q5zvOk9Q1BJWLZCkNQ.png"/></div></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/fecc64947ef4014f9e0864e83d07e94d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9ltL1LJJiOaJt3NUdPWyxw.png"/></div></div></figure><p id="badd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到我们有 10 个主题。一些主题有明显的重叠。这可能表明我们的主题可能不理想。</p><p id="f923" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有几种方法可以用来改善我们的主题分离。一些潜在的选择是提高我们预处理的质量，改变主题的数量，以及添加 n 元语法。</p><h2 id="d7c4" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">结论</h2><p id="f5c4" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在这里，我们探索了用 Gensim 进行主题建模和预处理，这只是该库所提供的一小部分。</p><p id="5273" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在以后的文章中，我们将继续探索主题建模，包括提高主题质量的方法。</p></div></div>    
</body>
</html>