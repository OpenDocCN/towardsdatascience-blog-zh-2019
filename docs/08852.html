<html>
<head>
<title>Battling out the GPU Frustration with Google Colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Google Colab 战胜 GPU 的挫败感</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/battling-out-the-gpu-frustration-with-google-colab-2fb62ecf276d?source=collection_archive---------9-----------------------#2019-11-26">https://towardsdatascience.com/battling-out-the-gpu-frustration-with-google-colab-2fb62ecf276d?source=collection_archive---------9-----------------------#2019-11-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="979e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">轻松开发复杂机器学习模型的平台。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/fcf6da85e83ca1af3fcc5a6737da151a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*qOD3yW7jyEgS5fyl81H2PA.png"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">image from <a class="ae ku" href="https://www.nvidia.com/en-gb/data-center/tesla-k80/" rel="noopener ugc nofollow" target="_blank">NVIDIA</a></figcaption></figure><p id="0288" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">随着机器学习和深度学习模型的数据集规模大幅增加，对 GPU 更快训练模型的需求也在升级。作为数据科学的学生，我们都知道我们受到挑战的笔记本电脑需要多长时间来运行包含数百万条记录的数据集的机器学习或深度学习模型。</p><p id="b45c" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">一般来说，基本的笔记本电脑和个人电脑需要用户花费大量的时间来将数据拟合到构建的模型中。因此，超调模型的过程会受到这种约束的影响。</p><p id="5e9a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这种情况的另一种选择是购买外部 GPU，基本型号的平均价格为 250-300 美元。对于一个学生来说，对于他/她正在努力的大学项目来说，这是一个很大的代价。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/9058e8f84ac8551d9549b4ee167053f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*RCENUVexjL3D41Ce9kXgSw.gif"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">GIF from <a class="ae ku" href="https://giphy.com/gifs/angry-frustrated-L4AQvif7x9fS8/media" rel="noopener ugc nofollow" target="_blank">Giphy</a></figcaption></figure><blockquote class="ls"><p id="57b0" class="lt lu it bd lv lw lx ly lz ma mb lq dk translated">我知道这很令人沮丧！！！</p></blockquote><p id="d35e" class="pw-post-body-paragraph kv kw it kx b ky mc ju la lb md jx ld le me lg lh li mf lk ll lm mg lo lp lq im bi translated">多亏了谷歌，学生们可以不再担心这样的情况，因为谷歌在云上提供了一个免费的 GPU 来运行大规模的机器学习项目。</p><blockquote class="ls"><p id="04b9" class="lt lu it bd lv lw mh mi mj mk ml lq dk translated">本文将带您开始使用 Google Colab，这是一个免费的 GPU 云服务，带有一个基于 Jupyter Notebook 的编辑器。</p><p id="065e" class="lt lu it bd lv lw mh mi mj mk ml lq dk translated">用户可以运行他们的机器学习和深度学习模型，这些模型建立在当前最受欢迎的库上——Keras、Pytorch、Tensorflow 和 OpenCV。</p><p id="c4ee" class="lt lu it bd lv lw mh mi mj mk ml lq dk translated">首先，你需要一些 Python 和 Jupyter notebook 的知识，以及基本的机器学习概念。</p></blockquote><p id="6210" class="pw-post-body-paragraph kv kw it kx b ky mc ju la lb md jx ld le me lg lh li mf lk ll lm mg lo lp lq im bi translated">Google Colab 是 Python 流行库的完美工具，如<strong class="kx iu"> Keras </strong>、<strong class="kx iu"> Tensorflow </strong>、<strong class="kx iu"> Pytorch </strong>。您可以创建一个新的<strong class="kx iu"> Python 3 </strong>或<strong class="kx iu"> Python 2 </strong>笔记本，打开存储在各自用于创建笔记本的 google 帐户中的笔记本，并可以从本地计算机上传笔记本。在将我们的数据集上传到平台的情况下，有一个缺点，即当会话重新启动时，数据集会被删除。我们可以将 Google Drive 安装到笔记本上，这是一个很酷的功能，而不是每次打开笔记本时都要上传文件。</p><h1 id="bebd" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">Google Colab 入门</h1><p id="de00" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">我们可以通过点击下面的链接启动该平台</p><div class="nj nk gp gr nl nm"><a href="https://colab.research.google.com/notebooks/welcome.ipynb?pli=1" rel="noopener  ugc nofollow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd iu gy z fp nr fr fs ns fu fw is bi translated">谷歌联合实验室</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">编辑描述</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">colab.research.google.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa ko nm"/></div></div></a></div><p id="9d4f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">一旦你点击链接，你将被要求使用你的谷歌账户登录，你创建的所有笔记本将被自动存储以备将来使用。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi ob"><img src="../Images/ad12b714c0914ad4f353e1ad069d249a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*66QNjeLydncMwP3vzDTEOQ.png"/></div></div></figure><ul class=""><li id="f39f" class="og oh it kx b ky kz lb lc le oi li oj lm ok lq ol om on oo bi translated"><strong class="kx iu">示例</strong>选项卡提供了一些代码，为了使用 Google Colab 的大部分功能，必须对这些代码进行适当的检查。</li><li id="7f51" class="og oh it kx b ky op lb oq le or li os lm ot lq ol om on oo bi translated"><strong class="kx iu">最近的</strong>选项卡提供了您最近创建或处理的几个笔记本。</li><li id="009f" class="og oh it kx b ky op lb oq le or li os lm ot lq ol om on oo bi translated"><strong class="kx iu"> Google Drive </strong>选项卡提供所有链接到您的 Google 帐户的笔记本。</li><li id="0dc2" class="og oh it kx b ky op lb oq le or li os lm ot lq ol om on oo bi translated"><strong class="kx iu"> Github </strong>标签让你将你的 Github 账户链接到 google colab。</li><li id="a235" class="og oh it kx b ky op lb oq le or li os lm ot lq ol om on oo bi translated"><strong class="kx iu">上传</strong>选项卡提供了从本地计算机上传文件的链接。通过广泛使用该平台，可以了解大多数隐藏的功能。</li></ul><h1 id="4cfa" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">基本布局和功能</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi ou"><img src="../Images/158b0ec3a30b357195762e766a0e10a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8qwk7Qfnt84MtvaYgYjMsA.png"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">image from <a class="ae ku" href="https://colab.research.google.com/notebooks/welcome.ipynb?pli=1" rel="noopener ugc nofollow" target="_blank">Google Colab</a></figcaption></figure><p id="2a49" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这是创建新笔记本时生成的基本布局。大部分功能与<a class="ae ku" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter 笔记本</a>相似。双击 Untitled.ipynb 可以更改笔记本的名称<strong class="kx iu"> +Code 和+ Text </strong>分别用于添加新的 Code 单元格或 markdown 单元格。其他用户可以通过添加他们的 Gmail 地址来共享笔记本，这样每个人都可以在一个地方进行适当的更改。您可以通过点击屏幕右上角的<strong class="kx iu">连接</strong>按钮开始新的会话。</p><p id="9828" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在开始会话之前，最好将运行时类型更改为 GPU(因为这是使用 Google Colab 的主要目的)，可以在<strong class="kx iu">运行时</strong>选项卡中访问它。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/10854dfe1b684d27510656719bd2d6ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*rLLkcDijHnZ3qDDF1Fc4yw.gif"/></div></figure><p id="2fb0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">Google Colab 是一个非常简单但功能强大的平台，可以运行您的机器学习和深度学习模型，而不必担心 GPU 的能力。如果你习惯在 Jupyter 笔记本上工作，那么这将是小菜一碟。</p><h1 id="cb14" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">降价</h1><p id="2412" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">我想强调一下降价，因为它们在开发 Jupyter 笔记本时增加了很多重量。它帮助你通过你的代码讲述一个故事，如果你想成为一名数据科学家，这是必须的。管理主要需要输出，而不是相关的代码，这简化了这个过程。Google Colab 提供了对所写的降价的实时预览，这样你就不必每次都运行单元格来进行微小的修改。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oc od di oe bf of"><div class="gh gi ow"><img src="../Images/97647331cc556e2cc9d41643725ec3fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lcp_fzrTbAP6jrJP8APQoQ.png"/></div></div></figure><h2 id="6e67" class="ox mn it bd mo oy oz dn ms pa pb dp mw le pc pd my li pe pf na lm pg ph nc pi bi translated"><strong class="ak">上传数据</strong></h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/1b403e1af73f2d0e2e246ad479e401a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*IV6nRBwPrV8V6zaqr3eNCQ.png"/></div></figure><p id="d8e4" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">该窗口出现在屏幕左侧，并带有一个与之相关的箭头。在这里，你可以从本地计算机上传一个文件或者挂载你的 Google Drive(我会在文章的后半部分解释)。</p><h1 id="3e34" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">基本命令</h1><h1 id="78cb" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">1.安装你的谷歌硬盘</h1><pre class="kj kk kl km gt pk pl pm pn aw po bi"><span id="cb33" class="ox mn it pl b gy pp pq l pr ps">from google.drive import drive <br/>drive.mount(/content/gdrive)</span></pre><h1 id="82fb" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">2.安装库</h1><pre class="kj kk kl km gt pk pl pm pn aw po bi"><span id="70d3" class="ox mn it pl b gy pp pq l pr ps">!pip install keras</span></pre><h1 id="a229" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">3.克隆 Github 存储库</h1><pre class="kj kk kl km gt pk pl pm pn aw po bi"><span id="c6fa" class="ox mn it pl b gy pp pq l pr ps">!git clone<a class="ae ku" href="https://github.com/pytorch/pytorch" rel="noopener ugc nofollow" target="_blank"> https://github.com/pytorch/pytorch</a></span></pre><h1 id="a9c9" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">4.运行 Python 脚本</h1><pre class="kj kk kl km gt pk pl pm pn aw po bi"><span id="df8b" class="ox mn it pl b gy pp pq l pr ps">!python setup.py</span></pre><h1 id="58aa" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">TPU 电力公司</h1><p id="e334" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">TPU(张量处理单元)是由谷歌开发的，旨在提供高计算能力来训练机器学习和深度学习模型。尽管你可以随意使用 NVIDIA Tesla K80，但 TPU 提供的动力要大得多。根据 Google 的 Colab 文档提供的信息，<strong class="kx iu"> A GPU </strong>提供<strong class="kx iu"> 1.8TFlops </strong>并拥有<strong class="kx iu"> 12GB RAM </strong>，而<strong class="kx iu"> TPU </strong>提供<strong class="kx iu"> 180TFlops </strong>并提供<strong class="kx iu"> 64GB RAM。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/e29a04bdf0e33898f1c6ef40a908d439.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*M5gSU8MuDmdhke9dOF2vQw.gif"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">GIF from <a class="ae ku" href="https://giphy.com/gifs/13RUArdtYSddra/media" rel="noopener ugc nofollow" target="_blank">Giphy</a></figcaption></figure><h1 id="5735" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">结论</h1><p id="3389" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">Google Colab 是 Jupyter Notebook 运行高计算深度学习和机器学习模型的绝佳替代品。您可以随时与其他开发人员共享您的代码，以便他们可以帮助您优化代码。大多数 python 库都预装了 Google Colab，因此它减轻了安装每个库的负担。和主要功能将是免费的 GPU！！！。</p><p id="81d3" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">像往常一样，免费产品有一些限制。(无关紧要的限制，但在某些情况下会有所不同)。只能使用<strong class="kx iu">Python 2.7</strong>(2020 年 1 月起弃用)或<strong class="kx iu"> 3.6 </strong>作为编程语言，不支持<strong class="kx iu"> R </strong>。每个用户的 GPU 分配限制为一次 12 小时。使用的 GPU 是<strong class="kx iu"> NVIDIA Tesla K80 </strong>，一旦会话完成，用户可以通过连接到不同的虚拟机来继续使用资源。</p><p id="f74b" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我建议你参考<a class="ae ku" href="https://medium.com/better-programming/one-stop-guide-to-google-colab-d67c94d30516" rel="noopener">你的 Google Colab 一站式指南</a>，它提供了更多的技巧和窍门，让你对 Google Colab 有更深的了解。</p><p id="5ba1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">谢谢你。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/2685c2d4dbaa4bbbdc26637e9945bcee.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*2UKzoXoILplfTUa1Y1-drQ.gif"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">GIF from <a class="ae ku" href="https://giphy.com/gifs/hero0fwar-karmawhore-rhyming-g9582DNuQppxC/media" rel="noopener ugc nofollow" target="_blank">Giphy</a></figcaption></figure></div></div>    
</body>
</html>