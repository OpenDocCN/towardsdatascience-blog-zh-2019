<html>
<head>
<title>How to predict your best footballers’ FIFA 20 ratings.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何预测你的最佳足球运动员的 FIFA 20 评分？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-predict-your-best-footballers-fifa-20-ratings-9d1147ced401?source=collection_archive---------20-----------------------#2019-10-12">https://towardsdatascience.com/how-to-predict-your-best-footballers-fifa-20-ratings-9d1147ced401?source=collection_archive---------20-----------------------#2019-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3be96d1e3d6ac568c51714df7e71c554.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vypmy70z3q7HBjl-UNj-Sg.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="8e5f" class="pw-subtitle-paragraph kb jd je bd b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks dk translated">创建一个机器学习算法来预测 FIFA 20 球员的评分。</h2></div><p id="6f51" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">我把球从米尔纳传给萨拉赫。萨拉赫快速运球，把球传给菲尔米诺。菲尔米诺时髦地给马内做了一个 360 度的转身。马内用左脚将球踢入门柱的右上角。这是一个目标。备受好评的利物浦足球俱乐部队的又一次强有力的努力。</p><p id="c016" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">这种能在虚拟世界里控制自己喜欢的玩家，让他们做不同技能的感觉深不可测。我在国际足联有过一些最好的经历。我可以看到足球运动员做我想让他们做的事情，并有机会控制比赛的节奏和结果，这就是为什么我对玩 FIFA 20 如此兴奋。</p><p id="dbb6" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">EA sports 每年都会发布一款新的 FIFA 游戏。今年，我最喜欢的球员，维吉尔·范·迪克登上了封面。我不能只是等待安装游戏，并使用一个 91 额定范迪克发挥对对手。我也渴望体验新的游戏活动，如沃尔塔足球，家规和国际足联终极团队。</p><p id="1418" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">看着球员的评分，我想起了我前一阵子写的一篇文章(可以在这里找到<a class="ae lp" href="https://medium.com/@Mubarak_Ganiyu/how-to-justify-your-best-footballers-fifa-ratings-f12c96a93ea0" rel="noopener">这里</a>)，我在文章中用机器学习算法预测了 FIFA 19 球员的评分。因此，我决定写一篇关于预测 FIFA 20 球员评分的新文章。</p><p id="f83c" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">这是通过两种方式完成的。首先，通过使用国际足联 20 名球员的属性。然后，通过使用开发的机器学习算法来预测 FIFA 19 球员的收视率。</p><h1 id="3b28" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">数据集</h1><p id="785a" class="pw-post-body-paragraph kt ku je kv b kw mi kf ky kz mj ki lb lc mk le lf lg ml li lj lk mm lm ln lo im bi translated">找到了具有正确属性的数据集。从这个<a class="ae lp" href="https://www.kaggle.com/stefanoleone992/fifa-20-complete-player-dataset" rel="noopener ugc nofollow" target="_blank">链接</a>获得了由 2019 年 FIFA 评分和 2020 年 FIFA 评分组成的两个数据集。在他们被获得之后，他们被装载并且清洗进 Jupyter 笔记本。为数据分析保留的主要特征是:姓名、总体情况、年龄、价值、工资和潜力。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/338907bae5151828c4e604b631571cf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*J7cBhfjEja8q4H4jkB4PcA.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Top five rows of the FIFA 20 dataset</figcaption></figure><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/5939a5c2ebdbe76ede9002b9205cbdfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*6edjp1ZksyagPziIw_zavQ.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Top five rows of the FIFA 19 dataset</figcaption></figure><h1 id="223d" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">将 FIFA 20 名球员的属性与其总体评分进行比较</h1><p id="0b84" class="pw-post-body-paragraph kt ku je kv b kw mi kf ky kz mj ki lb lc mk le lf lg ml li lj lk mm lm ln lo im bi translated">创建了一个散点图来找出 FIFA 20 球员的总体评分与他们的潜力之间的关系。在散点图中也建立了回归线。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/8758086c8b4208fd35721d00d16b5ab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*k_THHJrcuZ6lSEnWUFyXtQ.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">A scatterplot of FIFA 20 players’ overall ratings vs potential</figcaption></figure><p id="ae5a" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">该散点图的相关系数约为 0.647，表明两个变量之间存在适度的正相关关系。</p><p id="b349" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">下表显示了所有变量之间的相关系数。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div class="gh gi my"><img src="../Images/baba28295016789ed1c18a42767c4927.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*tIkBG4c-2gPNbAwwSBuNhQ.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">The correlation coefficient table for all the variables</figcaption></figure><p id="47ef" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">在回顾了其他变量与总体评分的关系后，得出的结论是，年龄、工资和价值也与总体评分有适度的正相关关系。</p><h1 id="13c6" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">基于 FIFA 20 属性的预测模型</h1><p id="0a2f" class="pw-post-body-paragraph kt ku je kv b kw mi kf ky kz mj ki lb lc mk le lf lg ml li lj lk mm lm ln lo im bi translated">数据集分为两组:训练数据集和测试数据集。训练数据集保留了整个数据集的 87.5 %，而测试数据集保留了整个数据集的 12.5 %。</p><p id="b07b" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">将数据集分成两组的目的是使用训练数据集来了解自变量(年龄、潜力、价值和工资)如何与因变量(总体)相互作用。然后，从这种交互开发的算法用于预测测试数据集的总体评级。</p><p id="5e3b" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">下面是拆分、训练和测试数据集的代码。</p><h2 id="04e0" class="mz lr je bd ls na nb dn lw nc nd dp ma lc ne nf mc lg ng nh me lk ni nj mg nk bi translated">分割数据集</h2><pre class="mo mp mq mr gt nl nm nn no aw np bi"><span id="0583" class="mz lr je nm b gy nq nr l ns nt"><strong class="nm jf">import</strong> <strong class="nm jf">numpy</strong> <strong class="nm jf">as</strong> <strong class="nm jf">np</strong><br/>split = np.random.rand(len(df_fifa1)) &lt; 0.875<br/>train = df_fifa1[split]<br/>test = df_fifa1[~split]<br/>  <br/>regr = linear_model.LinearRegression()</span></pre><h2 id="fff8" class="mz lr je bd ls na nb dn lw nc nd dp ma lc ne nf mc lg ng nh me lk ni nj mg nk bi translated">训练数据集</h2><pre class="mo mp mq mr gt nl nm nn no aw np bi"><span id="7c5e" class="mz lr je nm b gy nq nr l ns nt"><em class="nu">## Trainig &amp; fitting the model</em><br/>fifa_x_train = train[['age','value_eur','potential','wage_eur']]<br/>fifa_y_train = train[['overall']]<br/>poly = PolynomialFeatures(degree=4)<br/>fifa_x_train_poly = poly.fit_transform(fifa_x_train)<br/>regr.fit(fifa_x_train_poly, fifa_y_train)</span></pre><h2 id="ec56" class="mz lr je bd ls na nb dn lw nc nd dp ma lc ne nf mc lg ng nh me lk ni nj mg nk bi translated">测试数据集</h2><pre class="mo mp mq mr gt nl nm nn no aw np bi"><span id="4b33" class="mz lr je nm b gy nq nr l ns nt"><em class="nu">## Testing the model</em><br/>fifa_x_test = test[['age','value_eur','potential', 'wage_eur']]<br/>fifa_y_test = test[['overall']]<br/>fifa_x_test_poly = poly.fit_transform(fifa_x_test)</span></pre><p id="934f" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">使用 a 为四次的多元多项式回归进行预测，并使用 r2 分数、皮尔逊相关系数和 p 值测试其准确性。</p><p id="9854" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">机器学习算法非常准确。其 r2 分数约为 97.6 %，皮尔逊相关系数为 98.8 %，p 值为 0。</p><h1 id="3718" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">预测的玩家评分</h1><p id="4e22" class="pw-post-body-paragraph kt ku je kv b kw mi kf ky kz mj ki lb lc mk le lf lg ml li lj lk mm lm ln lo im bi translated">进行预测后，创建两个表来显示训练数据集的预测评级和测试数据集的预测评级。</p><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nv"><img src="../Images/c77b89a9ba7bee518c214c79d4601cbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aVbFOnIRgV-o1fBWwAmD7g.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">First 20 rows of the training datasets’ predicted ratings</figcaption></figure><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nw"><img src="../Images/8b42e947ec68f0321558e4ee7a30cced.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GduiqSbRF7Jp5_3z38HNqw.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">First 20 rows of the testing datasets’ predicted ratings</figcaption></figure><p id="d389" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">在这两个数据集中，玩家的预测评分可以在右边第一列看到。这使得莱昂内尔·梅西的预测评分为 93.59，罗纳尔多的预测评分为 93.27，内马尔的预测评分为 91.00。因此，显示了他们的评级与他们分别为 94、93 和 92 的实际评级相比有多准确，并证明了该模型 97.6 %的准确性。</p><h1 id="ac46" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">利用 FIFA 19 预测模型预测 FIFA 20 球员的评分</h1><p id="87d7" class="pw-post-body-paragraph kt ku je kv b kw mi kf ky kz mj ki lb lc mk le lf lg ml li lj lk mm lm ln lo im bi translated">基于属性为 FIFA 20 球员的评级生成预测模型的相同过程被重复用于 FIFA 19 球员的数据集。然后，来自 FIFA 19 数据集的预测模型用于使用 FIFA 20 球员的属性生成 FIFA 20 评级的预测评级。</p><p id="8ea1" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">这个模型也被证明是准确的。它的 r-2 值为 97.4 %，皮尔逊相关系数为 98.8 %，p 值为 0。</p><h1 id="b2ab" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">预测的玩家评分</h1><figure class="mo mp mq mr gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nx"><img src="../Images/4ccd55f8d97629dedf5388a7f94889e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7l6ZtFQMLuslmlTocN5ZAw.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">First 20 rows of FIFA 20 predicted players’ ratings based on FIFA 19 predictive model in descending order</figcaption></figure><p id="2198" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated">从表中可以看出，大部分预测收视率与总体收视率相当接近。然而，马克·特尔·斯特根似乎是一个异数。他的评分预计为 104 分，而一个人最多只能得到 100 分。欧洲足联年度最佳球员维吉尔·范迪克的预测得分为 92.9。他的综合评分是 91 分。国际足联年度最佳球员莱昂内尔·梅西的预测评分为 92.14 分。他的综合评分是 94 分。</p><h1 id="1fed" class="lq lr je bd ls lt lu lv lw lx ly lz ma kk mb kl mc kn md ko me kq mf kr mg mh bi translated">结论</h1><p id="b40b" class="pw-post-body-paragraph kt ku je kv b kw mi kf ky kz mj ki lb lc mk le lf lg ml li lj lk mm lm ln lo im bi translated">查看用于预测收视率的两种方法的结果，可以得出结论，国际足联每年都使用相同的指标来确定球员的收视率。</p><p id="b2ac" class="pw-post-body-paragraph kt ku je kv b kw kx kf ky kz la ki lb lc ld le lf lg lh li lj lk ll lm ln lo im bi translated"><strong class="kv jf">用于构建这些预测模型的代码完整版本可见</strong> <a class="ae lp" href="https://github.com/MUbarak123-56/DataBEL/blob/master/FIFA%2020%20Players'%20Ratings%20Predictor.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="kv jf">此处为</strong> </a> <strong class="kv jf">。</strong></p></div></div>    
</body>
</html>