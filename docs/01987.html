<html>
<head>
<title>Make your Data Talk!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让您的数据说话！</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/make-your-data-talk-13072f84eeac?source=collection_archive---------7-----------------------#2019-04-02">https://towardsdatascience.com/make-your-data-talk-13072f84eeac?source=collection_archive---------7-----------------------#2019-04-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="49a4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用 matplotlib 和 seaborn 在可视化中从 0 到英雄</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/47409278447f8df32ae30e54961a2c54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yBVtHBLK0W0CBZJB"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@wwwynand?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Wynand van Poortvliet</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0ca0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果<strong class="ky ir">TL；博士</strong> : [ <a class="ae kv" href="#2dd7" rel="noopener ugc nofollow"> Link_To_Note </a></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="8125" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">编辑:</strong> <a class="lz ma ep" href="https://medium.com/u/e8ec6fa4d7d4?source=post_page-----13072f84eeac--------------------------------" rel="noopener" target="_blank">法维奥·巴斯克斯</a> <strong class="ky ir"> </strong>给这个帖子+4 并回复</p><blockquote class="mb mc md"><p id="fd26" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">“牛逼的文章！恭喜:)”<em class="iq">法维奥·巴斯克斯</em></p></blockquote><p id="d190" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<a class="ae kv" href="https://twitter.com/FavioVaz/status/1113471057619505152" rel="noopener ugc nofollow" target="_blank">推特上</a>！！感谢法维奥·巴斯克斯。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="9c60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我在<code class="fe mi mj mk ml b">Tackle</code>类别的帖子中的一个，可以在我的 github repo <a class="ae kv" href="https://github.com/PuneetGrov3r/MediumPosts/tree/master/Tackle" rel="noopener ugc nofollow" target="_blank">这里</a>找到。此类别的所有帖子:</p><ol class=""><li id="8cd1" class="mm mn iq ky b kz la lc ld lf mo lj mp ln mq lr mr ms mt mu bi translated"><a class="ae kv" rel="noopener" target="_blank" href="/how-to-learn-from-bigdata-files-on-low-memory-incremental-learning-d377282d38ff">如何从低内存的大数据文件中学习—增量学习</a></li><li id="7418" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://medium.com/@grover.puneet1995/make-your-data-talk-13072f84eeac" rel="noopener">让您的数据说话！-使用 matplotlib 和 seaborn 在可视化中从 0 到英雄</a></li></ol><h1 id="9520" class="na nb iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">索引</h1><ol class=""><li id="bbd3" class="mm mn iq ky b kz ns lc nt lf nu lj nv ln nw lr mr ms mt mu bi translated"><a class="ae kv" href="#f957" rel="noopener ugc nofollow">简介</a></li><li id="4e56" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#61c3" rel="noopener ugc nofollow">单一分布图</a>(希斯特，KDE，-【盒子，小提琴】)</li><li id="4243" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#2ae6" rel="noopener ugc nofollow">关系图</a>(折线图、散点图、等高线、对)</li><li id="83b5" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#c965" rel="noopener ugc nofollow">分类图</a>(小节，+[框，小提琴])</li><li id="edcb" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#7fc7" rel="noopener ugc nofollow">多个地块</a></li><li id="cc51" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#f2d6" rel="noopener ugc nofollow">互动剧情</a></li><li id="4b0d" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#91c0" rel="noopener ugc nofollow">其他</a></li><li id="cae3" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#c1d9" rel="noopener ugc nofollow">延伸阅读</a></li><li id="baba" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#352d" rel="noopener ugc nofollow">参考文献</a></li></ol><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="c902" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir"><em class="me">NOTE:<br/></em></strong>This post goes along with <strong class="ml ir"><em class="me">Jupyter Notebook</em></strong> available in my Repo on Github:[<a class="ae kv" href="https://nbviewer.jupyter.org/github/PuneetGrov3r/MediumPosts/blob/master/Tackle/HowToVisualize.ipynb" rel="noopener ugc nofollow" target="_blank">HowToVisualize</a>]</span></pre><h1 id="f957" class="na nb iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">1.简介<a class="ae kv" href="#9520" rel="noopener ugc nofollow"> ^ </a></h1><p id="58a7" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf og lh li lj oh ll lm ln oi lp lq lr ij bi translated">什么是数据，无非是数字。如果我们不把它形象化来更好地理解它里面的世界，我们就会错过很多东西。也就是说，我们可以把数据理解成数字，但是当你试图把它形象化时，奇迹就发生了。它变得更有意义，突然变得更容易理解。</p><p id="c02c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们是感性的生物，我们通过感官感知周围的事物。视觉、听觉、嗅觉、味觉和触觉。我们可以在一定程度上根据感官来区分周围的事物。对于数据来说，声音和视觉似乎是表示它的最佳选择，因为它可以很容易地转换。我们大多使用视觉作为感知数据的媒介，因为我们可能习惯于通过这种感觉来区分不同的对象，而且，尽管在较低的层次上，我们也习惯于通过这种感觉来感知更高维度的事物，这在多变量数据集中很方便。</p><p id="6da5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇文章中，我们将探讨 Python 中两个最流行的数据可视化库，并使用它们通过可视化让数据说话:</p><p id="06aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 1.1 Matplotlib </strong></p><p id="854b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Matplotlib 保持了 MATLAB 的绘图风格，尽管它也有一个面向对象的接口。</p><ol class=""><li id="b1ee" class="mm mn iq ky b kz la lc ld lf mo lj mp ln mq lr mr ms mt mu bi translated"><em class="me"> MATLAB 风格接口:</em>从 matplotlib 库中导入<code class="fe mi mj mk ml b">pyplot</code>即可使用，使用类似 MATLAB 的函数。</li></ol><p id="5dc2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用该界面时，方法将自动选择当前图形和轴来显示绘图。在您使用<code class="fe mi mj mk ml b">pyplot.show</code>方法或在 IPython 中执行您的单元之前，它将一直如此(也就是说，对于您的所有方法调用，这个当前数字将被一次又一次地选择)。</p><p id="7d99" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.<em class="me">面向对象接口:</em>可以这样用:</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="e35e" class="ob nb iq ml b gy oc od l oe of">import matplotlib.pyplot as plt</span><span id="a566" class="ob nb iq ml b gy oj od l oe of">figure, axes = <strong class="ml ir">plt</strong>.subplots(2) # for 2 subplots</span><span id="357b" class="ob nb iq ml b gy oj od l oe of"># Now you can configure your plot by using<br/># functions available for these objects.</span></pre><p id="9c18" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个低级的库，你可以完全控制你的地块。</p><p id="3215" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 1.2 Seaborn </strong></p><p id="1a8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Seaborn 是一个基于 matplotlib 的高级可视化库。它主要用于制作快速和有吸引力的情节，而没有太多的麻烦。虽然 seaborn 试图以一种奇特的方式控制你的情节，但你仍然不能从中获得你想要的一切。为此，你必须使用 matplotlib 的功能，<em class="me">你也可以使用 seaborn(因为它是建立在 matplotlib 之上的)</em>。</p><h1 id="61c3" class="na nb iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">2.分布图<a class="ae kv" href="#9520" rel="noopener ugc nofollow"> ^ </a></h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/a1646731ee13b42e819bd2fc878a494a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*R-e-TVDS5Oa1mA-z"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@danielleone?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Daniel Leone</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="807b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">分布图告诉我们一个变量是如何分布的。它给了我们在特定范围内找到变量的概率。也就是说，如果我们从一个变量的总范围内随机选择一个数字，它会给出这个变量在不同范围内的概率。</p><p id="c26b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">分布图应<code class="fe mi mj mk ml b">Normally</code>分布，以获得更好的结果。这是所有线性模型的假设之一，即正态性。<code class="fe mi mj mk ml b">Normal distribution</code>看起来像一个中间有<a class="ae kv" href="https://en.wikipedia.org/wiki/Heavy-tailed_distribution" rel="noopener ugc nofollow" target="_blank">光尾巴</a>的中等驼峰。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="2dd7" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir">Note:</strong> If <strong class="ml ir">TL;DR</strong> (Too Long; Don’t wanna Read), just read initial function used to plot the sub-topic plot and then read through <strong class="ml ir">Tips</strong>. You can easily navigate through tips using <strong class="ml ir">&lt;</strong> and <strong class="ml ir">&gt;</strong> buttons.<br/>Eg: here Tips #1 and plt.hist, below.</span></pre><blockquote class="mb mc md"><p id="142b" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:Tips # 1:)</strong><a class="ae kv" href="#835b" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a><strong class="ky ir"><br/>1)</strong>在大多数情况下，您可以使用<code class="fe mi mj mk ml b">matplotlib.pyplot</code>函数为您的绘图提供的参数。请务必查看函数的参数及其描述。<br/> <strong class="ky ir"> 2) </strong>所有<code class="fe mi mj mk ml b">matplotlib</code>的函数甚至<code class="fe mi mj mk ml b">seaborn</code>的函数都返回你的图在字典、列表或对象中的所有组成部分。从那里你也可以改变你的组件的任何属性(用<code class="fe mi mj mk ml b">matplotlib</code>的语言<code class="fe mi mj mk ml b">Artist</code> s)。</p></blockquote><p id="796f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">箱形图和小提琴图在<a class="ae kv" href="#c965" rel="noopener ugc nofollow">分类部分</a>中。</p><ol class=""><li id="349b" class="mm mn iq ky b kz la lc ld lf mo lj mp ln mq lr mr ms mt mu bi translated"><strong class="ky ir">直方图和核密度估计图(kde):</strong></li></ol><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="b016" class="ob nb iq ml b gy oc od l oe of"># Simple hist plot<br/>_ = <strong class="ml ir">plt</strong>.hist(train_df['target'], bins=5, edgecolors='white')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/67b8351bf1ed127317e9ec5024a61811.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*AiEwbLokKVye3wfdcolV3Q.png"/></div></figure><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="4fd3" class="ob nb iq ml b gy oc od l oe of"># with seaborn<br/>_ = <strong class="ml ir">sns</strong>.distplot(train_df['target'])</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/81e9a64e4b38a5e01cdb135a2c3c4fe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*ghTHTnb0jCMvDx9yCN3oLA.png"/></div></figure><blockquote class="mb mc md"><p id="835b" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:Tips # 2:)</strong><a class="ae kv" href="#142b" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a><strong class="ky ir"/><a class="ae kv" href="#7b52" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a><strong class="ky ir"><br/>3)</strong>为了给你的剧情提供一些有用的信息或者引起对剧情中某些东西的注意，你大多可以用<code class="fe mi mj mk ml b">plt.text()</code>或者<code class="fe mi mj mk ml b">plt.annotate()</code>逃脱。</p><p id="5e9e" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 4) </strong>绘图最需要的参数是<code class="fe mi mj mk ml b"><em class="iq">label</em></code>，绘图最需要的方法是<code class="fe mi mj mk ml b"><em class="iq">plt.xlabel</em></code>、<code class="fe mi mj mk ml b"><em class="iq">plt.ylabel</em></code>、<code class="fe mi mj mk ml b"><em class="iq">plt.title</em></code>、<code class="fe mi mj mk ml b"><em class="iq">plt.legend</em></code>。</p><p id="d754" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">为了有效地传达你的信息，你应该从你的图中移除所有不想要的干扰，比如右轴和顶轴，以及你的图中任何其他不想要的结构。</p></blockquote><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="e1ad" class="ob nb iq ml b gy oc od l oe of">import matplotlib.pyplot as plt</span><span id="8708" class="ob nb iq ml b gy oj od l oe of">_ = <strong class="ml ir">plt</strong>.hist(data, bins=10, color='lightblue',<br/>             label=lbl, density=True, ec='white')<br/><strong class="ml ir">plt</strong>.legend()<br/><strong class="ml ir">plt</strong>.title("Target variable distribution", fontdict={'fontsize': 19,<br/>          'fontweight':0.5 }, pad=15)<br/><strong class="ml ir">plt</strong>.xlabel("Target Bins")<br/><strong class="ml ir">plt</strong>.ylabel("Probability");</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/71089366ee73831da47fc62dcc245e42.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*mGQITIY9Bh5FdcEBxP9wgw.png"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/64c9cd0bf0f862f5eeaeb9312a03d973.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/1*pJ_XoJrutj9fZvQiRx_IjA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank">Storytelling with Matplotlib</a></figcaption></figure><p id="b9b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">用 Matplotlib (SWMat)讲故事</strong> </a> <strong class="ky ir"> : </strong></p><p id="30a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">— — — — — — — — — — — — -</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="9398" class="ob nb iq ml b gy oc od l oe of">import matplotlib.pyplot as plt<br/>from SWMat.SWMat import SWMat</span><span id="2018" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">swm</strong> = SWMat(plt) # Initialize your plot</span><span id="7bc7" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">swm</strong>.hist(data, bins=10, <strong class="ml ir"><em class="me">highlight</em></strong>=[2, 9])<br/><strong class="ml ir">swm</strong>.title("Carefully looking at the dependent variable revealed <br/>           some problems that might occur!")<br/><strong class="ml ir">swm</strong>.text("Target is a bi-model dependent feature.\nIt <br/>          can be &lt;prop fontsize='18' color='blue'&gt; hard to <br/>          predict.&lt;\prop&gt;");</span><span id="fef0" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">#</strong> <strong class="ml ir">Thats all!</strong> And look at your plot!!</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/34d9aa43a55b56764b905aeb4cefa474.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JrHJvvPBJNw8EjY8Nx_f-Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">1) Normal Matplotlib, 2) Seaborn, 3) Matplotlib Power, 4) Storytelling With Matplotlib</figcaption></figure><h1 id="2ae6" class="na nb iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">3.关系图<a class="ae kv" href="#9520" rel="noopener ugc nofollow"> ^ </a></h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/bad9b9688add3c1951d48f91aff86a67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pDZeFx2NBwf_w7N6"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@vincentvanzalinge?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Vincent van Zalinge</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1af9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关系图对于获取两个或多个变量之间的关系非常有用。这些关系可以帮助我们更好地理解我们的数据，并可能帮助我们从现有的变量中产生新的变量。</p><p id="a779" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是<code class="fe mi mj mk ml b">Data Exploration</code>和<code class="fe mi mj mk ml b">Feature Engineering</code>中的重要一步。</p><p id="fc6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="#d4de" rel="noopener ugc nofollow"> a)线条图</a></p><p id="190c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="#a4dd" rel="noopener ugc nofollow"> b)散点图</a></p><p id="a87e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="#5d68" rel="noopener ugc nofollow"> c) 2D 直方图、十六进制图和等高线图</a></p><p id="6b00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="#9a37" rel="noopener ugc nofollow"> d)配对图</a></p><p id="d4de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> a)线条图:</strong> <a class="ae kv" href="#2ae6" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="ccb8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">线图对于检查两个变量之间的线性关系，甚至二次关系、指数关系和所有此类关系非常有用。</p><blockquote class="mb mc md"><p id="7b52" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:提示# 3:)</strong><a class="ae kv" href="#835b" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a><strong class="ky ir"/><a class="ae kv" href="#2cd1" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a></p><p id="157d" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 5) </strong>你可以通过使用参数'<code class="fe mi mj mk ml b">color</code> ' / ' <code class="fe mi mj mk ml b">c</code>'，'<code class="fe mi mj mk ml b">alpha</code>，'<code class="fe mi mj mk ml b">edgecolors</code> ' / ' <code class="fe mi mj mk ml b">edgecolor</code>'来给你的剧情一个美学的外观。</p><p id="8a77" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 6) </strong> <code class="fe mi mj mk ml b">Seaborn</code>在它的大多数绘图方法中都有一个参数“<code class="fe mi mj mk ml b">hue</code>”，您可以用它来显示这些图中分类变量的不同类别之间的对比。</p><p id="4de6" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">你应该用较浅的颜色来画出你想画的部分，但它们不是你想画的重点。</p></blockquote><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="cbbb" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir">plt</strong>.plot('AveRooms', 'AveBedrms', data=data, <br/>         label="Average Bedrooms")</span><span id="8e28" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.legend() # To show label of y-axis variable inside plot<br/><strong class="ml ir">plt</strong>.title("Average Rooms vs Average Bedrooms")<br/><strong class="ml ir">plt</strong>.xlabel("Avg Rooms  -&gt;")<br/><strong class="ml ir">plt</strong>.ylabel("Avg BedRooms  -&gt;");</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/5a54393df0adf03add4154d6db99ffa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*UjAWErZ2DMUPzPE-cQD0mQ.png"/></div></figure><p id="2bfc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您也可以像这样手动对它们进行颜色编码:</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="f243" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir">plt</strong>.plot('AveRooms', 'AveBedrms', data=data, c='lightgreen')<br/><strong class="ml ir">plt</strong>.plot('AveRooms', 'AveBedrms', data=data[(data['AveRooms']&gt;20)], <br/>         c='y', alpha=0.7)<br/><strong class="ml ir">plt</strong>.plot('AveRooms', 'AveBedrms', data=data[(data['AveRooms']&gt;50)], <br/>         c='r', alpha=0.7)</span><span id="f127" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.title("Average Rooms vs Average Bedrooms")<br/><strong class="ml ir">plt</strong>.xlabel("Avg Rooms  -&gt;")<br/><strong class="ml ir">plt</strong>.ylabel("Avg BedRooms  -&gt;");</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/2e7447c5734ee594516b0754ba62bfca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*6cWp9tdMdW1pLzFO7QHYxg.png"/></div></figure><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="1b8d" class="ob nb iq ml b gy oc od l oe of"># with seaborn<br/>_ = <strong class="ml ir">sns</strong>.lineplot(x='AveRooms', y='AveBedrms', data=train_df)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/8d6ff97a024d6d5b5328f687072cdbbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*iC9oFdZb63EfefrkqqlMtg.png"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/64c9cd0bf0f862f5eeaeb9312a03d973.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/1*pJ_XoJrutj9fZvQiRx_IjA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank">Storytelling with Matplotlib</a></figcaption></figure><p id="9101" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">【用 Matplotlib (SWMat)讲故事】</strong> </a> <strong class="ky ir"> : </strong></p><p id="8a7f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">— — — — — — — — — — — — -</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="0f20" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir">swm</strong> = SWMat(plt)</span><span id="9f47" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">swm</strong>.line_plot(data_x, data_y, line_labels=[line_lbl], highlight=0, <br/>         <strong class="ml ir"><em class="me">label_points_after</em></strong>=60, xlabel=xlbl, point_label_dist=0.9,    <br/>         <strong class="ml ir"><em class="me">highlight_label_region_only</em></strong>=True)<br/><strong class="ml ir">swm</strong>.title("There are some possible outliers in 'AveRooms' and <br/>           'AveBedrms'!", ttype="title+")<br/><strong class="ml ir">swm</strong>.text("This may affect our results. We should\ncarefully<br/>          look into these and &lt;prop color='blue'&gt;finda\n <br/>          possible resolution.&lt;\prop&gt;", <br/>          position="out-mid-right", fontsize=20, <br/>          btw_line_dist=2.2);</span><span id="facf" class="ob nb iq ml b gy oj od l oe of"># '<strong class="ml ir">point_label_dist</strong>' (to adjust distance between points' labels and <br/># lines) in `.line_plot` method and '<strong class="ml ir">btw_line_dist</strong>' (to adjust lines<br/># between two lines in text) in `.text` method are only used when<br/># result given by library is not what you want. Most of the times<br/># this library tries to give the right format, but still some<br/># mistakes can happen. I will try to make it fully automatic in <br/># future.</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/46dda79a2abf59b9351195debfe1cdb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_KCArRRfJgqAKBdiXjLDPQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">1) Normal Matplotlib, 2) Seaborn, 3) Matplotlib Power, 4) Storytelling With Matplotlib</figcaption></figure><p id="a4dd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> b)散点图:</strong> <a class="ae kv" href="#2ae6" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="f958" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">并非两个变量之间的每一种关系都是线性的，实际上只有少数是线性的。这些变量中也有一些随机成分，这使得它们几乎是线性的，而其他情况下有一种完全不同的关系，我们很难用线性图来显示。</p><p id="8c9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，如果我们有很多数据点，散点图可以方便地检查大多数数据点是否集中在一个区域，是否有任何异常值 w.r.t .这两个或三个变量，等等。</p><p id="5547" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们对 3D 图中的第四个变量进行颜色编码，我们可以绘制两个或三个甚至四个变量的散点图。</p><blockquote class="mb mc md"><p id="2cd1" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:提示# 4:)</strong><a class="ae kv" href="#7b52" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a><strong class="ky ir"/><a class="ae kv" href="#e0d8" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a></p><p id="8831" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 7) </strong>你可以用两种方式设置你的地块的大小。您可以从<code class="fe mi mj mk ml b">matplotlib</code>中导入<code class="fe mi mj mk ml b">figure</code>并使用类似于:<code class="fe mi mj mk ml b">figure(figsize=(width, height))</code>{它将为当前图形设置该图形大小}的方法，或者您可以在使用类似于<code class="fe mi mj mk ml b">figure, plots = plt.subplots(rows, cols, figsize=(x,y))</code>的面向对象接口时直接指定<code class="fe mi mj mk ml b">figsize</code>。</p><p id="b674" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">当你试图用数据传达信息时，你应该简明扼要。</p></blockquote><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="f25e" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="ac57" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.scatter('AveRooms', 'AveBedrms', data=data, <br/>            edgecolors='w', linewidths=0.1)</span><span id="c792" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.title("Scatter Plot of Average Rooms and Average Bedrooms")<br/><strong class="ml ir">plt</strong>.xlabel("Average Bedrooms  -&gt;")<br/><strong class="ml ir">plt</strong>.ylabel("Average Rooms  -&gt;");</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/528425853b4c696b9af3d4132b6afa0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*kL2wAkJY4QOliYJ5qSl8Bg.png"/></div></figure><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="5d1c" class="ob nb iq ml b gy oc od l oe of"># With Seaborn<br/>from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="d652" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">sns</strong>.scatterplot(x='AveRooms', y='AveBedrms', data=train_df, <br/>                label="Average Bedrooms");</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/8b4d1feb113e6cc0105915d2e65c64ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*ksm_ZefMz9udhcpoYOz0Hw.png"/></div></figure><blockquote class="mb mc md"><p id="e0d8" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:提示 5:)</strong><a class="ae kv" href="#2cd1" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a><strong class="ky ir"/><a class="ae kv" href="#4749" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a></p><p id="4e08" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 8) </strong>在<code class="fe mi mj mk ml b">.text</code>和<code class="fe mi mj mk ml b">.annotate</code>方法中有一个参数<code class="fe mi mj mk ml b">bbox</code>，它使用一个字典来设置文本周围的框的属性。对于<code class="fe mi mj mk ml b">bbox</code>，几乎所有情况下都可以用<code class="fe mi mj mk ml b">pad</code>、<code class="fe mi mj mk ml b">edgecolor</code>、<code class="fe mi mj mk ml b">facecolor</code>、<code class="fe mi mj mk ml b">alpha</code>蒙混过关。</p><p id="ecf7" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 9) </strong>在<code class="fe mi mj mk ml b">.annotate</code>方法中有一个用于设置箭头属性的参数，如果设置了<code class="fe mi mj mk ml b">xytext</code>参数，就可以设置这个参数，它就是<code class="fe mi mj mk ml b">arrowprops</code>。它以一个字典作为参数，你可以用<code class="fe mi mj mk ml b">arrowstyle</code>和<code class="fe mi mj mk ml b">color</code>蒙混过关。</p><p id="e7fb" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 10) </strong>你可以使用<code class="fe mi mj mk ml b">matplotlib</code>的<code class="fe mi mj mk ml b">fill_between</code>或<code class="fe mi mj mk ml b">fill_betweenx</code>来填充两条曲线之间的颜色。这可以方便地突出曲线的某些区域。</p><p id="5139" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">你应该花时间考虑如何绘制数据，以及哪个特定的图能最大程度地传达你的信息。</p></blockquote><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="e368" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="bd11" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.scatter('AveRooms', 'AveBedrms', data=data)<br/><strong class="ml ir">plt</strong>.plot(train_df['AveRooms'], Y, linewidth=1, color='red', <br/>         linestyle='-', alpha=0.8)</span><span id="f5ff" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.xlabel("Avg Rooms  -&gt;")<br/><strong class="ml ir">plt</strong>.ylabel("Avg BedRooms  -&gt;")</span><span id="d8c3" class="ob nb iq ml b gy oj od l oe of"># Adding annotations:<br/><strong class="ml ir">plt</strong>.annotate("Possible outliers", xy=(144, 31), xytext=(160, 34),<br/>             arrowprops={'arrowstyle':'-[,widthB=4.0', 'color': <br/>                         'black'},<br/>             bbox={'pad':4, 'edgecolor':'orange', 'facecolor': <br/>                   'orange', 'alpha':0.4})</span><span id="935e" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.annotate("Regression Line", xy=(80, 12), xytext=(120, 3),<br/>             arrowprops={'arrowstyle':'-&gt;', 'color': 'black', <br/>                         "connectionstyle":"arc3,rad=-0.2"},<br/>             bbox={'pad':4, 'edgecolor':'orange', 'facecolor': <br/>                   'orange', 'alpha':0.4});</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/31c7e9c10182c11b1a58111c29210b73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MdmTviYkXloB_znY1NmvOA.png"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/64c9cd0bf0f862f5eeaeb9312a03d973.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/1*pJ_XoJrutj9fZvQiRx_IjA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank">Storytelling with Matplotlib</a></figcaption></figure><p id="c523" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">【用 Matplotlib (SWMat)讲故事】</strong> </a> <strong class="ky ir"> : </strong></p><p id="ff14" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">— — — — — — — — — — — — -</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="2602" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir">swm</strong> = SWMat(plt)<br/><strong class="ml ir">plt</strong>.scatter(x, y, edgecolors='w', linewidths=0.3)<br/><strong class="ml ir">swm</strong>.line_plot(x, <em class="me">Y</em>, highlight=0, highlight_color="#000088", <br/>              alpha=0.7, line_labels=["Regression Line"])<br/><strong class="ml ir">swm</strong>.title("'AveBedrms' and 'AveRooms' are highly correlated!", <br/>          ttype="title+")<br/><strong class="ml ir">swm</strong>.text("Taking both of them in regressioin process\nmight not be <br/>          necessary. We can either\n&lt;prop color='blue'&gt;take one of <br/>          them&lt;/prop&gt; or &lt;prop color='blue'&gt;take average.&lt;/prop&gt;",<br/>          position='out-mid-right', btw_line_dist=5)<br/><strong class="ml ir">swm</strong>.axis(labels=["Average Rooms", "Average Bedrooms"])</span><span id="27fd" class="ob nb iq ml b gy oj od l oe of"># 'SWMat' has an `axis` method with which you can set some Axes<br/># properties such as 'labels', 'color', etc. directly.</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/b22b546695f4c08274e79e549b801693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GKOVRLSTpEmEOH9E4SQ_ow.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">1) Normal Matplotlib, 2) Seaborn, 3) Matplotlib Power, 4) Storytelling With Matplotlib</figcaption></figure><p id="5d68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> c)二维直方图、十六进制图和等高线图:</strong> <a class="ae kv" href="#2ae6" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="fbca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2D 直方图和 Hex 图可用于检查特定位置数据的相对密度。</p><p id="9ba1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">等值线图可用于绘制 2D 的 3D 数据，或绘制 4D 的 3D 数据。轮廓线(或填充轮廓中的色带)告诉我们函数具有常数值的位置。它让我们熟悉绘图中使用的所有变量。例如，它可以用于绘制深度学习中不同θ的成本函数。但是要做到准确，你需要大量的数据。至于绘制整个景观，你需要该景观中所有点的数据。如果你有一个关于那个景观的函数，你可以很容易地通过手动计算值来绘制这些图。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="79ae" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="db70" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.hist2d('MedInc', 'target', bins=40, data=train_df)<br/><strong class="ml ir">plt</strong>.xlabel('Median Income  -&gt;')<br/><strong class="ml ir">plt</strong>.ylabel('Target  -&gt;')<br/><strong class="ml ir">plt</strong>.suptitle("Median Income vs Target", fontsize=18);</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/6d643850f9cf08d41f7f4daf9f8aba7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*ybdKpIXyok40VqVPTv1_TA.png"/></div></figure><p id="d4a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是<code class="fe mi mj mk ml b">seaborn</code>中没有单独的十六进制绘图/2D-历史绘图方法，您可以使用<code class="fe mi mj mk ml b">jointplot</code>方法的<code class="fe mi mj mk ml b">kind</code>参数来制作十六进制绘图。更多信息请查看<code class="fe mi mj mk ml b">seaborn</code>上的<a class="ae kv" href="https://seaborn.pydata.org/examples/hexbin_marginals.html" rel="noopener ugc nofollow" target="_blank">联合图</a>。</p><blockquote class="mb mc md"><p id="4749" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:提示# 6:)</strong><a class="ae kv" href="#e0d8" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a><strong class="ky ir"/><a class="ae kv" href="#3626" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a></p><p id="4da9" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">一个<code class="fe mi mj mk ml b">colorbar</code>需要一个<code class="fe mi mj mk ml b">Mappable</code>对象。默认情况下，<code class="fe mi mj mk ml b">Contour</code>、<code class="fe mi mj mk ml b">Scatter</code>和<code class="fe mi mj mk ml b">hist2d</code>等图给出了它们。你可以简单地调用<code class="fe mi mj mk ml b">plt.colorbar()</code>，它会在你的图旁边显示一个<code class="fe mi mj mk ml b">colorbar</code>。对于其他图，如果需要，您可以手动制作一个<code class="fe mi mj mk ml b">colorbar</code>。[在 Jupyter 笔记本的“历史”部分提供了一个例子。]</p><p id="bfb4" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">E】</strong>总是尽量选择一个简单的，群众容易理解的情节。</p></blockquote><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="0f0e" class="ob nb iq ml b gy oc od l oe of"># Hexbin Plot:<br/>from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="21bf" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.hexbin('MedInc', 'target', data=train_df, alpha=1.0, <br/>           cmap="inferno_r")</span><span id="9acb" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.margins(0)<br/><strong class="ml ir">plt</strong>.colorbar()<br/><strong class="ml ir">plt</strong>.xlabel('Median Income  -&gt;')<br/><strong class="ml ir">plt</strong>.ylabel('Target  -&gt;')<br/><strong class="ml ir">plt</strong>.suptitle("Median Income vs Target", fontsize=18);</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/8559f6678ad753e9abb7304c52913879.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*YdaxdVld4K7jgAI-U8q1dA.png"/></div></figure><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="ace9" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))<br/> <br/><strong class="ml ir">plt</strong>.hist2d('MedInc', 'target', bins=40, data=train_df, <br/>           cmap='gist_heat_r') <br/><strong class="ml ir">plt</strong>.colorbar()<br/><strong class="ml ir">plt</strong>.xlabel('Median Income  -&gt;')<br/><strong class="ml ir">plt</strong>.ylabel('Target  -&gt;')<br/><strong class="ml ir">plt</strong>.suptitle("Median Income vs Target", fontsize=18)</span><span id="aa7f" class="ob nb iq ml b gy oj od l oe of"># Adding annotations:<br/><strong class="ml ir">plt</strong>.annotate("Most Blocks have low med.\nincome and lower target.", <br/>             xy=(5, 1.5), xytext=(10, 2),<br/>             arrowprops={'arrowstyle': '-&gt;', 'color': 'k'},<br/>             bbox={'facecolor': 'orange', 'pad':4, 'alpha': 0.5, <br/>                   'edgecolor': 'orange'});</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/13e91666d16d2eb3f42a65772e238475.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*iE46WfONqSFCz-uZJ1dC2g.png"/></div></figure><p id="eae9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="me">等高线图</em> </strong> <em class="me"> : </em>等高线图是在 2D 图上可视化 3D 数据的一种方式。在<code class="fe mi mj mk ml b">matplotlib</code>中有两种方法可用，即<code class="fe mi mj mk ml b">.contour</code>和<code class="fe mi mj mk ml b">.contourf</code>。第一个制作线条轮廓，第二个制作填充轮廓。您可以传递 z 值的 2D 矩阵，也可以为 X 值和 Y 值传递两个 2D 数组 X，Y，为所有相应的 z 值传递一个 2D 数组。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="1142" class="ob nb iq ml b gy oc od l oe of"># For <strong class="ml ir">contour plot</strong><br/>from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="c6a9" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.contourf(Z, levels=30, cmap="gist_heat_r")<br/><strong class="ml ir">plt</strong>.colorbar()</span><span id="989f" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.suptitle("Target Contour", fontsize=16)<br/><strong class="ml ir">plt</strong>.title("(with Medium Income and Population)", <br/>          position=(0.6, 1.03))<br/><strong class="ml ir">plt</strong>.xlabel("Medium Income  -&gt;")<br/><strong class="ml ir">plt</strong>.ylabel("Population  -&gt;")</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/33f6452077b6c405bc29ba9d197589b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Im1oT5pT-JwrWXMMRSoMjg.png"/></div></div></figure><p id="9a37" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> d)配对图:</strong> <a class="ae kv" href="#2ae6" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="61e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mi mj mk ml b">seaborn</code>提供了一个方法<code class="fe mi mj mk ml b">pairplot</code>,你可以用它一次绘制出所有可能的关系图。它可以用于快速查看数据中所有变量之间的关系，以及每个变量的分布。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="3c6f" class="ob nb iq ml b gy oc od l oe of">_ = <strong class="ml ir">sns</strong>.pairplot(train_df)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/be94428166fcb89a2f0c13e632723d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a84o04O7p6JzoBG4q63nzg.png"/></div></div></figure><h1 id="c965" class="na nb iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">4.分类图<a class="ae kv" href="#9520" rel="noopener ugc nofollow"> ^ </a></h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/7a1f07954a59057f12adeca209282bd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6Dc3GK6OZEoEwqwa"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@sharonmccutcheon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Sharon McCutcheon</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="d1bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">分类图在数据探索步骤中也是必要的，因为它们告诉我们不同类别的变量在数据集中是如何分布的。如果我们有足够的数据，我们就可以从这些曲线图中得出该变量不同类别的结论。</p><p id="cd9a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="me">因为</em> <code class="fe mi mj mk ml b"><em class="me">seaborn</em></code> <em class="me">我在这里加了箱子剧情和小提琴剧情。在</em> <code class="fe mi mj mk ml b"><em class="me">seaborn</em></code> <em class="me">中有一些参数，您可以使用这些参数对不同的分类变量使用这些方法。</em></p><p id="94ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">a) <a class="ae kv" href="#88f0" rel="noopener ugc nofollow">条形图</a></p><p id="cfde" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">b) <a class="ae kv" href="#06ce" rel="noopener ugc nofollow">方框图</a></p><p id="723a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">c) <a class="ae kv" href="#d769" rel="noopener ugc nofollow">小提琴剧情</a></p><p id="88f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">一)条形图</strong> <a class="ae kv" href="#c965" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="37dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">条形图可用于类别之间的对比，其高度代表特定于该类别的某些值。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="6dba" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="0153" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.bar(np.sort(data.unique()), data.value_counts().sort_index(), <br/>        alpha=0.7) <strong class="ml ir">#</strong> You might need to sort; Be carefully with<br/>                   <strong class="ml ir">#</strong> which values are being plotted with each <br/>                   <strong class="ml ir">#</strong> other.</span><span id="d8bc" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.xlabel("Target  -&gt;")<br/><strong class="ml ir">plt</strong>.ylabel("Frequency  -&gt;");</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/d6c30f99b1009722a9811604bfceddfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*I6xEAeqULFkPqBCa7DRv8A.png"/></div></figure><blockquote class="mb mc md"><p id="3626" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:提示# 7:)</strong><a class="ae kv" href="#4749" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a><strong class="ky ir"/><a class="ae kv" href="#31a6" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a></p><p id="ca4c" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 12) </strong>如果在每个<code class="fe mi mj mk ml b">matplotlib</code>和<code class="fe mi mj mk ml b">seaborn</code>函数的输出中有你想要改变属性的补丁或对象，你可以通过使用<code class="fe mi mj mk ml b">.set</code>函数将属性名作为字符串和属性值传递给它来改变它，或者你可以直接对那个属性使用 set 函数，如<code class="fe mi mj mk ml b">set_color</code>、<code class="fe mi mj mk ml b">set_lw</code>等。</p><p id="31d8" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">有近 8%的男性是色盲，近 1/10 的女性是色盲。但你还是应该小心他们。对比对他们中的大多数人都有效。</p></blockquote><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="ef16" class="ob nb iq ml b gy oc od l oe of"># Seaborn<br/>from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="8679" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">sns</strong>.barplot(np.sort(data.unique()),data.value_counts().sort_index())</span><span id="1ae7" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.xlabel("Target  -&gt;")<br/><strong class="ml ir">plt</strong>.ylabel("Frequency  -&gt;");</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/d6bb5269e3805a326af43e37d41dd743.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*1L2j0nZpurRGrxuVbsl23g.png"/></div></figure><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="d943" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="b430" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.bar(np.sort(train_df['target_int'].unique()), <br/>        train_df['target_int'].value_counts().sort_index(), <br/>        alpha=0.7, width=0.6)</span><span id="9b2a" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.grid(True, alpha=0.3)<br/><strong class="ml ir">plt</strong>.xlabel("Target  -&gt;", fontsize=14)<br/><strong class="ml ir">plt</strong>.ylabel("Frequency  -&gt;", fontsize=14)<br/><strong class="ml ir">plt</strong>.title("Target Frequencies", fontsize=18)</span><span id="942a" class="ob nb iq ml b gy oj od l oe of"># Remove top and left spines:<br/>ax = <strong class="ml ir">plt</strong>.gca() # Get current axis (gca)<br/><strong class="ml ir">ax</strong>.spines['right'].set_visible(False)<br/><strong class="ml ir">ax</strong>.spines['top'].set_visible(False)</span><span id="e780" class="ob nb iq ml b gy oj od l oe of"># Adding annotations:<br/>counts = train_df['target_int'].value_counts().sort_index()<br/><strong class="ml ir">plt</strong>.annotate(str(counts[0]), xy=(0, counts[0]), <br/>             xytext=(0,counts[0]+400), ha = 'center',<br/>             bbox={'boxstyle': 'round', 'pad': 0.5, 'facecolor': <br/>                   'orange', 'edgecolor': 'orange', 'alpha': 0.6},<br/>             arrowprops={'arrowstyle':"wedge,tail_width=0.5", <br/>                         'alpha':0.6, 'color': 'orange'})<br/><strong class="ml ir">plt</strong>.annotate(str(counts[1]), xy=(1, counts[1]), <br/>             xytext=(1, counts[1]+400), ha = 'center',<br/>             bbox={'boxstyle': 'round', 'pad': 0.5, 'facecolor': <br/>                   'orange', 'edgecolor': 'orange', 'alpha': 0.6},<br/>             arrowprops={'arrowstyle':"wedge,tail_width=0.5", <br/>                         'alpha':0.6, 'color': 'orange'})<br/><strong class="ml ir">plt</strong>.annotate(str(counts[2]), xy=(2, counts[2]), <br/>             xytext=(2, counts[2]+400), ha = 'center',<br/>             bbox={'boxstyle': 'round', 'pad': 0.5, 'facecolor': <br/>                   'orange', 'edgecolor': 'orange', 'alpha': 0.6},<br/>             arrowprops={'arrowstyle':"wedge,tail_width=0.5", <br/>                         'alpha':0.6, 'color': 'orange'})<br/><strong class="ml ir">plt</strong>.annotate(str(counts[3]), xy=(3, counts[3]), <br/>             xytext=(3, counts[3]+400), ha = 'center',<br/>             bbox={'boxstyle': 'round', 'pad': 0.5, 'facecolor': <br/>                   'orange', 'edgecolor': 'orange', 'alpha': 0.6},<br/>             arrowprops={'arrowstyle':"wedge,tail_width=0.5", <br/>                         'alpha':0.6, 'color': 'orange'})<br/><strong class="ml ir">plt</strong>.annotate(str(counts[4]), xy=(4, counts[4]), <br/>             xytext=(4, counts[4]+400), ha = 'center',<br/>             bbox={'boxstyle': 'round', 'pad': 0.5, 'facecolor': <br/>                   'orange', 'edgecolor': 'orange', 'alpha': 0.6},<br/>             arrowprops={'arrowstyle':"wedge,tail_width=0.5", <br/>                         'alpha':0.6, 'color': 'orange'})<br/><strong class="ml ir">plt</strong>.xticks(ticks=[0, 1, 2, 3, 4], labels=["0 - 1", "1 - 2", "2 - 3",      <br/>           "3 - 4", "4 - 5"], fontsize=12)<br/><strong class="ml ir">plt</strong>.ylim([0, 9500]);</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pc"><img src="../Images/d08c89fc0f231e660058c38c6f74303d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*SyXkYTS95IDX44-ZxsOJfw.png"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/64c9cd0bf0f862f5eeaeb9312a03d973.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/1*pJ_XoJrutj9fZvQiRx_IjA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank">Storytelling with Matplotlib</a></figcaption></figure><p id="e0ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">【用 Matplotlib (SWMat)讲故事】</strong> </a> <strong class="ky ir"> : </strong></p><p id="8f78" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">— — — — — — — — — — — — -</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="a30a" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir">swm</strong> = SWMat(plt)<br/><strong class="ml ir">swm</strong>.bar(cats, heights, highlight={"cat": [-1]}, highlight_type=<br/>        {"data_type": "incrementalDown"}, cat_labels=["0-1", "1-2",<br/>        "2-3", "3-4", "4-5"], highlight_color={"cat_color":<br/>        "#FF7700"}, annotate=True)<br/><strong class="ml ir">swm</strong>.axis(labels=["Target values", "Frequency"])<br/><strong class="ml ir">swm</strong>.title("About most expensive houses in California...")<br/><strong class="ml ir">swm</strong>.text("California is a sea-side state. As most\nexpensive houses <br/>         are at sea-side we\ncan easily predict these values if <br/>         we\nsomehow &lt;prop color='blue'&gt;combine 'Latitude' <br/>         and\n'Longitude' variables &lt;/prop&gt;and separate sea\nside <br/>         houses from non-sea-side houses.",<br/>         btw_text_dist=.1);</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pd"><img src="../Images/27da56726888a4e3fb31a7d40dd9360d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J2d1qkuQUpw08E7FrgIS-A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">1) Normal Matplotlib, 2) Seaborn, 3) Matplotlib Power, 4) Storytelling With Matplotlib</figcaption></figure><p id="06ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> b)方框图</strong> <a class="ae kv" href="#c965" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="6ade" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">箱线图是分布图的统计版本。它给出了不同的四分位数，平均值和极值的范围。一些可能的用例是，如果某些点超出了盒须线的范围，您可以使用它来识别可以发现异常值的变量，或者您可以通过图中中间盒的相对位置来检查分布中的偏斜。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="b3e5" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(15, 7))</span><span id="ecc8" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.boxplot(train_df['target'], vert=False)</span><span id="d491" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.xlabel("&lt;-  Target Values  -&gt;")<br/><strong class="ml ir">plt</strong>.ylabel("Target");</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pe"><img src="../Images/cbe70f11d832101cc8b3e93313a0d792.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K1P88JXGpffBZ_x6_y8xcA.png"/></div></div></figure><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="951a" class="ob nb iq ml b gy oc od l oe of"># With Seaborn:<br/>from matplotlib.pyplot import figure<br/>figure(figsize=(15, 7))</span><span id="0bb8" class="ob nb iq ml b gy oj od l oe of">sns.boxplot(train_df['MedInc']);</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pf"><img src="../Images/3fcb444171c36965e43cedace0602aae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9e4DGuzPYY1PhloqBlY2IQ.png"/></div></div></figure><blockquote class="mb mc md"><p id="31a6" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:提示# 8:)</strong><a class="ae kv" href="#3626" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a><strong class="ky ir"/><a class="ae kv" href="#fbe9" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a></p><p id="e207" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 13) </strong>您可以通过使用<code class="fe mi mj mk ml b">plt.xlim</code>、<code class="fe mi mj mk ml b">plt.ylim</code>、<code class="fe mi mj mk ml b">ax.set_xlim</code>、<code class="fe mi mj mk ml b">ax.set_ylim</code>功能来改变您的<code class="fe mi mj mk ml b">Axes</code>的 x 极限、y 极限。您还可以通过将<code class="fe mi mj mk ml b">plt.margings</code>或<code class="fe mi mj mk ml b">ax.margins</code>用作<code class="fe mi mj mk ml b">plt.margins(x=2, y=-3)</code>来放大和缩小您的绘图。</p><p id="8baa" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 14) </strong>您可以从<code class="fe mi mj mk ml b">plt.style.available</code>中为您的图形使用不同的样式，为您的图形赋予不同的外观，并将其激活为<code class="fe mi mj mk ml b">plt.style.use(stylename)</code>。最常用的款式是<code class="fe mi mj mk ml b">'fivethirtyeight'</code>和<code class="fe mi mj mk ml b">ggplot</code>。</p><p id="baa1" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 15) </strong> <code class="fe mi mj mk ml b">seaborn</code>和<code class="fe mi mj mk ml b">matplotlib</code>有许多可用的色彩映射表，可用于设置连续变量图的颜色。你可以在这里找他们<a class="ae kv" href="https://matplotlib.org/users/colormaps.html" rel="noopener ugc nofollow" target="_blank">，在这里</a>找他们<a class="ae kv" href="https://seaborn.pydata.org/tutorial/color_palettes.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="b73a" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">只突出你想引起观众注意的情节部分，只突出那些部分。</p></blockquote><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="70cc" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(20, 7))</span><span id="7d58" class="ob nb iq ml b gy oj od l oe of">bp = <strong class="ml ir">plt</strong>.boxplot([x1, x2], vert=False, patch_artist=True,<br/>              flierprops={'alpha':0.6, 'markersize': 6,<br/>                   'markeredgecolor': '#555555','marker': 'd',<br/>                   'markerfacecolor': "#555555"}, <br/>              capprops={'color': '#555555', 'linewidth': 2},<br/>              boxprops={'color': '#555555', 'linewidth': 2},<br/>              whiskerprops={'color': '#555555', 'linewidth': 2},<br/>              medianprops={'color': '#555555', 'linewidth': 2},<br/>              meanprops={'color': '#555555', 'linewidth': 2})</span><span id="8fb6" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.grid(True, alpha=0.6)<br/><strong class="ml ir">plt</strong>.title("Box Plots", fontsize=18)<br/><strong class="ml ir">plt</strong>.xlabel("Values  -&gt;", fontsize=14)<br/><strong class="ml ir">plt</strong>.ylabel("Features", fontsize=14)<br/><strong class="ml ir">plt</strong>.yticks(ticks=[1, 2], labels=['MedInc', 'Target'])</span><span id="9c01" class="ob nb iq ml b gy oj od l oe of">bp['boxes'][0].set(facecolor='#727FFF')<br/>bp['boxes'][1].set(facecolor="#97FF67")</span><span id="9a7e" class="ob nb iq ml b gy oj od l oe of"># Adding Text:<br/><strong class="ml ir">plt</strong>.text(11, 1.5, "There are many potential\nOutliers with respect <br/>         to\nMedian Income", fontsize=18,<br/>         bbox={'facecolor': 'orange', 'edgecolor': 'orange', <br/>               'alpha': 0.4, 'pad': 8});</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/49d30439179520910702e966e247be2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*42arbj6_IvHk3Nx5XPD0UA.png"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/64c9cd0bf0f862f5eeaeb9312a03d973.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/1*pJ_XoJrutj9fZvQiRx_IjA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank">Storytelling with Matplotlib</a></figcaption></figure><p id="dc46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">用 Matplotlib (SWMat)讲故事</strong> </a> <strong class="ky ir"> : </strong></p><p id="1261" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">— — — — — — — — — — — — —</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="9d71" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir">swm</strong> = SWMat(plt)<br/>bp = <strong class="ml ir">plt</strong>.boxplot([x1, x2], vert=False, patch_artist=True,<br/>              flierprops={'alpha':0.6, 'markersize': 6,<br/>                   'markeredgecolor': '#555555','marker': 'd',<br/>                   'markerfacecolor': "#555555"}, <br/>              capprops={'color': '#555555', 'linewidth': 2},<br/>              boxprops={'color': '#555555', 'linewidth': 2},<br/>              whiskerprops={'color': '#555555', 'linewidth': 2},<br/>              medianprops={'color': '#555555', 'linewidth': 2},<br/>              meanprops={'color': '#555555', 'linewidth': 2})<br/><strong class="ml ir">plt</strong>.xlabel("Values  -&gt;", fontsize=14)<br/><strong class="ml ir">plt</strong>.ylabel("Features", fontsize=14)<br/><strong class="ml ir">plt</strong>.yticks(ticks=[1, 2], labels=['MedInc', 'Target'])<br/>bp['boxes'][0].set(facecolor='#727FFF')<br/>bp['boxes'][1].set(facecolor="#97FF67");</span><span id="e748" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">swm</strong>.title("Many unusual outliers in 'MedInc' variable...")<br/><strong class="ml ir">swm</strong>.text(("It may be because of acquisition of sea side\n"<br/>        "places by very wealthy people. This &lt;prop <br/>           color='blue'&gt;aquisition\n"<br/>        "by many times greater earners&lt;/prop&gt; and yet not much\n"<br/>        "number has made box plot like this."),btw_line_dist=.15,    <br/>         btw_text_dist=.01)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/bc80ca2c6f3f869ee46bebf1a3811843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RAUMpB7dv0FxHEyONaA5zA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">1) Normal Matplotlib, 2) Seaborn, 3) Matplotlib Power, 4) Storytelling With Matplotlib</figcaption></figure><p id="d769" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> c)小提琴剧情</strong> <a class="ae kv" href="#c965" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="04f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">小提琴情节是盒子情节的延伸。它也有均值、极值的指标，也可能有不同的四分位数。除此之外，它还显示了两边变量的概率分布。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="5407" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="98f0" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.violinplot(train_df['target'])</span><span id="2d9e" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">plt</strong>.title("Target Violin Plot")<br/><strong class="ml ir">plt</strong>.ylabel("Target values  -&gt;");</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/33030f42587c852b20699399800a3724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*_WOCwkFyzXaTyyNVd5FxGw.png"/></div></figure><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="6761" class="ob nb iq ml b gy oc od l oe of"># With Seaborn<br/>from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="9bad" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">sns</strong>.violinplot(train_df['target']);</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/558a8387d5cf7024be04dcece363d062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*s67bUUPao-vvmBzYZnf2RA.png"/></div></figure><blockquote class="mb mc md"><p id="fbe9" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:提示# 9:)</strong><a class="ae kv" href="#31a6" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a><strong class="ky ir"/><a class="ae kv" href="#1875" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a></p><p id="7796" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 16) </strong>您可以使用<code class="fe mi mj mk ml b">plt.axhline</code>、<code class="fe mi mj mk ml b">plt.axvline</code>或<code class="fe mi mj mk ml b">ax.axline</code>、<code class="fe mi mj mk ml b">ax.axvline</code>功能在绘图区内绘制垂直线或水平线。</p><p id="8ba8" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">做一个善于讲故事的人，用大众容易理解的方式通过故事传达你的发现。</p></blockquote><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="7aae" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(10, 7))</span><span id="30d4" class="ob nb iq ml b gy oj od l oe of">vp = <strong class="ml ir">plt</strong>.violinplot(train_df['target'], vert=False, showmeans=True, <br/>                     showmedians=True)</span><span id="1ab9" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">#</strong> Returns a dictionary with keys : ['bodies', 'cbars', 'cmaxes', <br/><strong class="ml ir">#</strong>                                   'cmeans', 'cmedians', 'cmins']<br/><strong class="ml ir">#</strong> Using these we can tinker with our plot:<br/>vp['bodies'][0].set_edgecolor("k")<br/>vp['bodies'][0].set_linewidth(2)<br/>vp['bodies'][0].set_alpha(1.0)<br/>vp['bodies'][0].set_zorder(10)</span><span id="78bf" class="ob nb iq ml b gy oj od l oe of">vp['cmeans'].set_linestyle(":")<br/>vp['cmeans'].set_color("r")<br/>vp['cmeans'].set_zorder(101)<br/>vp['cmeans'].set_segments(np.array([[[2.06855817, 0.7], [2.06855817, 1.3]]]))</span><span id="dafb" class="ob nb iq ml b gy oj od l oe of">vp['cmedians'].set_linestyle("--")<br/>vp['cmedians'].set_color("orange")<br/>vp['cmedians'].set_zorder(100)<br/>vp['cmedians'].set_segments(np.array([[[1.797, 0.7], [1.797, 1.3]]]))</span><span id="75d3" class="ob nb iq ml b gy oj od l oe of">vp['cbars'].set_zorder(99)<br/>vp['cbars'].set_color("k")<br/>vp['cbars'].set_linewidth(0.5)</span><span id="4231" class="ob nb iq ml b gy oj od l oe of">vp['cmaxes'].set_visible(False)<br/>vp['cmins'].set_visible(False)</span><span id="2674" class="ob nb iq ml b gy oj od l oe of"># Legend:<br/><strong class="ml ir">plt</strong>.legend(handles=[vp['bodies'][0], vp['cmeans'], vp['cmedians']], <br/>           labels=["Target", "Mean", "Median"], handlelength=5)<br/><strong class="ml ir">plt</strong>.title("Target Violin Plot")<br/><strong class="ml ir">plt</strong>.xlabel("Target")<br/><strong class="ml ir">plt</strong>.yticks([])<br/><strong class="ml ir">plt</strong>.grid(True, alpha=0.8)</span><span id="59d1" class="ob nb iq ml b gy oj od l oe of"># Adding Text<br/><strong class="ml ir">plt</strong>.text(x, y, f"({train_df['target'].median()}) Median",<br/>         bbox={'facecolor':'orange', 'edgecolor': 'orange', 'pad':4, <br/>               'alpha': 0.7}, zorder=12)<br/><strong class="ml ir">plt</strong>.text(x2, y2, f"Mean ({np.round(train_df['target'].mean(),3)})",<br/>         bbox={'facecolor':'red', 'edgecolor': 'red', 'pad':4, <br/>               'alpha': 0.6}, zorder=11);</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/d78ef956270c29435b67289432619584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*zEQyC-MIF7mLh0ZomYqq_w.png"/></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/64c9cd0bf0f862f5eeaeb9312a03d973.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/1*pJ_XoJrutj9fZvQiRx_IjA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank">Storytelling with Matplotlib</a></figcaption></figure><p id="ea96" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://github.com/PuneetGrov3r/SWMat" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">【用 Matplotlib (SWMat)讲故事】</strong> </a> <strong class="ky ir"> : </strong></p><p id="5cf6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi">— — — — — — — — — — — — —</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="e48c" class="ob nb iq ml b gy oc od l oe of">TK Work in Progress...</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pi"><img src="../Images/aab69cbb45878605c9618b90ed76d3b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T95HMNMZ2YrrbKPOSEZNow.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">1) Normal Matplotlib, 2) Seaborn, 3) Matplotlib Power, 4) Storytelling With Matplotlib</figcaption></figure><h1 id="7fc7" class="na nb iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">5.多个地块<a class="ae kv" href="#9520" rel="noopener ugc nofollow"> ^ </a></h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pj"><img src="../Images/d8ea9298163d356b89f5605967a8f360.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4tjWl45IzHXZNjgn"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@ripato?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ricardo Gomez Angel</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="cd40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<code class="fe mi mj mk ml b">plt.subplots</code>方法或通过指定方框坐标手动添加<code class="fe mi mj mk ml b">Axes</code>到图形中，或使用<code class="fe mi mj mk ml b">plt.GridSpec()</code>方法，根据需要绘制任意多的图形。即</p><ol class=""><li id="d7b8" class="mm mn iq ky b kz la lc ld lf mo lj mp ln mq lr mr ms mt mu bi translated">要么使用:<code class="fe mi mj mk ml b">fig, axess = plt.subplots(ncols=2, nrows=4)</code>然后你可以通过访问这些<code class="fe mi mj mk ml b">Axes</code>中的任何一个作为<code class="fe mi mj mk ml b">axess[col_num][row_rum]</code>来绘制它们，然后使用任何<code class="fe mi mj mk ml b">Axes</code>方法来绘制它们。</li><li id="79d5" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">或通过使用<code class="fe mi mj mk ml b">plt.axes()</code>方法给出四个百分比值的列表，给出<code class="fe mi mj mk ml b">Axes</code>的【左、下、宽、高】以在<code class="fe mi mj mk ml b">figure</code>中制作。比如:<code class="fe mi mj mk ml b">plt.axes([0.1, 0.1, 0.65, 0.65)</code>。</li><li id="4286" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">或者使用<code class="fe mi mj mk ml b">plt.GridSpec()</code>方法。如<code class="fe mi mj mk ml b">grid = plt.GridSpec(n_row, n_col)</code>。现在，当通过<code class="fe mi mj mk ml b">plt.subplot()</code>方法制作<code class="fe mi mj mk ml b">Axes</code>时，您可以使用此<code class="fe mi mj mk ml b">grid</code>作为 2D 阵列来选择使用多少和哪些栅格来制作电流，一个，<code class="fe mi mj mk ml b">Axes</code>。例如<code class="fe mi mj mk ml b">plt.subplot(grid[0,:])</code>将选择整个第一行作为一个<code class="fe mi mj mk ml b">Axes</code>。如果你愿意，你也可以留下一些。</li></ol><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="9ba7" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir">plt</strong>.figure(1, figsize=(10, 8))<br/><strong class="ml ir">plt</strong>.suptitle("Hist-Distribution", fontsize=18, y=1)</span><span id="1a38" class="ob nb iq ml b gy oj od l oe of"># Now lets make some axes in this figure<br/>axScatter = <strong class="ml ir">plt</strong>.axes([0.1, 0.1, 0.65, 0.65]) <br/>                <strong class="ml ir">#</strong> [left, bottom, width, height] in percent values<br/>axHistx = <strong class="ml ir">plt</strong>.axes([0.1, 0.755, 0.65, 0.2])<br/>axHisty = <strong class="ml ir">plt</strong>.axes([0.755, 0.1, 0.2, 0.65])</span><span id="ffa1" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">axHistx</strong>.set_xticks([])<br/><strong class="ml ir">axHistx</strong>.set_yticks([])<br/><strong class="ml ir">axHisty</strong>.set_xticks([])<br/><strong class="ml ir">axHisty</strong>.set_yticks([])<br/><strong class="ml ir">axHistx</strong>.set_frame_on(False)<br/><strong class="ml ir">axHisty</strong>.set_frame_on(False)<br/><strong class="ml ir">axScatter</strong>.set_xlabel("MedInc  -&gt;")<br/><strong class="ml ir">axScatter</strong>.set_ylabel("Population  -&gt;")</span><span id="1a51" class="ob nb iq ml b gy oj od l oe of"># Lets plot in these axes:<br/><strong class="ml ir">axScatter</strong>.scatter(x, y, edgecolors='w')<br/><strong class="ml ir">axHistx</strong>.hist(x, bins=30, ec='w', density=True, alpha=0.7)<br/><strong class="ml ir">axHisty</strong>.hist(y, bins=60, ec='w', density=True, alpha=0.7, <br/>             orientation='horizontal')<br/><strong class="ml ir">axHistx</strong>.set_ylabel("")</span><span id="3f1f" class="ob nb iq ml b gy oj od l oe of"># Adding annotations:<br/><strong class="ml ir">axScatter</strong>.annotate("Probably an outlier", xy=(2.6, 35500), <br/>                   xytext=(7, 28000),<br/>                   arrowprops={'arrowstyle':'-&gt;'}, <br/>                   bbox={'pad':4, 'facecolor':'orange', 'alpha': <br/>                         0.4, 'edgecolor':'orange'});</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/29586c0bfb37b6d65110f6f01876c6a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*hu3d1RRGxNQO9x_19hVjxg.png"/></div></figure><blockquote class="mb mc md"><p id="1875" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:提示# 10:)</strong><a class="ae kv" href="#fbe9" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a><strong class="ky ir"/><a class="ae kv" href="#a805" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a></p><p id="1f4d" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 17) </strong> <code class="fe mi mj mk ml b">seaborn</code>有自己的网格/多点对象，即<code class="fe mi mj mk ml b">Facet Grid</code>、<code class="fe mi mj mk ml b">Pair Grid</code>和<code class="fe mi mj mk ml b">Joint Grid</code>。他们有一些方法，如<code class="fe mi mj mk ml b">.map</code>、<code class="fe mi mj mk ml b">.map_diag</code>、<code class="fe mi mj mk ml b">.map_upper</code>、<code class="fe mi mj mk ml b">.map_lower</code>等，你可以研究一下，只在 2D 网格中的那些位置绘制图形。</p><p id="f4c8" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">读一读科尔·奈弗利克的《用数据讲故事》。这是一本很好的读物，它用一个著名的数据通信者的例子涵盖了每个方面。</p></blockquote><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="0871" class="ob nb iq ml b gy oc od l oe of">from matplotlib.pyplot import figure<br/>figure(figsize=(10, 8))</span><span id="cb2a" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">sns</strong>.jointplot(x, y);</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/c784f4c872ec5d59531bd6a0dbaacd4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*zH3S3-d61Z9UcEqV8JgrzQ.png"/></div></figure><h1 id="f2d6" class="na nb iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">6.互动剧情<a class="ae kv" href="#9520" rel="noopener ugc nofollow"> ^ </a></h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pm"><img src="../Images/f81c4abc9830eb694f93dba62fb452a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*00Pq4JTQ74Bbycx4"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@ripato?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Ricardo Gomez Angel</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="daed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">默认情况下，<code class="fe mi mj mk ml b">matplotlib</code>中的交互式绘图是关闭的。这意味着只有在您发出最后的<code class="fe mi mj mk ml b">plt</code>命令或使用了触发<code class="fe mi mj mk ml b">plt.draw</code>的命令(如<code class="fe mi mj mk ml b">plt.show()</code>)后，该图才会显示给您。您可以通过<code class="fe mi mj mk ml b">ion()</code>功能打开交互式绘图，通过<code class="fe mi mj mk ml b">ioff()</code>功能关闭交互式绘图。打开它，每个<code class="fe mi mj mk ml b">plt</code>功能都会触发<code class="fe mi mj mk ml b">plt.draw</code>。</p><p id="0608" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在现代 Jupyter 笔记本/IPython 世界中，有一个魔法命令可以打开这些笔记本中的交互/动画功能，那就是<code class="fe mi mj mk ml b">%matplotlib notebook</code>，要关闭它，您可以在使用任何<code class="fe mi mj mk ml b">plt</code>功能之前使用魔法命令<code class="fe mi mj mk ml b">%matplotlib inline</code>。</p><p id="8f20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mi mj mk ml b">matplotlib</code>与许多用户界面工具包(wxpython、tkinter、qt4、gtk 和 macosx)配合使用，以显示交互式绘图。对于这些交互图，<code class="fe mi mj mk ml b">matplotlib</code>使用<code class="fe mi mj mk ml b">event</code>和事件处理程序/管理器(<code class="fe mi mj mk ml b">fig.canvas.mpl_connect</code>)通过鼠标或键盘捕捉一些事件。</p><p id="c9e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个事件管理器用于将一些内置的事件类型查看器连接到一个自定义函数，如果特定类型的事件发生，该函数将被调用。</p><p id="bca4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有许多可用的事件，如'按钮 _ 按压 _ 事件'，'按钮 _ 释放 _ 事件'，'绘制 _ 事件'，'调整大小 _ 事件'，'图形 _ 输入 _ 事件'，<a class="ae kv" href="https://matplotlib.org/users/event_handling.html" rel="noopener ugc nofollow" target="_blank">等</a>。可以像<code class="fe mi mj mk ml b">fig.canvas.mpl_connect(event_name, func)</code>一样连接。</p><p id="fd67" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于上面的例子，如果<code class="fe mi mj mk ml b">event_name</code>事件发生，所有与该事件相关的数据都将被发送到您的函数<code class="fe mi mj mk ml b">func</code>中，在这里您应该已经编写了一些代码来使用所提供的数据。该事件数据包含 x 和 y 位置、x 和 y 数据坐标、是否在<code class="fe mi mj mk ml b">Axes</code>内点击等信息。如果它们与您的事件类型<code class="fe mi mj mk ml b">event_name</code>相关。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="5e7a" class="ob nb iq ml b gy oc od l oe of">%matplotlib notebook<br/># Example from matplotlib Docs</span><span id="52bb" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">class</strong> LineBuilder:<br/>    <strong class="ml ir">def</strong> __init__(self, line):<br/>        self.line = line<br/>        self.xs = list(line.get_xdata())<br/>        self.ys = list(line.get_ydata())<br/>        self.cid = line.figure.\<br/>                canvas.mpl_connect('<strong class="ml ir">button_press_event</strong>', self)</span><span id="a125" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">    def</strong> __call__(self, event):<br/>        print('click', event)<br/>        if event.inaxes!=self.line.axes: return<br/>        self.xs.append(event.xdata)<br/>        self.ys.append(event.ydata)<br/>        self.line.set_data(self.xs, self.ys)<br/>        self.line.figure.canvas.draw()</span><span id="ba79" class="ob nb iq ml b gy oj od l oe of">fig = plt.figure()<br/>ax = <strong class="ml ir">fig</strong>.add_subplot(111)<br/><strong class="ml ir">ax</strong>.set_title('click to build line segments')<br/>line, = <strong class="ml ir">ax</strong>.plot([0], [0])  # empty line<br/>linebuilder = LineBuilder(line)</span><span id="bf89" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir"># It worked with a class because this class has a __call__<br/># method.</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pn"><img src="../Images/7909f01adaf15929721df15a80feb5df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xIMDvHRV28dus8m7Rjqutg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Random lines drawn using above code (by consecutive clicking)</figcaption></figure><h1 id="91c0" class="na nb iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">7.其他人<a class="ae kv" href="#9520" rel="noopener ugc nofollow"> ^ </a></h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi po"><img src="../Images/7af97ea824966e70545b9216c58b19ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*I1F7U_EMeVepsnhR"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">rawpixel</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><ol class=""><li id="00be" class="mm mn iq ky b kz la lc ld lf mo lj mp ln mq lr mr ms mt mu bi translated"><a class="ae kv" href="#0ebb" rel="noopener ugc nofollow"> 3D 绘图</a></li><li id="7fb4" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#12db" rel="noopener ugc nofollow">地理地块</a></li><li id="d9bf" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#dd21" rel="noopener ugc nofollow">字云剧情</a></li><li id="7f2a" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="#7aec" rel="noopener ugc nofollow">动画</a></li></ol><p id="0ebb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 3D 剧情:</strong> <a class="ae kv" href="#91c0" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="6095" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mi mj mk ml b">matplotlib</code>的 3D 图不在普通库中。在<code class="fe mi mj mk ml b">mpl_toolkits</code>中是因为<code class="fe mi mj mk ml b">matplotlib</code>开始只有 2D 图，后来在<code class="fe mi mj mk ml b">mpl_toolkits</code>中增加了 3D 图。可以导入为<code class="fe mi mj mk ml b">from mpl_toolkits import mplot3d</code>。</p><p id="efa3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">导入后，您可以通过将<code class="fe mi mj mk ml b">projection='3d'</code>传递给任何<code class="fe mi mj mk ml b">Axes</code>初始化器/maker 函数来制作任何<code class="fe mi mj mk ml b">Axes</code> 3D 轴。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="1cd7" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir">ax</strong> = <strong class="ml ir">plt</strong>.gca(projection='3d') # Initialize...</span><span id="c95b" class="ob nb iq ml b gy oj od l oe of"># Data for a three-dimensional line<br/>zline = np.linspace(0, 15, 1000)<br/>xline = np.sin(zline)<br/>yline = np.cos(zline)<br/><strong class="ml ir">ax</strong>.plot3D(xline, yline, zline, 'gray')</span><span id="2251" class="ob nb iq ml b gy oj od l oe of"># Data for three-dimensional scattered points<br/>zdata = 15 * np.random.random(100)<br/>xdata = np.sin(zdata) + 0.1 * np.random.randn(100)<br/>ydata = np.cos(zdata) + 0.1 * np.random.randn(100)<br/><strong class="ml ir">ax</strong>.scatter3D(xdata, ydata, zdata, c=zdata, cmap='Greens');</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/78548fd39e6da34220bff7fa3cac4f4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*1kDulk_WKM0MDYMS5X_DaQ.png"/></div></figure><blockquote class="mb mc md"><p id="a805" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:提示# 11:)</strong><a class="ae kv" href="#1875" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a><strong class="ky ir"/><a class="ae kv" href="#9e1e" rel="noopener ugc nofollow"><strong class="ky ir">&gt;</strong></a></p><p id="b457" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 18) </strong>在执行绘图功能之前，您可以通过运行<code class="fe mi mj mk ml b">%matplotlib notebook</code>来交互查看 3D 绘图。</p></blockquote><p id="375d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有许多 3D 绘图可用，如<code class="fe mi mj mk ml b">line</code>、<code class="fe mi mj mk ml b">scatter</code>、<code class="fe mi mj mk ml b">wireframe</code>、<code class="fe mi mj mk ml b">surface</code>、<code class="fe mi mj mk ml b">contour</code>、<code class="fe mi mj mk ml b">bar</code>等，甚至还有<code class="fe mi mj mk ml b">subplot</code>可用。你也可以用<code class="fe mi mj mk ml b">text</code>功能在这些图上写字。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="9510" class="ob nb iq ml b gy oc od l oe of"># This import registers the 3D projection, but is otherwise unused.<br/>from mpl_toolkits.mplot3d import Axes3D</span><span id="baee" class="ob nb iq ml b gy oj od l oe of"># setup the figure and axes<br/><strong class="ml ir">plt</strong>.figure(figsize=(8, 6))<br/><strong class="ml ir">ax </strong>= plt.gca(projection='3d')</span><span id="2cf9" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">ax</strong>.bar3d(x, y, bottom, width, depth, top, shade=True)<br/><strong class="ml ir">ax</strong>.set_title('Bar Plot')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/9d072b9febc3a8e764fc89a89eeab7c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*WVTZ6PlbKjoTtgq3Yys6KA.png"/></div></figure><p id="12db" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">地理剧情:</strong> <a class="ae kv" href="#91c0" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="320b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要用<code class="fe mi mj mk ml b">matplotlib</code>绘制地理图，你必须安装另一个由<code class="fe mi mj mk ml b">matplotlib</code>开发的名为<code class="fe mi mj mk ml b">Basemap</code>的软件包。安装并不容易，在这里寻找官方说明<a class="ae kv" href="https://matplotlib.org/basemap/users/installing.html" rel="noopener ugc nofollow" target="_blank">，或者你可以使用<code class="fe mi mj mk ml b">conda</code>命令，如果你已经安装了 Anaconda:<code class="fe mi mj mk ml b">conda install -c conda-forge basemap</code>，或者如果这些对你来说也不起作用，在这里</a>寻找<a class="ae kv" href="https://www.researchgate.net/post/How_to_install_Basemap_in_Python3" rel="noopener ugc nofollow" target="_blank">(特别是最后的评论)。</a></p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="5f13" class="ob nb iq ml b gy oc od l oe of">from mpl_toolkits.basemap import Basemap</span><span id="4024" class="ob nb iq ml b gy oj od l oe of">m = Basemap()<br/>m.drawcoastlines()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/ac402ae4a212ecd681b842bde212cfb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*WEciM3hcm1eYZXjc7YHskw.png"/></div></figure><p id="0a2d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实际上，您可以在这里使用 matplotlib 的大多数原始函数，如<code class="fe mi mj mk ml b">text</code>、<code class="fe mi mj mk ml b">plot</code>、<code class="fe mi mj mk ml b">annotate</code>、<code class="fe mi mj mk ml b">bar</code>、<code class="fe mi mj mk ml b">contour</code>、<code class="fe mi mj mk ml b">hexbin</code>，甚至是这些投影上的 3D 绘图。</p><p id="7859" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它还有一些与地理图相关的功能，如<code class="fe mi mj mk ml b">streamplot</code>、<code class="fe mi mj mk ml b">quiver</code>等。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="acde" class="ob nb iq ml b gy oc od l oe of"><strong class="ml ir">m</strong> = Basemap(projection='ortho', lat_0=0, lon_0=0)<br/># There are a lot of projections available. Choose one you want. <strong class="ml ir">m</strong>.drawmapboundary(fill_color='aqua')<br/><strong class="ml ir">m</strong>.fillcontinents(color='coral',lake_color='aqua')<br/><strong class="ml ir">m</strong>.drawcoastlines()</span><span id="2c72" class="ob nb iq ml b gy oj od l oe of">x, y = map(0, 0) # Converts lat, lon to plot's x, y coordinates.</span><span id="1e7c" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">m</strong>.plot(x, y, marker='D',color='m')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/1e8f9b644d7d62b62b2ef8f60935494b.png" data-original-src="https://miro.medium.com/v2/resize:fit:476/format:webp/1*hLLS4D03ANffb-xqgiojwQ.png"/></div></figure><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="8762" class="ob nb iq ml b gy oc od l oe of"><em class="me"># llcrnr: lower left corner; urcrnr: upper right corner</em><br/><strong class="ml ir">m</strong> = Basemap(llcrnrlon=-10.5, llcrnrlat=33, urcrnrlon=10., <br/>            urcrnrlat=46., resolution='l', projection='cass', <br/>            lat_0 = 39.5, lon_0 = 0.)<br/><strong class="ml ir">m</strong>.bluemarble()<br/><strong class="ml ir">m</strong>.drawcoastlines()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/22ad497998741d15054d25e0cb2c0816.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*MSAv8dBuuegRh_y57pdbDw.png"/></div></figure><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="2263" class="ob nb iq ml b gy oc od l oe of">from mpl_toolkits.mplot3d import Axes3D</span><span id="f6f9" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">m</strong> = Basemap(llcrnrlon=-125, llcrnrlat=27, urcrnrlon=-113, <br/>             urcrnrlat=43, resolution='i')</span><span id="8ad6" class="ob nb iq ml b gy oj od l oe of">fig = <strong class="ml ir">plt</strong>.figure(figsize=(20, 15))<br/>ax = <strong class="ml ir">Axes3D</strong>(fig)</span><span id="4382" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">ax</strong>.set_axis_off()<br/><strong class="ml ir">ax</strong>.azim = 270 # Azimuth angle<br/><strong class="ml ir">ax</strong>.dist = 6   # Distance of eye-viewing point fro object point</span><span id="9b83" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">ax</strong>.add_collection3d(<strong class="ml ir">m</strong>.drawcoastlines(linewidth=0.25))<br/><strong class="ml ir">ax</strong>.add_collection3d(<strong class="ml ir">m</strong>.drawcountries(linewidth=0.35))<br/><strong class="ml ir">ax</strong>.add_collection3d(<strong class="ml ir">m</strong>.drawstates(linewidth=0.30))</span><span id="ce43" class="ob nb iq ml b gy oj od l oe of">x, y = m(x, y)<br/><strong class="ml ir">ax</strong>.bar3d(x, y, np.zeros(len(x)), 30, 30, np.ones(len(x))/10,<br/>         color=colors, alpha=0.8)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/9c0557fc9158fea5243561e7015b8dac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*sgeKNe_tX9XuaQfjF2PD9g.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">‘Target’ distribution (red -&gt; high) in California. [From above used California Dataset]</figcaption></figure><p id="dd21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">字云剧情:</strong> <a class="ae kv" href="#91c0" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="d784" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">词云在自然语言处理(NLP)中使用，在可以是云或不是云的某个边界内，显示具有最多频率的词，其大小取决于它们的频率。它将数据中单词之间的相对频率差异绘制为其字体的相对大小。在大多数情况下，仅仅通过查看单词云也很容易找到出现频率最高的单词。但这仍然是一种有趣的方式来传达数据，因为它很好理解和容易理解。</p><p id="30a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有一个 python 包<code class="fe mi mj mk ml b">wordcloud</code>，你可以把<code class="fe mi mj mk ml b">pip</code>当作<code class="fe mi mj mk ml b">pip install wordcloud</code>来安装。</p><p id="7cae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以先设置<code class="fe mi mj mk ml b">WordCloud</code>的一些属性(比如使用<code class="fe mi mj mk ml b">mask</code>参数设置云的形状，指定<code class="fe mi mj mk ml b">max_words</code>，指定<code class="fe mi mj mk ml b">stopwords</code>等。)然后为给定的文本数据生成具有指定属性的云。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="5d5a" class="ob nb iq ml b gy oc od l oe of">from wordcloud import WordCloud, STOPWORDS</span><span id="1cbe" class="ob nb iq ml b gy oj od l oe of"># Create and generate a word cloud image:<br/>wordcloud = <strong class="ml ir">WordCloud</strong>()\    # Use default properties<br/>             .generate(text) </span><span id="cd78" class="ob nb iq ml b gy oj od l oe of"># Display the generated image:<br/><strong class="ml ir">plt</strong>.imshow(wordcloud, interpolation='bilinear')<br/><strong class="ml ir">plt</strong>.axis("off")</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/b4ca7bc454e20d2d7852b04c67251c9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*g4d5XY9FIhLZk6VahlvAgg.png"/></div></figure><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="55a1" class="ob nb iq ml b gy oc od l oe of">from PIL import Image<br/>mask = np.array(Image.open("jour.jpg")) # Searched "journalism <br/>                                        # black png" on google <br/>                                        # images...<br/>stopwords = set(STOPWORDS)</span><span id="af54" class="ob nb iq ml b gy oj od l oe of">wc = <strong class="ml ir">WordCloud</strong>(background_color="white", max_words=1000, mask=mask,<br/>               stopwords=stopwords)</span><span id="f537" class="ob nb iq ml b gy oj od l oe of"># Generate a wordcloud<br/><strong class="ml ir">wc</strong>.generate(text)</span><span id="fb3a" class="ob nb iq ml b gy oj od l oe of"># show<br/><strong class="ml ir">plt</strong>.figure(figsize=[20,10])<br/><strong class="ml ir">plt</strong>.imshow(wc, interpolation='bilinear')<br/><strong class="ml ir">plt</strong>.axis("off")<br/><strong class="ml ir">plt</strong>.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pw"><img src="../Images/b54b16cdbb282e5c45757076e958918d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_MXlb9_kx_JDhhwibxZ7OQ.png"/></div></div></figure><p id="7aec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">动画:</strong> <a class="ae kv" href="#91c0" rel="noopener ugc nofollow"> <strong class="ky ir"> ^ </strong> </a></p><p id="68bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以使用这两个类中的一个来轻松制作动画:</p><ol class=""><li id="c923" class="mm mn iq ky b kz la lc ld lf mo lj mp ln mq lr mr ms mt mu bi translated"><code class="fe mi mj mk ml b">FuncAnimatin</code>:反复调用函数<code class="fe mi mj mk ml b"><em class="me">func</em></code>制作动画。</li><li id="6866" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><code class="fe mi mj mk ml b">ArtistAnimation</code>:使用一组固定的<code class="fe mi mj mk ml b">Artist</code>对象的动画。</li></ol><blockquote class="mb mc md"><p id="9e1e" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">(:提示# 12:)</strong><a class="ae kv" href="#a805" rel="noopener ugc nofollow"><strong class="ky ir">&lt;</strong></a></p><p id="e897" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">始终保持对实例对象<code class="fe mi mj mk ml b">Animation</code>的引用，否则将被垃圾回收。</p><p id="b7c4" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 20) </strong>使用<code class="fe mi mj mk ml b">Animation.save</code>或<code class="fe mi mj mk ml b">Animation.to_html5_video</code>方法之一将动画保存到磁盘。</p><p id="4247" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir"> 21) </strong>您可以使用设置为<code class="fe mi mj mk ml b">True</code>的参数<code class="fe mi mj mk ml b">blit</code>来加速/优化动画的绘制。但是如果<code class="fe mi mj mk ml b">blit=True</code>你将不得不返回一个由<code class="fe mi mj mk ml b">init_func</code>重画的艺术家列表。</p></blockquote><p id="d599" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<code class="fe mi mj mk ml b">FuncAnimation</code>中，你需要传递至少一个当前的<code class="fe mi mj mk ml b">fig</code>和一个将为每一帧调用的函数。除此之外，你还应该查看参数<code class="fe mi mj mk ml b">frames</code> (iterable，int，generator，None 要传递给<code class="fe mi mj mk ml b">func</code>和动画每一帧的数据源】、<code class="fe mi mj mk ml b">init_func</code>(用于绘制清晰帧的函数，否则使用<code class="fe mi mj mk ml b">frames</code>的第一帧)和<code class="fe mi mj mk ml b">blit</code>(是否使用位块传输)。</p><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="a8f8" class="ob nb iq ml b gy oc od l oe of">%matplotlib notebook</span><span id="13b2" class="ob nb iq ml b gy oj od l oe of">fig, ax = <strong class="ml ir">plt</strong>.subplots()<br/>xdata, ydata = [], []<br/>ln, = <strong class="ml ir">plt</strong>.plot([], [], 'ro')</span><span id="9934" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">def</strong> init():<br/>    ax.set_xlim(0, 2*np.pi)<br/>    ax.set_ylim(-1, 1)<br/>    return ln,</span><span id="545b" class="ob nb iq ml b gy oj od l oe of"><strong class="ml ir">def</strong> update(frame):<br/>    xdata.append(frame)<br/>    ydata.append(np.sin(frame))<br/>    ln.set_data(xdata, ydata)<br/>    return ln,<br/># Always keep reference to `Animation` obj<br/>ani = <strong class="ml ir">FuncAnimation</strong>(fig, update, frames=np.linspace(0, 2*np.pi,<br/>                    128), init_func=init, blit=True)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi px"><img src="../Images/da27f18371bc95a857c28c0ead62b7f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/1*G-yxRv1qRpvNK1xeblfiNg.gif"/></div></figure><h1 id="c1d9" class="na nb iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">8.延伸阅读<a class="ae kv" href="#9520" rel="noopener ugc nofollow"> ^ </a></h1><ol class=""><li id="8a60" class="mm mn iq ky b kz ns lc nt lf nu lj nv ln nw lr mr ms mt mu bi translated"><a class="ae kv" href="http://www.storytellingwithdata.com/book" rel="noopener ugc nofollow" target="_blank">用数据讲故事——科尔·n·克纳弗里克</a>(一本关于如何通过知名数据交流者使用图形/图表交流数据的好书)</li><li id="9ad0" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://jakevdp.github.io/PythonDataScienceHandbook/04.00-introduction-to-matplotlib.html" rel="noopener ugc nofollow" target="_blank"> Python 数据科学手册— Jake VanderPlas </a></li><li id="b869" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="http://louistiao.me/posts/notebooks/embedding-matplotlib-animations-in-jupyter-as-interactive-javascript-widgets/" rel="noopener ugc nofollow" target="_blank">在 Jupyter 中嵌入 Matplotlib 动画作为交互式 JavaScript 小部件— Louis Tiao </a></li><li id="6a1f" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://www.datacamp.com/community/tutorials/wordcloud-python" rel="noopener ugc nofollow" target="_blank">用 Python 生成单词云— Duong Vu </a></li><li id="d9a1" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://basemaptutorial.readthedocs.io" rel="noopener ugc nofollow" target="_blank">底图教程</a></li></ol><h1 id="352d" class="na nb iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">9.参考文献<a class="ae kv" href="#9520" rel="noopener ugc nofollow"> ^ </a></h1><ol class=""><li id="a0a4" class="mm mn iq ky b kz ns lc nt lf nu lj nv ln nw lr mr ms mt mu bi translated">用数据讲故事——Cole n . Knaflic(一本关于如何通过知名数据交流者使用图形/图表交流数据的好书)</li><li id="00df" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://jakevdp.github.io/PythonDataScienceHandbook/04.00-introduction-to-matplotlib.html" rel="noopener ugc nofollow" target="_blank"> Python 数据科学手册——杰克·范德普拉斯</a></li><li id="5ff3" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="http://louistiao.me/posts/notebooks/embedding-matplotlib-animations-in-jupyter-as-interactive-javascript-widgets/" rel="noopener ugc nofollow" target="_blank">在 Jupyter 中嵌入 Matplotlib 动画作为交互式 JavaScript 窗口小部件——Louis Tiao</a></li><li id="3535" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://www.datacamp.com/community/tutorials/wordcloud-python" rel="noopener ugc nofollow" target="_blank">用 Python 生成单词云— Duong Vu </a></li><li id="f309" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://www.datacamp.com/community/tutorials/matplotlib-tutorial-python" rel="noopener ugc nofollow" target="_blank"> Matplotlib 教程:Python 绘图— Karlijn Willems </a></li><li id="c901" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://basemaptutorial.readthedocs.io" rel="noopener ugc nofollow" target="_blank">底图教程</a></li><li id="ce29" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://matplotlib.org/contents.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib 文档</a></li><li id="8abc" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://matplotlib.org/tutorials/toolkits/mplot3d.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib mplot3d 工具包</a></li><li id="4738" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://matplotlib.org/users/interactive.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib —交互式</a></li><li id="39df" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated"><a class="ae kv" href="https://matplotlib.org/api/animation_api.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib —动画</a></li><li id="be6c" class="mm mn iq ky b kz mv lc mw lf mx lj my ln mz lr mr ms mt mu bi translated">Seaborn Docs </li></ol><pre class="kg kh ki kj gt nx ml ny nz aw oa bi"><span id="c5dc" class="ob nb iq ml b gy oc od l oe of">Suggestions and reviews are welcome.<br/>Thank you for reading!</span></pre><p id="e030" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">签名:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi py"><img src="../Images/ca01c1d315400c09978fb5e62da01d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*N7tbEUmEr0wEqsdlZNQ5iA.png"/></div></div></figure></div></div>    
</body>
</html>