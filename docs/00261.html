<html>
<head>
<title>How to build a Social Network with just 2 columns</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何建立一个只有两栏的社交网络</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-social-network-is-just-a-table-with-2-columns-c30d9c3b5e6e?source=collection_archive---------21-----------------------#2019-01-11">https://towardsdatascience.com/a-social-network-is-just-a-table-with-2-columns-c30d9c3b5e6e?source=collection_archive---------21-----------------------#2019-01-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="08f6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">好吧，如果你很挑剔的话，也许 3 张，如果你想让它真正有用的话，也许多几张桌子…</h2></div><p id="10ea" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">…但我的观点仍然成立。社交网络的本质可以很容易地存储在一个有两列的表中。</p><p id="91de" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这篇文章的灵感来自于描述社交网络的复杂方式，尤其是在图表中，它让我思考如何简化它的想法，以便任何人都可以理解它。</p><h1 id="e947" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">让我们从概述什么是社交网络开始</h1><p id="4acb" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">简单来说，它是一个描述社会关系和互动的网络。他们在互联网出现之前就存在了。自从人类存在以来，事实上自从任何社会生物存在以来，城市、城镇、村庄和人们都有他们自己的小社会网络。</p><p id="c681" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然而，一旦互联网允许社交网络被记录、存储和扩展，这个术语就爆炸了。</p><p id="b8cc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如今，你的社交网络可以不仅仅包括你认识的人，还包括你经常交往的人。它可以包括你从未谋面的人，或者仅仅通过网上交流认识的人。</p><p id="66ce" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">想想就有点疯狂。</strong></p><p id="a9cc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是这些都不是新的。我们都很清楚这一点，但这些在线社交网络实际上在做什么呢？</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi mc"><img src="../Images/c855b57b98368627b079b54e91261aa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MnW5g_eFzA3-DReb"/></div></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk">Photo by <a class="ae ms" href="https://unsplash.com/@huuduong?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Dương Hữu</a> on <a class="ae ms" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="mt"><p id="2e3f" class="mu mv it bd mw mx my mz na nb nc ld dk translated">它们存储了一个人(或者实体，如果你真的很迂腐的话)和另一个人之间的联系。</p></blockquote><p id="3328" class="pw-post-body-paragraph ki kj it kk b kl nd ju kn ko ne jx kq kr nf kt ku kv ng kx ky kz nh lb lc ld im bi translated">就是这样。<strong class="kk iu">只是两个人之间简单的联系</strong>。很多很多很多次。</p><p id="db8c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这种规模就是为什么我认为我们把它们描绘成复杂的东西，但是如果你回到核心原则:存储两个人之间的联系，现在看起来并不太糟糕，对吗？</p><h1 id="f690" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">但是你说是两栏的表格，请解释一下…</h1><p id="3c76" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">…嗯，如果一个社交网络只是两个人之间的一个巨大的链接。那么你需要一种方法来存储两个人之间的链接。一种方法是创建一个表，存储代表每个人的两个用户标识符。</p><pre class="md me mf mg gt ni nj nk nl aw nm bi"><span id="1f2a" class="nn lf it nj b gy no np l nq nr">CREATE TABLE friend <br/>(<br/>   user_id VARCHAR(64), <br/>   friend_user_id VARCHAR(64)<br/>);</span></pre><p id="5229" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">搞定了。</p><p id="d0fb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">嗯，不完全是，但是你明白了。这个表现在可以很容易地存储两个用户之间的关系(我们称之为朋友)。</p><p id="cf0c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您想知道存储关系的顺序。如果是我设计的，我会把发起好友请求的人放在第一列，把他们请求的人放在第二列。</p><h1 id="13ce" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">图遍历找朋友的朋友怎么样？</h1><p id="e2c1" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">现在我们在谈话。现在我们来看看那些超级复杂的社交网络图片，它们让你大吃一惊。</p><figure class="md me mf mg gt mh gh gi paragraph-image"><div role="button" tabindex="0" class="mi mj di mk bf ml"><div class="gh gi ns"><img src="../Images/44587f4a64e80c916912363730e428b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PhHvBjrAWUOw22EN.jpg"/></div></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk">A super complex social network: <a class="ae ms" href="https://thenextweb.com/socialmedia/2013/11/24/facebook-grandparents-need-next-gen-social-network/" rel="noopener ugc nofollow" target="_blank">Image Source</a></figcaption></figure><p id="9513" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们从简单的开始。</p><p id="2720" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于一个用户来说，找到他们的朋友，然后找到他们所有的朋友，这些朋友还不是最初用户的朋友。</p><p id="ccfd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所有的社交网络都是这样开始向你展示“推荐的朋友”或“你可能认识的人”。逻辑是，如果你认识一个人，你可能也认识同样的人。</p><pre class="md me mf mg gt ni nj nk nl aw nm bi"><span id="7cc5" class="nn lf it nj b gy no np l nq nr">SELECT user.user_id, friends.friend_user_id<br/>FROM friend user<br/>LEFT JOIN friend friends ON user.friend_user_id = friends.user_id<br/>LEFT JOIN friend same_friends ON same_friends.user_id = friends.friend_user_id <br/>WHERE a.user_id = 1 AND c.user_id IS NULL;</span></pre><p id="bb8b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样不太难。虽然我不想假装，当你想认识朋友的朋友的朋友等等的时候，它不会变得有点笨拙。</p><p id="dff6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有趣的是，脸书遇到了同样的问题，并决定走图形数据库这条路。图形数据库旨在帮助解决这类问题，因为它们在构建时(显然)考虑了图形遍历。这使得询问更复杂的网络问题变得更加琐碎。</p><h1 id="1747" class="le lf it bd lg lh li lj lk ll lm ln lo jz lp ka lq kc lr kd ls kf lt kg lu lv bi translated">那么一个社交网络真的只是一个有两列的表格吗？</h1><p id="e438" class="pw-post-body-paragraph ki kj it kk b kl lw ju kn ko lx jx kq kr ly kt ku kv lz kx ky kz ma lb lc ld im bi translated">是也不是…</p><p id="db91" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如您所看到的，用一个表和两列来存储用户之间的关系是可能的。你甚至可以查询这些数据，并使用它们来查找推荐的朋友，以帮助用户建立他们的网络。</p><p id="31a1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但实际上，你会希望它周围有很多额外的数据，以使它在现实世界中更有用。</p><p id="2343" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，您将需要表来存储关于用户及其配置文件的数据。</p><p id="9b4f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可能还想知道好友请求的概念，这样你就可以区分请求和真正的友谊。</p><p id="f92c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可能希望存储关于好友请求被发出和接受的事件的元数据。</p><p id="8abd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后扩展到构成社交网络的所有其他<em class="mb">东西</em>，包括帖子和赞——同样，赞只是用户和另一个实体之间的关系，更可能是用户和帖子之间的关系。</p><p id="f777" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">希望这种对社交网络世界的简化看法引发了一些思考，即简单的想法如何能很快变成一些最大和最强大的工具。</strong></p></div></div>    
</body>
</html>