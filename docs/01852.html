<html>
<head>
<title>Get faster pandas with Modin, even on your laptops.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用摩丁获得更快的熊猫，甚至在你的笔记本电脑上。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/get-faster-pandas-with-modin-even-on-your-laptops-b527a2eeda74?source=collection_archive---------3-----------------------#2019-03-27">https://towardsdatascience.com/get-faster-pandas-with-modin-even-on-your-laptops-b527a2eeda74?source=collection_archive---------3-----------------------#2019-03-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7b03" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用 Modin 扩展交互式熊猫工作流。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a6eccfa62a1059b8c99f88d46e74b169.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wLCHEekWiQAj-Q-Fg_8zcg.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><a class="ae ky" href="https://www.pixelstalk.net/kung-fu-panda-wallpapers-hd" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><blockquote class="kz"><p id="c441" class="la lb it bd lc ld le lf lg lh li lj dk translated">通过更改一行代码来扩展您的熊猫工作流程</p></blockquote><p id="1f90" class="pw-post-body-paragraph lk ll it lm b ln lo ju lp lq lr jx ls lt lu lv lw lx ly lz ma mb mc md me lj im bi translated">Pandas 是一个在数据科学领域无需介绍的库。它提供了高性能、易于使用的数据结构和数据分析工具。然而，当处理大量数据时，单核上的 Pandas 变得不够用，人们不得不求助于不同的分布式系统来提高性能。然而，提高性能的代价是陡峭的学习曲线。本质上，用户可能只是希望 Pandas 运行得更快，并不希望为他们特定的硬件设置优化他们的工作流程。这意味着人们希望对 10KB 数据集和 10TB 数据集使用相同的 Pandas 脚本。摩丁提出通过优化熊猫来提供解决方案，以便数据科学家将时间花在从数据中提取价值上，而不是花在提取数据的工具上。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="9ae6" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">摩丁</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/fc8ebb7fb3409f73229d599cbc3d5f5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*-VPZYVqkQF9daglo-xdtiw.png"/></div></figure><p id="c2c6" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated"><a class="ae ky" href="https://github.com/modin-project/modin" rel="noopener ugc nofollow" target="_blank"> <strong class="lm iu">摩丁</strong> </a>是加州大学伯克利分校<a class="ae ky" href="https://rise.cs.berkeley.edu/" rel="noopener ugc nofollow" target="_blank">rise lab</a>的一个早期项目，旨在促进分布式计算在数据科学中的应用。这是一个多进程数据框架库，具有与 pandas 相同的 API，允许用户加速他们的 Pandas 工作流程。</p><p id="7e30" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">Modin <strong class="lm iu"> </strong>在 8 核机器上将 Pandas 查询速度提高了 4 倍，只需要用户在笔记本上修改一行代码。该系统是为现有的 Pandas 用户设计的，他们希望自己的程序运行得更快，规模更大，而不需要进行重大的代码更改。这项工作的最终目标是能够在云环境中使用熊猫。</p><h2 id="b336" class="nk mn it bd mo nl nm dn ms nn no dp mw lt np nq my lx nr ns na mb nt nu nc nv bi translated">装置</h2><p id="3651" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">摩丁是完全开源的，可以在 GitHub 上找到:<a class="ae ky" href="https://github.com/modin-project/modin" rel="noopener ugc nofollow" target="_blank">https://github.com/modin-project/modin</a></p><p id="d13c" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">可以从 PyPI 安装 Modin:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="3c05" class="nk mn it oc b gy og oh l oi oj">pip install modin</span></pre><p id="0225" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">对于 Windows，其中一个依赖是<a class="ae ky" href="http://ray.readthedocs.io/" rel="noopener ugc nofollow" target="_blank">射线</a>。Ray 在 Windows 上还没有本地支持，所以为了安装它，需要使用 WSL(Linux 的 Windows 子系统)。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="4463" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">摩丁如何加快执行速度</h1><h2 id="ebca" class="nk mn it bd mo nl nm dn ms nn no dp mw lt np nq my lx nr ns na mb nt nu nc nv bi translated">在笔记本电脑上</h2><p id="6a57" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">考虑一台 4 核现代笔记本电脑，其数据框架非常适合。熊猫只使用一个 CPU 核心，而另一方面，摩丁使用所有的核心。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/f04cbf326d9a5fcd115cac6e0e608d41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dR8v0vX2-da2rb6IAq7a5A.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Utilisation of cores in pandas vs modin</figcaption></figure><p id="5791" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">基本上，modin 所做的只是提高了 CPU 所有内核的利用率，从而提供了更好的性能。</p><h2 id="f7d6" class="nk mn it bd mo nl nm dn ms nn no dp mw lt np nq my lx nr ns na mb nt nu nc nv bi translated">在大型机器上</h2><p id="a18a" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">在大型机器上，摩丁的用处变得更加明显。让我们假设有一些服务器或一些非常强大的机器。所以熊猫仍然会使用一个核，而摩丁会使用所有的核。下面是<code class="fe ol om on oc b">read_csv </code>在 144 核计算机上与熊猫和摩丁的性能对比。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/ccc3eda0ad9746e8213c7e946d2717ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*0JxGIZXjtd0i9InYkXF-mg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">source</figcaption></figure><p id="73e3" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">熊猫有一个很好的线性扩展，但那是因为它仍然只使用一个核心。可能很难看到绿色条，因为它们在摩丁很低。</p><blockquote class="kz"><p id="416d" class="la lb it bd lc ld op oq or os ot lj dk translated">通常，2gb 大约需要 2 秒，18gb 大约不到 18 秒。</p></blockquote></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="e83b" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">体系结构</h1><p id="aa81" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">让我们来看看摩丁的建筑。</p><h2 id="1a70" class="nk mn it bd mo nl nm dn ms nn no dp mw lt np nq my lx nr ns na mb nt nu nc nv bi translated">数据帧分割</h2><p id="149c" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">分区模式沿着列和行进行分区，因为它在支持的列数和行数方面为 Modin 提供了灵活性和可伸缩性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/9680260f81df1e7c147ff818931bdef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GYnWlFf7QyueGWEm.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><a class="ae ky" href="https://modin.readthedocs.io/en/latest/architecture.html#dataframe-partitioning" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><h2 id="76c3" class="nk mn it bd mo nl nm dn ms nn no dp mw lt np nq my lx nr ns na mb nt nu nc nv bi translated">系统结构</h2><p id="106b" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">摩丁被分成不同的层。：</p><ul class=""><li id="8cd5" class="ov ow it lm b ln nf lq ng lt ox lx oy mb oz lj pa pb pc pd bi translated">熊猫 API 暴露在最顶层</li><li id="bf90" class="ov ow it lm b ln pe lq pf lt pg lx ph mb pi lj pa pb pc pd bi translated">下一层包含查询编译器，它从 pandas API 层接收查询并执行某些优化。</li><li id="4c15" class="ov ow it lm b ln pe lq pf lt pg lx ph mb pi lj pa pb pc pd bi translated">最后一层是分区管理器，它负责数据布局和重排、分区，以及序列化发送到每个分区的任务。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/a5f2c9b29dd03eff8199a185fc2ea72e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cOcYOJ3Lib0_04Ji.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk"><a class="ae ky" href="https://modin.readthedocs.io/en/latest/architecture.html#system-architecture" rel="noopener ugc nofollow" target="_blank">a general architecture for modin</a></figcaption></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="2e1e" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">在 Modin 中实现 pandas API</h1><p id="4f7e" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">pandas API 非常庞大，这可能是为什么它有如此广泛的使用案例的原因。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/a8c7f5e7d8fd866e8ecb9276b0b25fe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*WEVQ9dB2ew8SUHONgiZtAA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">pandas API</figcaption></figure><p id="0884" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">由于手头有如此多的操作，摩丁采用了数据驱动的方法。这意味着摩丁的创造者观察了人们在熊猫身上通常使用的东西。他们去了 Kaggle，对那里所有的笔记本和脚本进行了大规模的搜集，最终找出了<br/>最受欢迎的熊猫方法，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/14b96b8be8997dc5c846f6f24bd2a246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*FvGd5XHaoaTBF-_GDv-UtQ.png"/></div></figure><p id="bd6f" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated"><code class="fe ol om on oc b">pd.read_CSV</code>是熊猫迄今为止使用最多的方法，其次是<code class="fe ol om on oc b">pd.Dataframe.</code>因此，在摩丁，他们开始按照受欢迎程度的顺序实施和优化一些东西:</p><ul class=""><li id="fbb7" class="ov ow it lm b ln nf lq ng lt ox lx oy mb oz lj pa pb pc pd bi translated">目前，摩丁支持大约<strong class="lm iu"> 71% </strong>的熊猫 API。</li><li id="d20a" class="ov ow it lm b ln pe lq pf lt pg lx ph mb pi lj pa pb pc pd bi translated">根据研究，这代表了约 93%的使用量。</li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="67d5" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">光线</h1><p id="74fe" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">摩丁使用<a class="ae ky" href="https://github.com/ray-project/ray/" rel="noopener ugc nofollow" target="_blank">射线</a>提供了一种毫不费力的方式来加速熊猫的笔记本、脚本和库。Ray 是一个高性能分布式执行框架，目标是大规模机器学习和强化学习应用。相同的代码可以在单台机器上运行，以实现高效的多处理，并且可以在集群上用于大型计算。你可以在 GitHub 上找到雷:<a class="ae ky" href="http://github.com/ray-project/ray" rel="noopener ugc nofollow" target="_blank">github.com/ray-project/ray</a>。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="fec9" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">使用</h1><h2 id="d352" class="nk mn it bd mo nl nm dn ms nn no dp mw lt np nq my lx nr ns na mb nt nu nc nv bi translated">进口</h2><p id="b2d4" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">摩丁包装了<a class="ae ky" href="https://pandas.pydata.org/pandas-docs/stable/" rel="noopener ugc nofollow" target="_blank">熊猫</a>并透明地分发数据和计算，通过一行代码的改变加速了熊猫的工作流程。用户继续使用以前的 pandas 笔记本，同时体验到来自 Modin 的相当大的速度提升，即使是在单台机器上。只需要修改导入语句，其中需要导入<code class="fe ol om on oc b">modin.pandas </code>而不是简单的<code class="fe ol om on oc b">pandas.</code></p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="02a2" class="nk mn it oc b gy og oh l oi oj">import numpy as np<br/>import modin.pandas as pd</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/944803309305b1455019a8bf0d987cab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*-6XBixD_78WkBhoH18apLg.png"/></div></figure><p id="55d7" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">让我们使用由随机整数组成的 Numpy 构建一个玩具数据集。注意，我们不必在这里指定分区。</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="160a" class="nk mn it oc b gy og oh l oi oj">ata = np.random.randint(0,100,size = (2**16, 2**4))<br/>df = pd.DataFrame(data)<br/>df = df.add_prefix("Col:")</span></pre><p id="490a" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">当我们打印出来的时候，它是一个<strong class="lm iu"> Modin </strong> dataframe。</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="6701" class="nk mn it oc b gy og oh l oi oj">type(df)</span><span id="7475" class="nk mn it oc b gy pn oh l oi oj">modin.pandas.dataframe.DataFrame</span></pre><p id="d62e" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">如果我们用 head 命令打印出前 5 行，它会呈现一个 HTML 表，就像 pandas 一样。</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="0d60" class="nk mn it oc b gy og oh l oi oj">df.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/209fb10986a15bc7c9c5932e4638061f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*PI1k03Q6KVGZmVTUU4p5eQ.png"/></div></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="b111" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">比较</h1><p id="e11f" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">Modin 管理数据的划分和重组，以便用户能够专注于从数据中提取价值。<strong class="lm iu">以下代码是在一台 2013 年的 4 核 iMac 上运行的，内存为 32GB。</strong></p><h2 id="eb1e" class="nk mn it bd mo nl nm dn ms nn no dp mw lt np nq my lx nr ns na mb nt nu nc nv bi translated">pd.read_csv</h2><p id="d3ca" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">read_csv 是目前为止熊猫用的最多的操作。我们在熊猫 vs 摩丁中使用 read_csv 的时候做一个快速对比。</p><ul class=""><li id="4cc9" class="ov ow it lm b ln nf lq ng lt ox lx oy mb oz lj pa pb pc pd bi translated"><strong class="lm iu">熊猫</strong></li></ul><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="7d25" class="nk mn it oc b gy og oh l oi oj">%%time</span><span id="decd" class="nk mn it oc b gy pn oh l oi oj">import pandas <br/>pandas_csv_data = pandas.read_csv("../800MB.csv")</span><span id="66fb" class="nk mn it oc b gy pn oh l oi oj">-----------------------------------------------------------------</span><span id="9088" class="nk mn it oc b gy pn oh l oi oj">CPU times: user 26.3 s, sys: 3.14 s, total: 29.4s<br/>Wall time: 29.5 s</span></pre><ul class=""><li id="bb5f" class="ov ow it lm b ln nf lq ng lt ox lx oy mb oz lj pa pb pc pd bi translated"><strong class="lm iu">摩丁</strong></li></ul><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="d171" class="nk mn it oc b gy og oh l oi oj">%%time<br/>modin_csv_data = pd.read_csv("../800MB.csv")</span><span id="7a40" class="nk mn it oc b gy pn oh l oi oj">-----------------------------------------------------------------</span><span id="3991" class="nk mn it oc b gy pn oh l oi oj">CPU times: user 76.7 ms, sys: 5.08 ms, total: 81.8 ms<br/>Wall time: 7.6 s</span></pre><p id="dc1f" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated"><strong class="lm iu">有了 Modin，</strong> <code class="fe ol om on oc b"><strong class="lm iu">read_csv</strong></code> <strong class="lm iu">只需更改导入语句</strong>即可在 4 核机器上实现高达 4 倍的速度提升</p><h2 id="e3dc" class="nk mn it bd mo nl nm dn ms nn no dp mw lt np nq my lx nr ns na mb nt nu nc nv bi translated">df.groupby</h2><p id="1888" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">熊猫 groupby 写的特别好，速度特别快。但即便如此，摩丁还是胜过熊猫。</p><ul class=""><li id="4e39" class="ov ow it lm b ln nf lq ng lt ox lx oy mb oz lj pa pb pc pd bi translated">熊猫</li></ul><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="27ba" class="nk mn it oc b gy og oh l oi oj">%%time</span><span id="40f5" class="nk mn it oc b gy pn oh l oi oj">import pandas</span><span id="f028" class="nk mn it oc b gy pn oh l oi oj">_ = pandas_csv_data.groupby(by=pandas_csv_data.col_1).sum()<br/>-----------------------------------------------------------------</span><span id="ae89" class="nk mn it oc b gy pn oh l oi oj">CPU times: user 5.98 s, sys: 1.77 s, total: 7.75 s<br/>Wall time: 7.74 s</span></pre><ul class=""><li id="4fc9" class="ov ow it lm b ln nf lq ng lt ox lx oy mb oz lj pa pb pc pd bi translated"><strong class="lm iu">摩丁</strong></li></ul><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="8c3d" class="nk mn it oc b gy og oh l oi oj">%%time</span><span id="3291" class="nk mn it oc b gy pn oh l oi oj">results = modin_csv_data.groupby(by=modin_csv_data.col_1).sum()<br/>-----------------------------------------------------------------</span><span id="bd7d" class="nk mn it oc b gy pn oh l oi oj">CPU times: user 3.18 s, sys: 42.2 ms, total: 3.23 s<br/>Wall time: 7.3 s</span></pre></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="890f" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">默认为 pandas 实现</h1><p id="ff18" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">如果有人想使用尚未实现或优化的 pandas API，实际上可以默认使用 pandas。这使得该系统可用于使用尚未在 Modin 中实现的操作的笔记本电脑，即使性能会有所下降，因为它现在将使用 pandas API。当默认为熊猫时，您会看到一条警告:</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="eee4" class="nk mn it oc b gy og oh l oi oj">dot_df = df.dot(df.T)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/f19f0189a8540ff2342dd29cd3b77255.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*aYabjeuzxk08lq5JxzX2vQ.png"/></div></figure><p id="c61f" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">一旦计算完成，它返回一个分布式的 Modin 数据帧。</p><pre class="kj kk kl km gt ob oc od oe aw of bi"><span id="7f32" class="nk mn it oc b gy og oh l oi oj">type(dot_df)<br/>-----------------</span><span id="5d83" class="nk mn it oc b gy pn oh l oi oj">modin.pandas.dataframe.DataFrame</span></pre></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="615f" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">结论</h1><p id="c066" class="pw-post-body-paragraph lk ll it lm b ln nw ju lp lq nx jx ls lt ny lv lw lx nz lz ma mb oa md me lj im bi translated">摩丁仍处于早期阶段，似乎是一个非常有前途的大熊猫的补充。Modin 为用户处理所有的分区和洗牌，这样我们就可以专注于我们的工作流程。Modin 的基本目标是使用户能够在小数据和大数据上使用相同的工具，而不必担心改变 API 以适应不同的数据大小。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="ad38" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">自从这篇文章发表后，很多人一直问我，就报价而言，摩丁和 Dask 有什么不同。下面是作者的详细对比:</p><div class="pq pr gp gr ps pt"><a href="https://github.com/modin-project/modin/issues/515#issuecomment-477722019" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd iu gy z fp py fr fs pz fu fw is bi translated">质疑:达斯克和摩丁有什么区别？第 515 期摩丁-项目/摩丁</h2><div class="qa l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">github.com</p></div></div><div class="qb l"><div class="qc l qd qe qf qb qg ks pt"/></div></div></a></div></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="1db1" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated">参考</p><p id="5d2b" class="pw-post-body-paragraph lk ll it lm b ln nf ju lp lq ng jx ls lt nh lv lw lx ni lz ma mb nj md me lj im bi translated"><a class="ae ky" href="https://rise.cs.berkeley.edu/blog/modin-pandas-on-ray-october-2018/" rel="noopener ugc nofollow" target="_blank">https://rise . cs . Berkeley . edu/blog/modin-pandas-on-ray-2018 年 10 月/ </a></p></div></div>    
</body>
</html>