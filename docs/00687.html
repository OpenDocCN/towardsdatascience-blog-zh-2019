<html>
<head>
<title>Learn Web Scraping using Python in under 5 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨ Python åœ¨ 5 åˆ†é’Ÿå†…å­¦ä¼šç½‘ç»œæŠ“å–</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/web-scraping-using-python-4cb2faade338?source=collection_archive---------2-----------------------#2019-02-01">https://towardsdatascience.com/web-scraping-using-python-4cb2faade338?source=collection_archive---------2-----------------------#2019-02-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/11eb57b961b2e29e46bee151d580abe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*67wEMv9W-oaHhUEXwxsRUg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Figure 1: Image Source- <a class="ae kf" href="https://www.thedataschool.co.uk/manuela-marolla/web-scraping-101-a-short-introduction/" rel="noopener ugc nofollow" target="_blank">The Data School</a></figcaption></figure><h1 id="535a" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">ä»€ä¹ˆæ˜¯ç½‘é¡µæŠ“å–ï¼Ÿ</h1><p id="cdf5" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">ç½‘é¡µæŠ“å–æ˜¯ä»ç½‘é¡µä¸­è·å–æˆ–æå–æƒ³è¦çš„ä¿¡æ¯ã€‚</p><h1 id="16e2" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">ä½¿ç”¨ BeautifulSoup åˆ®æ“¦</h1><p id="4a63" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">å¯¹äºç½‘ç»œæŠ“å–ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨éå¸¸æµè¡Œçš„ Python åº“<code class="fe mc md me mf b">BeautifulSoup</code>ã€‚å¯¹äºç½‘ç»œæŠ“å–ï¼Œä½ é¦–å…ˆéœ€è¦æœ‰ä¸€äº›å…³äº HTML æ ‡ç­¾çš„åŸºæœ¬çŸ¥è¯†ã€‚HTML ä¸­ä½¿ç”¨çš„ä¸€äº›æ ‡ç­¾å¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="mg mh mi mj gt ju"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="3287" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">æœ‰å…³ HTML æ ‡ç­¾çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ<a class="ae kf" href="https://www.w3schools.com/tags/" rel="noopener ugc nofollow" target="_blank">https://www.w3schools.com/tags/</a>ã€‚</p><h1 id="6f7a" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">å…¥é—¨æŒ‡å—</h1><p id="68ce" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">è¦å¼€å§‹ä½¿ç”¨ scrapingï¼Œè¯·ç¡®ä¿æ‚¨çš„ç³»ç»Ÿä¸Šå®‰è£…äº† Python(ç¬¬ 3 ç‰ˆ)å’Œ BeautifulSoupã€‚å¦‚æœæ‚¨æ²¡æœ‰å®‰è£… BeautifulSoupï¼Œé‚£ä¹ˆåªéœ€åœ¨ç»ˆç«¯/å‘½ä»¤æç¤ºç¬¦ä¸‹é”®å…¥ä»¥ä¸‹å‘½ä»¤-</p><pre class="mg mh mi mj gt mr mf ms mt aw mu bi"><span id="8e40" class="mv kh it mf b gy mw mx l my mz">pip<strong class="mf iu"> </strong>install<strong class="mf iu"> </strong>beautifulsoup4</span></pre><h1 id="b6d3" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">æˆ‘ä»¬åˆ®å§ï¼</h1><h2 id="50ea" class="mv kh it bd ki na nb dn km nc nd dp kq lp ne nf ku lt ng nh ky lx ni nj lc nk bi translated">æ£€æŸ¥</h2><p id="b4c4" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">æŠ“å–çš„ç¬¬ä¸€æ­¥æ˜¯é€‰æ‹©ä½ æƒ³è¦æŠ“å–æ•°æ®çš„ç½‘ç«™å¹¶æ£€æŸ¥å®ƒã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å°è¯•ä»<a class="ae kf" href="https://www.bbc.com/sport/football/46897172" rel="noopener ugc nofollow" target="_blank">BBC</a><a class="ae kf" href="https://www.bbc.com/sport" rel="noopener ugc nofollow" target="_blank">ä¸Šå‘è¡¨çš„è¿™ç¯‡</a>æ–‡ç« ä¸­æœé›†ä¿¡æ¯ã€‚</p><p id="40f0" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">è¦æ£€æŸ¥ç½‘ç«™ï¼Œè¯·å³é”®å•å‡»é¡µé¢ä¸Šçš„ä»»æ„ä½ç½®ï¼Œç„¶åé€‰æ‹©â€œæ£€æŸ¥å…ƒç´ â€/â€œæŸ¥çœ‹é¡µé¢æºä»£ç â€ã€‚è¦æŸ¥çœ‹ç½‘é¡µä¸Šç‰¹å®šå®ä½“(å¦‚æ–‡æœ¬æˆ–å›¾åƒ)çš„ä½ç½®ï¼Œè¯·é€‰æ‹©ç½‘é¡µä¸Šçš„è¯¥éƒ¨åˆ†ï¼Œç„¶åå³é”®å•å‡»å¹¶é€‰æ‹©â€œæ£€æŸ¥å…ƒç´ â€/â€œæŸ¥çœ‹é¡µé¢æºä»£ç â€ã€‚</p><figure class="mg mh mi mj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/5fd6166309522811639f4dfe6d5823b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uFbOiHAOj8wDW_qKVbenkw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Figure 2: Webpage to be scraped</figcaption></figure><p id="a805" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">æ£€æŸ¥å®Œç½‘é¡µåï¼Œä¼šå¼¹å‡ºä¸€ä¸ªçª—å£ï¼Œæ˜¾ç¤ºæ‰€é€‰å†…å®¹åœ¨ç½‘é¡µ HTML ä»£ç ä¸­çš„ç¡®åˆ‡ä½ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="mg mh mi mj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nl"><img src="../Images/1365990a95e5231d617560bf01318700.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O1ej0-DheSCrNaf74zYhzA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Figure 3: HTML code of the webpage</figcaption></figure><p id="c20d" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">å› ä¸ºæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æå–æ–‡ç« çš„å…¨éƒ¨å†…å®¹ï¼Œæ‰€ä»¥è®°ä¸‹åŒ…å«æ–‡ç« å…¨éƒ¨æ–‡æœ¬çš„æ ‡ç­¾<code class="fe mc md me mf b">&lt;div&gt;</code>æ˜¯å¾ˆé‡è¦çš„ã€‚ç°åœ¨è®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹ç½‘é¡µï¼Œå¹¶è¯†åˆ«å‡º<code class="fe mc md me mf b">&lt;div&gt;</code>æ ‡ç­¾ã€‚</p><figure class="mg mh mi mj gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/fa75b1b1a07a054041a71585eb82873e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*njb8TQ6htj31txXD1GUoNg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Figure 4: HTML code showing the required tags</figcaption></figure><p id="9c75" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œ<code class="fe mc md me mf b">&lt;div class=â€story-body sp-story-body gel-body-copyâ€&gt;</code>æ˜¯æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾çš„æ ‡ç­¾ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°äº†æˆ‘ä»¬æ‰€éœ€è¦çš„ä¸€åˆ‡ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ç›´æ¥è¿›å…¥ä»£ç å¹¶åšä¸€äº›æ•´ç†å§ï¼</p><h2 id="5660" class="mv kh it bd ki na nb dn km nc nd dp kq lp ne nf ku lt ng nh ky lx ni nj lc nk bi translated">ä»è¯­æ³•ä¸Šåˆ†æ</h2><p id="bba8" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹è§£æç½‘é¡µï¼Œå¹¶ä½¿ç”¨<code class="fe mc md me mf b">BeautifulSoup</code>æœç´¢æˆ‘ä»¬éœ€è¦çš„ç‰¹å®šå…ƒç´ ã€‚ä¸ºäº†è¿æ¥åˆ°ç½‘ç«™å¹¶è·å– HTMLï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Python çš„<code class="fe mc md me mf b">urllib</code>ã€‚è®©æˆ‘ä»¬å¯¼å…¥æ‰€éœ€çš„åº“-</p><pre class="mg mh mi mj gt mr mf ms mt aw mu bi"><span id="a943" class="mv kh it mf b gy mw mx l my mz">from urllib.request import urlopen<br/>from bs4 import BeautifulSoup</span></pre><p id="f114" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">è·å–ç½‘å€-</p><pre class="mg mh mi mj gt mr mf ms mt aw mu bi"><span id="ba3e" class="mv kh it mf b gy mw mx l my mz">url = "<a class="ae kf" href="https://www.bbc.com/sport/football/46897172" rel="noopener ugc nofollow" target="_blank">https://www.bbc.com/sport/football/46897172</a>"</span></pre><p id="79b3" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">è¿æ¥åˆ°ç½‘ç«™-</p><pre class="mg mh mi mj gt mr mf ms mt aw mu bi"><span id="845e" class="mv kh it mf b gy mw mx l my mz"># We use try-except incase the request was unsuccessful because of <br/># wrong URL<br/>try:<br/>   page = urlopen(url)<br/>except:<br/>   print("Error opening the URL")</span></pre><p id="2f9f" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">åˆ›å»ºä¸€ä¸ª BeautifulSoup å¯¹è±¡ç”¨äºè§£æ-</p><pre class="mg mh mi mj gt mr mf ms mt aw mu bi"><span id="c6be" class="mv kh it mf b gy mw mx l my mz">soup = BeautifulSoup(page, 'html.parser')</span></pre><h2 id="4f18" class="mv kh it bd ki na nb dn km nc nd dp kq lp ne nf ku lt ng nh ky lx ni nj lc nk bi translated">æå–æ‰€éœ€çš„å…ƒç´ </h2><p id="9588" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">æˆ‘ä»¬ç°åœ¨ä½¿ç”¨ BeautifulSoup çš„<code class="fe mc md me mf b">soup.find()</code>æ–¹æ³•æ¥æœç´¢åŒ…å«æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ–‡ç« æ–‡æœ¬çš„æ ‡ç­¾<code class="fe mc md me mf b">&lt;div class=â€story-body sp-story-body gel-body-copyâ€&gt;</code>ã€‚</p><pre class="mg mh mi mj gt mr mf ms mt aw mu bi"><span id="646a" class="mv kh it mf b gy mw mx l my mz">content = soup.find('div', {"class": "story-body sp-story-body gel-      body-copy"})</span></pre><p id="dd1f" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">æˆ‘ä»¬ç°åœ¨éå†<code class="fe mc md me mf b">content</code>æ¥æ‰¾åˆ°å…¶ä¸­æ‰€æœ‰çš„<code class="fe mc md me mf b">&lt;p&gt;</code>(æ®µè½)æ ‡ç­¾ï¼Œä»è€Œå¾—åˆ°æ–‡ç« çš„æ•´ä¸ªæ­£æ–‡ã€‚</p><pre class="mg mh mi mj gt mr mf ms mt aw mu bi"><span id="887e" class="mv kh it mf b gy mw mx l my mz">article = ''<br/>for i in content.findAll('p'):<br/>    article = article + ' ' +  i.text</span></pre><h2 id="a702" class="mv kh it bd ki na nb dn km nc nd dp kq lp ne nf ku lt ng nh ky lx ni nj lc nk bi translated">ä¿å­˜è§£æçš„æ–‡æœ¬</h2><p id="0efb" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">æˆ‘ä»¬å¯ä»¥å°†æœé›†åˆ°çš„ä¿¡æ¯ä¿å­˜åœ¨<code class="fe mc md me mf b">.txt</code>æˆ–<code class="fe mc md me mf b">.csv</code>æ–‡ä»¶ä¸­ã€‚</p><pre class="mg mh mi mj gt mr mf ms mt aw mu bi"><span id="c761" class="mv kh it mf b gy mw mx l my mz">with open('scraped_text.txt', 'w') as file:<br/>    file.write(article)</span></pre><p id="66eb" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">æ•´ä¸ªä»£ç -</p><figure class="mg mh mi mj gt ju"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="1323" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">è¾“å‡º-</p><pre class="mg mh mi mj gt mr mf ms mt aw mu bi"><span id="e55d" class="mv kh it mf b gy mw mx l my mz"> Cristiano Ronaldoâ€™s header was enough for Juventus to beat AC Milan and claim a record eighth Supercoppa Italiana in a game played in Jeddah, Saudi Arabia. The Portugal forward nodded in Miralem Pjanicâ€™s lofted pass in the second half to settle a meeting between Italian footballâ€™s two most successful clubs. It was Ronaldoâ€™s 16th goal of the season for the Serie A leaders. Patrick Cutrone hit the crossbar for Milan, who had Ivorian midfielder Franck Kessie sent off. Gonzalo Higuain, reportedly the subject of interest from Chelsea, was introduced as a substitute by Milan boss Gennaro Gattuso in Italyâ€™s version of the Community Shield. But the 31-year-old Argentina forward, who is currently on loan from Juventus, was unable to deliver an equalising goal for the Rossoneri, who were beaten 4â€“0 by Juve in the Coppa Italia final in May.</span></pre><h1 id="7b72" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">ç»“è®º</h1><p id="448d" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">å½“æ‚¨æƒ³è¦ä»å¤šä¸ªæ¥æºæ”¶é›†æ•°æ®ä»¥è¿›è¡Œåˆ†ææˆ–ç ”ç©¶æ—¶ï¼ŒWeb æŠ“å–éå¸¸æœ‰ç”¨ã€‚</p><p id="2b41" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">BeautifulSoup æ˜¯ä¸€ä¸ªä¼˜ç§€çš„ç½‘é¡µæŠ“å–åº“ï¼Œå¯ç”¨äºå°å‹é¡¹ç›®ï¼Œä½†å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå…¶ä»–åº“å¦‚ Scrapy æ›´é€‚åˆã€‚</p><p id="f697" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">å¸Œæœ›ä½ å·²ç»ç†è§£äº†ç½‘é¡µæŠ“å–çš„æ¦‚å¿µï¼Œç°åœ¨å¯ä»¥æ ¹æ®ä½ çš„éœ€è¦ä»ä¸åŒçš„ç½‘ç«™æŠ“å–æ•°æ®ã€‚</p><p id="4b37" class="pw-post-body-paragraph le lf it lg b lh mm lj lk ll mn ln lo lp mo lr ls lt mp lv lw lx mq lz ma mb im bi translated">æ„Ÿè°¢é˜…è¯»ã€‚åˆ®çš„å¼€å¿ƒï¼ğŸ˜Š</p></div></div>    
</body>
</html>