<html>
<head>
<title>3 Pandas Functions You Should Be Using More Often</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该更经常使用的 3 个熊猫功能</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/3-pandas-functions-you-should-be-using-more-often-696b41e8d7ca?source=collection_archive---------3-----------------------#2019-10-23">https://towardsdatascience.com/3-pandas-functions-you-should-be-using-more-often-696b41e8d7ca?source=collection_archive---------3-----------------------#2019-10-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6c90" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">不可否认，熊猫是一个强大的图书馆。如果您是 Python 的日常用户，它可能是您最喜欢的用于数据分析和一些快速可视化的库。</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/f67d2ece90dd4b6210b60d8df39aab26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lWKiLMljpJCblpQo"/></div></div><figcaption class="kv kw gj gh gi kx ky bd b be z dk">Photo by <a class="ae ki" href="https://unsplash.com/@stanyw?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Stan W.</a> on <a class="ae ki" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2f5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也就是说，人们很容易习惯于熊猫的一些核心概念，而忽略了对其功能的进一步探索。我的意思是，<strong class="lb iu">谁没有重复发明轮子的罪过？</strong>虽然这不一定是一件坏事(<em class="lv">因为你确切地知道你的代码应该做什么</em>)，但通常有更聪明的方法来达到同样的目的。</p><p id="d1c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天，我想和你们分享 3 个功能，到目前为止，我没有尽可能多地使用它们，我还想向你们展示我所说的“重新发明轮子”的确切含义。几周前，我写过一篇类似的文章，只与纯 Python 相关。如果你是一个经常重复发明轮子的人，请不要犹豫去看看:</p><div class="lw lx gp gr ly lz"><a rel="noopener follow" target="_blank" href="/3-advanced-python-functions-for-data-scientists-f869016da63a"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">面向数据科学家的 3 个高级 Python 函数</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">不要重复发明轮子，让你的代码更干净，更易读。</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">towardsdatascience.com</p></div></div><div class="mi l"><div class="mj l mk ml mm mi mn kt lz"/></div></div></a></div><p id="1503" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好了，说够了，让我们开始研究熊猫吧。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="8eb0" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">使用的数据集</h1><p id="d81a" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">正如我的许多文章一样，我将使用著名的<a class="ae ki" href="https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv" rel="noopener ugc nofollow" target="_blank">泰坦尼克号数据集</a>。我相信您知道如何导入它，所以在继续之前，您应该准备好以下内容:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ns"><img src="../Images/eea143db605cbd9a1937d956714a13c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S9fjol1kAbXI9jS2ShRvyw.png"/></div></div></figure><p id="eee2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">我们在同一页吗？</em> </strong>好，我们开始吧。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="d3ee" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">1.idxmin()和 idxmax()</h1><p id="7b93" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">简而言之，这些函数将返回所需条目的 ID ( <em class="lv">索引位置</em>)。在泰坦尼克号的例子中，也许你想找到最年轻/最年长的人的索引位置。让我们更进一步，你只对那个人的名字感兴趣。</p><p id="0586" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个典型的程序员方法是重新发明轮子，因为你不知道<strong class="lb iu"> <em class="lv"> idxmin() </em> </strong>和<strong class="lb iu"> <em class="lv"> idxmax() </em> </strong>的存在。这里有一种方法:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/efacd5ac90a56928936abffc05f40bf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*vpfKKMlS_mYPr8WSC36DYA.png"/></div></figure><p id="9724" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您基本上是为所需的属性设置子集并返回值。不是最干净的代码，但可能更糟。下面是如何利用前面提到的功能来实现这一点:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/9d26d6b572ce21cc086789e7cbb725f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/1*mgCaty028iKtC01no0Xtcg.png"/></div></figure><p id="5992" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是的，很明显，结果是一样的，但是代码更短，更清晰。让我们进行下一个。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="88e1" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">2.切割()</h1><p id="bd78" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">用最少的话来说，当你想把值装入离散区间时，你应该使用<strong class="lb iu"> <em class="lv"> cut() </em> </strong>。比如泰坦尼克号数据集有这个<strong class="lb iu"> <em class="lv">年龄</em> </strong>属性，是连续的。在您的分析中，您可能希望计算某个年龄组的存活/死亡比率，而不是作为标量值的年龄。</p><p id="91af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我甚至不会尝试用这个函数来重新发明轮子，让我们直奔主题。其思路是将 bin<strong class="lb iu"><em class="lv"/></strong>列分成 5 个桶:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nv"><img src="../Images/fbcc4b43b76bcc2538933c43338c19a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BlvE739mYj8USmH7uDlsWw.png"/></div></div></figure><p id="97af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">不喜欢那些股票标签？</em> </strong>不成问题:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/575e553fce1ba55e1f8745cba4b12501.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*VaphikC2QYVPUffUZ2H81g.png"/></div></figure><p id="e024" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者你根本不在乎标签什么的，想要简单的整数表示:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/9f2f10d8b8293c8967b942dec2294336.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*0LYIXGk0NuwPv2ArZ5uxDA.png"/></div></figure><p id="772c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论您选择哪一个，您都可以将整个表达式分配给数据框架中的一个新列，并继续您的分析。</p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="cbb2" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">3.数据透视表()</h1><p id="7625" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">数据透视表创建一个电子表格样式的数据透视表作为数据框架。如果你以前使用过<em class="lv"> Excel </em>，我毫不怀疑你使用过它们。不用说，它们可以毫不费力地用 Python 实现。</p><p id="208e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设你想知道第三类男性的平均存活率。您可以使用默认的 Pandas 及其过滤功能来获取这些信息:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/ef86f5c7bfb3a6f2f495e41baa0e2237.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*MNHpPHiTaN789JJbdyDpMA.png"/></div></figure><p id="bb3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果你想找到男性和女性的平均存活率呢？在所有三种乘客级别中？数据透视表拯救世界。您可以简单地将索引设置为<strong class="lb iu"> <em class="lv">性别</em> </strong>，列设置为<strong class="lb iu"> <em class="lv"> Pclass </em> </strong>(乘客类)，值设置为<strong class="lb iu"> <em class="lv">幸存</em> </strong>，然后使用您想要的任何聚合函数，但是让我们坚持使用<em class="lv">的含义</em>:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/63da132d58a7b6c81cb43a1b4126c519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*eqb2ziMpYQXJBSO8HejaOQ.png"/></div></figure><p id="75a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，那很简单。还有一点需要注意，您还可以为<strong class="lb iu">总计</strong>添加额外的一行:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/3e7f0840e6d60afd1dd0c17f8fa86484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*MlV2GDF3_v385O2fKf9fdQ.png"/></div></figure></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><h1 id="c07f" class="mv mw it bd mx my mz na nb nc nd ne nf jz ng ka nh kc ni kd nj kf nk kg nl nm bi translated">在你走之前</h1><p id="252b" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">这三个功能应该会让你走上正轨。最终的目标是花更多的时间去思考什么是最佳的做法，而不是花太多的时间在实现本身上。</p><p id="0b49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每当你觉得你的代码比它应该的要长，使用谷歌来寻找是否有一个更短的方法。很可能已经有一个功能可以做你需要的事情，但是你没有意识到它的存在。</p><p id="c2bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">感谢阅读。欢迎在下面分享你的想法和评论。</em>T29】</strong></p></div><div class="ab cl mo mp hx mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="im in io ip iq"><p id="80ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">喜欢这篇文章吗？成为 <a class="ae ki" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="lv">中等会员</em> </a> <em class="lv">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="lw lx gp gr ly lz"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">通过我的推荐链接加入 Medium-Dario rade ci</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">medium.com</p></div></div><div class="mi l"><div class="ob l mk ml mm mi mn kt lz"/></div></div></a></div></div></div>    
</body>
</html>