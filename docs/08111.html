<html>
<head>
<title>How to Work Visually with Data — Tutorial in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何可视化地处理数据—R 语言教程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-work-visually-with-data-tutorial-in-r-6841be051f2f?source=collection_archive---------34-----------------------#2019-11-06">https://towardsdatascience.com/how-to-work-visually-with-data-tutorial-in-r-6841be051f2f?source=collection_archive---------34-----------------------#2019-11-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9835" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何在对数据集应用 ML 算法之前对其进行可视化解码</h2></div><p id="f564" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据就是数字。人类并不擅长同时处理大量数字。人类是视觉动物。因此，在你开始对数据应用机器学习之前，获得数据的可视化解释总是有意义的。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/154db4cc1f510737bae93e5d118c4a90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3cI-jruNmXxglo_W"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">Photo by <a class="ae lu" href="https://unsplash.com/@biosss91?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Austris Augusts</a> on <a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="e524" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.第一步—准备数据</h1><p id="a32e" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">每个机器学习项目都是从准备数据集开始的。<a class="ae lu" rel="noopener" target="_blank" href="/life-cycle-of-a-data-science-project-3962b9670e5b">本文</a>描述了一个 ML 项目的整个生命周期。我们将选择一个准备好的数据集。</p><p id="4d2a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将使用来自 r 包<strong class="kk iu"> mlbench 的<strong class="kk iu">玻璃数据集</strong>。</strong></p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ms"><img src="../Images/8f388624998da593771a1dcacb9b16e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*K1D3nLnBNTLctPAM.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk"><a class="ae lu" href="https://www.rdocumentation.org/packages/mlbench/versions/2.1-1/topics/Glass" rel="noopener ugc nofollow" target="_blank">Glass Dataset</a></figcaption></figure><p id="a156" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它有 214 个观察值，包含 7 种不同类型玻璃的化学分析实例。</p><h1 id="1294" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.安装并加载库</h1><p id="fa9d" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">在本教程中，我们将使用 2 R 库。</p><ol class=""><li id="a71b" class="mt mu it kk b kl km ko kp kr mv kv mw kz mx ld my mz na nb bi translated">ML 工作台</li><li id="054f" class="mt mu it kk b kl nc ko nd kr ne kv nf kz ng ld my mz na nb bi translated">Corrplot</li></ol><pre class="lf lg lh li gt nh ni nj nk aw nl bi"><span id="949f" class="nm lw it ni b gy nn no l np nq"><strong class="ni iu">#clear all objects</strong><br/>rm(list = ls(all.names = TRUE))<br/><strong class="ni iu">#free up memrory and report the memory usage<br/></strong>gc()<strong class="ni iu"><br/>#Load the libraries<br/></strong>library(mlbench)<br/>library(corrplot)</span></pre><h1 id="2d41" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.加载数据</h1><p id="979a" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">然后，我们实际加载数据集并显示它的前几个数据点。</p><pre class="lf lg lh li gt nh ni nj nk aw nl bi"><span id="f201" class="nm lw it ni b gy nn no l np nq"><strong class="ni iu">#Load the dataset<br/></strong>data("Glass")<strong class="ni iu"><br/># display first 10 rows of data<br/></strong>head(Glass, n=10)<strong class="ni iu"><br/># display the dimensions of the dataset<br/></strong>dim(Glass)</span></pre><p id="21bb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们很快就掌握了哪些列以及它们各自的取值范围。如果你的数据集很大，这是常有的事，你可以取一个小样本来检查。</p><p id="30c4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">快速浏览一下，我们可以看到这些列对应的是化学元素—(钠:钠，镁:镁，…)。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nr"><img src="../Images/2c482c9e71994712800aaee4064e7c4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KAXzEig3PxpzVNx3.png"/></div></div></figure><p id="af2d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还看到每一行都有 9 个不同的特征。所有这些都有助于形成<strong class="kk iu">型</strong>玻璃。最后一栏告诉你玻璃的实际类型。</p><p id="f2c2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这样的数据集可用于建立逻辑回归模型，该模型基于 9 个特征预测玻璃类型。</p><p id="b490" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">记录数据的维度也能让我们了解数据集有多大</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/b8e4e76a43b044e136988a1bce1c9eee.png" data-original-src="https://miro.medium.com/v2/resize:fit:448/format:webp/0*HtnUwJMoI1UoIigt.png"/></div></figure><h1 id="cd21" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.了解每个功能</h1><p id="0427" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">然后，我们试图掌握数据的统计和其他属性</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nt"><img src="../Images/9a20fa1d7a5a12b2c34b1b10f17d5467.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hrp6uxZBjEwMKJyYAe54cg.png"/></div></div></figure><pre class="lf lg lh li gt nh ni nj nk aw nl bi"><span id="ea97" class="nm lw it ni b gy nn no l np nq"><strong class="ni iu"># list types for each attribute</strong><br/>sapply(Glass, class)<br/><strong class="ni iu"># standard deviations and mean for each class</strong><br/>y&lt;-sapply(Glass[,1:9], mean)<br/>sapply(Glass[,1:9], sd)<br/>xn&lt;-colnames(Glass[,1:9])<br/>x&lt;-c(1:9)<br/>y&lt;-sapply(Glass[,1:9], mean)<br/>barplot(y, main = "Average Value For Each Feature",<br/>     xlab = "Feature Name",<br/>     ylab = "Average Value")</span></pre><p id="cc14" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以查看数据类型来评估数据兼容性。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nu"><img src="../Images/9192b4ff76c0799722d2edb30959ed52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*bVNAQHhFf5T9udoP.png"/></div></div></figure><p id="1c21" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">注意，最后一列是称为<strong class="kk iu">因子</strong>的分类数据类型，其余的是<strong class="kk iu">数字</strong>浮点。这个信息非常重要，因为类型决定了进一步的分析、观想的类型，甚至是你应该使用的学习算法。</p><p id="7c4a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们还可以绘制每个特征的<strong class="kk iu">标准偏差</strong>来指导我们稍后的标准化过程。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nv"><img src="../Images/16b8efc9b270385e1ccd349800ba62ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*66q1pFWqIApW3y5E.png"/></div></div></figure><p id="24cd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">标准差和均值都是有用的工具</strong></p><blockquote class="nw"><p id="93c8" class="nx ny it bd nz oa ob oc od oe of ld dk translated">例如，对于高斯分布，它可以作为一个快速剔除异常值的工具，任何大于标准偏差三倍的值都被视为异常值。</p></blockquote><h1 id="1d10" class="lv lw it bd lx ly lz ma mb mc md me mf jz og ka mh kc oh kd mj kf oi kg ml mm bi translated">5.了解每个类</h1><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nt"><img src="../Images/d40704842397400eb509b01a79d40fc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vfS12uDAGDUv94_HpU7vxA.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">Number of data points in each class</figcaption></figure><p id="f66c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了根据数据的特征查看数据之外，我们还可以分析每个类。一个快速测试的东西可能是<strong class="kk iu">类分布</strong></p><p id="0be1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在任何分类问题中，您必须知道属于每个类值的实例的数量。这充当了数据集中不平衡的快速测试。在多类分类问题的情况下，可能会暴露具有少量或零个实例的类，这些实例可能是从数据集中移除的候选。这可以通过再平衡技术来增强。</p><pre class="lf lg lh li gt nh ni nj nk aw nl bi"><span id="cbbb" class="nm lw it ni b gy nn no l np nq"><strong class="ni iu"># distribution of class variable</strong><br/>y &lt;- Glass$Type<br/>cb &lt;- cbind(freq=table(y), percentage=prop.table(table(y))*100)<br/>barplot(table(y), main = "Frequency Distribution of All Classes",<br/>        xlab = "Class Name",<br/>        ylab = "Number of Data Points", legend = TRUE)</span></pre><h1 id="af13" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">6.特征之间的关系</h1><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nt"><img src="../Images/44bea643e47cf78e6818d3d1aafe4543.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zCFAZjM5BcMbu1RHecdhmg.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">courtesy the corrplot library</figcaption></figure><p id="6749" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要考虑的最重要的关系之一是特征之间的相关性。在 ML 中，我们从不需要高度相关的特征。<a class="ae lu" href="/x8-the-ai-community/knn-classification-algorithm-in-python-65e413e1cea0" rel="noopener ugc nofollow" target="_blank">本文展示了使用 Python 实现 KNN (K 近邻)算法时检测这些特征的技术</a>。作为 R 中的一个快速测试，我们可以做以下事情</p><pre class="lf lg lh li gt nh ni nj nk aw nl bi"><span id="b6c8" class="nm lw it ni b gy nn no l np nq"><strong class="ni iu"># calculate a correlation matrix for numeric variables</strong><br/>correlations &lt;- cor(Glass[,1:9])<br/><strong class="ni iu"># display the correlation matrix</strong><br/>print(correlations)<br/>corrplot(correlations, method = "circle")</span></pre><p id="ef97" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正相关显示为蓝色，负相关显示为红色。颜色强度和圆圈的大小与相关系数成正比。</p><p id="d5c1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以很容易地看到，Ca 与 RI 高度相关，可以从我们的分析中去掉其中一个。</p></div><div class="ab cl oj ok hx ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="im in io ip iq"><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi oq"><img src="../Images/d9a3bf9c977e5a57f1717926af065601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QCE2zU-R9MKX6Sqj5lZNyQ.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk"><a class="ae lu" href="https://xkcd.com/688/" rel="noopener ugc nofollow" target="_blank">xkcd</a></figcaption></figure><p id="384f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可视化解码数据集为您提供了理解数据集的最快方式。这成为实际应用机器学习算法的一个非常重要的先驱。</p></div></div>    
</body>
</html>