<html>
<head>
<title>Are Sydney’s Top Restaurants Really Worth It?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">悉尼的顶级餐厅真的值得吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/are-sydneys-top-restaurants-really-worth-it-9a1dee3705d1?source=collection_archive---------27-----------------------#2019-04-10">https://towardsdatascience.com/are-sydneys-top-restaurants-really-worth-it-9a1dee3705d1?source=collection_archive---------27-----------------------#2019-04-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/9846f2a95cf0a44fd76d7de7037d3ebd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ofmaomxwLTkmGkjo_nWJOw.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Photo by <a class="ae jd" href="https://unsplash.com/@peterhershey" rel="noopener ugc nofollow" target="_blank">Peter Hershey</a></figcaption></figure><div class=""/><div class=""><h2 id="501d" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">Zomato API 的应用和对数据的理解</h2></div><p id="0eb5" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在本文中，我们回答了上面的问题，我将带您了解从数据提取、转换到理解数据所涉及的步骤。这可以分为:</p><ol class=""><li id="8fdc" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated"><strong class="kx jh">使用 Zomato API 提取数据</strong></li><li id="08e0" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated"><strong class="kx jh">转换数据</strong></li><li id="cb7e" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated"><strong class="kx jh">理解数据(应用描述性统计)</strong></li></ol><p id="17e3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是首先…</p><h2 id="df98" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">Zomato 是什么？</h2><p id="39fe" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">这是一个<a class="ae jd" href="https://www.zomato.com" rel="noopener ugc nofollow" target="_blank">平台</a>，保存着全球超过 100 万家餐厅的信息，包括评级、评论等等。这是我在去一个新的地方吃饭之前，甚至是去了一个我尝试过的地方(只是想看看其他人对它的看法)之后访问的一个平台。</p><h2 id="3d87" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">Zomato API</h2><p id="3d72" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">要开始，您首先需要<a class="ae jd" href="https://developers.zomato.com/api?lang=id" rel="noopener ugc nofollow" target="_blank">请求一个 API 密钥</a>。一旦完成，直接进入<a class="ae jd" href="https://developers.zomato.com/documentation#/" rel="noopener ugc nofollow" target="_blank"> <em class="nd">文档</em> </a>部分，看看你可以开始寻找的所有数据点！让我们来看一个:</p><p id="4bd9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"> /cities </strong> <br/>该函数检索每个城市的详细信息。要搜索悉尼，我们输入以下内容:</p><ul class=""><li id="0ff9" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq ne lx ly lz bi translated"><em class="nd">用户密钥</em>作为您的 API 密钥</li><li id="7de0" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq ne lx ly lz bi translated"><em class="nd">问</em>=‘悉尼’</li><li id="50b5" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq ne lx ly lz bi translated"><em class="nd">计数</em> = 1</li></ul><pre class="nf ng nh ni gt nj nk nl nm aw nn bi"><span id="320a" class="mf mg jg nk b gy no np l nq nr">{<br/>  "location_suggestions": [<br/>    {<br/>      "id": 260,<br/>      "name": "Sydney, NSW",<br/>      "country_id": 14,<br/>      "country_name": "Australia",<br/>      "country_flag_url": "<a class="ae jd" href="https://b.zmtcdn.com/images/countries/flags/country_14.png" rel="noopener ugc nofollow" target="_blank">https://b.zmtcdn.com/images/countries/flags/country_14.png</a>",<br/>      "should_experiment_with": 0,<br/>      "discovery_enabled": 0,<br/>      "has_new_ad_format": 1,<br/>      "is_state": 0,<br/>      "state_id": 128,<br/>      "state_name": "New South Wales",<br/>      "state_code": "NSW"<br/>    }<br/>  ],<br/>  "status": "success",<br/>  "has_more": 0,<br/>  "has_total": 0<br/>}</span></pre><p id="1396" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">返回给我们的 JSON 内容看起来像是一个<em class="nd">字典</em>。我们将在本文后面讨论如何提取我们想要的数据点。</p><p id="99f2" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在让我们回到回答这个问题:</p><h2 id="bd14" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">分解它…</h2><blockquote class="ns nt nu"><p id="3cb2" class="kv kw nd kx b ky kz kh la lb lc kk ld nv lf lg lh nw lj lk ll nx ln lo lp lq ij bi translated">悉尼的顶级餐厅真的值得吗？</p></blockquote><p id="dd4b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是一个相当普遍的问题，可以有多种解释，所以当我们开始寻找数据点时，我们必须考虑:</p><ul class=""><li id="994b" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq ne lx ly lz bi translated">我们把什么归类为顶级餐厅？我们用什么方法给他们排名？</li><li id="136f" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq ne lx ly lz bi translated">我们考虑所有类型的餐馆吗？晚餐？咖啡馆？</li><li id="87e8" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq ne lx ly lz bi translated">什么是<em class="nd">值得</em>？我们需要考虑餐厅的<em class="nd">价格</em>吗？与它的<em class="nd">评级</em>相比如何？</li></ul><p id="5180" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在设计解决方案之前，正确定义我们的问题将有助于节省大量时间。(相信我，我以前也遇到过这个问题)</p><p id="02bc" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">事不宜迟，让我们开始第一步吧！</p><h1 id="ec2f" class="ny mg jg bd mh nz oa ob mk oc od oe mn km of kn mq kp og kq mt ks oh kt mw oi bi translated">1.使用 Zomato API 提取数据</h1><p id="5762" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">我们将主要使用<strong class="kx jh">搜索</strong>功能，该功能返回餐馆的详细信息，允许我们最多获得 100 家餐馆，每次调用有 20 个结果。</p><p id="3273" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是一个 python 脚本，它提取 Zomato 餐馆的数据，并将其转储到一个文件中供以后使用:</p><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="e7b3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用其他功能找到为<em class="nd">搜索</em>输入的参数，例如:</p><ul class=""><li id="f412" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq ne lx ly lz bi translated"><strong class="kx jh"> /locations: </strong>为“悉尼”获取<em class="nd">纬度</em>和<em class="nd">经度</em>坐标</li><li id="ed3f" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq ne lx ly lz bi translated"><strong class="kx jh">/类别:</strong>来获取晚餐<em class="nd">类别 id </em> = 10</li></ul><p id="ab0f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">除此之外，我选择按照<strong class="kx jh"><em class="nd">【desc】</em></strong>的顺序，按照<strong class="kx jh"><em class="nd"/></strong>对餐馆进行排序。</p><p id="853d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">根据我的参数，你可以看到我已经回答了<strong class="kx jh"> <em class="nd">分解</em> </strong>中的一些问题(在文章的前面——以防你错过),即</p><ul class=""><li id="a225" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq ne lx ly lz bi translated"><em class="nd">顶级餐厅</em>将基于它们的<em class="nd">评级</em></li><li id="a827" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq ne lx ly lz bi translated">我们将只考虑<em class="nd">晚餐</em>餐厅类型</li></ul><p id="c968" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nd">搜索</em>的返回值与<em class="nd">城市</em>相同，因为它返回一个字典。假设，我们想提取 100 家餐馆的信息，但每次呼叫只限于 20 家，我们该怎么办？我们获取返回的每个字典，并将其附加到一个列表中，直到得到 100 家餐馆。</p><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="281c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一旦我们有了这个列表，我们就把它写入一个文件，这样我们以后就可以使用它了。</p><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="f97b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们的 JSON 文件<em class="nd"> Top100SydneyDinners </em>现在已经准备好进行转换了！</p><h1 id="8aa9" class="ny mg jg bd mh nz oa ob mk oc od oe mn km of kn mq kp og kq mt ks oh kt mw oi bi translated">2.转换数据</h1><p id="60b6" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">在我们这样做之前，我们应该首先知道我们的数据是什么样的。首先，让我们回到前面的<em class="nd">城市</em>输出，并理解它是如何构成的。</p><p id="096e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">你想猜猜吗？</p><blockquote class="ns nt nu"><p id="0ed5" class="kv kw nd kx b ky kz kh la lb lc kk ld nv lf lg lh nw lj lk ll nx ln lo lp lq ij bi translated">这是一个<strong class="kx jh">字典</strong>，其中一个关键字，即<em class="jg"/>【location _ suggestions】<em class="jg">具有类型</em> <strong class="kx jh">列表</strong> <em class="jg">的值，而那个</em> <strong class="kx jh">列表</strong> <em class="jg">包含一个带有多个关键字对</em>的 <strong class="kx jh">字典</strong> <em class="jg"/></p></blockquote><p id="da15" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有点困惑，我知道！但是它的好处是，它意味着它是<strong class="kx jh">字典</strong>和<strong class="kx jh">列表</strong>的组合，我们可以使用它们相应的方法来获得我们想要的数据。</p><p id="bc01" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在…把<em class="nd">top 100 Sydney dinters</em>复制到这里会把这篇文章吹出来，所以这里有一个<a class="ae jd" href="https://github.com/trinhjorwe/zomato-restaurants/blob/master/Top100DinnersInSydney.json" rel="noopener ugc nofollow" target="_blank">链接</a>指向我的 GitHub 账户上的那个文件。将它的内容复制到一个<a class="ae jd" href="https://jsonformatter.curiousconcept.com/" rel="noopener ugc nofollow" target="_blank"> JSON 格式化程序</a>中也是有帮助的，这样可读性更好。</p><p id="0321" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">看到什么有趣的数据了吗？</p><p id="87cf" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们的目标是将我们想要的数据从 JSON 格式中取出，放入一个可爱的、干净的表中进行分析。</p><p id="1977" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">首先，让我们加载 JSON 文件，在数据框架中定义我们想要的列，然后创建它！</p><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="d993" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我确实创建了比需要的更多的列(对不起，对我的数据有点贪婪)，但是要回答我们的主要问题，重点应该是:</p><ul class=""><li id="4da4" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq ne lx ly lz bi translated"><code class="fe ol om on nk b">average_cost_for_two</code></li><li id="eaed" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq ne lx ly lz bi translated"><code class="fe ol om on nk b">aggregate_rating : This is the restaurant rating</code></li></ul><p id="f9d6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">接下来，我们需要一种方法来填充当前空的数据帧。</p><p id="bedb" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为此，我们从每个餐馆中选择感兴趣的数据片段(例如<em class="nd">名称、菜系等。</em>)并形成一个单独的<strong class="kx jh">列表。每个餐馆都有自己的清单，并作为一行添加到我们的数据框架中。</strong></p><p id="ad6b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们看看下面的代码…</p><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="2f56" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">记住，JSON 文件由一个包含<strong class="kx jh">字典</strong>的<strong class="kx jh">列表</strong>组成，这些字典是在之前提取数据时通过 python 脚本追加的。希望上面的代码足够清晰易懂，但如果不是这样，我将尝试解释下面的嵌套 for 循环:</p><blockquote class="ns nt nu"><p id="b87a" class="kv kw nd kx b ky kz kh la lb lc kk ld nv lf lg lh nw lj lk ll nx ln lo lp lq ij bi translated">当您完成这些步骤时，打开 JSON 格式的输出可能会有所帮助。</p></blockquote><ol class=""><li id="c13b" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">由于该文件是一个<strong class="kx jh">字典</strong> ( <em class="nd"> allRestaurants </em>)的<strong class="kx jh">列表</strong>，我们需要遍历该列表以获取每个<strong class="kx jh">字典</strong> ( <em class="nd"> restaurantSet </em>)。</li><li id="07f0" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">在每个<strong class="kx jh">字典</strong> ( <em class="nd"> restaurantSet </em>)中，我们需要 key — <code class="fe ol om on nk b">"restaurants"</code>的值</li><li id="c7fd" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">这个值也是<strong class="kx jh">字典</strong> ( <em class="nd">餐馆</em>)的<strong class="kx jh">列表</strong>，所以我们需要再次遍历<strong class="kx jh">列表</strong>来获取每个<strong class="kx jh">字典</strong> ( <em class="nd">餐馆</em>)。</li><li id="0129" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">从这个<strong class="kx jh">字典</strong> <em class="nd">【餐馆】</em>，我们想要 key — <code class="fe ol om on nk b">"restaurant"</code>的值</li><li id="7af7" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">这个值也是一个<strong class="kx jh">字典</strong>，最后保存我们现在可以抓取的数据。如<em class="nd">名称、菜系、</em>等。(尽管有些值也是<strong class="kx jh">字典</strong>，例如<em class="nd">“位置”</em>)</li></ol><h2 id="b835" class="mf mg jg bd mh mi mj dn mk ml mm dp mn le mo mp mq li mr ms mt lm mu mv mw mx bi translated">瞧！我们有我们的佐马托餐厅数据集！</h2><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oo"><img src="../Images/71cdaa8b25479b71ca3bd07f0596e146.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bDvfessixCEXSAxevvdV8Q.png"/></div></div></figure><h1 id="f601" class="ny mg jg bd mh nz oa ob mk oc od oe mn km of kn mq kp og kq mt ks oh kt mw oi bi translated">3.理解我们的数据</h1><p id="c23a" class="pw-post-body-paragraph kv kw jg kx b ky my kh la lb mz kk ld le na lg lh li nb lk ll lm nc lo lp lq ij bi translated">快速问题回顾:</p><blockquote class="ns nt nu"><p id="c577" class="kv kw nd kx b ky kz kh la lb lc kk ld nv lf lg lh nw lj lk ll nx ln lo lp lq ij bi translated">悉尼的顶级餐厅真的值得吗？</p></blockquote><p id="3963" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们已经检索了排名前 100 的餐厅，但是我们还没有查看它们的费用。</p><p id="633f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所以我们来分析一下<code class="fe ol om on nk b">average_cost_for_two</code></p><p id="0ba1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们从计算平均值开始。</p><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="oj ok l"/></div></figure><pre class="nf ng nh ni gt nj nk nl nm aw nn bi"><span id="cbaf" class="mf mg jg nk b gy no np l nq nr">Average Cost for Two = $ 107.9<br/>Percentage of restaurants below the mean is =  66.0 %</span></pre><p id="127e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们两个人的平均消费是 107.90 美元，其中 66%的餐馆消费低于这个数字。你觉得这样对吗？平均值是否恰当地描述了我们平均成本的中心？个人觉得好像不是。</p><p id="a2d9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们用柱状图来展示我们的数据，以便更好地理解。</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi op"><img src="../Images/84f1de5a9cf9b0011ea2d6b5b8b6a925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7LocYZm53iYRU1o55X9Tyg.png"/></div></div></figure><p id="89c6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您会看到数据向右倾斜(即右侧的尾部比左侧长)，这表明使用中位数而不是平均值作为中心趋势的衡量标准更合适。这是因为平均值对异常值很敏感，例如 440 和 480 附近的值，而中值则不敏感。数据集排序后，中位数就是中间值。</p><p id="ea93" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">那么，我们要不要计算一下中位数？</p><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="oj ok l"/></div></figure><pre class="nf ng nh ni gt nj nk nl nm aw nn bi"><span id="a5c3" class="mf mg jg nk b gy no np l nq nr">The median cost is = $ 80.0<br/>The percentage of values below the median is  48.0 %</span></pre><p id="925a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">酷！所以现在我们的成本中值是 80 美元，只有 48%的餐馆低于这个值。这似乎更合理，因为我们选择的集中趋势的度量现在越来越接近 50%的值在它之上和之下。</p><blockquote class="ns nt nu"><p id="275c" class="kv kw nd kx b ky kz kh la lb lc kk ld nv lf lg lh nw lj lk ll nx ln lo lp lq ij bi translated">然而,…如果你回到柱状图，你会发现有些餐馆的两人平均消费在 20 美元左右。除非他们在做某种疯狂的特别节目，否则我很难相信..所以我们再深入调查一下。</p></blockquote><p id="b577" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"> 3.1 调查异常值</strong></p><p id="d3ae" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们挑选了两家餐厅中<em class="nd">平均成本最低的 10 家，并在数据框中查看它们。</em></p><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="oj ok l"/></div></figure><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oq"><img src="../Images/c75c6fb025b17e53cd353ba4674d5b77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mhB6GwUBjQ_M3w0JpkG-xA.png"/></div></div></figure><p id="1a9d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">哎呀！基于<em class="nd">美食</em>栏，我们似乎包括了<em class="nd">冰淇淋、咖啡和茶</em>的价值，这意味着这些餐馆实际上是咖啡馆或沙漠餐厅，而不是吃饭的地方。</p><p id="f400" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们把这些从我们的数据集中去掉…</p><p id="0769" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为此，我们创建了一个要删除的值列表<em class="nd"> (discardCuisines) </em>，并检查它们是否存在于每个餐馆的菜系中，这就创建了一个<strong class="kx jh">布尔向量</strong>。对于我们想要保留的值，我们希望布尔向量为<em class="nd">真</em>，对于我们不想保留的值，我们希望布尔向量为<em class="nd">假</em>。将布尔向量插入我们的数据框架，这将过滤掉我们不想要的餐馆。</p><blockquote class="ns nt nu"><p id="39ea" class="kv kw nd kx b ky kz kh la lb lc kk ld nv lf lg lh nw lj lk ll nx ln lo lp lq ij bi translated">在下面的第 6 行中，我反转了 discardRestaurants 中的所有布尔值，因为要过滤掉的餐馆的值是“True”而不是“False”。</p></blockquote><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="oj ok l"/></div></figure><pre class="nf ng nh ni gt nj nk nl nm aw nn bi"><span id="13d5" class="mf mg jg nk b gy no np l nq nr">The size of our updated dataset is  (92, 8)</span></pre><p id="a887" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">好像有 8 家咖啡馆被搬走了！(100–92 = 8)</p><p id="5156" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在我们的数据已经清理完毕，让我们再次计算一些描述性统计数据:</p><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="oj ok l"/></div></figure><pre class="nf ng nh ni gt nj nk nl nm aw nn bi"><span id="6a58" class="mf mg jg nk b gy no np l nq nr">The average cost is = $ 114.1304347826087<br/>The median cost is = $ 80.0<br/>The percentage of values below the median is  43.47826086956522 %</span></pre><p id="5d70" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">删除最小值的结果是:</p><ul class=""><li id="8d15" class="lr ls jg kx b ky kz lb lc le lt li lu lm lv lq ne lx ly lz bi translated">现在，低于中位数的餐厅比例有所下降(从 48%降至 43%)，这也提高了平均水平(从 108 美元增至 114 美元)。</li><li id="27d5" class="lr ls jg kx b ky ma lb mb le mc li md lm me lq ne lx ly lz bi translated">显然，对于这个例子来说，中值是比平均值更合适的集中趋势的量度。</li></ul><p id="d277" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是什么意思(双关语)？当你告诉你的朋友悉尼顶级餐厅的价格时，引用中位数而不是平均数。</p><p id="ccea" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">直方图现在看起来像这样:</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi or"><img src="../Images/43f4e5b8333936e9e6a9312ec4b6a51a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e70E6r1Q3pVFbcfd7wH2nw.png"/></div></div></figure></div><div class="ab cl os ot hu ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="ij ik il im in"><h1 id="6dba" class="ny mg jg bd mh nz oz ob mk oc pa oe mn km pb kn mq kp pc kq mt ks pd kt mw oi bi translated">最后…</h1><blockquote class="pe"><p id="2423" class="pf pg jg bd ph pi pj pk pl pm pn lq dk translated">悉尼的顶级餐厅真的值得吗？</p></blockquote><p id="a138" class="pw-post-body-paragraph kv kw jg kx b ky po kh la lb pp kk ld le pq lg lh li pr lk ll lm ps lo lp lq ij bi translated">嗯，两个人的平均花费中位数是 80 美元，我会让你决定。</p><blockquote class="ns nt nu"><p id="9012" class="kv kw nd kx b ky kz kh la lb lc kk ld nv lf lg lh nw lj lk ll nx ln lo lp lq ij bi translated">我希望这篇文章是令人愉快的和有帮助的。如果您有任何问题或改进建议，请告诉我，我非常乐意倾听！谢谢大家！</p></blockquote></div></div>    
</body>
</html>