<html>
<head>
<title>Mining Twitter on IBM Cloud Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 IBM 云平台上挖掘 Twitter</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/mining-twitter-on-ibm-cloud-platform-2adab9fb60ed?source=collection_archive---------23-----------------------#2019-12-31">https://towardsdatascience.com/mining-twitter-on-ibm-cloud-platform-2adab9fb60ed?source=collection_archive---------23-----------------------#2019-12-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f3bb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在 IBM 云存储上将 Tweets 保存为 JSON</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ff382c4e4be5d8cb4b58c8e57cc893ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dhv__qkoToOJWLWsiY4Igw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">This photo is made from a photo in this ©twitter <a class="ae kv" href="https://blog.twitter.com/en_us/a/ibm.html" rel="noopener ugc nofollow" target="_blank">post</a> and ©<a class="ae kv" href="https://cloud.ibm.com/catalog/services/watson-studio" rel="noopener ugc nofollow" target="_blank">IBM Watson Studio</a> Logo</figcaption></figure><p id="afa2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">去年，我开始了对网络说服的多学科研究。我找不到足够的推特数据集。我需要创建自己的推特数据集，让我能够实现研究目标。</p><p id="34dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Twitter 免费 API 是有限的，根据我的经验，它会在检索 4000 条左右的推文后暂停大约 15 分钟。为了克服这一点，我使用了时间循环。我需要一个云平台来检索带有时间循环的 50 个查询的推文。</p><p id="b3bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我第一次尝试从 twitter 流中检索推文是在 Watson——IBM 云平台上。Tweet 对象呈现为 JSON，因此保存它们是明智的。嗯——在 IBM 云存储上保存为 JSON 和在本地保存是不一样的。此外，以前没有人问如何做，尽管如此，回答它，所以这里是我的答案。</p><p id="c4f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关于 IBM Watson studio 的几句好话:它是一个非常友好的云计算平台，尤其是对于第一次使用它的人。你可以在这里报名<a class="ae kv" href="https://dataplatform.cloud.ibm.com/" rel="noopener ugc nofollow" target="_blank">。点击几下之后，你就可以在 Jupyter 笔记本上工作了。你可以在这里</a>阅读<a class="ae kv" href="https://dataplatform.cloud.ibm.com/docs/content/wsj/getting-started/get-started-wdp.html?linkInPage=true" rel="noopener ugc nofollow" target="_blank">关于如何开始使用沃森工作室。</a></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h2 id="8637" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">连接</h2><p id="76ba" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">在处理任何云项目时，一个必要的步骤是将您的项目连接到您的项目资源。正如我所说，Watson Studio 非常友好，只需两次点击:一次点击工具栏上的三个垂直点，第二次点击<code class="fe mx my mz na b">Insert project token</code>，如下图所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/574fab130440353b419fd51b9c9e1cee.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*8oowrI1ME3yTaA7bv5NhPw.jpeg"/></div></figure><p id="2237" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将创建如下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="fff5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为该项目的管理员，您可能需要批准这一点，但 Watson 将指导您并重新引导您。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="d831" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在 Watson 上工作时，您可能需要在每次重新连接时安装<code class="fe mx my mz na b"><a class="ae kv" href="https://www.tweepy.org/" rel="noopener ugc nofollow" target="_blank">tweepy</a> </code>。为了检索推文，这些是最少的必要导入和安装:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="17e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了<a class="ae kv" href="https://developer.twitter.com/en/docs/basics/getting-started" rel="noopener ugc nofollow" target="_blank">连接到 twitter API </a>，你需要一个 twitter <a class="ae kv" href="https://developer.twitter.com/en.html" rel="noopener ugc nofollow" target="_blank">开发者账户</a>和你的账户凭证。访问您的密钥和令牌的一种方式是通过<a class="ae kv" href="https://developer.twitter.com/en/apps" rel="noopener ugc nofollow" target="_blank">应用</a>和应用详细信息——如果需要，您还可以在那里重新生成它们。<br/>如此处所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/b14e963e1221a3f6995fc62b2c24dd90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aS-GzHHMAj0ubFhpZg831Q.png"/></div></div></figure><p id="86a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">稍后插入您的凭证，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="a980" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在连接您的项目和资源，并连接到您的 twitter API 之后，下一步是检索 tweets。</p><h2 id="e8ba" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">检索推文</h2><p id="c70c" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">在下面的代码要点中，有一个如何使用 tweepy 的示例，它包含过滤器、查询、语言和要检索的项数。你可以<a class="ae kv" href="https://developer.twitter.com/en/docs/tweets/rules-and-filtering/overview/standard-operators" rel="noopener ugc nofollow" target="_blank">过滤推文</a>并使用任何你喜欢的查询。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nc nd l"/></div></figure><h2 id="75e3" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">保存到 JSON</h2><p id="0e8e" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">挖掘 twitter 数据的最后一步是保存它。<br/>沃森存储上的节约语法是:</p><p id="3e18" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mx my mz na b">project.save_data(data=json.dumps(all_data),file_name=`data.json`,overwrite=True)</code></p><p id="829c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与本地保存 JSON 文件的语法不同:<br/> <code class="fe mx my mz na b">with open(`data.json`, `w`) as f:<br/>... json.dump(all_data, f)</code></p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="14f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://dataplatform.cloud.ibm.com/docs/content/wsj/analyze-data/load-and-access-data.html" rel="noopener ugc nofollow" target="_blank">在 Wason 上加载数据</a>也只需两次点击:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/8cab9d8bdc6d93b1d22c16e5e50aaaae.png" data-original-src="https://miro.medium.com/v2/resize:fit:530/format:webp/1*2UpIZU-9KY0hWWTL4RaPhQ.jpeg"/></div></figure><p id="683f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">它将插入连接到您的云存储的代码，将添加所需的导入，并将数据作为 pandas 数据帧读取。它看起来像这样:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ng"><img src="../Images/2c46f07ebbb4e6c8efa6d77b2993520f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2rNP2hyFhBJvgdZR7XSuRQ.jpeg"/></div></div></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="e216" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用 Watson studio 非常简单:</p><p id="3766" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">1.连接到云资源和 twitter API。</p><p id="1ab0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.检索推文。</p><p id="f63b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.节约。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nh"><img src="../Images/2fe26c12d3db35d11f8151ff76f52d17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GghmuOlXcZd-F8Pdhqc9Sg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://www.pexels.com/@freestocks?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">freestocks.org </a>from <a class="ae kv" href="https://www.pexels.com/photo/coffee-smartphone-twitter-application-58639/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">Pexels</a></figcaption></figure><p id="2a3d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，至于理解 twitter 元数据？好吧，那是另一个时间的另一篇博文。</p></div></div>    
</body>
</html>