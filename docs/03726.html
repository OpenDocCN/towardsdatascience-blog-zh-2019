<html>
<head>
<title>1 quick tip for pulling data from a Pandas dataframe using SQL queries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨ SQL æŸ¥è¯¢ä» Pandas æ•°æ®æ¡†æ¶ä¸­æå–æ•°æ®çš„ 1 ä¸ªå¿«é€ŸæŠ€å·§</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/a-quick-tip-for-pulling-data-from-a-pandas-dataframe-using-sql-queries-bbe3b39d17d?source=collection_archive---------2-----------------------#2019-06-13">https://towardsdatascience.com/a-quick-tip-for-pulling-data-from-a-pandas-dataframe-using-sql-queries-bbe3b39d17d?source=collection_archive---------2-----------------------#2019-06-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/6ecfaa1aac9a5168d91c7e537d75bae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*slTKfK-1pAFxiEcKcKSfsg.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Photo by <a class="ae kf" href="https://unsplash.com/@hongqi?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Bruce Hong</a> on <a class="ae kf" href="https://unsplash.com/search/photos/funny-panda?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="kg kh ki"><p id="ed09" class="kj kk kl km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">æƒ³è·å¾—çµæ„Ÿï¼Ÿå¿«æ¥åŠ å…¥æˆ‘çš„<a class="ae kf" href="https://www.superquotes.co/?utm_source=mediumtech&amp;utm_medium=web&amp;utm_campaign=sharing" rel="noopener ugc nofollow" target="_blank"> <strong class="km iu">è¶…çº§è¡Œæƒ…å¿«è®¯</strong> </a>ã€‚ğŸ˜</p></blockquote><p id="b219" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ç†ŠçŒ«å›¾ä¹¦é¦†å¯¹äºä»»ä½•ä½¿ç”¨ Python åˆ†ææ•°æ®çš„äººæ¥è¯´éƒ½æ˜¯éå¸¸æ£’çš„ã€‚</p><p id="1b67" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å®ƒéå¸¸å®¹æ˜“ä½¿ç”¨ï¼Œæ­£ç¡®åº”ç”¨æ—¶é€Ÿåº¦å¾ˆå¿«ï¼Œå¹¶ä¸”åŠŸèƒ½çµæ´»ã€‚æœ‰äº† Pandasï¼Œè®¸å¤šé€šå¸¸éœ€è¦æ›´å¤šå·¥ä½œçš„åŠŸèƒ½ï¼Œä¾‹å¦‚æ£€ç´¢ä¸€äº›å…³äºæ•°æ®çš„åŸºæœ¬ç»Ÿè®¡æ•°æ®ï¼Œåªéœ€è°ƒç”¨ä¸€ä¸ªå‡½æ•°å°±å¯ä»¥å®Œæˆï¼</p><p id="14d8" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å°½ç®¡å¦‚æ­¤ï¼Œæœ‰æ—¶æˆ‘ä»¬æ›´å–œæ¬¢ä½¿ç”¨ä¸€ç§å·¥å…·è€Œä¸æ˜¯å¦ä¸€ç§ã€‚å¦‚æœä½ ä¹ æƒ¯äºåœ¨ Excelã€Tableau æˆ– SQL ä¸Šæµè§ˆæ•°æ®ï¼Œé‚£ä¹ˆåˆ‡æ¢åˆ° Pandas ä»ç„¶æ˜¯ä¸€ä¸ªè·³è·ƒã€‚</p><p id="7bd0" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å¦‚æœä½ æœ‰ SQL çš„èƒŒæ™¯ï¼Œæœ‰ä¸€ä¸ªå¾ˆæ£’çš„ Python åº“å¯ä»¥å¸®åŠ©ä½ å¹³ç¨³è¿‡æ¸¡:<a class="ae kf" href="https://github.com/yhat/pandasql" rel="noopener ugc nofollow" target="_blank"> <strong class="km iu"> Pandasql </strong> </a>ã€‚</p><p id="0385" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">Pandasql å…è®¸æ‚¨ç¼–å†™ sql æŸ¥è¯¢æ¥æŸ¥è¯¢ pandas æ•°æ®æ¡†æ¶ä¸­çš„æ•°æ®ã€‚è¿™å…è®¸æ‚¨é¿å¼€åœ¨ç†ŠçŒ«ä¸­å¿…é¡»å­¦ä¹ å¤§é‡ Python çš„æ­£å¸¸è¦æ±‚ã€‚ç›¸åï¼Œæ‚¨å¯ä»¥ç®€å•åœ°åœ¨å‡½æ•°è°ƒç”¨ä¸­ç¼–å†™å¸¸è§„çš„ SQL æŸ¥è¯¢ï¼Œå¹¶åœ¨ Pandas dataframe ä¸Šè¿è¡Œå®ƒæ¥æ£€ç´¢æ‚¨çš„æ•°æ®ï¼</p><h1 id="b382" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">ç”¨ Pandasql æŸ¥è¯¢ç†ŠçŒ«æ•°æ®å¸§</h1><h2 id="b2fe" class="mj lm it bd ln mk ml dn lr mm mn dp lv li mo mp lz lj mq mr md lk ms mt mh mu bi translated">å®‰è£…</h2><p id="eb83" class="pw-post-body-paragraph kj kk it km b kn mv kp kq kr mw kt ku li mx kx ky lj my lb lc lk mz lf lg lh im bi translated">æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªå¿«é€Ÿçš„ pip æ¥å®‰è£… Pandasql:</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="fbe8" class="mj lm it nf b gy nj nk l nl nm">pip install pandasql</span></pre><h2 id="9bd6" class="mj lm it bd ln mk ml dn lr mm mn dp lv li mo mp lz lj mq mr md lk ms mt mh mu bi translated">åŠ è½½æ•°æ®</h2><p id="e333" class="pw-post-body-paragraph kj kk it km b kn mv kp kq kr mw kt ku li mx kx ky lj my lb lc lk mz lf lg lh im bi translated">è®©æˆ‘ä»¬ä»å®é™…çš„æ•°æ®é›†å¼€å§‹ã€‚æˆ‘ä»¬å°†ä½¿ç”¨<code class="fe nn no np nf b">seaborn</code>åº“åŠ è½½ iris flowers æ•°æ®é›†:</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="d71f" class="mj lm it nf b gy nj nk l nl nm"><em class="kl">import </em>pandasql<br/><em class="kl">import </em>seaborn <em class="kl">as </em>sns<br/><br/>data = sns.load_dataset('iris')</span></pre><h2 id="2c1d" class="mj lm it bd ln mk ml dn lr mm mn dp lv li mo mp lz lj mq mr md lk ms mt mh mu bi translated">é€‰æ‹©</h2><p id="c696" class="pw-post-body-paragraph kj kk it km b kn mv kp kq kr mw kt ku li mx kx ky lj my lb lc lk mz lf lg lh im bi translated">é€šå¸¸ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ£€ç´¢æ•°æ®å¸§ä¸­çš„å‰ 20 é¡¹ï¼Œæˆ‘ä»¬ä¼šå¯¹ç†ŠçŒ«åšè¿™æ ·çš„äº‹æƒ…:</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="75f1" class="mj lm it nf b gy nj nk l nl nm">data.head(20)</span></pre><p id="75e1" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">æœ‰äº† pandasqlï¼Œæˆ‘ä»¬å¯ä»¥åƒåœ¨ sql æ•°æ®åº“ä¸Šè¿è¡Œæ ‡å‡† SQL æŸ¥è¯¢ä¸€æ ·å†™å‡ºå®ƒã€‚åªéœ€å°† pandas æ•°æ®å¸§çš„åç§°ä½œä¸ºæ‚¨æ­£åœ¨è§£æçš„è¡¨çš„åç§°ï¼Œæ•°æ®å°†è¢«æ£€ç´¢:</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="7737" class="mj lm it nf b gy nj nk l nl nm">sub_data = pandasql.sqldf("SELECT * FROM data LIMIT 20;", globals())<br/>print(sub_data)</span></pre><p id="f8fb" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">æˆ‘ä»¬å¯ä»¥ç”¨ SQL ä¸­çš„ WHERE è¿›è¡Œçš„å¸¸è§„è¿‡æ»¤æ“ä½œä¹Ÿæ˜¯é€‚ç”¨çš„ã€‚è®©æˆ‘ä»¬é¦–å…ˆä½¿ç”¨ pandas æå–æ‰€æœ‰å¤§äº 5 çš„æ•°æ®:</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="d941" class="mj lm it nf b gy nj nk l nl nm">sub_data = data[data["petal_length"] &gt; 5.0]</span></pre><p id="982f" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">ä¸ºäº†åœ¨ SQL ä¸­å®ç°è¿™ä¸€ç‚¹ï¼ŒæŸäº›è¡Œåªéœ€æ·»åŠ  WHERE è°ƒç”¨æ¥å®ç°ç›¸åŒçš„è¿‡æ»¤:</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="3f3c" class="mj lm it nf b gy nj nk l nl nm">sub_data = pandasql.sqldf("SELECT * FROM data WHERE petal_length &gt; 5.0;", globals())</span></pre><p id="cede" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ€»æ˜¯åªé€‰æ‹©æˆ‘ä»¬æƒ³è¦çš„åˆ—:</p><pre class="na nb nc nd gt ne nf ng nh aw ni bi"><span id="51a3" class="mj lm it nf b gy nj nk l nl nm">sub_data = pandasql.sqldf("SELECT petal_width, petal_length FROM data WHERE petal_length &gt; 5.0;", globals())</span></pre><p id="944f" class="pw-post-body-paragraph kj kk it km b kn ko kp kq kr ks kt ku li kw kx ky lj la lb lc lk le lf lg lh im bi translated">è¿™å°±æ˜¯å¦‚ä½•ä½¿ç”¨ SQL æŸ¥è¯¢ä» pandas æ•°æ®å¸§ä¸­æ£€ç´¢æ•°æ®ã€‚</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><h1 id="89f1" class="ll lm it bd ln lo nx lq lr ls ny lu lv lw nz ly lz ma oa mc md me ob mg mh mi bi translated">å–œæ¬¢å­¦ä¹ ï¼Ÿ</h1><p id="3163" class="pw-post-body-paragraph kj kk it km b kn mv kp kq kr mw kt ku li mx kx ky lj my lb lc lk mz lf lg lh im bi translated">åœ¨ twitter ä¸Šå…³æ³¨æˆ‘ï¼Œæˆ‘ä¼šåœ¨è¿™é‡Œå‘å¸ƒæ‰€æœ‰æœ€æ–°æœ€æ£’çš„äººå·¥æ™ºèƒ½ã€æŠ€æœ¯å’Œç§‘å­¦ï¼ä¹Ÿåœ¨ LinkedIn<a class="ae kf" href="https://www.linkedin.com/in/georgeseif/" rel="noopener ugc nofollow" target="_blank">ä¸Šä¸æˆ‘è”ç³»</a>ï¼</p></div></div>    
</body>
</html>