<html>
<head>
<title>Multi-lingual Chatbot Using Rasa and Custom Tokenizer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Rasa 和自定义标记器的多语言聊天机器人</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/multi-lingual-chatbot-using-rasa-and-custom-tokenizer-7aeb2346e36b?source=collection_archive---------11-----------------------#2019-10-02">https://towardsdatascience.com/multi-lingual-chatbot-using-rasa-and-custom-tokenizer-7aeb2346e36b?source=collection_archive---------11-----------------------#2019-10-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="74b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">使用您自己的多语言聊天机器人自定义标记器来增强 Rasa NLU 管道的提示和技巧。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/63065e2d3960f8398528517e786b05bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ujtykSpfT5_KC00ZjAs6Dg.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@agkdesign?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Alex Knight</a> on <a class="ae le" href="https://unsplash.com/s/photos/bot?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1014" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在之前的<a class="ae le" rel="noopener" target="_blank" href="/a-beginners-guide-to-rasa-nlu-for-intent-classification-and-named-entity-recognition-a4f0f76b2a96">教程</a>中，我已经介绍了为意图分类和命名实体识别创建你自己的 Rasa NLU 服务器的基本指南。在本文中，我们将查看向 Rasa NLU 管道添加自定义标记器的必要步骤。本文由 5 个部分组成:</p><ol class=""><li id="3c11" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn lk ll lm ln bi translated">设置</li><li id="5954" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">标记器</li><li id="390d" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">注册表文件</li><li id="8a93" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">培训和测试</li><li id="7c6f" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated">结论</li></ol></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="edc0" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">1.设置</h1><p id="3b8b" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">默认情况下，Rasa 框架为我们提供了四个内置的标记器:</p><ul class=""><li id="2737" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn nd ll lm ln bi translated">空白符号化器</li><li id="ce92" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn nd ll lm ln bi translated">街霸分词器(中文)</li><li id="fdaf" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn nd ll lm ln bi translated">Mitie Tokenizer</li><li id="2e09" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn nd ll lm ln bi translated">空间记号化器</li></ul><h2 id="c87d" class="ne mb it bd mc nf ng dn mg nh ni dp mk kb nj nk mo kf nl nm ms kj nn no mw np bi translated">内置标记器</h2><p id="febd" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">如果您在中文语言上测试它，您可以简单地将 config.yml 文件中的标记器名称更改为以下内容，就可以开始了。</p><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="911d" class="ne mb it nr b gy nv nw l nx ny">language: zh<br/>pipeline:<br/>  - name: "JiebaTokenizer"<br/>  - name: "RegexFeaturizer"<br/>  - name: "CRFEntityExtractor"<br/>  - name: "EntitySynonymMapper"<br/>  - name: "CountVectorsFeaturizer"<br/>  - name: "CountVectorsFeaturizer"<br/>    analyzer: "char_wb"<br/>    min_ngram: 1<br/>    max_ngram: 4<br/>  - name: "EmbeddingIntentClassifier"</span></pre><p id="3881" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果您注意到 CountVectorsFeaturizer 有两个实例，请不要惊慌。根据官方<a class="ae le" href="https://rasa.com/docs/rasa/nlu/choosing-a-pipeline/" rel="noopener ugc nofollow" target="_blank">网站:</a></p><blockquote class="nz oa ob"><p id="4bd1" class="jq jr oc js b jt ju jv jw jx jy jz ka od kc kd ke oe kg kh ki of kk kl km kn im bi translated">管道使用了<code class="fe og oh oi nr b"><em class="it">CountVectorsFeaturizer</em></code>的两个实例。第一种基于单词来特征化文本。第二种方法基于字符 n 元语法来描述文本，保留单词边界。根据经验，我们发现第二个特征更加强大，但是我们决定保留第一个特征，使特征更加健壮。</p></blockquote><h2 id="b1d0" class="ne mb it bd mc nf ng dn mg nh ni dp mk kb nj nk mo kf nl nm ms kj nn no mw np bi translated">自定义标记器</h2><p id="cc94" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">对于其他语言，我们需要修改一些东西。您可以在任何分词器上测试它，但我将使用一个名为 SudachiPy 的日本分词器。我在之前的<a class="ae le" rel="noopener" target="_blank" href="/sudachipy-a-japanese-morphological-analyzer-in-python-5f1f8fc0c807">文章</a>中也提到过这个 python 模块。请随意查看。使用 Rasa NLU 服务器的必要模块设置虚拟环境。完成后，转到下面的<a class="ae le" href="https://github.com/WorksApplications/SudachiPy" rel="noopener ugc nofollow" target="_blank">链接</a>并根据给出的说明安装 SudaichiPy。然后，修改 config.yml 文件。</p><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="1f55" class="ne mb it nr b gy nv nw l nx ny">language: ja<br/>pipeline:<br/>  - name: "JapaneseTokenizer"<br/>  - name: "RegexFeaturizer"<br/>  - name: "CRFEntityExtractor"<br/>  - name: "EntitySynonymMapper"<br/>  - name: "CountVectorsFeaturizer"<br/>  - name: "CountVectorsFeaturizer"<br/>    analyzer: "char_wb"<br/>    min_ngram: 1<br/>    max_ngram: 4<br/>  - name: "EmbeddingIntentClassifier"</span></pre><p id="d74a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我只修改了记号赋予器的名字和语言。你可以给它起任何你喜欢的名字，但是你必须保持它的一致性。稍后我们将修改其他文件。确保使用相同的名称。您需要通过运行以下代码来测试它:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="oj ok l"/></div></figure><p id="2357" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该能够看到以下结果:</p><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="6191" class="ne mb it nr b gy nv nw l nx ny">['国家', '公務', '員']</span></pre></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="507c" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">2.标记器</h1><p id="4220" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">我们需要创建一个标记器 python 文件。转到虚拟环境的目录，找到以下目录:</p><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="646b" class="ne mb it nr b gy nv nw l nx ny">Lib/site-packages/rasa/nlu/tokenizer/</span></pre><p id="38d4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该能够看到以下文件(不包括 japanese_tokenizer.py)</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/6c288e6e09eb34cbd9c592405f1eab86.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*82zY3hFUAb-4DVS9LndNbA.png"/></div></figure><p id="4ea8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建一个新的 py 文件，并根据自己的喜好命名(我将其命名为 japanese_tokenizer.py)。从版本 1.6.0 开始，tokenizer 的结构发生了一些变化。从 1.7.0 开始，进行了以下更改:</p><ul class=""><li id="1d5c" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn nd ll lm ln bi translated">添加了 ConveRT 标记器</li><li id="3ffc" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn nd ll lm ln bi translated">从所有记号赋予器中移除选项<code class="fe og oh oi nr b">use_cls_token</code>。令牌化者现在默认添加 CLS 令牌。</li><li id="3bda" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn nd ll lm ln bi translated">从特征者中移除选项<code class="fe og oh oi nr b">return_sequence</code>。默认情况下，特征返回序列。CLS 表征的特征向量包含完整话语的特征。</li><li id="85a1" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn nd ll lm ln bi translated">在<code class="fe og oh oi nr b">Tokenizer</code>类中实现了标记化器的<code class="fe og oh oi nr b">train</code>和<code class="fe og oh oi nr b">process</code>。子类只需要实现<code class="fe og oh oi nr b">tokenize</code>。</li></ul><p id="01de" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">相应地修改文件。打开它并添加以下代码:</p><h2 id="fd56" class="ne mb it bd mc nf ng dn mg nh ni dp mk kb nj nk mo kf nl nm ms kj nn no mw np bi translated">Rasa 1.6.0 之前</h2><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="22d0" class="ne mb it nr b gy nv nw l nx ny">import re<br/>from typing import Any, Dict, List, Text</span><span id="a329" class="ne mb it nr b gy om nw l nx ny">from rasa.nlu.components import Component          <br/>from rasa.nlu.config import RasaNLUModelConfig<br/>from rasa.nlu.tokenizers import Token, Tokenizer<br/>from rasa.nlu.training_data import Message, TrainingData</span></pre><h2 id="b486" class="ne mb it bd mc nf ng dn mg nh ni dp mk kb nj nk mo kf nl nm ms kj nn no mw np bi translated">Rasa 1.6.0 之后</h2><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="1df8" class="ne mb it nr b gy nv nw l nx ny">import re<br/>from typing import Any, Dict, List, Text</span><span id="1693" class="ne mb it nr b gy om nw l nx ny">from rasa.nlu.config import RasaNLUModelConfig<br/>from rasa.nlu.tokenizers.tokenizer import Token, Tokenizer<br/>from rasa.nlu.training_data import Message, TrainingData<br/>from rasa.nlu.constants import (<br/>    INTENT_ATTRIBUTE,<br/>    TEXT_ATTRIBUTE,<br/>    TOKENS_NAMES,<br/>    MESSAGE_ATTRIBUTES,<br/>)</span></pre><h2 id="6b5b" class="ne mb it bd mc nf ng dn mg nh ni dp mk kb nj nk mo kf nl nm ms kj nn no mw np bi translated">Rasa 1.7.0 之后</h2><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="b325" class="ne mb it nr b gy nv nw l nx ny">import re<br/>from typing import Any, Dict, List, Text</span><span id="45c3" class="ne mb it nr b gy om nw l nx ny">from rasa.nlu.tokenizers.tokenizer import Token, Tokenizer<br/>from rasa.nlu.training_data import Message</span><span id="e252" class="ne mb it nr b gy om nw l nx ny">from rasa.nlu.constants import TOKENS_NAMES, MESSAGE_ATTRIBUTES</span></pre><p id="1b10" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">除了 regex 之外，所有的导入都很重要。让我们继续创建主类(JapaneseTokenizer)。</p><h2 id="0e0b" class="ne mb it bd mc nf ng dn mg nh ni dp mk kb nj nk mo kf nl nm ms kj nn no mw np bi translated">Rasa 1.6.0 之前</h2><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="2eff" class="ne mb it nr b gy nv nw l nx ny">class JapaneseTokenizer(Tokenizer, Component):</span></pre><h2 id="3c71" class="ne mb it bd mc nf ng dn mg nh ni dp mk kb nj nk mo kf nl nm ms kj nn no mw np bi translated">Rasa 1.6.0 和 1.7.0 之后</h2><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="1b4a" class="ne mb it nr b gy nv nw l nx ny">class SudachiTokenizer(Tokenizer):</span></pre><p id="afb6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这个类中，您将需要以下类:</p><ul class=""><li id="07b1" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn nd ll lm ln bi translated">__init__</li><li id="3370" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn nd ll lm ln bi translated">火车</li><li id="674a" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn nd ll lm ln bi translated">标记化</li></ul><p id="14bd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您实际上可以复制任何现有的文件，并根据您的需要修改它。标记化应该基于您拥有的语言和模块。需要注意的一点是，您需要返回一个令牌列表。token 类由标记化单词和单词偏移量组成。请参考 JiebaTokenizer.py 和 WhiteSpaceTokenizer.py 以获得更多关于结构 Tokenizer 类的信息。</p><p id="ce3e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我的最终代码如下所示:</p><h2 id="a391" class="ne mb it bd mc nf ng dn mg nh ni dp mk kb nj nk mo kf nl nm ms kj nn no mw np bi translated">Rasa 1.6.0 之前</h2><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="92e0" class="ne mb it bd mc nf ng dn mg nh ni dp mk kb nj nk mo kf nl nm ms kj nn no mw np bi translated">Rasa 1.6.0 之后</h2><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="oj ok l"/></div></figure><h2 id="39af" class="ne mb it bd mc nf ng dn mg nh ni dp mk kb nj nk mo kf nl nm ms kj nn no mw np bi translated">Rasa 1.7.0 之后</h2><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="oj ok l"/></div></figure></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="ba70" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">3.注册表文件</h1><p id="7cea" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">下一步是修改所有的配置文件。每次升级或降级 rasa 版本时，您都必须这样做。转到虚拟环境的目录，找到以下目录:</p><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="3013" class="ne mb it nr b gy nv nw l nx ny">Lib/site-packages/rasa/nlu/</span></pre><p id="6b4b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">您应该有以下文件夹和文件</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi on"><img src="../Images/853bacfbe83f97d9116134c4fda9688e.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*8arBrUGosNYW0bfZ02VwkQ.png"/></div></figure><p id="c2ed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打开 registry.py 文件并开始编辑内容。在导入区域，添加以下代码:</p><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="9bb5" class="ne mb it nr b gy nv nw l nx ny">from rasa.nlu.tokenizers.japanese_tokenizer import JapaneseTokenizer</span></pre><ul class=""><li id="8d0b" class="lf lg it js b jt ju jx jy kb lh kf li kj lj kn nd ll lm ln bi translated"><strong class="js iu">Japanese _ tokenizer</strong>:py 文件的名称。</li><li id="c7c3" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn nd ll lm ln bi translated"><strong class="js iu"> JapaneseTokenizer </strong>:类的名称。您必须确保该名称与 config.yml 和 component_classes 中使用的名称完全相同。</li></ul><p id="9aea" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在同一个 registry.py 文件中，找到 component_classes 列表并向其中添加 JapaneseTokenizer(根据您自己的类名修改它)。</p><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="3c2a" class="ne mb it nr b gy nv nw l nx ny">component_classes = [<br/>    # utils<br/>    SpacyNLP,<br/>    MitieNLP,<br/>    # tokenizers<br/>    JapaneseTokenizer,<br/>    MitieTokenizer,<br/>    SpacyTokenizer,<br/>    WhitespaceTokenizer,<br/>    JiebaTokenizer,<br/>...</span></pre><p id="df31" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">保存文件，我们现在准备测试它。</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="b060" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">4.培训和测试</h1><p id="8c0f" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">在虚拟环境中打开一个终端，并将其指向 config.yml 文件的基目录(我们在第一节中修改过的那个目录)。确保您有一个包含培训数据的数据文件夹。运行以下代码:</p><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="17d5" class="ne mb it nr b gy nv nw l nx ny">rasa train nlu</span></pre><p id="9499" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">培训可能需要一些时间，这取决于您的意向数量。您应该能够看到以下输出:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oo"><img src="../Images/9e0f8d1612d94ec0075df1901f570c70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8SDLmVtawoVRNKuYq4sV6Q.png"/></div></div></figure><p id="d2db" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦完成，你应该在模型文件夹中有一个 tar.gz 文件。运行以下命令进行测试(相应地修改模型的名称):</p><pre class="kp kq kr ks gt nq nr ns nt aw nu bi"><span id="e6e4" class="ne mb it nr b gy nv nw l nx ny">rasa shell -m models/nlu-20190924-144445.tar.gz</span></pre><p id="e476" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它将在终端内部运行交互式 shell 模式。你可以输入你的句子来测试结果。</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="a525" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">5.结论</h1><p id="e01a" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">让我们回顾一下为 Rasa NLU 设置日语分词器的基本步骤。首先，我们需要修改 config.yml 文件并安装 SudachiPy 模块。</p><p id="3681" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然后，我们创建了一个 japanese_tokenizer.py 文件，其中包含初始化、训练和标记化所需的代码。</p><p id="fc54" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们继续修改 registry.py 文件，将导入代码和 JapaneseTokenizer 引用添加到 component_class 列表中。</p><p id="897b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我们通过 rasa 提供的交互式 shell 模式对模型进行训练和测试。</p><p id="b8f8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">希望你喜欢这篇文章，下次再见！</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="cfd7" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated">参考</h1><ol class=""><li id="c316" class="lf lg it js b jt my jx mz kb op kf oq kj or kn lk ll lm ln bi translated"><a class="ae le" rel="noopener" target="_blank" href="/a-beginners-guide-to-rasa-nlu-for-intent-classification-and-named-entity-recognition-a4f0f76b2a96">https://towards data science . com/a-初学者指南-rasa-nlu-for-intent-class ification-and-named-entity-recognition-a4f 0f 76 B2 a96</a></li><li id="17ca" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated"><a class="ae le" rel="noopener" target="_blank" href="/sudachipy-a-japanese-morphological-analyzer-in-python-5f1f8fc0c807">https://towards data science . com/Suda chipy-a-Japanese-morphological-analyzer-in-python-5 f1 F8 fc 0 c 807</a></li><li id="70e2" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated"><a class="ae le" href="https://gist.github.com/wfng92/831b47df29de687c8ea3264ffb9134ee" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/wfng 92/831 b 47 df 29 de 687 c8ea 3264 FFB 9134 ee</a></li><li id="6341" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated"><a class="ae le" href="https://github.com/WorksApplications/SudachiPy" rel="noopener ugc nofollow" target="_blank">https://github.com/WorksApplications/SudachiPy</a></li><li id="f1f1" class="lf lg it js b jt lo jx lp kb lq kf lr kj ls kn lk ll lm ln bi translated"><a class="ae le" href="https://rasa.com/docs/rasa/nlu/choosing-a-pipeline/" rel="noopener ugc nofollow" target="_blank">https://rasa.com/docs/rasa/nlu/choosing-a-pipeline/</a></li></ol></div></div>    
</body>
</html>