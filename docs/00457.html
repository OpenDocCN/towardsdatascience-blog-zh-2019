<html>
<head>
<title>Hypothesis testing in Machine learning using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 进行机器学习中的假设检验</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/hypothesis-testing-in-machine-learning-using-python-a0dc89e169ce?source=collection_archive---------1-----------------------#2019-01-21">https://towardsdatascience.com/hypothesis-testing-in-machine-learning-using-python-a0dc89e169ce?source=collection_archive---------1-----------------------#2019-01-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="df12" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可能所有初学机器学习或中级水平或统计学的学生都听说过这个时髦词<a class="ae kl" href="https://en.wikipedia.org/wiki/Statistical_hypothesis_testing" rel="noopener ugc nofollow" target="_blank">假设检验。</a></p><p id="2e53" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天我将简单介绍一下这个让我在学习时感到头疼的话题。我用 python 把所有这些概念和例子放在一起。</p><p id="f06d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我考虑更广泛的事情之前，脑子里有些问题-</p><p id="a766" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">什么是假设检验？我们为什么要用它？假设的基础是什么？假设检验的重要参数是什么？</strong></p><p id="2866" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们一个一个地开始:</p><p id="e9b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> 1。什么是假设检验？</strong></p><p id="9a56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">假设检验是一种统计方法，用于利用实验数据进行统计决策。假设检验基本上是我们对总体参数的一种假设。</p><p id="a885" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你说班上学生的平均年龄是 40 岁，或者一个男孩比女孩高。</p><p id="b805" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所有这些我们假设的例子都需要一些统计方法来证明。我们需要一些我们假设为真的数学结论。</p><p id="c78b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> 2 </strong>。<strong class="jp ir">我们为什么要用它？</strong></p><p id="0676" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">假设检验</strong>是统计学中必不可少的程序。<strong class="jp ir">假设检验</strong>评估关于总体的两个互斥陈述，以确定哪个陈述最受样本数据支持。当<strong class="jp ir">我们</strong>说一个发现具有统计学意义时，这要归功于<strong class="jp ir">假设检验</strong>。</p><p id="910e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> 3 </strong>。假设的基础是什么？</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi km"><img src="../Images/c069323c71f67ee211afa6ac4d8a4ca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*U-cR-vP8pYUmLUDwCPv23A.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Normal Curve images with different mean and variance</figcaption></figure><p id="6a20" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">假设的基础是<a class="ae kl" href="https://en.wikipedia.org/wiki/Normalization_(statistics)" rel="noopener ugc nofollow" target="_blank">归一化</a>和<a class="ae kl" href="https://stats.stackexchange.com/questions/10289/whats-the-difference-between-normalization-and-standardization" rel="noopener ugc nofollow" target="_blank">标准归一化</a>。我们所有的假设都是围绕这两个术语的基础。让我们看看这些。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi km"><img src="../Images/42b747ddf2aae54666a57e6adf3521c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*2vTwIrqdELKJY-tpheO7GA.jpeg"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Standardised Normal curve image and separation on data in percentage in each section.</figcaption></figure><p id="c7fc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你一定想知道这两个图像之间的区别，一个可能会说我没有发现，而另一个会看到一些平坦的图形相比陡峭。伙计，这不是我想要表现的，在第一张图中，你可以看到不同的正态曲线，所有这些正态曲线可以有不同的均值和方差，在第二张图中，如果你注意到图形是适当分布的，并且<strong class="jp ir">均值=0，方差=1，总是</strong>。当我们使用<strong class="jp ir">标准化的正常数据时，z 分数的概念就出现了。</strong></p><p id="bd06" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">正态分布- </strong></p><p id="f1b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果<strong class="jp ir">一个变量的分布</strong>具有<strong class="jp ir">正态曲线</strong>的形状——一种特殊的钟形<strong class="jp ir">曲线</strong>，那么这个变量就被称为正态分布或者具有<strong class="jp ir">正态分布</strong>。…一个<strong class="jp ir">正态分布</strong>的图形被称为<strong class="jp ir">正态曲线</strong>，它具有以下所有<strong class="jp ir">属性</strong> : 1 .平均值、中值和众数相等。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/8b89d60b1499726f61612169c88e4cfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*gBnxoTRwo9sDovvegHfm6g.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Normal distribution formula</figcaption></figure><p id="fb1a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">标准化正态分布— </strong></p><p id="4fc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">标准正态分布是平均值为 0、标准差为 1 的正态分布</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi kz"><img src="../Images/d4293675d35563420626bf494b93eab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*UY43iz5Uesa1m9ItIrxYCg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Standard Normal Distribution</figcaption></figure><p id="b75f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">哪些是假设检验的重要参数？</strong></p><p id="7f79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">零假设:- </strong>在推断统计学中，零假设是一个一般性的陈述或默认立场，即两个测量的现象之间没有关系，或者组之间没有关联</p><p id="2ed7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">换句话说，这是一个基本假设，或者是基于领域或问题知识做出的。</p><p id="0684" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如:一家公司的产量为每天 50 台等。</p><h2 id="0329" class="la lb iq bd lc ld le dn lf lg lh dp li jy lj lk ll kc lm ln lo kg lp lq lr ls bi translated">替代假设:-</h2><p id="4b30" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated">备选<strong class="jp ir"> </strong>假设是在<strong class="jp ir">假设</strong>测试中使用的与原假设相反的假设。人们通常认为这些观察结果是真实效应的结果(叠加了一些偶然变化)</p><p id="c4c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如:某公司生产的是！=50 单位/每天等。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ly"><img src="../Images/ce21bd850ad0837dcaca5cf6a89e325b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fEPOHXPQO_ZNJC4UQDXmqw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Null and Alternate hypothesis.</figcaption></figure><p id="d568" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">显著性水平:</strong>指我们接受或拒绝零假设的显著程度。接受或拒绝一个假设不可能有 100%的准确性，因此我们选择一个通常为 5%的显著性水平。</p><p id="89ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这通常用 alpha(数学符号)表示，通常是 0.05 或 5%，这意味着您的输出应该有 95%的信心在每个样本中给出类似的结果。</p><p id="271c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第一类错误:</strong>当我们拒绝原假设，尽管那个假设是真的。第一类误差用α表示。在假设检验中，显示临界区域的正态曲线称为α区域</p><p id="69d9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">第二类错误:</strong>当我们接受零假设但它是假的。第二类错误用β表示。在假设检验中，显示接受区域的正态曲线称为贝塔区域。</p><p id="75b8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">单尾检验:- </strong>统计假设的检验，其中拒绝区域仅在抽样分布的<strong class="jp ir">一侧，称为<strong class="jp ir">单</strong> - <strong class="jp ir">尾检验</strong>。</strong></p><p id="c4de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如:-一所大学有≥ 4000 名学生或数据科学≤ 80%的组织采用。</p><p id="77de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">双尾检验:- </strong>一个<strong class="jp ir">两个</strong> - <strong class="jp ir">尾检验</strong>是一种统计<strong class="jp ir">检验</strong>，其中一个分布的临界面积为<strong class="jp ir">两个</strong> - <strong class="jp ir">侧</strong>，并检验<strong class="jp ir"> </strong>一个样本是否大于或小于某个范围的值。如果被测样品<strong class="jp ir"> </strong>落入任何一个关键区域，则接受替代假设，而不是零假设。</p><p id="bbf8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">举例:某学院！= 4000 学生或数据科学！= 80%的组织采用</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi md"><img src="../Images/9aeec447373eb6f63dcf37fd26d0d92e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fwmazvo993cH6q79bpfeIw.jpeg"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">one and two-tailed images</figcaption></figure><p id="da34" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> P 值:-</strong><strong class="jp ir">P 值</strong>或计算概率，是当研究问题的零假设(H 0)为真时，发现观察到的或更极端的结果的概率——极端的<strong class="jp ir">定义</strong>取决于假设是如何被检验的。</p><p id="5d1d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您的 P 值小于所选的显著性水平，那么您拒绝零假设，即接受您的样本提供了支持替代假设的合理证据。它并不意味着“有意义的”或“重要的”差异；这由您在考虑结果的现实相关性时决定。</p><p id="9b76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例子:你有一枚硬币，你不知道这是公平的还是棘手的，所以让我们决定<strong class="jp ir">无效</strong>和<strong class="jp ir">交替假设</strong></p><p id="3438" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">H0:一枚硬币是公平的。</p><p id="f995" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">H1:硬币是一种狡猾的硬币。和<strong class="jp ir">α</strong>=<strong class="jp ir">5%或 0.05 </strong></p><p id="eb30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们抛硬币，计算<strong class="jp ir"> p 值</strong>(概率值)。</p><p id="942b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一次投掷硬币，结果是<strong class="jp ir">尾</strong> - P 值= 50%(因为头和尾的概率相等)</p><p id="69de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第二次抛硬币，结果是<strong class="jp ir">尾，现在 p 值= </strong> 50/2 <strong class="jp ir"> = 25% </strong></p><p id="5198" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，我们连续投掷 6 次，得到的结果是 P 值= <strong class="jp ir"> 1.5% </strong>，但我们将显著性水平设为 95%，意味着我们允许 5%的误差率，这里我们看到我们超出了该水平，即我们的零假设不成立，因此我们需要拒绝并提出这枚硬币是一枚棘手的硬币，实际上是一枚复杂的硬币。</p><p id="f30c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="http://blog.minitab.com/blog/statistics-and-quality-data-analysis/what-are-degrees-of-freedom-in-statistics" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir"/></a>:-现在想象你不戴帽子。你对数据分析感兴趣。您有一个包含 10 个值的数据集。如果你不估算任何东西，每个值可以取任意数，对吗？每个值都可以自由变化。但是，假设您想使用单样本 t 检验，用 10 个值的样本来检验总体均值。现在，您有了一个约束条件—平均值的估计。具体是什么约束？根据平均值的定义，以下关系必须成立:数据中所有值的总和必须等于<em class="me"> n </em> x 平均值，其中<em class="me"> n </em>是数据集中值的数量。</p><p id="65ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，如果一个数据集有 10 个值，这 10 个值的总和<em class="me">必须</em>等于平均值 x 10。如果 10 个值的平均值是 3.5(您可以选择任何数字)，此约束要求 10 个值的总和必须等于 10 x 3.5 = 35。</p><p id="8e7e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有了这个约束，数据集中的第一个值可以自由变化。不管它是什么值，所有 10 个数的和仍然有可能是 35。第二个值也可以自由变化，因为无论您选择什么值，它仍然允许所有值的总和为 35 的可能性。</p></div><div class="ab cl mf mg hu mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ij ik il im in"><p id="7fdb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们来看看一些广泛使用的假设检验类型:-</p><ol class=""><li id="085a" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk mr ms mt mu bi translated">T 检验(学生 T 检验)</li><li id="ab96" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">z 检验</li><li id="e9f2" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">方差分析检验</li><li id="76b3" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk mr ms mt mu bi translated">卡方检验</li></ol><p id="0eca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> T-检验:-</strong>T-检验是一种推断统计，用于确定在某些特征上可能相关的两组的平均值之间是否存在显著差异。它主要用于数据集，如作为投掷硬币 a 100 次的结果而记录的数据集，将遵循正态分布，并且可能具有未知的<a class="ae kl" href="https://www.investopedia.com/terms/v/variance.asp" rel="noopener ugc nofollow" target="_blank">方差</a>。t 检验用作<a class="ae kl" href="https://www.investopedia.com/terms/h/hypothesistesting.asp" rel="noopener ugc nofollow" target="_blank">假设检验</a>工具，允许检验适用于总体的假设。</p><p id="0da7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">t 检验有两种类型:1。一个样本 t 检验 2。双样本 t 检验。</p><p id="f08b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">单样本 t 检验</strong>:单样本<em class="me"> t </em>检验确定样本均值在统计上是否不同于已知或假设的总体均值。单样本<em class="me"> t </em>测试是一种参数测试。</p><p id="b852" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如:-你有 10 个年龄，你正在检查平均年龄是否为 30。(使用 python 检查下面的代码)</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="b892" class="la lb iq nb b gy nf ng l nh ni">from scipy.stats import ttest_1samp<br/>import numpy as np</span><span id="ec0f" class="la lb iq nb b gy nj ng l nh ni">ages = np.genfromtxt(“ages.csv”)</span><span id="454a" class="la lb iq nb b gy nj ng l nh ni">print(ages)</span><span id="9788" class="la lb iq nb b gy nj ng l nh ni">ages_mean = np.mean(ages)<br/>print(ages_mean)<br/>tset, pval = ttest_1samp(ages, 30)</span><span id="6ade" class="la lb iq nb b gy nj ng l nh ni">print(“p-values”,pval)</span><span id="5a13" class="la lb iq nb b gy nj ng l nh ni">if pval &lt; 0.05:    # alpha value is 0.05 or 5%<br/>   print(" we are rejecting null hypothesis")<br/>else:<br/>  print("we are accepting null hypothesis")</span></pre><p id="9ce5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">上述代码的输出是:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nk"><img src="../Images/53af15c13fa9e917b88379d470264c8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oErU154LwSGLrPA5TewC3Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">one-sample t-test output</figcaption></figure><p id="8aad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">双样本 T 检验:- </strong>独立<strong class="jp ir">样本 T 检验</strong>或双样本 T 检验比较两个独立组的平均值，以确定是否有统计证据表明相关总体平均值存在显著差异。独立的<strong class="jp ir">样本 t 检验</strong>是一个参数<strong class="jp ir">检验</strong>。这个<strong class="jp ir">测试</strong>也被称为:独立<strong class="jp ir"> t 测试</strong>。</p><p id="74ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">示例:week1 和 week2 之间有任何关联吗(下面用 python 给出了代码)</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="5bd6" class="la lb iq nb b gy nf ng l nh ni">from scipy.stats import ttest_ind<br/>import numpy as np</span><span id="0795" class="la lb iq nb b gy nj ng l nh ni">week1 = np.genfromtxt("week1.csv",  delimiter=",")<br/>week2 = np.genfromtxt("week2.csv",  delimiter=",")</span><span id="ada9" class="la lb iq nb b gy nj ng l nh ni">print(week1)<br/>print("week2 data :-\n")<br/>print(week2)<br/>week1_mean = np.mean(week1)<br/>week2_mean = np.mean(week2)</span><span id="d017" class="la lb iq nb b gy nj ng l nh ni">print("week1 mean value:",week1_mean)<br/>print("week2 mean value:",week2_mean)</span><span id="560b" class="la lb iq nb b gy nj ng l nh ni">week1_std = np.std(week1)<br/>week2_std = np.std(week2)</span><span id="ee6f" class="la lb iq nb b gy nj ng l nh ni">print("week1 std value:",week1_std)<br/>print("week2 std value:",week2_std)</span><span id="0cc2" class="la lb iq nb b gy nj ng l nh ni">ttest,pval = ttest_ind(week1,week2)<br/>print("p-value",pval)</span><span id="842f" class="la lb iq nb b gy nj ng l nh ni">if pval &lt;0.05:<br/>  print("we reject null hypothesis")<br/>else:<br/>  print("we accept null hypothesis")</span></pre><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nl"><img src="../Images/1461aaf5c2ed2c4d2f3ff78496340721.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*knyWSvP5efefqkg0IgtfmQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">2-sampled t-test output</figcaption></figure><p id="6d19" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">成对样本 t 检验:- </strong>成对样本 t 检验也叫相依样本 t 检验。这是一个单变量测试，测试两个相关变量之间的显著差异。这方面的一个例子是，如果您在某个治疗、条件或时间点之前和之后收集个人的血压。</p><p id="ab2d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">H0:——表示两个样本之间的差值为 0 </strong></p><p id="2339" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> H1:-两个样本之间的平均差异不为 0 </strong></p><p id="28f2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">检查下面的代码是否相同</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="69d4" class="la lb iq nb b gy nf ng l nh ni">import pandas as pd<br/>from scipy import stats<br/>df = pd.read_csv("blood_pressure.csv")</span><span id="6431" class="la lb iq nb b gy nj ng l nh ni">df[['bp_before','bp_after']].describe()</span><span id="3a1d" class="la lb iq nb b gy nj ng l nh ni">ttest,pval = stats.ttest_rel(df['bp_before'], df['bp_after'])<br/>print(pval)</span><span id="a1e9" class="la lb iq nb b gy nj ng l nh ni">if pval&lt;0.05:<br/>    print("reject null hypothesis")<br/>else:<br/>    print("accept null hypothesis")</span></pre><h1 id="bad8" class="nm lb iq bd lc nn no np lf nq nr ns li nt nu nv ll nw nx ny lo nz oa ob lr oc bi translated">当你可以进行 Z 测试的时候。</h1><p id="e474" class="pw-post-body-paragraph jn jo iq jp b jq lt js jt ju lu jw jx jy lv ka kb kc lw ke kf kg lx ki kj kk ij bi translated">统计中使用了几种不同类型的检验(即<a class="ae kl" href="https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/hypothesis-testing/f-test/" rel="noopener ugc nofollow" target="_blank"> f 检验</a>、<a class="ae kl" href="https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/chi-square/" rel="noopener ugc nofollow" target="_blank">卡方检验</a>、<a class="ae kl" href="https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/t-test/" rel="noopener ugc nofollow" target="_blank"> t 检验</a>)。在以下情况下，可以使用 Z 检验:</p><ul class=""><li id="4acd" class="mm mn iq jp b jq jr ju jv jy mo kc mp kg mq kk od ms mt mu bi translated">您的<a class="ae kl" href="https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/find-sample-size/" rel="noopener ugc nofollow" target="_blank">样本量</a>大于 30。否则，使用<a class="ae kl" href="https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/t-test/" rel="noopener ugc nofollow" target="_blank"> t 测试</a>。</li><li id="68b7" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk od ms mt mu bi translated">数据点应该是相互独立的。换句话说，一个数据点不相关或者不影响另一个数据点。</li><li id="b48a" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk od ms mt mu bi translated">您的数据应该是正态分布的。然而，对于大样本量(超过 30)，这并不总是重要的。</li><li id="e027" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk od ms mt mu bi translated">您的数据应该从总体中随机选择，其中每一项都有平等的机会被选中。</li><li id="8454" class="mm mn iq jp b jq mv ju mw jy mx kc my kg mz kk od ms mt mu bi translated"><a class="ae kl" href="https://www.statisticshowto.datasciencecentral.com/probability-and-statistics/find-sample-size/" rel="noopener ugc nofollow" target="_blank">样本大小</a>应尽可能相等。</li></ul><p id="be5f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">再举一个例子，我们使用 z-test 对血压进行一些均值测试，如 156 (python 代码如下所示)<strong class="jp ir">单样本 Z 测试。</strong></p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="aeec" class="la lb iq nb b gy nf ng l nh ni">import pandas as pd<br/>from scipy import stats<br/>from statsmodels.stats import weightstats as stests</span><span id="b29a" class="la lb iq nb b gy nj ng l nh ni">ztest ,pval = stests.ztest(df['bp_before'], x2=None, value=156)<br/>print(float(pval))</span><span id="b60c" class="la lb iq nb b gy nj ng l nh ni">if pval&lt;0.05:<br/>    print("reject null hypothesis")<br/>else:<br/>    print("accept null hypothesis")</span></pre><p id="8850" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">双样本 Z 检验- </strong>在双样本 Z 检验中，类似于这里的 t 检验，我们检查两个独立的数据组，并决定两组的样本均值是否相等。</p><p id="0d3f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> H0:两组平均值为 0 </strong></p><p id="9c62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> H1:两组的平均值不为 0 </strong></p><p id="983f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">示例:我们在采血后和采血前检查采血数据。(下面是 python 代码)</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="50cb" class="la lb iq nb b gy nf ng l nh ni">ztest ,pval1 = stests.ztest(df['bp_before'], x2=df['bp_after'], value=0,alternative='two-sided')<br/>print(float(pval1))</span><span id="f4bc" class="la lb iq nb b gy nj ng l nh ni">if pval&lt;0.05:<br/>    print("reject null hypothesis")<br/>else:<br/>    print("accept null hypothesis")</span></pre><p id="0df4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">ANOVA(F-TEST):-</strong>t-TEST 在处理两组时效果很好，但有时我们希望同时比较两组以上的数据。例如，如果我们想测试选民年龄是否因种族等分类变量而不同，我们必须比较变量的每个级别或组的平均值。我们可以对每一组进行单独的 t 检验，但是当你进行多次检验时，就会增加假阳性的机会。<a class="ae kl" href="https://en.wikipedia.org/wiki/Analysis_of_variance" rel="noopener ugc nofollow" target="_blank">方差分析</a>或 ANOVA 是一种统计推断测试，允许您同时比较多个组。</p><p id="c607" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> F =组间变异性/组内变异性</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/890234f436ee52cbaac7b38dda004c70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*SV4xlXEFCKzgT4PbB6nlgA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">F-Test or Anova concept image</figcaption></figure><p id="5467" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">与 z 分布和 t 分布不同，F 分布没有任何负值，因为组间和组内的变异性由于每个偏差的平方而总是正的。</p><p id="2418" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">单向 F-检验(Anova) :- </strong>它根据两组或更多组平均相似性和 F-分数来判断它们是否相似。</p><p id="3e4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">示例:有 3 种不同类别植物及其重量，需要检查所有 3 组是否相似(下面的 python 代码)</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="65a2" class="la lb iq nb b gy nf ng l nh ni">df_anova = pd.read_csv('PlantGrowth.csv')<br/>df_anova = df_anova[['weight','group']]</span><span id="6c08" class="la lb iq nb b gy nj ng l nh ni">grps = pd.unique(df_anova.group.values)<br/>d_data = {grp:df_anova['weight'][df_anova.group == grp] for grp in grps}<br/> <br/>F, p = stats.f_oneway(d_data['ctrl'], d_data['trt1'], d_data['trt2'])</span><span id="14eb" class="la lb iq nb b gy nj ng l nh ni">print("p-value for significance is: ", p)</span><span id="eea5" class="la lb iq nb b gy nj ng l nh ni">if p&lt;0.05:<br/>    print("reject null hypothesis")<br/>else:<br/>    print("accept null hypothesis")</span></pre><p id="08dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">双向 f 检验:- </strong>双向 f 检验是单向 f 检验的扩展，当我们有 2 个自变量和 2+组时使用。双向 f 检验不能说明哪个变量是主导变量。如果我们需要检查个体显著性，则需要执行<strong class="jp ir">事后</strong>测试。</p><p id="1d77" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们来看看总的平均作物产量(不按任何分组的平均作物产量)，以及按每个因素和按组合在一起的因素的平均作物产量</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="0dc6" class="la lb iq nb b gy nf ng l nh ni">import statsmodels.api as sm<br/>from statsmodels.formula.api import ols</span><span id="bcdf" class="la lb iq nb b gy nj ng l nh ni">df_anova2 = pd.read_csv("<a class="ae kl" href="https://raw.githubusercontent.com/Opensourcefordatascience/Data-sets/master/crop_yield.csv" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/Opensourcefordatascience/Data-sets/master/crop_yield.csv</a>")</span><span id="84d1" class="la lb iq nb b gy nj ng l nh ni">model = ols('Yield ~ C(Fert)*C(Water)', df_anova2).fit()<br/>print(f"Overall model F({model.df_model: .0f},{model.df_resid: .0f}) = {model.fvalue: .3f}, p = {model.f_pvalue: .4f}")</span><span id="3a16" class="la lb iq nb b gy nj ng l nh ni">res = sm.stats.anova_lm(model, typ= 2)<br/>res</span></pre><p id="172b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">卡方检验- </strong>当一个总体中有两个<a class="ae kl" href="https://stattrek.com/Help/Glossary.aspx?Target=Categorical%20variable" rel="noopener ugc nofollow" target="_blank">分类变量</a>时，应用该检验。它用于确定两个变量之间是否有显著的关联。</p><p id="9b14" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，在选举调查中，选民可以按性别(男性或女性)和投票偏好(民主党、共和党或无党派)分类。我们可以使用卡方检验来确定性别是否与投票偏好有关</p><p id="8ddc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">查看下面的 python 示例</p><pre class="kn ko kp kq gt na nb nc nd aw ne bi"><span id="38de" class="la lb iq nb b gy nf ng l nh ni">df_chi = pd.read_csv('chi-test.csv')<br/>contingency_table=pd.crosstab(df_chi["Gender"],df_chi["Shopping?"])<br/>print('contingency_table :-\n',contingency_table)</span><span id="b883" class="la lb iq nb b gy nj ng l nh ni">#Observed Values<br/>Observed_Values = contingency_table.values <br/>print("Observed Values :-\n",Observed_Values)</span><span id="0b8b" class="la lb iq nb b gy nj ng l nh ni">b=stats.chi2_contingency(contingency_table)<br/>Expected_Values = b[3]<br/>print("Expected Values :-\n",Expected_Values)</span><span id="2a7a" class="la lb iq nb b gy nj ng l nh ni">no_of_rows=len(contingency_table.iloc[0:2,0])<br/>no_of_columns=len(contingency_table.iloc[0,0:2])<br/>ddof=(no_of_rows-1)*(no_of_columns-1)<br/>print("Degree of Freedom:-",ddof)<br/>alpha = 0.05</span><span id="5bea" class="la lb iq nb b gy nj ng l nh ni">from scipy.stats import chi2<br/>chi_square=sum([(o-e)**2./e for o,e in zip(Observed_Values,Expected_Values)])<br/>chi_square_statistic=chi_square[0]+chi_square[1]<br/>print("chi-square statistic:-",chi_square_statistic)</span><span id="cf72" class="la lb iq nb b gy nj ng l nh ni">critical_value=chi2.ppf(q=1-alpha,df=ddof)<br/>print('critical_value:',critical_value)</span><span id="a3d9" class="la lb iq nb b gy nj ng l nh ni">#p-value<br/>p_value=1-chi2.cdf(x=chi_square_statistic,df=ddof)<br/>print('p-value:',p_value)</span><span id="7927" class="la lb iq nb b gy nj ng l nh ni">print('Significance level: ',alpha)<br/>print('Degree of Freedom: ',ddof)<br/>print('chi-square statistic:',chi_square_statistic)<br/>print('critical_value:',critical_value)<br/>print('p-value:',p_value)</span><span id="c85b" class="la lb iq nb b gy nj ng l nh ni">if chi_square_statistic&gt;=critical_value:<br/>    print("Reject H0,There is a relationship between 2 categorical variables")<br/>else:<br/>    print("Retain H0,There is no relationship between 2 categorical variables")<br/>    <br/>if p_value&lt;=alpha:<br/>    print("Reject H0,There is a relationship between 2 categorical variables")<br/>else:<br/>    print("Retain H0,There is no relationship between 2 categorical variables")</span></pre><p id="f982" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以在我的<a class="ae kl" href="https://github.com/yug95/MachineLearning" rel="noopener ugc nofollow" target="_blank"> git </a>存储库中获得所有代码。</p><p id="0e00" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">啊，我们终于结束了这篇文章。我希望这篇文章会有所帮助。任何反馈都会受到欢迎。</p><p id="d053" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更多更新请查看我的<a class="ae kl" href="https://github.com/yug95/MachineLearning" rel="noopener ugc nofollow" target="_blank"> git </a>并在媒体上关注 we。</p></div></div>    
</body>
</html>