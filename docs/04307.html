<html>
<head>
<title>Basic SQL Decides: My Most Preferred Marvel Character</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基本 SQL 决定:我最喜欢的漫威角色</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/basic-sql-decides-my-most-preferred-marvel-character-e393fb044397?source=collection_archive---------16-----------------------#2019-07-04">https://towardsdatascience.com/basic-sql-decides-my-most-preferred-marvel-character-e393fb044397?source=collection_archive---------16-----------------------#2019-07-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6b0951f29edd9529bd0f66c207fcb144.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rritmUa-qDn2okdNIzPeAw.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk"><a class="ae kc" href="https://unsplash.com/photos/7DVmV22nieQ" rel="noopener ugc nofollow" target="_blank">Accredited to Unsplash</a></figcaption></figure><blockquote class="kd ke kf"><p id="38df" class="kg kh ki kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ir"> <em class="iq"> P.S </em> </strong> <em class="iq">致敬斯坦·李(1922–2018)</em></p></blockquote><h2 id="dfd5" class="lf lg iq bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">介绍</h2><p id="61dc" class="pw-post-body-paragraph kg kh iq kj b kk mb km kn ko mc kq kr lo md ku kv ls me ky kz lw mf lc ld le ij bi translated">作为一个被同龄男孩包围的年轻女孩，我们最喜欢的游戏之一是重演一部超级英雄电影(与其说是重演，不如说是改写)，并选择我想扮演的超级角色。当时，我的选择非常主观，取决于哪个角色在我的记忆中仍然清晰，我的心情如何，以及我认为谁可以“假设”消除我玩伴的角色。</p><p id="7e41" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">最近在回忆“那些美好的旧时光”时，我开始思考如何才能找出我最喜欢的漫威角色应该是谁。我认为“统计学和 SQL 可以解决这个难题”。</p><p id="ea66" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">我决定引导我内心的<em class="ki">“歇洛克·福尔摩斯”和</em>结构来完成这个任务，这就是我想到的。</p><p id="dcf5" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated"><strong class="kj ir">项目流程</strong></p><ul class=""><li id="57fc" class="mg mh iq kj b kk kl ko kp lo mi ls mj lw mk le ml mm mn mo bi translated">阐明我的目标</li><li id="5cb9" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated">找到数据</li><li id="5e14" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated">将数据插入数据库并清理数据</li><li id="cf43" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated">重新明确我的目标，并想出该用什么方法</li><li id="a9ec" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated">操作:分析</li><li id="34ff" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated">获得结果，总结并思考可以改进的地方</li></ul><h2 id="4cd6" class="lf lg iq bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">客观澄清</h2><p id="bc2e" class="pw-post-body-paragraph kg kh iq kj b kk mb km kn ko mc kq kr lo md ku kv ls me ky kz lw mf lc ld le ij bi translated">这可能是(有争议的)任何分析中最重要的部分，尤其是如果你不想迷失在数据中，无休止地兜圈子。我的主要目的是<strong class="kj ir">用一个足够好的理由，而不是感情或“一时冲动”的时刻，来找出我最喜欢的超级角色应该是谁，也就是说，从统计学上来说<strong class="kj ir">做出选择</strong>。</strong></p><h2 id="2ead" class="lf lg iq bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">数据</h2><p id="df4a" class="pw-post-body-paragraph kg kh iq kj b kk mb km kn ko mc kq kr lo md ku kv ls me ky kz lw mf lc ld le ij bi translated">通过确定一个目标，我对我的数据应该包括什么有了一个清晰的想法:英雄的名字和跨越所有英雄的能力，或者可以使用 z 分数标准化的评级能力。</p><p id="0231" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">我决定只关注漫威的角色，因为我更喜欢他们。没有阴影的意图</p><p id="29d8" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">我终于从一个名为<a class="ae kc" href="https://gist.github.com/Mentrasto/967148a4b41713977839" rel="noopener ugc nofollow" target="_blank"> Mentrasto </a>的 Github 概要文件中找到了一个非常结构化的数据，它符合我的清单。这些数据由 26 个超级字符和 14 个特征组成，它们可以分为两类</p><ol class=""><li id="3fd1" class="mg mh iq kj b kk kl ko kp lo mi ls mj lw mk le mu mm mn mo bi translated"><strong class="kj ir">个人详细信息</strong></li></ol><ul class=""><li id="de9c" class="mg mh iq kj b kk kl ko kp lo mi ls mj lw mk le ml mm mn mo bi translated"><code class="fe mv mw mx my b"><em class="ki">ID</em></code> <em class="ki"> </em>:每个字符的唯一条目号</li><li id="a477" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">name</code>:漫威人物的名字</li><li id="fa0a" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">popularity</code>:基于排名的每个角色的受欢迎程度</li><li id="9429" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">alignment</code>:区分角色是好(英雄)、坏(反派)还是只是中立</li><li id="abf9" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">gender</code>:如果一个角色是男是女</li><li id="e591" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">height_m</code>:字符高度，单位为米</li><li id="5bc9" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">weight_kg</code>:字符的重量，单位为千克</li><li id="ef4b" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">hometown</code>:每个字符的起源</li></ul><p id="76e6" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated"><strong class="kj ir"> 2。能力类别&amp;评级</strong></p><ul class=""><li id="0934" class="mg mh iq kj b kk kl ko kp lo mi ls mj lw mk le ml mm mn mo bi translated"><code class="fe mv mw mx my b">intelligence</code> <em class="ki"> : </em>智力等级从 1 到 7。<em class="ki"> 1 个是哑巴，7 个是天才</em></li><li id="a0d0" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">strength</code>:强度等级从 1 到 7。<em class="ki"> 1 个是哑巴，7 个是聪明人</em></li><li id="093e" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">speed</code> <em class="ki"> : </em>从 1 到 7 的速度等级。<em class="ki"> 1 傻 7 聪明</em></li><li id="eae4" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">durability</code> <em class="ki"> : </em>耐久性等级从 1 到 7。1 个是哑巴，7 个是天才</li><li id="70e0" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated"><code class="fe mv mw mx my b">energy_projection</code> <em class="ki"> : </em>能量投射技能等级 1-7。<em class="ki"> 1 傻 7 聪明</em></li><li id="8978" class="mg mh iq kj b kk mp ko mq lo mr ls ms lw mt le ml mm mn mo bi translated">战斗技能等级从 1 到 7。<em class="ki"> 1 傻 7 聪明</em></li></ul><h2 id="aa2b" class="lf lg iq bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">数据库存储</h2><p id="65ee" class="pw-post-body-paragraph kg kh iq kj b kk mb km kn ko mc kq kr lo md ku kv ls me ky kz lw mf lc ld le ij bi translated">第三步是通过创建一个表并插入值来将我的数据存储在数据库中。我决定在这个项目中使用 SQLite，因为它是一个小型数据。</p><p id="8f62" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">尽管数据源已经准备好被创建为数据库，但是您需要做的只是使用<code class="fe mv mw mx my b">CREATE TABLE</code>子句和<code class="fe mv mw mx my b">INSERT INTO</code>子句，您就可以开始分析了。这就是我的意思。</p><p id="005d" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">要创建表，请使用</p><figure class="mz na nb nc gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="5125" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">或者就我而言</p><figure class="mz na nb nc gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="dcb5" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">若要插入值，请使用</p><figure class="mz na nb nc gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="f1ef" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">对我来说</p><figure class="mz na nb nc gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="a479" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">你可以观看这个<a class="ae kc" href="https://www.youtube.com/watch?v=Pni6WxHFTUg" rel="noopener ugc nofollow" target="_blank">视频</a>来了解如何使用 SQLite 的要点。</p><p id="9a3c" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">我决定使用<code class="fe mv mw mx my b">SELECT *</code>子句来看看我的数据在 SQL 中是什么样子</p><figure class="mz na nb nc gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/a8ff66c66310e46e45a5bbd89a110eb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cVnMCHlBiabgHYBbhz6fuQ.png"/></div></div></figure><h2 id="d6d8" class="lf lg iq bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">重新阐明目标</h2><p id="477d" class="pw-post-body-paragraph kg kh iq kj b kk mb km kn ko mc kq kr lo md ku kv ls me ky kz lw mf lc ld le ij bi translated">有这么多计划外的专栏可用，我需要再次澄清我的目标，即<strong class="kj ir">统计出谁是我最喜欢的角色。</strong></p><blockquote class="kd ke kf"><p id="618b" class="kg kh ki kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">这意味着我唯一需要关注的个人信息是名字<strong class="kj ir">。</strong></p></blockquote><p id="06f7" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">因为所有可用的英雄都基于 6 种能力被同等地评级，所以没有必要标准化数据。由于目标更多的是描述性的，而不是推断性的，所以想到的一个常见的趋势测量是<strong class="kj ir">平均值。</strong></p><h2 id="ee51" class="lf lg iq bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">操作:分析</h2><p id="032c" class="pw-post-body-paragraph kg kh iq kj b kk mb km kn ko mc kq kr lo md ku kv ls me ky kz lw mf lc ld le ij bi translated">我直接进入主要任务，得到每个技能的平均值，计算每个英雄超过每个技能平均值的次数，然后选择最高的次数。</p><p id="c62a" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">我做了<code class="fe mv mw mx my b">WITH</code>子句、集合函数和<code class="fe mv mw mx my b">CASE</code>语句。这基本上是一个包含大量<code class="fe mv mw mx my b">CASE</code>语句的完整查询。</p><p id="8471" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">这总结了我所有的分析。</p><p id="a4a2" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">但是让我带您浏览一下每个查询组件</p><p id="1762" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">使用<code class="fe mv mw mx my b">CASE</code>语句获得所有能力的平均值</p><figure class="mz na nb nc gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="d2b4" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">然后合计从新列中得到的分数，使用<code class="fe mv mw mx my b">ORDER</code>子句对分数进行排序，并得到最上面的字符。您可以在下面找到用于捕获它的查询</p><figure class="mz na nb nc gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="f645" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">瞧啊。您需要做的就是使用一个<code class="fe mv mw mx my b">WITH</code>语句将两个查询组合起来。</p><figure class="mz na nb nc gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="4122" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated"><strong class="kj ir">结果呢？</strong></p><figure class="mz na nb nc gt jr gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/15d4d03be5c7b403d75e6d43bd2ad2a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/format:webp/1*tmZAcfhM5HyfaZ3__J4IZA.png"/></div></figure><p id="8f55" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated"><strong class="kj ir">胭脂</strong>，x 战警的女成员赢了。</p><figure class="mz na nb nc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/a239080a352ed183c936e2ebfbf7e325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CXsLQ1CspxC3Bck9jkbijA.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Disclaimer: Originated from <a class="ae kc" href="https://www.marvel.com/comics/discover/1018/rogue" rel="noopener ugc nofollow" target="_blank">https://www.marvel.com/comics/discover/1018/rogue</a></figcaption></figure><p id="8d1a" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">老实说，这并没有让我感到惊讶，因为胭脂这个角色可以吸收任何变种人的能力并用它来对付他们，同时让他们虚弱甚至死亡。</p><blockquote class="kd ke kf"><p id="4d07" class="kg kh ki kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">现在我可以自信地扮演胭脂…任何一天</p></blockquote><h2 id="505a" class="lf lg iq bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated"><strong class="ak">最终想法</strong></h2><p id="e910" class="pw-post-body-paragraph kg kh iq kj b kk mb km kn ko mc kq kr lo md ku kv ls me ky kz lw mf lc ld le ij bi translated">虽然这是一个非常酷的发现，但我意识到了一些事情。</p><ul class=""><li id="379d" class="mg mh iq kj b kk kl ko kp lo mi ls mj lw mk le ml mm mn mo bi translated">这是一个非常小的数据库。一个更大的数据库，有更多的漫威人物和更多的判断能力，可能会得出完全不同的结果。下一步是获取更多的数据。</li></ul><p id="e772" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated"><em class="ki">请随时从</em> <a class="ae kc" href="https://marvel.fandom.com/wiki/Marvel_Database" rel="noopener ugc nofollow" target="_blank"> <em class="ki">漫威数据库</em> </a>获取更多数据</p><p id="895e" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">所使用的代码也可以应用于更大的数据。但是，这将取决于基于大小的优化(查询运行的速度)。</p><p id="0ffb" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated"><em class="ki">你可以在我的 Github </em> <a class="ae kc" href="https://github.com/anitaokoh/Most-Preferred-Marvel-Character" rel="noopener ugc nofollow" target="_blank"> <em class="ki">这里</em> </a>查看我的代码</p><ul class=""><li id="1174" class="mg mh iq kj b kk kl ko kp lo mi ls mj lw mk le ml mm mn mo bi translated">所用测量值的选择(<em class="ki">平均值或均值</em>)可能会受到异常值的影响。下一步是检查定量列中的异常值，如果有的话，使用<strong class="kj ir">中值</strong>度量。</li></ul><h2 id="e6d0" class="lf lg iq bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">奖金</h2><p id="83be" class="pw-post-body-paragraph kg kh iq kj b kk mb km kn ko mc kq kr lo md ku kv ls me ky kz lw mf lc ld le ij bi translated">我开玩笑地决定根据他们的身体质量指数(身体质量指数)对所有角色进行分类，因为数据是可用的，并且已经被转换成适当的维度。目的是看有多少人肥胖、超重、健康或瘦。这是我在下面得到的。</p><figure class="mz na nb nc gt jr"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="mz na nb nc gt jr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/852fce35389a57628c4f778b94ba9d27.png" data-original-src="https://miro.medium.com/v2/resize:fit:336/format:webp/1*TDmFSzNVdivfDUUmJa30kQ.png"/></div></figure><p id="64af" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">同样，我的数据中的所有角色都肥胖也不足为奇，特别是因为这些数据似乎是来自真实的卡通角色的细节，而不是扮演每个角色的人。因此，大多数漫画都是对人类的漫画，带有一些夸张的身体部位。</p><p id="a501" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">_____________________________ 结尾 _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _</p><p id="3d57" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr lo kt ku kv ls kx ky kz lw lb lc ld le ij bi translated">像我一样，任何人都可以学习成为一名数据分析师，如果你想了解我的下一个项目或我学习的最新进展，请随时注册我的 <a class="ae kc" href="https://goo.gl/forms/aEbTwhSXRDAUa5tr1" rel="noopener ugc nofollow" target="_blank"> <em class="ki">简讯</em> </a></p></div></div>    
</body>
</html>