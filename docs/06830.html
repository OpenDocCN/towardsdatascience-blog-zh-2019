<html>
<head>
<title>Visualizing Tesla Superchargers in France</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在法国可视化特斯拉增压器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualizing-tesla-superchargers-in-france-8c10894ab3c?source=collection_archive---------22-----------------------#2019-09-28">https://towardsdatascience.com/visualizing-tesla-superchargers-in-france-8c10894ab3c?source=collection_archive---------22-----------------------#2019-09-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bb47" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从头开始使用 Python 和 Folium 学习可视化</h2></div><p id="03d1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">数据可视化不仅仅是科学，它还是一门艺术。根据我们人类大脑的工作方式，以可视化的形式处理信息非常容易。在进入数字地图近 25 年以及许多公司使用机器学习来收集大量数据之后，数据可视化比以往任何时候都更加重要。</p><p id="070f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章中，我们将可视化目前在法国可用的特斯拉超级充电器(充电站)。我们将使用 Python、leav 和 Pandas 来完成这项工作。激动吗？让我们开始吧。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/37cfb0de2af00b98f40179b62c1aae5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*TDmzPwU1ZtbcH2Hi.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk"><a class="ae lu" href="https://github.com/Dhrumilcse/Tesla-Superchargers" rel="noopener ugc nofollow" target="_blank">GitHub</a> / Live map <a class="ae lu" href="https://dhrumil.xyz/maps/tesla-superchargers/" rel="noopener ugc nofollow" target="_blank">here</a></figcaption></figure><h1 id="5cb5" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">重要的事情先来</h1><h2 id="ad00" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated"><strong class="ak">数据</strong></h2><p id="4342" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">首先，我们正在使用由法国政府提供的<a class="ae lu" href="https://medium.com/u/24413768aadb?source=post_page-----352c17e1dc00----------------------" rel="noopener">特斯拉</a>的<a class="ae lu" href="https://www.data.gouv.fr/en/datasets/stations-supercharger-tesla/" rel="noopener ugc nofollow" target="_blank">特斯拉增压器数据。你可以在上面的链接或者我的</a><a class="ae lu" href="https://github.com/Dhrumilcse/Tesla-Superchargers" rel="noopener ugc nofollow" target="_blank"> GitHub </a>库中找到这个数据文件。数据有很多列，但我们将只使用纬度、经度和站名。</p><h2 id="5cea" class="mn lw it bd lx mo mp dn mb mq mr dp mf kr ms mt mh kv mu mv mj kz mw mx ml my bi translated"><strong class="ak">库</strong></h2><p id="d114" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">我们将使用 leav 和 Pandas，所以如果您还没有安装它们，请在您的终端中键入以下命令。</p><pre class="lf lg lh li gt ne nf ng nh aw ni bi"><span id="ee6e" class="mn lw it nf b gy nj nk l nl nm">pip install foliumpip <br/>pip install pandas</span></pre><h1 id="ff34" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">步骤 1-创建底图</h1><p id="5721" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">好了，所有特斯拉和可视化的狂热分子，让我们开始吧。为了可视化增压器的位置，我们当然需要一张地图。否则，我们怎么找到他们？所以，我们做的第一件事是，我们为一个特定的位置(世界上的任何地方)创建一个基础地图。默认情况下，Folium 从打开的街道地图中获取地图数据。好好看看代码。</p><p id="d6e0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，我们导入<a class="ae lu" href="https://python-visualization.github.io/folium/" rel="noopener ugc nofollow" target="_blank">叶子</a>库。接下来，我们在<code class="fe no np nq nf b">folium.Map()</code>方法的帮助下创建一个对象——在我们的例子中是<em class="nn">地图— </em>。在该方法中，我们传递地图的坐标和缩放级别。最后，不用说，你保存了地图。我从巴黎开始，你不觉得巴黎的地图像个脑细胞吗？还是只有我？无论如何，让我们进入下一步。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nr"><img src="../Images/acbdd8094cb35a82f28c675878311edd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QLqRusmeaF9Vq-pF.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">Paris (as if this needed description)</figcaption></figure><h1 id="f19d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">步骤 2-绘制标记</h1><p id="4ff0" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">现在我们已经创建了一个基本地图，我们要绘制我们的增压器的位置。我们如何做到这一点？超级简单。我们使用<code class="fe no np nq nf b">folium.Marker()</code>方法来定义和定制标记。您可以添加参数，如弹出，改变图标，等等。点击此处了解更多信息<a class="ae lu" href="https://python-visualization.github.io/folium/quickstart.html#Markers" rel="noopener ugc nofollow" target="_blank">。</a>最后，使用<code class="fe no np nq nf b">.add_to()</code>方法，您将标记与您的地图关联起来。</p><p id="1eb6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们在 Thiais 增加了特斯拉增压器作为我们的第一个标记，这是巴黎南郊的一个公社，这就是它的样子。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ns"><img src="../Images/070b2c2a9e368941073f07772cef87a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ic94PrB2RFK9lr7l.png"/></div></div></figure><h1 id="686c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">步骤 3 —多个标记</h1><p id="d2c6" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">你能画一个标记吗？当然不是。你可能会画出不止一个或者超过 100 个，我们也会这样做。但是在达到 100 之前，让我们试着只做 2。这样我们会对它的工作原理有更多的了解。</p><p id="6f1e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如你所见，我们使用了一个<code class="fe no np nq nf b">for</code>循环。是的，只是一个<code class="fe no np nq nf b">for</code>环。编程并不总是复杂的代码，当你掌握了基本知识，你可以做得非常好。所以我们对两个标记进行循环，剩下的就很容易理解了。不是吗？让我们保存地图，看看我们做得怎么样。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi nt"><img src="../Images/970fd1e6878b6ecc148720009b526274.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Pvzv0K9y1jXajOtt.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">Multiple Markers</figcaption></figure><h1 id="4f1c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">步骤 4 —使用数据</h1><p id="eae1" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">我们的确画了两个标记，那么那些 100 呢？你要一个一个加吗？你可以，但是你愿意吗？肯定不是。因此，我们将使用包含纬度和经度的现有数据文件，并在我们创建的<code class="fe no np nq nf b">for</code>循环中传递它。</p><p id="c495" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们将使用 Pandas 作为我们的数据操作库。我猜你对熊猫很熟悉，但是如果不熟悉，看看这个<a class="ae lu" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/10min.html" rel="noopener ugc nofollow" target="_blank"> 10 分钟熊猫教程</a>然后回到这里，我等你。</p><blockquote class="nu"><p id="1c26" class="nv nw it bd nx ny nz oa ob oc od ld dk translated">编程并不总是复杂的代码，当你掌握了基本知识，你可以做得非常好。</p></blockquote><p id="62eb" class="pw-post-body-paragraph ki kj it kk b kl of ju kn ko og jx kq kr oh kt ku kv oi kx ky kz oj lb lc ld im bi translated">回来了？完美。在用 read_csv 或 read_excel 加载数据之后(我更喜欢在这个教程中使用 excel，因为 csv 文件没有得到正确的维护)，我们提取我们需要的每一列，并将其存储在各自的列表中。在<code class="fe no np nq nf b">for</code>循环中，我们提供相同的列表并从头到尾运行它，而不是手动坐标。运行该文件后，您将在地图上看到以下内容。很整洁，是吧？</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ok"><img src="../Images/9e60e94f5a04a747d3aef415ffe59299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cGb80OMPjwNgqdOf.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">All Tesla Supercharging stations in France</figcaption></figure><h1 id="b2c1" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">第 5 步—自定义图标</h1><p id="5f59" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">但是等等，即使它正确地显示了一切，它也没有给人那种“特斯拉”的感觉，你明白我的意思吗？简洁的外观，简约的设计？让我们试着模仿一样的。让我们使用特斯拉图标，而不是这些绿色标记。并尝试使地图背景更清晰或者我应该说最小化？这由你来决定。</p><p id="30ac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要添加自定义图标，首先你要下载一个(透明背景优先)，在<code class="fe no np nq nf b">icon_path</code>中设置图标的路径。之后，在 that 的<code class="fe no np nq nf b">CustomIcon()</code>方法中，提供 icon_path 和图标的大小。你已经准备好了。执行文件并查看更改。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ol"><img src="../Images/9056ed6c3816fcf06fc8795b5f74de7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*yMlOTzl59t3tknld.png"/></div></div></figure><h1 id="fda3" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">步骤 6-通过聚类美化</h1><p id="71ad" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">看起来比以前更好，但我们可以使用一些东西来使它变得更漂亮——集群。让我们把附近的特斯拉增压器聚集起来，这样你就只能看到你想看到的东西。</p><p id="97d3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">用叶的<code class="fe no np nq nf b">MarkerCluster()</code>方法，我们可以聚类我们的标记和美化地图。我们只需要做一件不同的事情:在此之前，我们将标记添加到地图，但现在，我们将标记添加到标记聚类，然后将标记聚类添加到地图。</p><p id="4957" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在将所有标记添加到聚类中之后，它看起来比以前更好。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/0051e65f438cf4e919656295c3bb6383.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7ONYY6T41r2zgx1p.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">The final visualization/ Live map <a class="ae lu" href="https://dhrumil.xyz/maps/tesla-superchargers/" rel="noopener ugc nofollow" target="_blank">here</a></figcaption></figure><p id="c497" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">瞧啊。您已经使用 Python 和 have 创建了可视化。没那么难，对吧？</p><h1 id="3e8d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">尾注</h1><p id="3ecf" class="pw-post-body-paragraph ki kj it kk b kl mz ju kn ko na jx kq kr nb kt ku kv nc kx ky kz nd lb lc ld im bi translated">没有合适的资源学习新东西有时会很难。今天，您学习了如何使用 pandas 操作数据，什么是叶，以及如何使用叶用 Python 可视化事物。既然你已经熟悉了 leav，那么就从不同的存储库或 Google Dataset Search 上找到数据集，并可视化你自己的东西。此外，您可以在我的<a class="ae lu" href="https://github.com/Dhrumilcse/Tesla-Superchargers" rel="noopener ugc nofollow" target="_blank"> GitHub </a>资源库中找到所有的代码文件、图像和数据。如果你对本教程有任何疑问，我的<a class="ae lu" href="https://twitter.com/dhrumilcse" rel="noopener ugc nofollow" target="_blank"> Twitter </a>和<a class="ae lu" href="https://www.linkedin.com/in/dhrumilcse/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a> DMs 永远开放。或者直接过来打个招呼。</p></div></div>    
</body>
</html>