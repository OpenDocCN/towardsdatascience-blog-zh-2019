<html>
<head>
<title>Real-time Twitter Sentiment Analysis for Brand Improvement and Topic Tracking (Chapter 2/3)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ç”¨äºå“ç‰Œæå‡å’Œè¯é¢˜è·Ÿè¸ªçš„å®æ—¶ Twitter æƒ…æ„Ÿåˆ†æ(ç¬¬ 2/3 ç« )</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://towardsdatascience.com/real-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721?source=collection_archive---------6-----------------------#2019-09-01">https://towardsdatascience.com/real-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-2-3-1caf05346721?source=collection_archive---------6-----------------------#2019-09-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="54df" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">è¡Œä¸šä¸­çš„æ•°æ®ç§‘å­¦</h2><div class=""/><div class=""><h2 id="f0f5" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">ä½¿ç”¨ REã€TextBlobã€NLTK å’Œ Plotly è¿›è¡Œ Twitter æƒ…æ„Ÿåˆ†æå’Œäº¤äº’å¼æ•°æ®å¯è§†åŒ–</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/539cede38ac9d047756c6eb73bd50e28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2ouAbzO_RoQwh_Ig"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@r3dmax?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jonatan Pie</a> on <a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bd56" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">æ•™ç¨‹å°†æ•™ä½ å¦‚ä½•ä¸€æ­¥ä¸€æ­¥åœ°åœ¨ Twitter æ•°æ®ä¸Šåº”ç”¨ 1) <strong class="lh ja">è‡ªç„¶è¯­è¨€å¤„ç†</strong>å’Œ<strong class="lh ja">æƒ…æ„Ÿåˆ†æ</strong>ï¼Œ2)åˆ©ç”¨<strong class="lh ja"> Plotly </strong>æ„å»ºä¸€ä¸ª<strong class="lh ja">äº¤äº’å¼æ•°æ®å¯è§†åŒ–</strong>ã€‚</p><p id="9d56" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">è¿™æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç»„ä»¶ï¼Œç”¨äºæ‰§è¡Œæƒ…ç»ªåˆ†æå’Œè¯é¢˜è·Ÿè¸ªï¼Œå¹¶åœ¨ Jupiter Notebook ä¸Šæ„å»ºåˆ†æä»ªè¡¨æ¿ï¼Œå°½ç®¡å®ƒæ˜¯æˆ‘çš„ç»¼åˆå®æ—¶ Twitter ç›‘æ§ç³»ç»Ÿæ•™ç¨‹çš„ç¬¬äºŒéƒ¨åˆ†ã€‚åœ¨å‰ä¸€ç« ä¸­è§£é‡Šå¹¶å®ç°äº†æµ Twitter æ•°æ®æ”¶é›†ã€‚</p><ul class=""><li id="446f" class="mb mc iq lh b li lj ll lm lo md ls me lw mf ma mg mh mi mj bi translated"><a class="ae le" rel="noopener" target="_blank" href="/real-time-twitter-sentiment-analysis-for-brand-improvement-and-topic-tracking-chapter-1-3-e02f7652d8ff"> <strong class="lh ja">ç¬¬ 1 ç« </strong> </a> <strong class="lh ja"> : </strong>ä½¿ç”¨ Tweepyã€MySQLã€&amp; Python çš„æµ Twitter API æ”¶é›† Twitter æ•°æ®</li><li id="7ae2" class="mb mc iq lh b li mk ll ml lo mm ls mn lw mo ma mg mh mi mj bi translated"><strong class="lh ja">ç¬¬äºŒç« (ä½ æ¥äº†ï¼):</strong>ä½¿ç”¨ REã€TextBlobã€NLTK å’Œ Plotly è¿›è¡Œ Twitter æƒ…æ„Ÿåˆ†æå’Œäº¤äº’å¼æ•°æ®å¯è§†åŒ–</li><li id="103a" class="mb mc iq lh b li mk ll ml lo mm ls mn lw mo ma mg mh mi mj bi translated"><a class="ae le" href="http://bit.ly/2msOUbR" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja">ç¬¬ä¸‰ç« </strong> </a> <strong class="lh ja"> : </strong>ä½¿ç”¨ Python ä¸­çš„ Dash &amp; Plotly åœ¨ Heroku ä¸Šéƒ¨ç½²ä¸€ä¸ªå®æ—¶çš„ Twitter åˆ†æ Web App</li><li id="b6fd" class="mb mc iq lh b li mk ll ml lo mm ls mn lw mo ma mg mh mi mj bi translated"><strong class="lh ja">ç¬¬ 4 ç« </strong>(å¯é€‰)<strong class="lh ja"> : </strong>ä½¿ç”¨ Scalaã€Kafka å’Œ Spark Streaming å®ç°æµåª’ä½“ Twitter æƒ…æ„Ÿåˆ†æçš„å¹¶è¡ŒåŒ–</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mp"><img src="../Images/a36e56712db16599d87c4dbb3af76bea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oHjuVRvCbv2eWlyJaoCgLQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Data Visualization based on Plotly in this Chapter</figcaption></figure><p id="4b53" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ä¸Šé¢çš„<a class="ae le" href="https://nbviewer.jupyter.org/github/Chulong-Li/Real-time-Sentiment-Tracking-on-Twitter-for-Brand-Improvement-and-Trend-Recognition/blob/master/Trend_Analysis_Complex.ipynb" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja"/></a>åˆ†æä»ªè¡¨æ¿(å¸¦å®Œæ•´ä»£ç )å°±æ˜¯æˆ‘ä»¬ä»Šå¤©è¦åšçš„ï¼Œå®ƒä¸ºä¸‹ä¸€ç« çš„<a class="ae le" href="http://bit.ly/30VS87a" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja">å®æ—¶ Twitter ç›‘æ§ Web App </strong> </a>å¥ å®šäº†åŸºç¡€ï¼Œå› ä¸º Dash(python framework for analytical Web apps)æ˜¯åœ¨ Plotly ä¹‹ä¸Šç¼–å†™çš„ã€‚æŸ¥çœ‹æˆ‘çš„<a class="ae le" href="http://bit.ly/33UKT12" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> GitHub å›è´­</strong> </a>äº†è§£æ›´å¤šè¯¦æƒ…ã€‚</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mq"><img src="../Images/31b488cada146cc088031ad457da5918.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*mPZ0eqG1LYCRl5m0sm75tQ.gif"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Web App based on Dash-Plotly in next chapter</figcaption></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><p id="b1fc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">ç¬¬</strong>ç« çš„æŠ€æœ¯æ ˆ:REï¼ŒNLTKï¼ŒTextBlobï¼ŒPlotlyï¼ŒMySQLï¼ŒPython (timeï¼Œdatetimeï¼Œmathï¼Œitertools)</p><ul class=""><li id="8d84" class="mb mc iq lh b li lj ll lm lo md ls me lw mf ma mg mh mi mj bi translated"><a class="ae le" href="https://docs.python.org/3.7/library/re.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> RE </strong> </a> : <strong class="lh ja">æ­£åˆ™è¡¨è¾¾å¼</strong>è¯†åˆ«ç»™å®šå­—ç¬¦åºåˆ—ä¸­æ˜¯å¦å­˜åœ¨æ¨¡å¼çš„æ“ä½œ</li><li id="9695" class="mb mc iq lh b li mk ll ml lo mm ls mn lw mo ma mg mh mi mj bi translated"><a class="ae le" href="https://www.nltk.org" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> NLTK </strong> </a> : <strong class="lh ja">è‡ªç„¶è¯­è¨€</strong>å·¥å…·åŒ…ï¼Œæ„å»º Python ç¨‹åºå¤„ç†äººç±»è¯­è¨€æ•°æ®çš„é¢†å…ˆå¹³å°</li><li id="c7a6" class="mb mc iq lh b li mk ll ml lo mm ls mn lw mo ma mg mh mi mj bi translated"><a class="ae le" href="https://textblob.readthedocs.io/en/dev/" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> TextBlob </strong> </a> : <strong class="lh ja">è‡ªç„¶è¯­è¨€å¤„ç†</strong>åº“ï¼Œç”¨äºå¤„ç†æ–‡æœ¬æ•°æ®ï¼Œæä¾›ä¸€ä¸ª<strong class="lh ja">ç®€å•çš„ API </strong>ç”¨äºæ½œå…¥æ™®é€šçš„ NLPã€‚</li><li id="3b26" class="mb mc iq lh b li mk ll ml lo mm ls mn lw mo ma mg mh mi mj bi translated"><a class="ae le" href="https://plot.ly/python/" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja"/></a>:ä¸€ä¸ª<strong class="lh ja">äº¤äº’å¼</strong>ï¼Œå¼€æºçš„ï¼ŒåŸºäºæµè§ˆå™¨çš„<strong class="lh ja">Python å›¾å½¢åº“</strong></li></ul></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="7010" class="my mz iq bd na nb nc dn nd ne nf dp ng lo nh ni nj ls nk nl nm lw nn no np iw bi translated">åŠ è½½å’Œå‡†å¤‡ Twitter æ•°æ®</h2><p id="bc87" class="pw-post-body-paragraph lf lg iq lh b li nq ka lk ll nr kd ln lo ns lq lr ls nt lu lv lw nu ly lz ma ij bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä»æ•°æ®æºä¸­æå– Twitter æ•°æ®ã€‚ç®€å•èµ·è§å¯ä»¥ç›´æ¥ä»<code class="fe nv nw nx ny b">sample_data.csv</code>å¼€å§‹è¯»ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="9d65" class="my mz iq ny b gy od oe l of og">df = pd.read_csv("sample_data.csv")</span></pre><p id="a8eb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">æˆ–è€…ä»¥ä¸€ç§æ›´æ­£å¼çš„æ–¹å¼ï¼Œä»æˆ‘ä»¬çš„ MySQL æ•°æ®åº“ä¸­æå–æ•°æ®ï¼Œè¯¥æ•°æ®åº“å·²ç»åœ¨ç¬¬ 1 ç« ä¸­å»ºç«‹å¹¶å¡«å……äº†å®æ—¶ Twitter æ•°æ®ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="83fb" class="my mz iq ny b gy od oe l of og">db_connection = mysql.connector.connect(<br/>    host="localhost",<br/>    user="root",<br/>    passwd="password",<br/>    database="TwitterDB",<br/>    charset = 'utf8'<br/> )<br/>time_now = datetime.datetime.utcnow()<br/>time_10mins_before = datetime.timedelta(hours=0,minutes=10)) \<br/>    .strftime('%Y-%m-%d %H:%M:%S'<br/>time_interval = time_now - time_10mins_before</span></pre><p id="452a" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">è¯»å–è¿‡å» 30 åˆ†é’Ÿå†…å‘å¸ƒçš„æ•°æ®ï¼Œå¹¶é€šè¿‡ SQL æŸ¥è¯¢å°†å…¶åŠ è½½åˆ° Pandas DataFrame ä¸­ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="2472" class="my mz iq ny b gy od oe l of og">query = "SELECT id_str, text, created_at, polarity,          \<br/>         user_location FROM <strong class="ny ja">{}</strong> WHERE created_at &gt;= '<strong class="ny ja">{}</strong>'"     \<br/>        .format(settings.TABLE_NAME, time_interval)<br/>df = pd.read_sql(query, con=db_connection)</span></pre><p id="3c24" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ç„¶åæŠŠ DATETIME (MySQL æ•°æ®ç±»å‹)è½¬æ¢æˆ Datetime (Pandas æ•°æ®ç±»å‹)ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="bee7" class="my mz iq ny b gy od oe l of og"><em class="oh"># UTC for date time at default</em><br/>df['created_at'] = pd.to_datetime(df['created_at'])</span></pre><h2 id="684e" class="my mz iq bd na nb nc dn nd ne nf dp ng lo nh ni nj ls nk nl nm lw nn no np iw bi translated">ä½¿ç”¨<a class="ae le" href="https://textblob.readthedocs.io/en/dev/" rel="noopener ugc nofollow" target="_blank">æ–‡æœ¬å—</a>è¿›è¡Œæƒ…æ„Ÿåˆ†æ</h2><p id="59c8" class="pw-post-body-paragraph lf lg iq lh b li nq ka lk ll nr kd ln lo ns lq lr ls nt lu lv lw nu ly lz ma ij bi translated">æƒ…æ„Ÿåˆ†æçš„æ ¸å¿ƒæ˜¯ä½¿ç”¨ TextBlobï¼Œä»¥ä¾¿ä» tweet æ–‡æœ¬ä¸­æå–<strong class="lh ja">ææ€§</strong> &amp; <strong class="lh ja">ä¸»è§‚æ€§</strong>ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸Šä¸€ç« ä¸ºäº†æ›´å¥½åœ°å­˜å‚¨æ•°æ®è€Œè¿›è¡Œçš„æ•°æ®é¢„å¤„ç†ã€‚è´Ÿé¢æ¨æ–‡ä»£è¡¨-1ï¼Œæ­£é¢æ¨æ–‡ä»£è¡¨+1ï¼Œä¸­æ€§æ¨æ–‡ä»£è¡¨ 0ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="bad1" class="my mz iq ny b gy od oe l of og">from <strong class="ny ja">textblob</strong> import TextBlob<br/>sentiment = TextBlob(tweet_text).sentiment<br/>polarity = sentiment.polarity<br/>subjectivity = sentiment.subjectivity</span></pre><p id="73f9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">å°†æ•´ä¸ªæ—¶é—´åºåˆ—è½¬æ¢ä¸º 2 ç§’ä¸€ç»„ï¼Œå¹¶è®¡ç®—æ¯ä¸ªæ—¶é—´é—´éš”ç»„ä¸­æ¯ç§ææ€§(ä¾‹å¦‚-1ã€0 å’Œ 1)çš„æƒ…ç»ªæ•°é‡ã€‚</p><p id="d065" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">åº”ç”¨<strong class="lh ja">æ‹†æ ˆ</strong>æŠ€æœ¯ä»¥ç¡®ä¿æ¯ç»„ä¸­çš„æ‰€æœ‰ç±»åˆ«éƒ½è¢«æ˜¾ç¤ºï¼Œå³ä½¿å…¶ä¸­ä¸€ä¸ªç±»åˆ«æ²¡æœ‰ä»»ä½•å€¼ã€‚å› ä¸ºæˆ‘ä»¬åªæ˜¾ç¤ºæœ€è¿‘ 30 åˆ†é’Ÿå†…å‘å¸ƒçš„å®æ—¶æ¨æ–‡ï¼Œæ‰€ä»¥åœ¨å®è·µä¸­ï¼Œ2 ç§’é—´éš”çš„ç»„æœ€å¥½æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚ä¹‹åï¼Œé‡å‘½åè¿™äº›åˆ—ï¼Œä½¿å®ƒä»¬èƒ½å¤Ÿè‡ªæˆ‘è§£é‡Šã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="866a" class="my mz iq ny b gy od oe l of og"><em class="oh"># Clean and transform data to enable time series</em><br/>result = df.groupby(                                        \<br/>      [pd.Grouper(key='created_at', freq='2s'), 'polarity'] \<br/>    ).count().unstack(fill_value=0).stack().reset_index()<br/><br/>result = result.rename(columns=                             \<br/>    { "id_str": "Num of '{}' mentions".format(TRACK_WORD),  \<br/>      "created_at":"Time in UTC" })</span></pre><p id="3b52" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ä»¥ 2 ç§’çš„é—´éš”è®°å½•æ—¶é—´åºåˆ—ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥ä½¿ç”¨ç´¢å¼•ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="761a" class="my mz iq ny b gy od oe l of og">time_series = result["Time in UTC"][result['polarity']==0]  \ <br/>    .reset_index(drop=<strong class="ny ja">True</strong>)</span></pre><p id="22b9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ä½¿ç”¨ç®€å•çš„<a class="ae le" href="https://plot.ly/python/plotly-express/" rel="noopener ugc nofollow" target="_blank"><strong class="lh ja">Plotly Express</strong></a>å¿«é€Ÿå¯è§†åŒ–æŠ˜çº¿å›¾ã€‚æ³¨æ„:Plotly Express æ˜¯ä¸€ä¸ªç®€æ´ã€ä¸€è‡´ã€é«˜çº§çš„<code class="fe nv nw nx ny b">plotly.graph_objects</code>åŒ…è£…å™¨ï¼Œç”¨äºå¿«é€Ÿæ•°æ®æ¢ç´¢å’Œå›¾å½¢ç”Ÿæˆã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="2812" class="my mz iq ny b gy od oe l of og">import <strong class="ny ja">plotly.express</strong> as px<br/>fig = px.line(result, x='Time in UTC',                      \<br/>    y="Num of '{}' mentions".format(TRACK_WORD),            \<br/>    color='polarity')<br/>fig.show()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oi"><img src="../Images/a65d5a03593583270743c7479da41d20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AK0caqDJhnjt_PIihy5Ebw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Line Chart for Sentiment Analysis</figcaption></figure><h2 id="4e97" class="my mz iq bd na nb nc dn nd ne nf dp ng lo nh ni nj ls nk nl nm lw nn no np iw bi translated"><strong class="ak">ä½¿ç”¨ RE çš„è‡ªç„¶è¯­è¨€å¤„ç†çš„ä¸»é¢˜è·Ÿè¸ª&amp; NLTK </strong></h2><p id="c17b" class="pw-post-body-paragraph lf lg iq lh b li nq ka lk ll nr kd ln lo ns lq lr ls nt lu lv lw nu ly lz ma ij bi translated">ä¸ºäº†è·Ÿè¸ªæ¨æ–‡ä¸­æœ€çƒ­é—¨çš„è¯æˆ–æœ€å¸¸ç”¨çš„ç¬¦å·ï¼Œæˆ‘ä»¬åŠ å…¥æ‰€æœ‰æ¨æ–‡ï¼Œåˆ é™¤ URLï¼Œæ¸…é™¤â€œRTâ€å’Œâ€œT36â€(ä¹Ÿç§°ä¸ºâ€œT37â€)ampï¼›ã€‚)ç¬¦å·ï¼Œå¹¶å°†æ‰€æœ‰å­—ç¬¦è½¬æ¢æˆå°å†™ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="ee29" class="my mz iq ny b gy od oe l of og">content = ' '.join(df["text"])<br/>content = re.sub(r"http\S+", "", content)<br/>content = content.replace('RT ', ' ').replace('&amp;amp;', 'and')<br/>content = re.sub('[^A-Za-z0-9]+', ' ', content)<br/>content = content.lower()</span></pre><p id="c51e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ç¬¬ä¸€æ¬¡ä½¿ç”¨ python è„šæœ¬ä» NLTK ä¸‹è½½è¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚<a class="ae le" href="https://www.nltk.org/api/nltk.tokenize.html#module-nltk.tokenize.punkt" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> Punkt å¥å­åˆ†è¯å™¨</strong> </a>ç”¨äºé€šè¿‡ä½¿ç”¨æ— ç›‘ç£ç®—æ³•å°†æ–‡æœ¬åˆ†æˆä¸€ç³»åˆ—å¥å­ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="296e" class="my mz iq ny b gy od oe l of og"><em class="oh">import nltk<br/>nltk.download('punkt')</em><br/><em class="oh">nltk.download('stopwords')</em></span></pre><p id="6bf5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ç„¶å<strong class="lh ja">ä»æ‰€æœ‰æ¨æ–‡ä¸­å¯¹æ•´ä¸ªæ–‡æœ¬è¿›è¡Œ</strong>åˆ†è¯ï¼Œä½¿ç”¨<a class="ae le" href="https://www.geeksforgeeks.org/removing-stop-words-nltk-python/" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja">åœç”¨è¯</strong> </a>å»é™¤å¸¸ç”¨è¯ï¼Œå¹¶æå–æ‰€æœ‰è¯çš„<a class="ae le" href="http://www.nltk.org/api/nltk.html?highlight=freqdist#nltk.probability.FreqDist" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja">é¢‘ç‡åˆ†å¸ƒ</strong> </a>ä¸­æœ€å¸¸è§çš„ 10 ä¸ªè¯ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="fc54" class="my mz iq ny b gy od oe l of og">from <strong class="ny ja">nltk.probability</strong> import FreqDist<br/>from <strong class="ny ja">nltk.tokenize</strong> import word_tokenize<br/>from <strong class="ny ja">nltk.corpus</strong> import stopwords</span><span id="723b" class="my mz iq ny b gy oj oe l of og">tokenized_word = word_tokenize(content)<br/>stop_words=set(stopwords.words("english"))<br/>filtered_sent=[]<br/><strong class="ny ja">for</strong> w <strong class="ny ja">in</strong> tokenized_word:<br/>    <strong class="ny ja">if</strong> w <strong class="ny ja">not</strong> <strong class="ny ja">in</strong> stop_words:<br/>        filtered_sent.append(w)<br/>fdist = FreqDist(filtered_sent)<br/>fd = pd.DataFrame(fdist.most_common(10),                    \<br/>    columns = ["Word","Frequency"]).drop([0]).reindex()</span></pre><p id="5d38" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">å†æ¬¡ä½¿ç”¨ç®€å•çš„<a class="ae le" href="https://plot.ly/python/plotly-express/" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja">å›¾å½¢è¡¨è¾¾</strong> </a>å¿«é€Ÿå¯è§†åŒ–æ¡å½¢å›¾ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="a098" class="my mz iq ny b gy od oe l of og">import <strong class="ny ja">plotly.express</strong> as px<br/>fig = px.bar(fd, x="Word", y="Frequency")<br/>fig.update_traces(marker_color='rgb(240,128,128)',          \<br/>    marker_line_color='rgb(8,48,107)',                      \<br/>    marker_line_width=1.5, opacity=0.8)<br/>fig.show()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ok"><img src="../Images/07d87ddeb6656721a8593ad008f0f852.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PqodldjO9UhGDEf0_24xAw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Bar Chart for Topic Tracking</figcaption></figure><h2 id="9a5b" class="my mz iq bd na nb nc dn nd ne nf dp ng lo nh ni nj ls nk nl nm lw nn no np iw bi translated">æ–‡æœ¬å¤„ç†ä¸­çš„åœ°ç†åˆ†å‰²è¯†åˆ«</h2><p id="6402" class="pw-post-body-paragraph lf lg iq lh b li nq ka lk ll nr kd ln lo ns lq lr ls nt lu lv lw nu ly lz ma ij bi translated">ä¸ºäº†æ¢ç´¢ç”¨æˆ·çš„åœ°ç†åˆ†å¸ƒï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä»–ä»¬çš„<strong class="lh ja">ç”¨æˆ·èµ„æ–™</strong>æ¥è¯†åˆ«ä»–ä»¬çš„<strong class="lh ja">ä½ç½®</strong>ï¼Œè€Œä¸æ˜¯é™„æœ‰æ¨æ–‡çš„ä½ç½®ï¼Œå› ä¸ºåªæœ‰ä¸åˆ° 1%çš„äººä¼šé™„ä¸Šä»–ä»¬çš„æ¨æ–‡ä½ç½®ã€‚ç„¶è€Œï¼Œæ ¹æ®ç”¨æˆ·ç®€æ¡£ä¸­çš„ä½ç½®ï¼Œå®ƒä»¬å¯èƒ½åŒ…æ‹¬ä¸€ä¸ªæˆ–å¤šä¸ªå¿ã€åŸå¸‚ã€å·ã€å›½å®¶æˆ–æ˜Ÿçƒã€‚å› æ­¤ï¼Œå°†è¿™äº›æ•°æ®è¿‡æ»¤æˆç¾å›½å·çº§ä½ç½®æ˜¯åœ°ç†åˆ†æ®µè¯†åˆ«çš„æ ¸å¿ƒã€‚</p><p id="3d99" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">å°†æ‰€æœ‰<strong class="lh ja">çŠ¶æ€å</strong>åŠå…¶<strong class="lh ja">ç¼©å†™</strong>è®¾ç½®ä¸ºå¸¸é‡ï¼Œç”¨äºè¿›ä¸€æ­¥çš„ç¼©å†™-åç§°è½¬æ¢ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="5f53" class="my mz iq ny b gy od oe l of og">STATES = ['Alabama', 'AL', 'Alaska', 'AK',                    \ <br/>    ...... # Text hided for readability                       \<br/>    'WV', 'Wisconsin', 'WI', 'Wyoming', 'WY']</span><span id="5e6c" class="my mz iq ny b gy oj oe l of og">STATE_DICT = dict(itertools.zip_longest(*[iter(STATES)] * 2, fillvalue=""))<br/>INV_STATE_DICT = dict((v,k) <strong class="ny ja">for</strong> k,v <strong class="ny ja">in</strong> STATE_DICT.items())</span></pre><p id="a37c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">é€šè¿‡<strong class="lh ja">è¿­ä»£</strong>å·ååˆ—è¡¨å’Œç”¨æˆ·ä½ç½®åˆ—è¡¨ï¼Œä»ä»–ä»¬çš„ä½ç½®æå–å·ä¿¡æ¯ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="5746" class="my mz iq ny b gy od oe l of og">is_in_US=[]<br/>geo = df[['user_location']]<br/>df = df.fillna(" ")<br/><strong class="ny ja">for</strong> x <strong class="ny ja">in</strong> df['user_location']:<br/>    check = <strong class="ny ja">False</strong><br/>    <strong class="ny ja">for</strong> s <strong class="ny ja">in</strong> STATES:<br/>        <strong class="ny ja">if</strong> s <strong class="ny ja">in</strong> x:<br/>            is_in_US.append(STATE_DICT[s] <strong class="ny ja">if</strong> s <strong class="ny ja">in</strong> STATE_DICT <strong class="ny ja">else</strong> s)<br/>            check = <strong class="ny ja">True</strong><br/>            <strong class="ny ja">break</strong><br/>    <strong class="ny ja">if</strong> <strong class="ny ja">not</strong> check:<br/>        is_in_US.append(<strong class="ny ja">None</strong>)<br/><br/>geo_dist = pd.DataFrame(is_in_US, columns['State'])           \<br/>    .dropna().reset_index()</span></pre><p id="f0d3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ç»Ÿè®¡ç¾å›½å„å·å‘å¸ƒçš„æ¨æ–‡æ•°é‡ï¼Œç”¨<strong class="lh ja">å¯¹æ•°</strong>æ•°å­—é¿å¼€<strong class="lh ja">æå€¼</strong>(å¦‚åŠ å· 500+ï¼ŒåŒ—è¾¾ç§‘ä»–å· 3)æ›´å¥½çš„å¯è§†åŒ–ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="d773" class="my mz iq ny b gy od oe l of og">geo_dist = geo_dist.groupby('State').count().                 \ <br/>    rename(columns={"index": "Number"}).sort_values(          \<br/>    by=['Number'], ascending=<strong class="ny ja">False</strong>).reset_index()<br/>geo_dist["Log Num"] = geo_dist["Number"]                      \<br/>    .apply(<strong class="ny ja">lambda</strong> x: math.log(x, 2))</span></pre><p id="cef5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ä¸ºç¨åä»ªè¡¨æ¿ä¸Šçš„æ‚¬åœæ–‡æœ¬æ·»åŠ è¯´æ˜æ€§æ–‡æœ¬ä¿¡æ¯ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="e955" class="my mz iq ny b gy od oe l of og">geo_dist['Full State Name'] = geo_dist['State']               \<br/>    .apply(<strong class="ny ja">lambda</strong> x: INV_STATE_DICT[x])<br/>geo_dist['text'] = geo_dist['Full State Name'] + '&lt;br&gt;' +     \<br/>    'Num: ' + geo_dist['Number'].astype(str)</span></pre><p id="f301" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä½¿ç”¨<strong class="lh ja"> Plotly </strong>(ä¸æ˜¯ Plotly Express)æ¥å¯è§†åŒ–ç¾å›½åœ°å›¾ã€‚</p><p id="5a76" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">æ³¨</strong> : <code class="fe nv nw nx ny b">plotly.graph_objects</code>æ˜¯ Plotly åº“çš„æ ¸å¿ƒï¼ŒåŒ…å«æ›´å¤šé€šç”¨å‡½æ•°ï¼Œç”¨äºæ›´å¤æ‚çš„ç”¨é€”ã€‚<code class="fe nv nw nx ny b">locationmode</code>æ˜¯â€œä»“ä½â€ä¸­ä»“ä½åŒ¹é…æ¡ç›®çš„é›†åˆã€‚<code class="fe nv nw nx ny b">text</code>æ˜¯æ‚¬åœæ–‡æœ¬ã€‚<code class="fe nv nw nx ny b">marker_line_color</code>æ˜¯çŠ¶æ€é—´çº¿æ¡æ ‡è®°çš„é¢œè‰²ã€‚è®¾ç½®<code class="fe nv nw nx ny b">geo_scope</code>å°†åœ°å›¾èŒƒå›´é™åˆ¶åœ¨ç¾å›½ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="a307" class="my mz iq ny b gy od oe l of og">import <strong class="ny ja">plotly.graph_objects</strong> as go<br/>fig = go.Figure(data=go.Choropleth(<br/>    locations=geo_dist['State'], <em class="oh"># Spatial coordinates</em><br/>    z = geo_dist['Log Num'].astype(float), <em class="oh"># Data to be color-coded</em><br/><br/>    locationmode = 'USA-states', <br/>    colorscale = "Reds",<br/>    text=geo_dist['text'],<br/>    marker_line_color='white', <em class="oh"># line markers between states</em><br/>    colorbar_title = "Numbers in Log2"<br/>))<br/><br/>fig.update_layout(<br/>    geo_scope='usa', <br/>)<br/><br/>fig.show()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ol"><img src="../Images/2af3ddfb23dfccef1bbff1c2c9ff097d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GI24m7MAtPxlTRfYsnZU9Q.png"/></div></div></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi om"><img src="../Images/6c5c7de27640af261e6cca0afff5afb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uQyvOhYYydoM4DlO"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Photo by <a class="ae le" href="https://unsplash.com/@karsten_wuerth?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Karsten WÃ¼rth (@karsten.wuerth)</a> on <a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="8d71" class="my mz iq bd na nb nc dn nd ne nf dp ng lo nh ni nj ls nk nl nm lw nn no np iw bi translated">å¸¦æœ‰<a class="ae le" href="https://plot.ly/python/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>çš„äº¤äº’å¼åˆ†æä»ªè¡¨æ¿</h2><p id="b62b" class="pw-post-body-paragraph lf lg iq lh b li nq ka lk ll nr kd ln lo ns lq lr ls nt lu lv lw nu ly lz ma ij bi translated">ç°åœ¨æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code class="fe nv nw nx ny b">Plotly.subplots</code>å°†æ‰€æœ‰æ•°æ®å¯è§†åŒ–éƒ¨åˆ†é›†æˆåˆ°ä¸€ä¸ª<strong class="lh ja">ä»ªè¡¨æ¿</strong>ä¸­ã€‚åŒæ—¶æ˜¾ç¤ºå¤šä¸ªå›¾å½¢å¯ä»¥å¤§å¤§æé«˜é˜…è¯»æ•ˆç‡ï¼Œå¢å¼ºå¤šä¸ªè§è§£ä¹‹é—´çš„å¯æ¯”æ€§ã€‚</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi on"><img src="../Images/9496ae5652530b37b788930157afef29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*191tvdmt7u3-Xn-I5E6Rdg.png"/></div></div></figure><p id="5ec9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">é¦–å…ˆåˆ›å»ºä¸€ä¸ªåŒ…å« 2 ä¸ª<strong class="lh ja"> Ã— </strong> 2 ä¸ª<strong class="lh ja">æ”¯çº¿å‰§æƒ…</strong>çš„<strong class="lh ja">å‰§æƒ…å›¾</strong>ï¼Œå·¦è¾¹æ˜¯<strong class="lh ja">çº¿å›¾</strong>ï¼Œå³ä¸Šè§’æ˜¯<strong class="lh ja">è´´å›¾</strong>ï¼Œå³ä¸‹è§’æ˜¯<strong class="lh ja">æ¡å½¢å›¾</strong>ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="57f0" class="my mz iq ny b gy od oe l of og">from <strong class="ny ja">plotly.subplots</strong> import make_subplots<br/>fig = make_subplots(<br/>        rows=2, cols=2,<br/>        column_widths=[1, 0.4],<br/>        row_heights=[0.6, 0.4],<br/>        specs=[[{"type": "scatter", "rowspan": 2}, <br/>                {"type": "choropleth"}],<br/>               [<strong class="ny ja">None</strong>, {"type": "bar"}]]<br/>        )</span></pre><p id="bde5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ä½¿ç”¨<code class="fe nv nw nx ny b">add_trace</code>å’Œ<code class="fe nv nw nx ny b">go.Scatter</code>åœ¨ç¬¬ä¸€ä¸ªå­æƒ…èŠ‚ä¸­æ·»åŠ ä¸‰è¡Œ<strong class="lh ja">è´Ÿç‰‡ã€ä¸­æ€§ç‰‡å’Œæ­£ç‰‡</strong>ã€‚å¦å¤–ï¼Œ<code class="fe nv nw nx ny b">row</code>å’Œ<code class="fe nv nw nx ny b">col</code>ä»£è¡¨è¿™ä¸ªæ”¯çº¿å‰§æƒ…åœ¨å¤§å›¾ä¸­çš„ä½ç½®ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="5a50" class="my mz iq ny b gy od oe l of og">fig.add_trace(go.Scatter(<br/>    x=time_series,<br/>    y=result["Num of '<strong class="ny ja">{}</strong>' mentions"                     \<br/>        .format(settings.TRACK_WORDS[0])]               \<br/>        [result['polarity']==0].reset_index(drop=<strong class="ny ja">True</strong>), \<br/>    name="Neural",<br/>    opacity=0.8), row=1, col=1)   </span><span id="e485" class="my mz iq ny b gy oj oe l of og">fig.add_trace(go.Scatter(<br/>    x=time_series,<br/>    y=result["Num of '<strong class="ny ja">{}</strong>' mentions"                     \<br/>        .format(settings.TRACK_WORDS[0])]               \ <br/>        [result['polarity']==-1].reset_index(drop=<strong class="ny ja">True</strong>),<br/>    name="Negative",<br/>    opacity=0.8), row=1, col=1)</span><span id="c875" class="my mz iq ny b gy oj oe l of og">fig.add_trace(go.Scatter(<br/>    x=time_series,<br/>    y=result["Num of '<strong class="ny ja">{}</strong>' mentions"                     \<br/>        .format(settings.TRACK_WORDS[0])]               \<br/>        [result['polarity']==1].reset_index(drop=<strong class="ny ja">True</strong>), \<br/>    name="Positive",<br/>    opacity=0.8), row=1, col=1)</span></pre><p id="ed33" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ä½¿ç”¨<code class="fe nv nw nx ny b">add_trace</code>å’Œ<code class="fe nv nw nx ny b">go.Bar</code>æ·»åŠ ä¸»é¢˜é¢‘ç‡åˆ†å¸ƒçš„<strong class="lh ja">æ¡å½¢å›¾</strong>ã€‚æ‚¨å¯ä»¥ä½¿ç”¨<code class="fe nv nw nx ny b">rgb(xx,xx,xx)</code>æˆ–<code class="fe nv nw nx ny b">rgba(xx,xx,xx,x)</code>æ”¹å˜å›¾ä¸­æŸäº›å…ƒç´ çš„é¢œè‰²ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="e3aa" class="my mz iq ny b gy od oe l of og">fig.add_trace(go.Bar(x=fd["Word"], y=fd["Frequency"],       \<br/>    name="Freq Dist"), row=2, col=2)<br/><br/>fig.update_traces(marker_color='rgb(59, 89, 152)',          \<br/>    marker_line_color='rgb(8,48,107)',                      \<br/>    marker_line_width=0.5, opacity=0.7, row=2, col=2)</span></pre><p id="88f3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ç„¶ååœ¨å³ä¸Šè§’æ’å…¥<strong class="lh ja">åœ°å›¾</strong>ï¼Œå¹¶è®¾ç½®ä½ç½®å’Œæ¯ä¸ªä½ç½®çš„ç¼–å·ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="c2c2" class="my mz iq ny b gy od oe l of og">fig.add_trace(go.Choropleth(<br/>    locations=geo_dist['State'], <em class="oh"># Spatial coordinates</em><br/>    z = geo_dist['Log Num'].astype(float), <em class="oh"># Data to be color-coded</em><br/>    locationmode = 'USA-states', <br/>    colorscale = "Blues",<br/>    text=geo_dist['text'], <em class="oh"># hover text</em><br/>    showscale=<strong class="ny ja">False</strong>,<br/>    geo = 'geo'<br/>    ), row=1, col=2)</span></pre><p id="71d3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">åœ¨æˆ‘ä»¬çš„å›¾çš„å¸ƒå±€ä¸­æ·»åŠ <strong class="lh ja">æ ‡é¢˜</strong>ï¼Œç¼©å°æˆ‘ä»¬åœ°å›¾çš„<strong class="lh ja">åœ°ç†èŒƒå›´</strong>ï¼Œå°†<strong class="lh ja">æ¨¡æ¿ä¸»é¢˜</strong>å˜ä¸ºæš—ï¼Œä½¿ç”¨<code class="fe nv nw nx ny b">go.layout.Annotation</code>ä¸ºå¸ƒå±€æ·»åŠ <a class="ae le" href="https://plot.ly/python/text-and-annotations/" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja">æ ‡æ³¨</strong> </a>ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="9ed6" class="my mz iq ny b gy od oe l of og">fig.update_layout(<br/>    title_text =                                            \<br/>      "Real-time tracking '<strong class="ny ja">{}</strong>' mentions on Twitter <strong class="ny ja">{} </strong>UTC"  \<br/>      .format(settings.TRACK_WORDS[0]        <br/>        ,datetime.datetime.utcnow().strftime('%m-%d %H:%M') \<br/>      ),<br/>    geo = dict(<br/>        scope='usa',<br/>    ),<br/>    template="plotly_dark",<br/>    margin=dict(r=20, t=50, b=50, l=20),<br/>    annotations=[<br/>        go.layout.Annotation(<br/>            text="Source: Twitter",<br/>            showarrow=<strong class="ny ja">False</strong>,<br/>            xref="paper",<br/>            yref="paper",<br/>            x=0,<br/>            y=0)<br/>    ],<br/>    showlegend=<strong class="ny ja">False</strong>,<br/>    xaxis_rangeslider_visible=<strong class="ny ja">True<br/></strong>)</span></pre><p id="20ff" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">æœ€åï¼Œæ˜¾ç¤ºå•ä¸€å›¾å½¢ä¸­çš„æ‰€æœ‰æ”¯çº¿å‰§æƒ…ã€‚</p><pre class="kp kq kr ks gt nz ny oa ob aw oc bi"><span id="4de8" class="my mz iq ny b gy od oe l of og">fig.show()</span></pre></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><p id="6d7d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">ä½œè€…çš„è¯</strong>:è¿™ä¸€ç« æœ‰ç‚¹å¤æ‚ï¼Œå› ä¸ºå®ƒä½¿ç”¨ NLP å’Œæƒ…æ„Ÿåˆ†ææ–¹æ³•å°†æ•°æ®ç‚¹è½¬åŒ–ä¸ºæ´å¯ŸåŠ›ã€‚é€šè¿‡ä½¿ç”¨å…ˆè¿›çš„è‡ªç„¶è¯­è¨€å¤„ç†æ–¹æ³•ï¼Œå¯ä»¥å®ç°å¯¹ä¸»é¢˜è·Ÿè¸ªçš„è¿›ä¸€æ­¥æ”¹è¿›ã€‚</p><p id="89b5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ä¸‹ä¸€ç« å°†æ˜¯æœ€æ¿€åŠ¨äººå¿ƒçš„éƒ¨åˆ†ï¼Œä½¿ç”¨ Dash åœ¨ Heroku æœåŠ¡å™¨ä¸Šé›†æˆå’Œéƒ¨ç½²æ‰€æœ‰åŠŸèƒ½ã€‚ä¸€å¦‚æ—¢å¾€ï¼Œæˆ‘æ„Ÿè°¢æ‚¨çš„ä»»ä½•åé¦ˆï¼ğŸ˜ƒ</p><p id="1422" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">9 æœˆ 20 æ—¥æ›´æ–°:</strong> <a class="ae le" href="http://bit.ly/2msOUbR" rel="noopener ugc nofollow" target="_blank">ç¬¬ä¸‰ç« </a>å·²å‡ºç‰ˆï¼</p></div></div>    
</body>
</html>